(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var k5={exports:{}},lm={},M5={exports:{}},dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),$7=Symbol.for("react.portal"),H7=Symbol.for("react.fragment"),V7=Symbol.for("react.strict_mode"),W7=Symbol.for("react.profiler"),q7=Symbol.for("react.provider"),Y7=Symbol.for("react.context"),K7=Symbol.for("react.forward_ref"),G7=Symbol.for("react.suspense"),Z7=Symbol.for("react.memo"),X7=Symbol.for("react.lazy"),z_=Symbol.iterator;function Q7(e){return e===null||typeof e!="object"?null:(e=z_&&e[z_]||e["@@iterator"],typeof e=="function"?e:null)}var T5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x5=Object.assign,R5={};function Vu(e,t,n){this.props=e,this.context=t,this.refs=R5,this.updater=n||T5}Vu.prototype.isReactComponent={};Vu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P5(){}P5.prototype=Vu.prototype;function J0(e,t,n){this.props=e,this.context=t,this.refs=R5,this.updater=n||T5}var ey=J0.prototype=new P5;ey.constructor=J0;x5(ey,Vu.prototype);ey.isPureReactComponent=!0;var $_=Array.isArray,O5=Object.prototype.hasOwnProperty,ty={current:null},A5={key:!0,ref:!0,__self:!0,__source:!0};function L5(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)O5.call(t,r)&&!A5.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Hd,type:e,key:i,ref:o,props:a,_owner:ty.current}}function J7(e,t){return{$$typeof:Hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ny(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd}function eM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var H_=/\/+/g;function mg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eM(""+e.key):t.toString(36)}function sh(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hd:case $7:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+mg(o,0):r,$_(a)?(n="",e!=null&&(n=e.replace(H_,"$&/")+"/"),sh(a,t,n,"",function(u){return u})):a!=null&&(ny(a)&&(a=J7(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(H_,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",$_(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+mg(i,s);o+=sh(i,t,n,l,a)}else if(l=Q7(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+mg(i,s++),o+=sh(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gf(e,t,n){if(e==null)return e;var r=[],a=0;return sh(e,r,"","",function(i){return t.call(n,i,a++)}),r}function tM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ya={current:null},lh={transition:null},nM={ReactCurrentDispatcher:ya,ReactCurrentBatchConfig:lh,ReactCurrentOwner:ty};function I5(){throw Error("act(...) is not supported in production builds of React.")}dn.Children={map:gf,forEach:function(e,t,n){gf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gf(e,function(){t++}),t},toArray:function(e){return gf(e,function(t){return t})||[]},only:function(e){if(!ny(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dn.Component=Vu;dn.Fragment=H7;dn.Profiler=W7;dn.PureComponent=J0;dn.StrictMode=V7;dn.Suspense=G7;dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nM;dn.act=I5;dn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ty.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)O5.call(t,l)&&!A5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Hd,type:e.type,key:a,ref:i,props:r,_owner:o}};dn.createContext=function(e){return e={$$typeof:Y7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:q7,_context:e},e.Consumer=e};dn.createElement=L5;dn.createFactory=function(e){var t=L5.bind(null,e);return t.type=e,t};dn.createRef=function(){return{current:null}};dn.forwardRef=function(e){return{$$typeof:K7,render:e}};dn.isValidElement=ny;dn.lazy=function(e){return{$$typeof:X7,_payload:{_status:-1,_result:e},_init:tM}};dn.memo=function(e,t){return{$$typeof:Z7,type:e,compare:t===void 0?null:t}};dn.startTransition=function(e){var t=lh.transition;lh.transition={};try{e()}finally{lh.transition=t}};dn.unstable_act=I5;dn.useCallback=function(e,t){return ya.current.useCallback(e,t)};dn.useContext=function(e){return ya.current.useContext(e)};dn.useDebugValue=function(){};dn.useDeferredValue=function(e){return ya.current.useDeferredValue(e)};dn.useEffect=function(e,t){return ya.current.useEffect(e,t)};dn.useId=function(){return ya.current.useId()};dn.useImperativeHandle=function(e,t,n){return ya.current.useImperativeHandle(e,t,n)};dn.useInsertionEffect=function(e,t){return ya.current.useInsertionEffect(e,t)};dn.useLayoutEffect=function(e,t){return ya.current.useLayoutEffect(e,t)};dn.useMemo=function(e,t){return ya.current.useMemo(e,t)};dn.useReducer=function(e,t,n){return ya.current.useReducer(e,t,n)};dn.useRef=function(e){return ya.current.useRef(e)};dn.useState=function(e){return ya.current.useState(e)};dn.useSyncExternalStore=function(e,t,n){return ya.current.useSyncExternalStore(e,t,n)};dn.useTransition=function(){return ya.current.useTransition()};dn.version="18.3.1";M5.exports=dn;var $=M5.exports;const v=Wn($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM=$,aM=Symbol.for("react.element"),iM=Symbol.for("react.fragment"),oM=Object.prototype.hasOwnProperty,sM=rM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lM={key:!0,ref:!0,__self:!0,__source:!0};function F5(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)oM.call(t,r)&&!lM.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:aM,type:e,key:i,ref:o,props:a,_owner:sM.current}}lm.Fragment=iM;lm.jsx=F5;lm.jsxs=F5;k5.exports=lm;var et=k5.exports,iv={},N5={exports:{}},Qa={},U5={exports:{}},B5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,U){var R=F.length;F.push(U);e:for(;0<R;){var O=R-1>>>1,A=F[O];if(0<a(A,U))F[O]=U,F[R]=A,R=O;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],R=F.pop();if(R!==U){F[0]=R;e:for(var O=0,A=F.length,x=A>>>1;O<x;){var j=2*(O+1)-1,V=F[j],X=j+1,re=F[X];if(0>a(V,R))X<A&&0>a(re,V)?(F[O]=re,F[X]=R,O=X):(F[O]=V,F[j]=R,O=j);else if(X<A&&0>a(re,R))F[O]=re,F[X]=R,O=X;else break e}}return U}function a(F,U){var R=F.sortIndex-U.sortIndex;return R!==0?R:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,w=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function M(F){if(w=!1,C(F),!p)if(n(l)!==null)p=!0,I(m);else{var U=n(u);U!==null&&B(M,U.startTime-F)}}function m(F,U){p=!1,w&&(w=!1,E(y),y=-1),h=!0;var R=f;try{for(C(U),d=n(l);d!==null&&(!(d.expirationTime>U)||F&&!P());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var A=O(d.expirationTime<=U);U=e.unstable_now(),typeof A=="function"?d.callback=A:d===n(l)&&r(l),C(U)}else r(l);d=n(l)}if(d!==null)var x=!0;else{var j=n(u);j!==null&&B(M,j.startTime-U),x=!1}return x}finally{d=null,f=R,h=!1}}var b=!1,S=null,y=-1,k=5,_=-1;function P(){return!(e.unstable_now()-_<k)}function z(){if(S!==null){var F=e.unstable_now();_=F;var U=!0;try{U=S(!0,F)}finally{U?N():(b=!1,S=null)}}else b=!1}var N;if(typeof g=="function")N=function(){g(z)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,L=T.port2;T.port1.onmessage=z,N=function(){L.postMessage(null)}}else N=function(){D(z,0)};function I(F){S=F,b||(b=!0,N())}function B(F,U){y=D(function(){F(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,I(m))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var R=f;f=U;try{return F()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var R=f;f=F;try{return U()}finally{f=R}},e.unstable_scheduleCallback=function(F,U,R){var O=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,F){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=R+A,F={id:c++,callback:U,priorityLevel:F,startTime:R,expirationTime:A,sortIndex:-1},R>O?(F.sortIndex=R,t(u,F),n(l)===null&&F===n(u)&&(w?(E(y),y=-1):w=!0,B(M,R-O))):(F.sortIndex=A,t(l,F),p||h||(p=!0,I(m))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var U=f;return function(){var R=f;f=U;try{return F.apply(this,arguments)}finally{f=R}}}})(B5);U5.exports=B5;var uM=U5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cM=$,Ka=uM;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j5=new Set,ld={};function Dl(e,t){Mu(e,t),Mu(e+"Capture",t)}function Mu(e,t){for(ld[e]=t,e=0;e<t.length;e++)j5.add(t[e])}var Io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ov=Object.prototype.hasOwnProperty,dM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V_={},W_={};function fM(e){return ov.call(W_,e)?!0:ov.call(V_,e)?!1:dM.test(e)?W_[e]=!0:(V_[e]=!0,!1)}function hM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pM(e,t,n,r){if(t===null||typeof t>"u"||hM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _a(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$r[e]=new _a(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$r[t]=new _a(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$r[e]=new _a(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$r[e]=new _a(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$r[e]=new _a(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$r[e]=new _a(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$r[e]=new _a(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$r[e]=new _a(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$r[e]=new _a(e,5,!1,e.toLowerCase(),null,!1,!1)});var ry=/[\-:]([a-z])/g;function ay(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ry,ay);$r[t]=new _a(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ry,ay);$r[t]=new _a(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ry,ay);$r[t]=new _a(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$r[e]=new _a(e,1,!1,e.toLowerCase(),null,!1,!1)});$r.xlinkHref=new _a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$r[e]=new _a(e,1,!1,e.toLowerCase(),null,!0,!0)});function iy(e,t,n,r){var a=$r.hasOwnProperty(t)?$r[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pM(t,n,a,r)&&(n=null),r||a===null?fM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ho=cM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vf=Symbol.for("react.element"),ru=Symbol.for("react.portal"),au=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),sv=Symbol.for("react.profiler"),z5=Symbol.for("react.provider"),$5=Symbol.for("react.context"),sy=Symbol.for("react.forward_ref"),lv=Symbol.for("react.suspense"),uv=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),H5=Symbol.for("react.offscreen"),q_=Symbol.iterator;function fc(e){return e===null||typeof e!="object"?null:(e=q_&&e[q_]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,gg;function Ac(e){if(gg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gg=t&&t[1]||""}return`
`+gg+e}var vg=!1;function yg(e,t){if(!e||vg)return"";vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{vg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ac(e):""}function mM(e){switch(e.tag){case 5:return Ac(e.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return e=yg(e.type,!1),e;case 11:return e=yg(e.type.render,!1),e;case 1:return e=yg(e.type,!0),e;default:return""}}function cv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case au:return"Fragment";case ru:return"Portal";case sv:return"Profiler";case oy:return"StrictMode";case lv:return"Suspense";case uv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $5:return(e.displayName||"Context")+".Consumer";case z5:return(e._context.displayName||"Context")+".Provider";case sy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ly:return t=e.displayName||null,t!==null?t:cv(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return cv(e(t))}catch{}}return null}function gM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cv(t);case 8:return t===oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vM(e){var t=V5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yf(e){e._valueTracker||(e._valueTracker=vM(e))}function W5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dv(e,t){var n=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Y_(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q5(e,t){t=t.checked,t!=null&&iy(e,"checked",t,!1)}function fv(e,t){q5(e,t);var n=Cs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hv(e,t.type,n):t.hasOwnProperty("defaultValue")&&hv(e,t.type,Cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function K_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hv(e,t,n){(t!=="number"||Oh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lc=Array.isArray;function _u(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cs(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function pv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ct(92));if(Lc(n)){if(1<n.length)throw Error(ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cs(n)}}function Y5(e,t){var n=Cs(t.value),r=Cs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Z_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _f,G5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_f=_f||document.createElement("div"),_f.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_f.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ud(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yM=["Webkit","ms","Moz","O"];Object.keys($c).forEach(function(e){yM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$c[t]=$c[e]})});function Z5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$c.hasOwnProperty(e)&&$c[e]?(""+t).trim():t+"px"}function X5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Z5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var _M=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gv(e,t){if(t){if(_M[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function vv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yv=null;function uy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _v=null,bu=null,wu=null;function X_(e){if(e=qd(e)){if(typeof _v!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=hm(t),_v(e.stateNode,e.type,t))}}function Q5(e){bu?wu?wu.push(e):wu=[e]:bu=e}function J5(){if(bu){var e=bu,t=wu;if(wu=bu=null,X_(e),t)for(e=0;e<t.length;e++)X_(t[e])}}function eC(e,t){return e(t)}function tC(){}var _g=!1;function nC(e,t,n){if(_g)return e(t,n);_g=!0;try{return eC(e,t,n)}finally{_g=!1,(bu!==null||wu!==null)&&(tC(),J5())}}function cd(e,t){var n=e.stateNode;if(n===null)return null;var r=hm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ct(231,t,typeof n));return n}var bv=!1;if(Io)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){bv=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{bv=!1}function bM(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Hc=!1,Ah=null,Lh=!1,wv=null,wM={onError:function(e){Hc=!0,Ah=e}};function EM(e,t,n,r,a,i,o,s,l){Hc=!1,Ah=null,bM.apply(wM,arguments)}function CM(e,t,n,r,a,i,o,s,l){if(EM.apply(this,arguments),Hc){if(Hc){var u=Ah;Hc=!1,Ah=null}else throw Error(ct(198));Lh||(Lh=!0,wv=u)}}function kl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Q_(e){if(kl(e)!==e)throw Error(ct(188))}function SM(e){var t=e.alternate;if(!t){if(t=kl(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Q_(a),e;if(i===r)return Q_(a),t;i=i.sibling}throw Error(ct(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?e:t}function aC(e){return e=SM(e),e!==null?iC(e):null}function iC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iC(e);if(t!==null)return t;e=e.sibling}return null}var oC=Ka.unstable_scheduleCallback,J_=Ka.unstable_cancelCallback,DM=Ka.unstable_shouldYield,kM=Ka.unstable_requestPaint,mr=Ka.unstable_now,MM=Ka.unstable_getCurrentPriorityLevel,cy=Ka.unstable_ImmediatePriority,sC=Ka.unstable_UserBlockingPriority,Ih=Ka.unstable_NormalPriority,TM=Ka.unstable_LowPriority,lC=Ka.unstable_IdlePriority,um=null,fo=null;function xM(e){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(um,e,void 0,(e.current.flags&128)===128)}catch{}}var Ni=Math.clz32?Math.clz32:OM,RM=Math.log,PM=Math.LN2;function OM(e){return e>>>=0,e===0?32:31-(RM(e)/PM|0)|0}var bf=64,wf=4194304;function Ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Ic(s):(i&=o,i!==0&&(r=Ic(i)))}else o=n&~a,o!==0?r=Ic(o):i!==0&&(r=Ic(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ni(t),a=1<<n,r|=e[n],t&=~a;return r}function AM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ni(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=AM(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Ev(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uC(){var e=bf;return bf<<=1,!(bf&4194240)&&(bf=64),e}function bg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ni(t),e[t]=n}function IM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ni(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function dy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ni(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Rn=0;function cC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dC,fy,fC,hC,pC,Cv=!1,Ef=[],ms=null,gs=null,vs=null,dd=new Map,fd=new Map,us=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e3(e,t){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":dd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(t.pointerId)}}function pc(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=qd(t),t!==null&&fy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function NM(e,t,n,r,a){switch(t){case"focusin":return ms=pc(ms,e,t,n,r,a),!0;case"dragenter":return gs=pc(gs,e,t,n,r,a),!0;case"mouseover":return vs=pc(vs,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return dd.set(i,pc(dd.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,fd.set(i,pc(fd.get(i)||null,e,t,n,r,a)),!0}return!1}function mC(e){var t=nl(e.target);if(t!==null){var n=kl(t);if(n!==null){if(t=n.tag,t===13){if(t=rC(n),t!==null){e.blockedOn=t,pC(e.priority,function(){fC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yv=r,n.target.dispatchEvent(r),yv=null}else return t=qd(n),t!==null&&fy(t),e.blockedOn=n,!1;t.shift()}return!0}function t3(e,t,n){uh(e)&&n.delete(t)}function UM(){Cv=!1,ms!==null&&uh(ms)&&(ms=null),gs!==null&&uh(gs)&&(gs=null),vs!==null&&uh(vs)&&(vs=null),dd.forEach(t3),fd.forEach(t3)}function mc(e,t){e.blockedOn===t&&(e.blockedOn=null,Cv||(Cv=!0,Ka.unstable_scheduleCallback(Ka.unstable_NormalPriority,UM)))}function hd(e){function t(a){return mc(a,e)}if(0<Ef.length){mc(Ef[0],e);for(var n=1;n<Ef.length;n++){var r=Ef[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ms!==null&&mc(ms,e),gs!==null&&mc(gs,e),vs!==null&&mc(vs,e),dd.forEach(t),fd.forEach(t),n=0;n<us.length;n++)r=us[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)mC(n),n.blockedOn===null&&us.shift()}var Eu=Ho.ReactCurrentBatchConfig,Nh=!0;function BM(e,t,n,r){var a=Rn,i=Eu.transition;Eu.transition=null;try{Rn=1,hy(e,t,n,r)}finally{Rn=a,Eu.transition=i}}function jM(e,t,n,r){var a=Rn,i=Eu.transition;Eu.transition=null;try{Rn=4,hy(e,t,n,r)}finally{Rn=a,Eu.transition=i}}function hy(e,t,n,r){if(Nh){var a=Sv(e,t,n,r);if(a===null)Rg(e,t,r,Uh,n),e3(e,r);else if(NM(a,e,t,n,r))r.stopPropagation();else if(e3(e,r),t&4&&-1<FM.indexOf(e)){for(;a!==null;){var i=qd(a);if(i!==null&&dC(i),i=Sv(e,t,n,r),i===null&&Rg(e,t,r,Uh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Rg(e,t,r,null,n)}}var Uh=null;function Sv(e,t,n,r){if(Uh=null,e=uy(r),e=nl(e),e!==null)if(t=kl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uh=e,null}function gC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MM()){case cy:return 1;case sC:return 4;case Ih:case TM:return 16;case lC:return 536870912;default:return 16}default:return 16}}var fs=null,py=null,ch=null;function vC(){if(ch)return ch;var e,t=py,n=t.length,r,a="value"in fs?fs.value:fs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return ch=a.slice(e,1<r?1-r:void 0)}function dh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cf(){return!0}function n3(){return!1}function Ja(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cf:n3,this.isPropagationStopped=n3,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),t}var Wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=Ja(Wu),Wd=nr({},Wu,{view:0,detail:0}),zM=Ja(Wd),wg,Eg,gc,cm=nr({},Wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gc&&(gc&&e.type==="mousemove"?(wg=e.screenX-gc.screenX,Eg=e.screenY-gc.screenY):Eg=wg=0,gc=e),wg)},movementY:function(e){return"movementY"in e?e.movementY:Eg}}),r3=Ja(cm),$M=nr({},cm,{dataTransfer:0}),HM=Ja($M),VM=nr({},Wd,{relatedTarget:0}),Cg=Ja(VM),WM=nr({},Wu,{animationName:0,elapsedTime:0,pseudoElement:0}),qM=Ja(WM),YM=nr({},Wu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KM=Ja(YM),GM=nr({},Wu,{data:0}),a3=Ja(GM),ZM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QM[e])?!!t[e]:!1}function gy(){return JM}var eT=nr({},Wd,{key:function(e){if(e.key){var t=ZM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(e){return e.type==="keypress"?dh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tT=Ja(eT),nT=nr({},cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i3=Ja(nT),rT=nr({},Wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),aT=Ja(rT),iT=nr({},Wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),oT=Ja(iT),sT=nr({},cm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lT=Ja(sT),uT=[9,13,27,32],vy=Io&&"CompositionEvent"in window,Vc=null;Io&&"documentMode"in document&&(Vc=document.documentMode);var cT=Io&&"TextEvent"in window&&!Vc,yC=Io&&(!vy||Vc&&8<Vc&&11>=Vc),o3=" ",s3=!1;function _C(e,t){switch(e){case"keyup":return uT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var iu=!1;function dT(e,t){switch(e){case"compositionend":return bC(t);case"keypress":return t.which!==32?null:(s3=!0,o3);case"textInput":return e=t.data,e===o3&&s3?null:e;default:return null}}function fT(e,t){if(iu)return e==="compositionend"||!vy&&_C(e,t)?(e=vC(),ch=py=fs=null,iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yC&&t.locale!=="ko"?null:t.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hT[e.type]:t==="textarea"}function wC(e,t,n,r){Q5(r),t=Bh(t,"onChange"),0<t.length&&(n=new my("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wc=null,pd=null;function pT(e){OC(e,0)}function dm(e){var t=lu(e);if(W5(t))return e}function mT(e,t){if(e==="change")return t}var EC=!1;if(Io){var Sg;if(Io){var Dg="oninput"in document;if(!Dg){var u3=document.createElement("div");u3.setAttribute("oninput","return;"),Dg=typeof u3.oninput=="function"}Sg=Dg}else Sg=!1;EC=Sg&&(!document.documentMode||9<document.documentMode)}function c3(){Wc&&(Wc.detachEvent("onpropertychange",CC),pd=Wc=null)}function CC(e){if(e.propertyName==="value"&&dm(pd)){var t=[];wC(t,pd,e,uy(e)),nC(pT,t)}}function gT(e,t,n){e==="focusin"?(c3(),Wc=t,pd=n,Wc.attachEvent("onpropertychange",CC)):e==="focusout"&&c3()}function vT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dm(pd)}function yT(e,t){if(e==="click")return dm(t)}function _T(e,t){if(e==="input"||e==="change")return dm(t)}function bT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $i=typeof Object.is=="function"?Object.is:bT;function md(e,t){if($i(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!ov.call(t,a)||!$i(e[a],t[a]))return!1}return!0}function d3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f3(e,t){var n=d3(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d3(n)}}function SC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DC(){for(var e=window,t=Oh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oh(e.document)}return t}function yy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wT(e){var t=DC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SC(n.ownerDocument.documentElement,n)){if(r!==null&&yy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=f3(n,i);var o=f3(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ET=Io&&"documentMode"in document&&11>=document.documentMode,ou=null,Dv=null,qc=null,kv=!1;function h3(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kv||ou==null||ou!==Oh(r)||(r=ou,"selectionStart"in r&&yy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qc&&md(qc,r)||(qc=r,r=Bh(Dv,"onSelect"),0<r.length&&(t=new my("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ou)))}function Sf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var su={animationend:Sf("Animation","AnimationEnd"),animationiteration:Sf("Animation","AnimationIteration"),animationstart:Sf("Animation","AnimationStart"),transitionend:Sf("Transition","TransitionEnd")},kg={},kC={};Io&&(kC=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function fm(e){if(kg[e])return kg[e];if(!su[e])return e;var t=su[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kC)return kg[e]=t[n];return e}var MC=fm("animationend"),TC=fm("animationiteration"),xC=fm("animationstart"),RC=fm("transitionend"),PC=new Map,p3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){PC.set(e,t),Dl(t,[e])}for(var Mg=0;Mg<p3.length;Mg++){var Tg=p3[Mg],CT=Tg.toLowerCase(),ST=Tg[0].toUpperCase()+Tg.slice(1);Ms(CT,"on"+ST)}Ms(MC,"onAnimationEnd");Ms(TC,"onAnimationIteration");Ms(xC,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(RC,"onTransitionEnd");Mu("onMouseEnter",["mouseout","mouseover"]);Mu("onMouseLeave",["mouseout","mouseover"]);Mu("onPointerEnter",["pointerout","pointerover"]);Mu("onPointerLeave",["pointerout","pointerover"]);Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function m3(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,CM(r,t,void 0,e),e.currentTarget=null}function OC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;m3(a,s,u),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;m3(a,s,u),i=l}}}if(Lh)throw e=wv,Lh=!1,wv=null,e}function zn(e,t){var n=t[Pv];n===void 0&&(n=t[Pv]=new Set);var r=e+"__bubble";n.has(r)||(AC(t,e,2,!1),n.add(r))}function xg(e,t,n){var r=0;t&&(r|=4),AC(n,e,r,t)}var Df="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[Df]){e[Df]=!0,j5.forEach(function(n){n!=="selectionchange"&&(DT.has(n)||xg(n,!1,e),xg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Df]||(t[Df]=!0,xg("selectionchange",!1,t))}}function AC(e,t,n,r){switch(gC(t)){case 1:var a=BM;break;case 4:a=jM;break;default:a=hy}n=a.bind(null,t,n,e),a=void 0,!bv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Rg(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=nl(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}nC(function(){var u=i,c=uy(n),d=[];e:{var f=PC.get(e);if(f!==void 0){var h=my,p=e;switch(e){case"keypress":if(dh(n)===0)break e;case"keydown":case"keyup":h=tT;break;case"focusin":p="focus",h=Cg;break;case"focusout":p="blur",h=Cg;break;case"beforeblur":case"afterblur":h=Cg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=r3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=HM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=aT;break;case MC:case TC:case xC:h=qM;break;case RC:h=oT;break;case"scroll":h=zM;break;case"wheel":h=lT;break;case"copy":case"cut":case"paste":h=KM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=i3}var w=(t&4)!==0,D=!w&&e==="scroll",E=w?f!==null?f+"Capture":null:f;w=[];for(var g=u,C;g!==null;){C=g;var M=C.stateNode;if(C.tag===5&&M!==null&&(C=M,E!==null&&(M=cd(g,E),M!=null&&w.push(vd(g,M,C)))),D)break;g=g.return}0<w.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==yv&&(p=n.relatedTarget||n.fromElement)&&(nl(p)||p[Fo]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?nl(p):null,p!==null&&(D=kl(p),p!==D||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(w=r3,M="onMouseLeave",E="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=i3,M="onPointerLeave",E="onPointerEnter",g="pointer"),D=h==null?f:lu(h),C=p==null?f:lu(p),f=new w(M,g+"leave",h,n,c),f.target=D,f.relatedTarget=C,M=null,nl(c)===u&&(w=new w(E,g+"enter",p,n,c),w.target=C,w.relatedTarget=D,M=w),D=M,h&&p)t:{for(w=h,E=p,g=0,C=w;C;C=jl(C))g++;for(C=0,M=E;M;M=jl(M))C++;for(;0<g-C;)w=jl(w),g--;for(;0<C-g;)E=jl(E),C--;for(;g--;){if(w===E||E!==null&&w===E.alternate)break t;w=jl(w),E=jl(E)}w=null}else w=null;h!==null&&g3(d,f,h,w,!1),p!==null&&D!==null&&g3(d,D,p,w,!0)}}e:{if(f=u?lu(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var m=mT;else if(l3(f))if(EC)m=_T;else{m=vT;var b=gT}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(m=yT);if(m&&(m=m(e,u))){wC(d,m,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&hv(f,"number",f.value)}switch(b=u?lu(u):window,e){case"focusin":(l3(b)||b.contentEditable==="true")&&(ou=b,Dv=u,qc=null);break;case"focusout":qc=Dv=ou=null;break;case"mousedown":kv=!0;break;case"contextmenu":case"mouseup":case"dragend":kv=!1,h3(d,n,c);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":h3(d,n,c)}var S;if(vy)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else iu?_C(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(yC&&n.locale!=="ko"&&(iu||y!=="onCompositionStart"?y==="onCompositionEnd"&&iu&&(S=vC()):(fs=c,py="value"in fs?fs.value:fs.textContent,iu=!0)),b=Bh(u,y),0<b.length&&(y=new a3(y,e,null,n,c),d.push({event:y,listeners:b}),S?y.data=S:(S=bC(n),S!==null&&(y.data=S)))),(S=cT?dT(e,n):fT(e,n))&&(u=Bh(u,"onBeforeInput"),0<u.length&&(c=new a3("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}OC(d,t)})}function vd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=cd(e,n),i!=null&&r.unshift(vd(e,i,a)),i=cd(e,t),i!=null&&r.push(vd(e,i,a))),e=e.return}return r}function jl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g3(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,a?(l=cd(n,i),l!=null&&o.unshift(vd(n,l,s))):a||(l=cd(n,i),l!=null&&o.push(vd(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function v3(e){return(typeof e=="string"?e:""+e).replace(kT,`
`).replace(MT,"")}function kf(e,t,n){if(t=v3(t),v3(e)!==t&&n)throw Error(ct(425))}function jh(){}var Mv=null,Tv=null;function xv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rv=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,y3=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof y3<"u"?function(e){return y3.resolve(null).then(e).catch(RT)}:Rv;function RT(e){setTimeout(function(){throw e})}function Pg(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),hd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);hd(t)}function ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qu=Math.random().toString(36).slice(2),io="__reactFiber$"+qu,yd="__reactProps$"+qu,Fo="__reactContainer$"+qu,Pv="__reactEvents$"+qu,PT="__reactListeners$"+qu,OT="__reactHandles$"+qu;function nl(e){var t=e[io];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fo]||n[io]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_3(e);e!==null;){if(n=e[io])return n;e=_3(e)}return t}e=n,n=e.parentNode}return null}function qd(e){return e=e[io]||e[Fo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function hm(e){return e[yd]||null}var Ov=[],uu=-1;function Ts(e){return{current:e}}function Hn(e){0>uu||(e.current=Ov[uu],Ov[uu]=null,uu--)}function Nn(e,t){uu++,Ov[uu]=e.current,e.current=t}var Ss={},ta=Ts(Ss),Pa=Ts(!1),pl=Ss;function Tu(e,t){var n=e.type.contextTypes;if(!n)return Ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oa(e){return e=e.childContextTypes,e!=null}function zh(){Hn(Pa),Hn(ta)}function b3(e,t,n){if(ta.current!==Ss)throw Error(ct(168));Nn(ta,t),Nn(Pa,n)}function LC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ct(108,gM(e)||"Unknown",a));return nr({},n,r)}function $h(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,pl=ta.current,Nn(ta,e),Nn(Pa,Pa.current),!0}function w3(e,t,n){var r=e.stateNode;if(!r)throw Error(ct(169));n?(e=LC(e,t,pl),r.__reactInternalMemoizedMergedChildContext=e,Hn(Pa),Hn(ta),Nn(ta,e)):Hn(Pa),Nn(Pa,n)}var Mo=null,pm=!1,Og=!1;function IC(e){Mo===null?Mo=[e]:Mo.push(e)}function AT(e){pm=!0,IC(e)}function xs(){if(!Og&&Mo!==null){Og=!0;var e=0,t=Rn;try{var n=Mo;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mo=null,pm=!1}catch(a){throw Mo!==null&&(Mo=Mo.slice(e+1)),oC(cy,xs),a}finally{Rn=t,Og=!1}}return null}var cu=[],du=0,Hh=null,Vh=0,ci=[],di=0,ml=null,To=1,xo="";function Gs(e,t){cu[du++]=Vh,cu[du++]=Hh,Hh=e,Vh=t}function FC(e,t,n){ci[di++]=To,ci[di++]=xo,ci[di++]=ml,ml=e;var r=To;e=xo;var a=32-Ni(r)-1;r&=~(1<<a),n+=1;var i=32-Ni(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,To=1<<32-Ni(t)+a|n<<a|r,xo=i+e}else To=1<<i|n<<a|r,xo=e}function _y(e){e.return!==null&&(Gs(e,1),FC(e,1,0))}function by(e){for(;e===Hh;)Hh=cu[--du],cu[du]=null,Vh=cu[--du],cu[du]=null;for(;e===ml;)ml=ci[--di],ci[di]=null,xo=ci[--di],ci[di]=null,To=ci[--di],ci[di]=null}var Wa=null,Va=null,Kn=!1,Ii=null;function NC(e,t){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function E3(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wa=e,Va=ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wa=e,Va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ml!==null?{id:To,overflow:xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wa=e,Va=null,!0):!1;default:return!1}}function Av(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lv(e){if(Kn){var t=Va;if(t){var n=t;if(!E3(e,t)){if(Av(e))throw Error(ct(418));t=ys(n.nextSibling);var r=Wa;t&&E3(e,t)?NC(r,n):(e.flags=e.flags&-4097|2,Kn=!1,Wa=e)}}else{if(Av(e))throw Error(ct(418));e.flags=e.flags&-4097|2,Kn=!1,Wa=e}}}function C3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wa=e}function Mf(e){if(e!==Wa)return!1;if(!Kn)return C3(e),Kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xv(e.type,e.memoizedProps)),t&&(t=Va)){if(Av(e))throw UC(),Error(ct(418));for(;t;)NC(e,t),t=ys(t.nextSibling)}if(C3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Va=ys(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Va=null}}else Va=Wa?ys(e.stateNode.nextSibling):null;return!0}function UC(){for(var e=Va;e;)e=ys(e.nextSibling)}function xu(){Va=Wa=null,Kn=!1}function wy(e){Ii===null?Ii=[e]:Ii.push(e)}var LT=Ho.ReactCurrentBatchConfig;function vc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,e))}return e}function Tf(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S3(e){var t=e._init;return t(e._payload)}function BC(e){function t(E,g){if(e){var C=E.deletions;C===null?(E.deletions=[g],E.flags|=16):C.push(g)}}function n(E,g){if(!e)return null;for(;g!==null;)t(E,g),g=g.sibling;return null}function r(E,g){for(E=new Map;g!==null;)g.key!==null?E.set(g.key,g):E.set(g.index,g),g=g.sibling;return E}function a(E,g){return E=Es(E,g),E.index=0,E.sibling=null,E}function i(E,g,C){return E.index=C,e?(C=E.alternate,C!==null?(C=C.index,C<g?(E.flags|=2,g):C):(E.flags|=2,g)):(E.flags|=1048576,g)}function o(E){return e&&E.alternate===null&&(E.flags|=2),E}function s(E,g,C,M){return g===null||g.tag!==6?(g=Bg(C,E.mode,M),g.return=E,g):(g=a(g,C),g.return=E,g)}function l(E,g,C,M){var m=C.type;return m===au?c(E,g,C.props.children,M,C.key):g!==null&&(g.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===is&&S3(m)===g.type)?(M=a(g,C.props),M.ref=vc(E,g,C),M.return=E,M):(M=yh(C.type,C.key,C.props,null,E.mode,M),M.ref=vc(E,g,C),M.return=E,M)}function u(E,g,C,M){return g===null||g.tag!==4||g.stateNode.containerInfo!==C.containerInfo||g.stateNode.implementation!==C.implementation?(g=jg(C,E.mode,M),g.return=E,g):(g=a(g,C.children||[]),g.return=E,g)}function c(E,g,C,M,m){return g===null||g.tag!==7?(g=ul(C,E.mode,M,m),g.return=E,g):(g=a(g,C),g.return=E,g)}function d(E,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Bg(""+g,E.mode,C),g.return=E,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vf:return C=yh(g.type,g.key,g.props,null,E.mode,C),C.ref=vc(E,null,g),C.return=E,C;case ru:return g=jg(g,E.mode,C),g.return=E,g;case is:var M=g._init;return d(E,M(g._payload),C)}if(Lc(g)||fc(g))return g=ul(g,E.mode,C,null),g.return=E,g;Tf(E,g)}return null}function f(E,g,C,M){var m=g!==null?g.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return m!==null?null:s(E,g,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vf:return C.key===m?l(E,g,C,M):null;case ru:return C.key===m?u(E,g,C,M):null;case is:return m=C._init,f(E,g,m(C._payload),M)}if(Lc(C)||fc(C))return m!==null?null:c(E,g,C,M,null);Tf(E,C)}return null}function h(E,g,C,M,m){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(C)||null,s(g,E,""+M,m);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case vf:return E=E.get(M.key===null?C:M.key)||null,l(g,E,M,m);case ru:return E=E.get(M.key===null?C:M.key)||null,u(g,E,M,m);case is:var b=M._init;return h(E,g,C,b(M._payload),m)}if(Lc(M)||fc(M))return E=E.get(C)||null,c(g,E,M,m,null);Tf(g,M)}return null}function p(E,g,C,M){for(var m=null,b=null,S=g,y=g=0,k=null;S!==null&&y<C.length;y++){S.index>y?(k=S,S=null):k=S.sibling;var _=f(E,S,C[y],M);if(_===null){S===null&&(S=k);break}e&&S&&_.alternate===null&&t(E,S),g=i(_,g,y),b===null?m=_:b.sibling=_,b=_,S=k}if(y===C.length)return n(E,S),Kn&&Gs(E,y),m;if(S===null){for(;y<C.length;y++)S=d(E,C[y],M),S!==null&&(g=i(S,g,y),b===null?m=S:b.sibling=S,b=S);return Kn&&Gs(E,y),m}for(S=r(E,S);y<C.length;y++)k=h(S,E,y,C[y],M),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?y:k.key),g=i(k,g,y),b===null?m=k:b.sibling=k,b=k);return e&&S.forEach(function(P){return t(E,P)}),Kn&&Gs(E,y),m}function w(E,g,C,M){var m=fc(C);if(typeof m!="function")throw Error(ct(150));if(C=m.call(C),C==null)throw Error(ct(151));for(var b=m=null,S=g,y=g=0,k=null,_=C.next();S!==null&&!_.done;y++,_=C.next()){S.index>y?(k=S,S=null):k=S.sibling;var P=f(E,S,_.value,M);if(P===null){S===null&&(S=k);break}e&&S&&P.alternate===null&&t(E,S),g=i(P,g,y),b===null?m=P:b.sibling=P,b=P,S=k}if(_.done)return n(E,S),Kn&&Gs(E,y),m;if(S===null){for(;!_.done;y++,_=C.next())_=d(E,_.value,M),_!==null&&(g=i(_,g,y),b===null?m=_:b.sibling=_,b=_);return Kn&&Gs(E,y),m}for(S=r(E,S);!_.done;y++,_=C.next())_=h(S,E,y,_.value,M),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?y:_.key),g=i(_,g,y),b===null?m=_:b.sibling=_,b=_);return e&&S.forEach(function(z){return t(E,z)}),Kn&&Gs(E,y),m}function D(E,g,C,M){if(typeof C=="object"&&C!==null&&C.type===au&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case vf:e:{for(var m=C.key,b=g;b!==null;){if(b.key===m){if(m=C.type,m===au){if(b.tag===7){n(E,b.sibling),g=a(b,C.props.children),g.return=E,E=g;break e}}else if(b.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===is&&S3(m)===b.type){n(E,b.sibling),g=a(b,C.props),g.ref=vc(E,b,C),g.return=E,E=g;break e}n(E,b);break}else t(E,b);b=b.sibling}C.type===au?(g=ul(C.props.children,E.mode,M,C.key),g.return=E,E=g):(M=yh(C.type,C.key,C.props,null,E.mode,M),M.ref=vc(E,g,C),M.return=E,E=M)}return o(E);case ru:e:{for(b=C.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===C.containerInfo&&g.stateNode.implementation===C.implementation){n(E,g.sibling),g=a(g,C.children||[]),g.return=E,E=g;break e}else{n(E,g);break}else t(E,g);g=g.sibling}g=jg(C,E.mode,M),g.return=E,E=g}return o(E);case is:return b=C._init,D(E,g,b(C._payload),M)}if(Lc(C))return p(E,g,C,M);if(fc(C))return w(E,g,C,M);Tf(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,g!==null&&g.tag===6?(n(E,g.sibling),g=a(g,C),g.return=E,E=g):(n(E,g),g=Bg(C,E.mode,M),g.return=E,E=g),o(E)):n(E,g)}return D}var Ru=BC(!0),jC=BC(!1),Wh=Ts(null),qh=null,fu=null,Ey=null;function Cy(){Ey=fu=qh=null}function Sy(e){var t=Wh.current;Hn(Wh),e._currentValue=t}function Iv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cu(e,t){qh=e,Ey=fu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ra=!0),e.firstContext=null)}function wi(e){var t=e._currentValue;if(Ey!==e)if(e={context:e,memoizedValue:t,next:null},fu===null){if(qh===null)throw Error(ct(308));fu=e,qh.dependencies={lanes:0,firstContext:e}}else fu=fu.next=e;return t}var rl=null;function Dy(e){rl===null?rl=[e]:rl.push(e)}function zC(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Dy(t)):(n.next=a.next,a.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var os=!1;function ky(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $C(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _s(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,No(e,n)}return a=r.interleaved,a===null?(t.next=t,Dy(r)):(t.next=a.next,a.next=t),r.interleaved=t,No(e,n)}function fh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dy(e,n)}}function D3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yh(e,t,n,r){var a=e.updateQueue;os=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;o=0,c=u=l=null,s=i;do{var f=s.lane,h=s.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,w=s;switch(f=t,h=n,w.tag){case 1:if(p=w.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=nr({},d,f);break e;case 2:os=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;f=s,s=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(c===null&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);vl|=o,e.lanes=o,e.memoizedState=d}}function k3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ct(191,a));a.call(r)}}}var Yd={},ho=Ts(Yd),_d=Ts(Yd),bd=Ts(Yd);function al(e){if(e===Yd)throw Error(ct(174));return e}function My(e,t){switch(Nn(bd,t),Nn(_d,e),Nn(ho,Yd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mv(t,e)}Hn(ho),Nn(ho,t)}function Pu(){Hn(ho),Hn(_d),Hn(bd)}function HC(e){al(bd.current);var t=al(ho.current),n=mv(t,e.type);t!==n&&(Nn(_d,e),Nn(ho,n))}function Ty(e){_d.current===e&&(Hn(ho),Hn(_d))}var Jn=Ts(0);function Kh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ag=[];function xy(){for(var e=0;e<Ag.length;e++)Ag[e]._workInProgressVersionPrimary=null;Ag.length=0}var hh=Ho.ReactCurrentDispatcher,Lg=Ho.ReactCurrentBatchConfig,gl=0,tr=null,xr=null,Nr=null,Gh=!1,Yc=!1,wd=0,IT=0;function Vr(){throw Error(ct(321))}function Ry(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$i(e[n],t[n]))return!1;return!0}function Py(e,t,n,r,a,i){if(gl=i,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hh.current=e===null||e.memoizedState===null?BT:jT,e=n(r,a),Yc){i=0;do{if(Yc=!1,wd=0,25<=i)throw Error(ct(301));i+=1,Nr=xr=null,t.updateQueue=null,hh.current=zT,e=n(r,a)}while(Yc)}if(hh.current=Zh,t=xr!==null&&xr.next!==null,gl=0,Nr=xr=tr=null,Gh=!1,t)throw Error(ct(300));return e}function Oy(){var e=wd!==0;return wd=0,e}function Qi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?tr.memoizedState=Nr=e:Nr=Nr.next=e,Nr}function Ei(){if(xr===null){var e=tr.alternate;e=e!==null?e.memoizedState:null}else e=xr.next;var t=Nr===null?tr.memoizedState:Nr.next;if(t!==null)Nr=t,xr=e;else{if(e===null)throw Error(ct(310));xr=e,e={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Nr===null?tr.memoizedState=Nr=e:Nr=Nr.next=e}return Nr}function Ed(e,t){return typeof t=="function"?t(e):t}function Ig(e){var t=Ei(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=xr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,u=i;do{var c=u.lane;if((gl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,tr.lanes|=c,vl|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=s,$i(r,t.memoizedState)||(Ra=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,tr.lanes|=i,vl|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fg(e){var t=Ei(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);$i(i,t.memoizedState)||(Ra=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function VC(){}function WC(e,t){var n=tr,r=Ei(),a=t(),i=!$i(r.memoizedState,a);if(i&&(r.memoizedState=a,Ra=!0),r=r.queue,Ay(KC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Nr!==null&&Nr.memoizedState.tag&1){if(n.flags|=2048,Cd(9,YC.bind(null,n,r,a,t),void 0,null),Ur===null)throw Error(ct(349));gl&30||qC(n,t,a)}return a}function qC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function YC(e,t,n,r){t.value=n,t.getSnapshot=r,GC(t)&&ZC(e)}function KC(e,t,n){return n(function(){GC(t)&&ZC(e)})}function GC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$i(e,n)}catch{return!0}}function ZC(e){var t=No(e,1);t!==null&&Ui(t,e,1,-1)}function M3(e){var t=Qi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:e},t.queue=e,e=e.dispatch=UT.bind(null,tr,e),[t.memoizedState,e]}function Cd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function XC(){return Ei().memoizedState}function ph(e,t,n,r){var a=Qi();tr.flags|=e,a.memoizedState=Cd(1|t,n,void 0,r===void 0?null:r)}function mm(e,t,n,r){var a=Ei();r=r===void 0?null:r;var i=void 0;if(xr!==null){var o=xr.memoizedState;if(i=o.destroy,r!==null&&Ry(r,o.deps)){a.memoizedState=Cd(t,n,i,r);return}}tr.flags|=e,a.memoizedState=Cd(1|t,n,i,r)}function T3(e,t){return ph(8390656,8,e,t)}function Ay(e,t){return mm(2048,8,e,t)}function QC(e,t){return mm(4,2,e,t)}function JC(e,t){return mm(4,4,e,t)}function eS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tS(e,t,n){return n=n!=null?n.concat([e]):null,mm(4,4,eS.bind(null,t,e),n)}function Ly(){}function nS(e,t){var n=Ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ry(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rS(e,t){var n=Ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ry(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aS(e,t,n){return gl&21?($i(n,t)||(n=uC(),tr.lanes|=n,vl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ra=!0),e.memoizedState=n)}function FT(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=Lg.transition;Lg.transition={};try{e(!1),t()}finally{Rn=n,Lg.transition=r}}function iS(){return Ei().memoizedState}function NT(e,t,n){var r=ws(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oS(e))sS(t,n);else if(n=zC(e,t,n,r),n!==null){var a=ga();Ui(n,e,r,a),lS(n,t,r)}}function UT(e,t,n){var r=ws(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oS(e))sS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,$i(s,o)){var l=t.interleaved;l===null?(a.next=a,Dy(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=zC(e,t,a,r),n!==null&&(a=ga(),Ui(n,e,r,a),lS(n,t,r))}}function oS(e){var t=e.alternate;return e===tr||t!==null&&t===tr}function sS(e,t){Yc=Gh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dy(e,n)}}var Zh={readContext:wi,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},BT={readContext:wi,useCallback:function(e,t){return Qi().memoizedState=[e,t===void 0?null:t],e},useContext:wi,useEffect:T3,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ph(4194308,4,eS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ph(4194308,4,e,t)},useInsertionEffect:function(e,t){return ph(4,2,e,t)},useMemo:function(e,t){var n=Qi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=NT.bind(null,tr,e),[r.memoizedState,e]},useRef:function(e){var t=Qi();return e={current:e},t.memoizedState=e},useState:M3,useDebugValue:Ly,useDeferredValue:function(e){return Qi().memoizedState=e},useTransition:function(){var e=M3(!1),t=e[0];return e=FT.bind(null,e[1]),Qi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tr,a=Qi();if(Kn){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=t(),Ur===null)throw Error(ct(349));gl&30||qC(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,T3(KC.bind(null,r,i,e),[e]),r.flags|=2048,Cd(9,YC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qi(),t=Ur.identifierPrefix;if(Kn){var n=xo,r=To;n=(r&~(1<<32-Ni(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jT={readContext:wi,useCallback:nS,useContext:wi,useEffect:Ay,useImperativeHandle:tS,useInsertionEffect:QC,useLayoutEffect:JC,useMemo:rS,useReducer:Ig,useRef:XC,useState:function(){return Ig(Ed)},useDebugValue:Ly,useDeferredValue:function(e){var t=Ei();return aS(t,xr.memoizedState,e)},useTransition:function(){var e=Ig(Ed)[0],t=Ei().memoizedState;return[e,t]},useMutableSource:VC,useSyncExternalStore:WC,useId:iS,unstable_isNewReconciler:!1},zT={readContext:wi,useCallback:nS,useContext:wi,useEffect:Ay,useImperativeHandle:tS,useInsertionEffect:QC,useLayoutEffect:JC,useMemo:rS,useReducer:Fg,useRef:XC,useState:function(){return Fg(Ed)},useDebugValue:Ly,useDeferredValue:function(e){var t=Ei();return xr===null?t.memoizedState=e:aS(t,xr.memoizedState,e)},useTransition:function(){var e=Fg(Ed)[0],t=Ei().memoizedState;return[e,t]},useMutableSource:VC,useSyncExternalStore:WC,useId:iS,unstable_isNewReconciler:!1};function Ai(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gm={isMounted:function(e){return(e=e._reactInternals)?kl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ga(),a=ws(e),i=Oo(r,a);i.payload=t,n!=null&&(i.callback=n),t=_s(e,i,a),t!==null&&(Ui(t,e,a,r),fh(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ga(),a=ws(e),i=Oo(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_s(e,i,a),t!==null&&(Ui(t,e,a,r),fh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ga(),r=ws(e),a=Oo(n,r);a.tag=2,t!=null&&(a.callback=t),t=_s(e,a,r),t!==null&&(Ui(t,e,r,n),fh(t,e,r))}};function x3(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!md(n,r)||!md(a,i):!0}function uS(e,t,n){var r=!1,a=Ss,i=t.contextType;return typeof i=="object"&&i!==null?i=wi(i):(a=Oa(t)?pl:ta.current,r=t.contextTypes,i=(r=r!=null)?Tu(e,a):Ss),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function R3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gm.enqueueReplaceState(t,t.state,null)}function Nv(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},ky(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wi(i):(i=Oa(t)?pl:ta.current,a.context=Tu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fv(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&gm.enqueueReplaceState(a,a.state,null),Yh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ou(e,t){try{var n="",r=t;do n+=mM(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ng(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $T=typeof WeakMap=="function"?WeakMap:Map;function cS(e,t,n){n=Oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qh||(Qh=!0,Kv=r),Uv(e,t)},n}function dS(e,t,n){n=Oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Uv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uv(e,t),typeof r!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function P3(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $T;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=nx.bind(null,e,t,n),t.then(e,e))}function O3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A3(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Oo(-1,1),t.tag=2,_s(n,t,1))),n.lanes|=1),e)}var HT=Ho.ReactCurrentOwner,Ra=!1;function ha(e,t,n,r){t.child=e===null?jC(t,null,n,r):Ru(t,e.child,n,r)}function L3(e,t,n,r,a){n=n.render;var i=t.ref;return Cu(t,a),r=Py(e,t,n,r,i,a),n=Oy(),e!==null&&!Ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Uo(e,t,a)):(Kn&&n&&_y(t),t.flags|=1,ha(e,t,r,a),t.child)}function I3(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!$y(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fS(e,t,i,r,a)):(e=yh(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:md,n(o,r)&&e.ref===t.ref)return Uo(e,t,a)}return t.flags|=1,e=Es(i,r),e.ref=t.ref,e.return=t,t.child=e}function fS(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(md(i,r)&&e.ref===t.ref)if(Ra=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ra=!0);else return t.lanes=e.lanes,Uo(e,t,a)}return Bv(e,t,n,r,a)}function hS(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nn(pu,$a),$a|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nn(pu,$a),$a|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Nn(pu,$a),$a|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Nn(pu,$a),$a|=r;return ha(e,t,a,n),t.child}function pS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bv(e,t,n,r,a){var i=Oa(n)?pl:ta.current;return i=Tu(t,i),Cu(t,a),n=Py(e,t,n,r,i,a),r=Oy(),e!==null&&!Ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Uo(e,t,a)):(Kn&&r&&_y(t),t.flags|=1,ha(e,t,n,a),t.child)}function F3(e,t,n,r,a){if(Oa(n)){var i=!0;$h(t)}else i=!1;if(Cu(t,a),t.stateNode===null)mh(e,t),uS(t,n,r),Nv(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wi(u):(u=Oa(n)?pl:ta.current,u=Tu(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&R3(t,o,r,u),os=!1;var f=t.memoizedState;o.state=f,Yh(t,r,o,a),l=t.memoizedState,s!==r||f!==l||Pa.current||os?(typeof c=="function"&&(Fv(t,n,c,r),l=t.memoizedState),(s=os||x3(t,n,s,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$C(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ai(t.type,s),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wi(l):(l=Oa(n)?pl:ta.current,l=Tu(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||f!==l)&&R3(t,o,r,l),os=!1,f=t.memoizedState,o.state=f,Yh(t,r,o,a);var p=t.memoizedState;s!==d||f!==p||Pa.current||os?(typeof h=="function"&&(Fv(t,n,h,r),p=t.memoizedState),(u=os||x3(t,n,u,r,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return jv(e,t,n,r,i,a)}function jv(e,t,n,r,a,i){pS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&w3(t,n,!1),Uo(e,t,i);r=t.stateNode,HT.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ru(t,e.child,null,i),t.child=Ru(t,null,s,i)):ha(e,t,s,i),t.memoizedState=r.state,a&&w3(t,n,!0),t.child}function mS(e){var t=e.stateNode;t.pendingContext?b3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b3(e,t.context,!1),My(e,t.containerInfo)}function N3(e,t,n,r,a){return xu(),wy(a),t.flags|=256,ha(e,t,n,r),t.child}var zv={dehydrated:null,treeContext:null,retryLane:0};function $v(e){return{baseLanes:e,cachePool:null,transitions:null}}function gS(e,t,n){var r=t.pendingProps,a=Jn.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nn(Jn,a&1),e===null)return Lv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_m(o,r,0,null),e=ul(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$v(n),t.memoizedState=zv,e):Iy(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return VT(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Es(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=Es(s,i):(i=ul(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$v(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zv,r}return i=e.child,e=i.sibling,r=Es(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Iy(e,t){return t=_m({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xf(e,t,n,r){return r!==null&&wy(r),Ru(t,e.child,null,n),e=Iy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VT(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ng(Error(ct(422))),xf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=_m({mode:"visible",children:r.children},a,0,null),i=ul(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ru(t,e.child,null,o),t.child.memoizedState=$v(o),t.memoizedState=zv,i);if(!(t.mode&1))return xf(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(ct(419)),r=Ng(i,r,void 0),xf(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ra||s){if(r=Ur,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,No(e,a),Ui(r,e,a,-1))}return zy(),r=Ng(Error(ct(421))),xf(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=rx.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Va=ys(a.nextSibling),Wa=t,Kn=!0,Ii=null,e!==null&&(ci[di++]=To,ci[di++]=xo,ci[di++]=ml,To=e.id,xo=e.overflow,ml=t),t=Iy(t,r.children),t.flags|=4096,t)}function U3(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Iv(e.return,t,n)}function Ug(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function vS(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ha(e,t,r.children,n),r=Jn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&U3(e,n,t);else if(e.tag===19)U3(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Nn(Jn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Kh(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ug(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Kh(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ug(t,!0,n,null,i);break;case"together":Ug(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,n=Es(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Es(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function WT(e,t,n){switch(t.tag){case 3:mS(t),xu();break;case 5:HC(t);break;case 1:Oa(t.type)&&$h(t);break;case 4:My(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Nn(Wh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Nn(Jn,Jn.current&1),t.flags|=128,null):n&t.child.childLanes?gS(e,t,n):(Nn(Jn,Jn.current&1),e=Uo(e,t,n),e!==null?e.sibling:null);Nn(Jn,Jn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vS(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nn(Jn,Jn.current),r)break;return null;case 22:case 23:return t.lanes=0,hS(e,t,n)}return Uo(e,t,n)}var yS,Hv,_S,bS;yS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hv=function(){};_S=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,al(ho.current);var i=null;switch(n){case"input":a=dv(e,a),r=dv(e,r),i=[];break;case"select":a=nr({},a,{value:void 0}),r=nr({},r,{value:void 0}),i=[];break;case"textarea":a=pv(e,a),r=pv(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jh)}gv(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ld.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ld.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&zn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bS=function(e,t,n,r){n!==r&&(t.flags|=4)};function yc(e,t){if(!Kn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qT(e,t,n){var r=t.pendingProps;switch(by(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(t),null;case 1:return Oa(t.type)&&zh(),Wr(t),null;case 3:return r=t.stateNode,Pu(),Hn(Pa),Hn(ta),xy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ii!==null&&(Xv(Ii),Ii=null))),Hv(e,t),Wr(t),null;case 5:Ty(t);var a=al(bd.current);if(n=t.type,e!==null&&t.stateNode!=null)_S(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ct(166));return Wr(t),null}if(e=al(ho.current),Mf(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[io]=t,r[yd]=i,e=(t.mode&1)!==0,n){case"dialog":zn("cancel",r),zn("close",r);break;case"iframe":case"object":case"embed":zn("load",r);break;case"video":case"audio":for(a=0;a<Fc.length;a++)zn(Fc[a],r);break;case"source":zn("error",r);break;case"img":case"image":case"link":zn("error",r),zn("load",r);break;case"details":zn("toggle",r);break;case"input":Y_(r,i),zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zn("invalid",r);break;case"textarea":G_(r,i),zn("invalid",r)}gv(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&kf(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&kf(r.textContent,s,e),a=["children",""+s]):ld.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&zn("scroll",r)}switch(n){case"input":yf(r),K_(r,i,!0);break;case"textarea":yf(r),Z_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[io]=t,e[yd]=r,yS(e,t,!1,!1),t.stateNode=e;e:{switch(o=vv(n,r),n){case"dialog":zn("cancel",e),zn("close",e),a=r;break;case"iframe":case"object":case"embed":zn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fc.length;a++)zn(Fc[a],e);a=r;break;case"source":zn("error",e),a=r;break;case"img":case"image":case"link":zn("error",e),zn("load",e),a=r;break;case"details":zn("toggle",e),a=r;break;case"input":Y_(e,r),a=dv(e,r),zn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=nr({},r,{value:void 0}),zn("invalid",e);break;case"textarea":G_(e,r),a=pv(e,r),zn("invalid",e);break;default:a=r}gv(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?X5(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G5(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ud(e,l):typeof l=="number"&&ud(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ld.hasOwnProperty(i)?l!=null&&i==="onScroll"&&zn("scroll",e):l!=null&&iy(e,i,l,o))}switch(n){case"input":yf(e),K_(e,r,!1);break;case"textarea":yf(e),Z_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_u(e,!!r.multiple,i,!1):r.defaultValue!=null&&_u(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wr(t),null;case 6:if(e&&t.stateNode!=null)bS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ct(166));if(n=al(bd.current),al(ho.current),Mf(t)){if(r=t.stateNode,n=t.memoizedProps,r[io]=t,(i=r.nodeValue!==n)&&(e=Wa,e!==null))switch(e.tag){case 3:kf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kf(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[io]=t,t.stateNode=r}return Wr(t),null;case 13:if(Hn(Jn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kn&&Va!==null&&t.mode&1&&!(t.flags&128))UC(),xu(),t.flags|=98560,i=!1;else if(i=Mf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ct(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ct(317));i[io]=t}else xu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wr(t),i=!1}else Ii!==null&&(Xv(Ii),Ii=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Jn.current&1?Pr===0&&(Pr=3):zy())),t.updateQueue!==null&&(t.flags|=4),Wr(t),null);case 4:return Pu(),Hv(e,t),e===null&&gd(t.stateNode.containerInfo),Wr(t),null;case 10:return Sy(t.type._context),Wr(t),null;case 17:return Oa(t.type)&&zh(),Wr(t),null;case 19:if(Hn(Jn),i=t.memoizedState,i===null)return Wr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)yc(i,!1);else{if(Pr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Kh(e),o!==null){for(t.flags|=128,yc(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nn(Jn,Jn.current&1|2),t.child}e=e.sibling}i.tail!==null&&mr()>Au&&(t.flags|=128,r=!0,yc(i,!1),t.lanes=4194304)}else{if(!r)if(e=Kh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Kn)return Wr(t),null}else 2*mr()-i.renderingStartTime>Au&&n!==1073741824&&(t.flags|=128,r=!0,yc(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=mr(),t.sibling=null,n=Jn.current,Nn(Jn,r?n&1|2:n&1),t):(Wr(t),null);case 22:case 23:return jy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$a&1073741824&&(Wr(t),t.subtreeFlags&6&&(t.flags|=8192)):Wr(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function YT(e,t){switch(by(t),t.tag){case 1:return Oa(t.type)&&zh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pu(),Hn(Pa),Hn(ta),xy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ty(t),null;case 13:if(Hn(Jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));xu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(Jn),null;case 4:return Pu(),null;case 10:return Sy(t.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var Rf=!1,Gr=!1,KT=typeof WeakSet=="function"?WeakSet:Set,At=null;function hu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ur(e,t,r)}else n.current=null}function Vv(e,t,n){try{n()}catch(r){ur(e,t,r)}}var B3=!1;function GT(e,t){if(Mv=Nh,e=DC(),yy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||a!==0&&d.nodeType!==3||(s=o+a),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===a&&(s=o),f===i&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tv={focusedElem:e,selectionRange:n},Nh=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){t=At;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,D=p.memoizedState,E=t.stateNode,g=E.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ai(t.type,w),D);E.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(M){ur(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}return p=B3,B3=!1,p}function Kc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Vv(t,n,i)}a=a.next}while(a!==r)}}function vm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wS(e){var t=e.alternate;t!==null&&(e.alternate=null,wS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[io],delete t[yd],delete t[Pv],delete t[PT],delete t[OT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ES(e){return e.tag===5||e.tag===3||e.tag===4}function j3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ES(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jh));else if(r!==4&&(e=e.child,e!==null))for(qv(e,t,n),e=e.sibling;e!==null;)qv(e,t,n),e=e.sibling}function Yv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yv(e,t,n),e=e.sibling;e!==null;)Yv(e,t,n),e=e.sibling}var Br=null,Li=!1;function Jo(e,t,n){for(n=n.child;n!==null;)CS(e,t,n),n=n.sibling}function CS(e,t,n){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(um,n)}catch{}switch(n.tag){case 5:Gr||hu(n,t);case 6:var r=Br,a=Li;Br=null,Jo(e,t,n),Br=r,Li=a,Br!==null&&(Li?(e=Br,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Br.removeChild(n.stateNode));break;case 18:Br!==null&&(Li?(e=Br,n=n.stateNode,e.nodeType===8?Pg(e.parentNode,n):e.nodeType===1&&Pg(e,n),hd(e)):Pg(Br,n.stateNode));break;case 4:r=Br,a=Li,Br=n.stateNode.containerInfo,Li=!0,Jo(e,t,n),Br=r,Li=a;break;case 0:case 11:case 14:case 15:if(!Gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vv(n,t,o),a=a.next}while(a!==r)}Jo(e,t,n);break;case 1:if(!Gr&&(hu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ur(n,t,s)}Jo(e,t,n);break;case 21:Jo(e,t,n);break;case 22:n.mode&1?(Gr=(r=Gr)||n.memoizedState!==null,Jo(e,t,n),Gr=r):Jo(e,t,n);break;default:Jo(e,t,n)}}function z3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new KT),t.forEach(function(r){var a=ax.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ri(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Br=s.stateNode,Li=!1;break e;case 3:Br=s.stateNode.containerInfo,Li=!0;break e;case 4:Br=s.stateNode.containerInfo,Li=!0;break e}s=s.return}if(Br===null)throw Error(ct(160));CS(i,o,a),Br=null,Li=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){ur(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SS(t,e),t=t.sibling}function SS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ri(t,e),Ki(e),r&4){try{Kc(3,e,e.return),vm(3,e)}catch(w){ur(e,e.return,w)}try{Kc(5,e,e.return)}catch(w){ur(e,e.return,w)}}break;case 1:Ri(t,e),Ki(e),r&512&&n!==null&&hu(n,n.return);break;case 5:if(Ri(t,e),Ki(e),r&512&&n!==null&&hu(n,n.return),e.flags&32){var a=e.stateNode;try{ud(a,"")}catch(w){ur(e,e.return,w)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&q5(a,i),vv(s,o);var u=vv(s,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?X5(a,d):c==="dangerouslySetInnerHTML"?G5(a,d):c==="children"?ud(a,d):iy(a,c,d,u)}switch(s){case"input":fv(a,i);break;case"textarea":Y5(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?_u(a,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?_u(a,!!i.multiple,i.defaultValue,!0):_u(a,!!i.multiple,i.multiple?[]:"",!1))}a[yd]=i}catch(w){ur(e,e.return,w)}}break;case 6:if(Ri(t,e),Ki(e),r&4){if(e.stateNode===null)throw Error(ct(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){ur(e,e.return,w)}}break;case 3:if(Ri(t,e),Ki(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hd(t.containerInfo)}catch(w){ur(e,e.return,w)}break;case 4:Ri(t,e),Ki(e);break;case 13:Ri(t,e),Ki(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Uy=mr())),r&4&&z3(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Gr=(u=Gr)||c,Ri(t,e),Gr=u):Ri(t,e),Ki(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(At=e,c=e.child;c!==null;){for(d=At=c;At!==null;){switch(f=At,h=f.child,f.tag){case 0:case 11:case 14:case 15:Kc(4,f,f.return);break;case 1:hu(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(w){ur(r,n,w)}}break;case 5:hu(f,f.return);break;case 22:if(f.memoizedState!==null){H3(d);continue}}h!==null?(h.return=f,At=h):H3(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Z5("display",o))}catch(w){ur(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ur(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ri(t,e),Ki(e),r&4&&z3(e);break;case 21:break;default:Ri(t,e),Ki(e)}}function Ki(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ES(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(ud(a,""),r.flags&=-33);var i=j3(e);Yv(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=j3(e);qv(e,s,o);break;default:throw Error(ct(161))}}catch(l){ur(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZT(e,t,n){At=e,DS(e)}function DS(e,t,n){for(var r=(e.mode&1)!==0;At!==null;){var a=At,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Rf;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Gr;s=Rf;var u=Gr;if(Rf=o,(Gr=l)&&!u)for(At=a;At!==null;)o=At,l=o.child,o.tag===22&&o.memoizedState!==null?V3(a):l!==null?(l.return=o,At=l):V3(a);for(;i!==null;)At=i,DS(i),i=i.sibling;At=a,Rf=s,Gr=u}$3(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,At=i):$3(e)}}function $3(e){for(;At!==null;){var t=At;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gr||vm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ai(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&k3(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}k3(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&hd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}Gr||t.flags&512&&Wv(t)}catch(f){ur(t,t.return,f)}}if(t===e){At=null;break}if(n=t.sibling,n!==null){n.return=t.return,At=n;break}At=t.return}}function H3(e){for(;At!==null;){var t=At;if(t===e){At=null;break}var n=t.sibling;if(n!==null){n.return=t.return,At=n;break}At=t.return}}function V3(e){for(;At!==null;){var t=At;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vm(4,t)}catch(l){ur(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){ur(t,a,l)}}var i=t.return;try{Wv(t)}catch(l){ur(t,i,l)}break;case 5:var o=t.return;try{Wv(t)}catch(l){ur(t,o,l)}}}catch(l){ur(t,t.return,l)}if(t===e){At=null;break}var s=t.sibling;if(s!==null){s.return=t.return,At=s;break}At=t.return}}var XT=Math.ceil,Xh=Ho.ReactCurrentDispatcher,Fy=Ho.ReactCurrentOwner,gi=Ho.ReactCurrentBatchConfig,wn=0,Ur=null,Cr=null,zr=0,$a=0,pu=Ts(0),Pr=0,Sd=null,vl=0,ym=0,Ny=0,Gc=null,xa=null,Uy=0,Au=1/0,Do=null,Qh=!1,Kv=null,bs=null,Pf=!1,hs=null,Jh=0,Zc=0,Gv=null,gh=-1,vh=0;function ga(){return wn&6?mr():gh!==-1?gh:gh=mr()}function ws(e){return e.mode&1?wn&2&&zr!==0?zr&-zr:LT.transition!==null?(vh===0&&(vh=uC()),vh):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:gC(e.type)),e):1}function Ui(e,t,n,r){if(50<Zc)throw Zc=0,Gv=null,Error(ct(185));Vd(e,n,r),(!(wn&2)||e!==Ur)&&(e===Ur&&(!(wn&2)&&(ym|=n),Pr===4&&cs(e,zr)),Aa(e,r),n===1&&wn===0&&!(t.mode&1)&&(Au=mr()+500,pm&&xs()))}function Aa(e,t){var n=e.callbackNode;LM(e,t);var r=Fh(e,e===Ur?zr:0);if(r===0)n!==null&&J_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&J_(n),t===1)e.tag===0?AT(W3.bind(null,e)):IC(W3.bind(null,e)),xT(function(){!(wn&6)&&xs()}),n=null;else{switch(cC(r)){case 1:n=cy;break;case 4:n=sC;break;case 16:n=Ih;break;case 536870912:n=lC;break;default:n=Ih}n=AS(n,kS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kS(e,t){if(gh=-1,vh=0,wn&6)throw Error(ct(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=Fh(e,e===Ur?zr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ep(e,r);else{t=r;var a=wn;wn|=2;var i=TS();(Ur!==e||zr!==t)&&(Do=null,Au=mr()+500,ll(e,t));do try{ex();break}catch(s){MS(e,s)}while(!0);Cy(),Xh.current=i,wn=a,Cr!==null?t=0:(Ur=null,zr=0,t=Pr)}if(t!==0){if(t===2&&(a=Ev(e),a!==0&&(r=a,t=Zv(e,a))),t===1)throw n=Sd,ll(e,0),cs(e,r),Aa(e,mr()),n;if(t===6)cs(e,r);else{if(a=e.current.alternate,!(r&30)&&!QT(a)&&(t=ep(e,r),t===2&&(i=Ev(e),i!==0&&(r=i,t=Zv(e,i))),t===1))throw n=Sd,ll(e,0),cs(e,r),Aa(e,mr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ct(345));case 2:Zs(e,xa,Do);break;case 3:if(cs(e,r),(r&130023424)===r&&(t=Uy+500-mr(),10<t)){if(Fh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ga(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Rv(Zs.bind(null,e,xa,Do),t);break}Zs(e,xa,Do);break;case 4:if(cs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ni(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XT(r/1960))-r,10<r){e.timeoutHandle=Rv(Zs.bind(null,e,xa,Do),r);break}Zs(e,xa,Do);break;case 5:Zs(e,xa,Do);break;default:throw Error(ct(329))}}}return Aa(e,mr()),e.callbackNode===n?kS.bind(null,e):null}function Zv(e,t){var n=Gc;return e.current.memoizedState.isDehydrated&&(ll(e,t).flags|=256),e=ep(e,t),e!==2&&(t=xa,xa=n,t!==null&&Xv(t)),e}function Xv(e){xa===null?xa=e:xa.push.apply(xa,e)}function QT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!$i(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~Ny,t&=~ym,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ni(t),r=1<<n;e[n]=-1,t&=~r}}function W3(e){if(wn&6)throw Error(ct(327));Su();var t=Fh(e,0);if(!(t&1))return Aa(e,mr()),null;var n=ep(e,t);if(e.tag!==0&&n===2){var r=Ev(e);r!==0&&(t=r,n=Zv(e,r))}if(n===1)throw n=Sd,ll(e,0),cs(e,t),Aa(e,mr()),n;if(n===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zs(e,xa,Do),Aa(e,mr()),null}function By(e,t){var n=wn;wn|=1;try{return e(t)}finally{wn=n,wn===0&&(Au=mr()+500,pm&&xs())}}function yl(e){hs!==null&&hs.tag===0&&!(wn&6)&&Su();var t=wn;wn|=1;var n=gi.transition,r=Rn;try{if(gi.transition=null,Rn=1,e)return e()}finally{Rn=r,gi.transition=n,wn=t,!(wn&6)&&xs()}}function jy(){$a=pu.current,Hn(pu)}function ll(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TT(n)),Cr!==null)for(n=Cr.return;n!==null;){var r=n;switch(by(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zh();break;case 3:Pu(),Hn(Pa),Hn(ta),xy();break;case 5:Ty(r);break;case 4:Pu();break;case 13:Hn(Jn);break;case 19:Hn(Jn);break;case 10:Sy(r.type._context);break;case 22:case 23:jy()}n=n.return}if(Ur=e,Cr=e=Es(e.current,null),zr=$a=t,Pr=0,Sd=null,Ny=ym=vl=0,xa=Gc=null,rl!==null){for(t=0;t<rl.length;t++)if(n=rl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}rl=null}return e}function MS(e,t){do{var n=Cr;try{if(Cy(),hh.current=Zh,Gh){for(var r=tr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Gh=!1}if(gl=0,Nr=xr=tr=null,Yc=!1,wd=0,Fy.current=null,n===null||n.return===null){Pr=1,Sd=t,Cr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=zr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=O3(o);if(h!==null){h.flags&=-257,A3(h,o,s,i,t),h.mode&1&&P3(i,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var w=new Set;w.add(l),t.updateQueue=w}else p.add(l);break e}else{if(!(t&1)){P3(i,u,t),zy();break e}l=Error(ct(426))}}else if(Kn&&s.mode&1){var D=O3(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),A3(D,o,s,i,t),wy(Ou(l,s));break e}}i=l=Ou(l,s),Pr!==4&&(Pr=2),Gc===null?Gc=[i]:Gc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var E=cS(i,l,t);D3(i,E);break e;case 1:s=l;var g=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(bs===null||!bs.has(C)))){i.flags|=65536,t&=-t,i.lanes|=t;var M=dS(i,s,t);D3(i,M);break e}}i=i.return}while(i!==null)}RS(n)}catch(m){t=m,Cr===n&&n!==null&&(Cr=n=n.return);continue}break}while(!0)}function TS(){var e=Xh.current;return Xh.current=Zh,e===null?Zh:e}function zy(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Ur===null||!(vl&268435455)&&!(ym&268435455)||cs(Ur,zr)}function ep(e,t){var n=wn;wn|=2;var r=TS();(Ur!==e||zr!==t)&&(Do=null,ll(e,t));do try{JT();break}catch(a){MS(e,a)}while(!0);if(Cy(),wn=n,Xh.current=r,Cr!==null)throw Error(ct(261));return Ur=null,zr=0,Pr}function JT(){for(;Cr!==null;)xS(Cr)}function ex(){for(;Cr!==null&&!DM();)xS(Cr)}function xS(e){var t=OS(e.alternate,e,$a);e.memoizedProps=e.pendingProps,t===null?RS(e):Cr=t,Fy.current=null}function RS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YT(n,t),n!==null){n.flags&=32767,Cr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pr=6,Cr=null;return}}else if(n=qT(n,t,$a),n!==null){Cr=n;return}if(t=t.sibling,t!==null){Cr=t;return}Cr=t=e}while(t!==null);Pr===0&&(Pr=5)}function Zs(e,t,n){var r=Rn,a=gi.transition;try{gi.transition=null,Rn=1,tx(e,t,n,r)}finally{gi.transition=a,Rn=r}return null}function tx(e,t,n,r){do Su();while(hs!==null);if(wn&6)throw Error(ct(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(IM(e,i),e===Ur&&(Cr=Ur=null,zr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pf||(Pf=!0,AS(Ih,function(){return Su(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gi.transition,gi.transition=null;var o=Rn;Rn=1;var s=wn;wn|=4,Fy.current=null,GT(e,n),SS(n,e),wT(Tv),Nh=!!Mv,Tv=Mv=null,e.current=n,ZT(n),kM(),wn=s,Rn=o,gi.transition=i}else e.current=n;if(Pf&&(Pf=!1,hs=e,Jh=a),i=e.pendingLanes,i===0&&(bs=null),xM(n.stateNode),Aa(e,mr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Qh)throw Qh=!1,e=Kv,Kv=null,e;return Jh&1&&e.tag!==0&&Su(),i=e.pendingLanes,i&1?e===Gv?Zc++:(Zc=0,Gv=e):Zc=0,xs(),null}function Su(){if(hs!==null){var e=cC(Jh),t=gi.transition,n=Rn;try{if(gi.transition=null,Rn=16>e?16:e,hs===null)var r=!1;else{if(e=hs,hs=null,Jh=0,wn&6)throw Error(ct(331));var a=wn;for(wn|=4,At=e.current;At!==null;){var i=At,o=i.child;if(At.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(At=u;At!==null;){var c=At;switch(c.tag){case 0:case 11:case 15:Kc(8,c,i)}var d=c.child;if(d!==null)d.return=c,At=d;else for(;At!==null;){c=At;var f=c.sibling,h=c.return;if(wS(c),c===u){At=null;break}if(f!==null){f.return=h,At=f;break}At=h}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var D=w.sibling;w.sibling=null,w=D}while(w!==null)}}At=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,At=o;else e:for(;At!==null;){if(i=At,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kc(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,At=E;break e}At=i.return}}var g=e.current;for(At=g;At!==null;){o=At;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,At=C;else e:for(o=g;At!==null;){if(s=At,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:vm(9,s)}}catch(m){ur(s,s.return,m)}if(s===o){At=null;break e}var M=s.sibling;if(M!==null){M.return=s.return,At=M;break e}At=s.return}}if(wn=a,xs(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(um,e)}catch{}r=!0}return r}finally{Rn=n,gi.transition=t}}return!1}function q3(e,t,n){t=Ou(n,t),t=cS(e,t,1),e=_s(e,t,1),t=ga(),e!==null&&(Vd(e,1,t),Aa(e,t))}function ur(e,t,n){if(e.tag===3)q3(e,e,n);else for(;t!==null;){if(t.tag===3){q3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bs===null||!bs.has(r))){e=Ou(n,e),e=dS(t,e,1),t=_s(t,e,1),e=ga(),t!==null&&(Vd(t,1,e),Aa(t,e));break}}t=t.return}}function nx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ga(),e.pingedLanes|=e.suspendedLanes&n,Ur===e&&(zr&n)===n&&(Pr===4||Pr===3&&(zr&130023424)===zr&&500>mr()-Uy?ll(e,0):Ny|=n),Aa(e,t)}function PS(e,t){t===0&&(e.mode&1?(t=wf,wf<<=1,!(wf&130023424)&&(wf=4194304)):t=1);var n=ga();e=No(e,t),e!==null&&(Vd(e,t,n),Aa(e,n))}function rx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PS(e,n)}function ax(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(t),PS(e,n)}var OS;OS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pa.current)Ra=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ra=!1,WT(e,t,n);Ra=!!(e.flags&131072)}else Ra=!1,Kn&&t.flags&1048576&&FC(t,Vh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mh(e,t),e=t.pendingProps;var a=Tu(t,ta.current);Cu(t,n),a=Py(null,t,r,e,a,n);var i=Oy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(i=!0,$h(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ky(t),a.updater=gm,t.stateNode=a,a._reactInternals=t,Nv(t,r,e,n),t=jv(null,t,r,!0,i,n)):(t.tag=0,Kn&&i&&_y(t),ha(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mh(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=ox(r),e=Ai(r,e),a){case 0:t=Bv(null,t,r,e,n);break e;case 1:t=F3(null,t,r,e,n);break e;case 11:t=L3(null,t,r,e,n);break e;case 14:t=I3(null,t,r,Ai(r.type,e),n);break e}throw Error(ct(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ai(r,a),Bv(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ai(r,a),F3(e,t,r,a,n);case 3:e:{if(mS(t),e===null)throw Error(ct(387));r=t.pendingProps,i=t.memoizedState,a=i.element,$C(e,t),Yh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ou(Error(ct(423)),t),t=N3(e,t,r,n,a);break e}else if(r!==a){a=Ou(Error(ct(424)),t),t=N3(e,t,r,n,a);break e}else for(Va=ys(t.stateNode.containerInfo.firstChild),Wa=t,Kn=!0,Ii=null,n=jC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xu(),r===a){t=Uo(e,t,n);break e}ha(e,t,r,n)}t=t.child}return t;case 5:return HC(t),e===null&&Lv(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,xv(r,a)?o=null:i!==null&&xv(r,i)&&(t.flags|=32),pS(e,t),ha(e,t,o,n),t.child;case 6:return e===null&&Lv(t),null;case 13:return gS(e,t,n);case 4:return My(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ru(t,null,r,n):ha(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ai(r,a),L3(e,t,r,a,n);case 7:return ha(e,t,t.pendingProps,n),t.child;case 8:return ha(e,t,t.pendingProps.children,n),t.child;case 12:return ha(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Nn(Wh,r._currentValue),r._currentValue=o,i!==null)if($i(i.value,o)){if(i.children===a.children&&!Pa.current){t=Uo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Oo(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Iv(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ct(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Iv(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ha(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Cu(t,n),a=wi(a),r=r(a),t.flags|=1,ha(e,t,r,n),t.child;case 14:return r=t.type,a=Ai(r,t.pendingProps),a=Ai(r.type,a),I3(e,t,r,a,n);case 15:return fS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ai(r,a),mh(e,t),t.tag=1,Oa(r)?(e=!0,$h(t)):e=!1,Cu(t,n),uS(t,r,a),Nv(t,r,a,n),jv(null,t,r,!0,e,n);case 19:return vS(e,t,n);case 22:return hS(e,t,n)}throw Error(ct(156,t.tag))};function AS(e,t){return oC(e,t)}function ix(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,t,n,r){return new ix(e,t,n,r)}function $y(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ox(e){if(typeof e=="function")return $y(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sy)return 11;if(e===ly)return 14}return 2}function Es(e,t){var n=e.alternate;return n===null?(n=pi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yh(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")$y(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case au:return ul(n.children,a,i,t);case oy:o=8,a|=8;break;case sv:return e=pi(12,n,t,a|2),e.elementType=sv,e.lanes=i,e;case lv:return e=pi(13,n,t,a),e.elementType=lv,e.lanes=i,e;case uv:return e=pi(19,n,t,a),e.elementType=uv,e.lanes=i,e;case H5:return _m(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z5:o=10;break e;case $5:o=9;break e;case sy:o=11;break e;case ly:o=14;break e;case is:o=16,r=null;break e}throw Error(ct(130,e==null?e:typeof e,""))}return t=pi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function ul(e,t,n,r){return e=pi(7,e,r,t),e.lanes=n,e}function _m(e,t,n,r){return e=pi(22,e,r,t),e.elementType=H5,e.lanes=n,e.stateNode={isHidden:!1},e}function Bg(e,t,n){return e=pi(6,e,null,t),e.lanes=n,e}function jg(e,t,n){return t=pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sx(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bg(0),this.expirationTimes=bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bg(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hy(e,t,n,r,a,i,o,s,l){return e=new sx(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(i),e}function lx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ru,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function LS(e){if(!e)return Ss;e=e._reactInternals;e:{if(kl(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var n=e.type;if(Oa(n))return LC(e,n,t)}return t}function IS(e,t,n,r,a,i,o,s,l){return e=Hy(n,r,!0,e,a,i,o,s,l),e.context=LS(null),n=e.current,r=ga(),a=ws(n),i=Oo(r,a),i.callback=t??null,_s(n,i,a),e.current.lanes=a,Vd(e,a,r),Aa(e,r),e}function bm(e,t,n,r){var a=t.current,i=ga(),o=ws(a);return n=LS(n),t.context===null?t.context=n:t.pendingContext=n,t=Oo(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_s(a,t,o),e!==null&&(Ui(e,a,o,i),fh(e,a,o)),o}function tp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vy(e,t){Y3(e,t),(e=e.alternate)&&Y3(e,t)}function ux(){return null}var FS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wy(e){this._internalRoot=e}wm.prototype.render=Wy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));bm(e,t,null,null)};wm.prototype.unmount=Wy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yl(function(){bm(null,e,null,null)}),t[Fo]=null}};function wm(e){this._internalRoot=e}wm.prototype.unstable_scheduleHydration=function(e){if(e){var t=hC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<us.length&&t!==0&&t<us[n].priority;n++);us.splice(n,0,e),n===0&&mC(e)}};function qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K3(){}function cx(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=tp(o);i.call(u)}}var o=IS(t,r,e,0,null,!1,!1,"",K3);return e._reactRootContainer=o,e[Fo]=o.current,gd(e.nodeType===8?e.parentNode:e),yl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var u=tp(l);s.call(u)}}var l=Hy(e,0,!1,null,null,!1,!1,"",K3);return e._reactRootContainer=l,e[Fo]=l.current,gd(e.nodeType===8?e.parentNode:e),yl(function(){bm(t,l,n,r)}),l}function Cm(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=tp(o);s.call(l)}}bm(t,o,e,a)}else o=cx(n,t,e,a,r);return tp(o)}dC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ic(t.pendingLanes);n!==0&&(dy(t,n|1),Aa(t,mr()),!(wn&6)&&(Au=mr()+500,xs()))}break;case 13:yl(function(){var r=No(e,1);if(r!==null){var a=ga();Ui(r,e,1,a)}}),Vy(e,1)}};fy=function(e){if(e.tag===13){var t=No(e,134217728);if(t!==null){var n=ga();Ui(t,e,134217728,n)}Vy(e,134217728)}};fC=function(e){if(e.tag===13){var t=ws(e),n=No(e,t);if(n!==null){var r=ga();Ui(n,e,t,r)}Vy(e,t)}};hC=function(){return Rn};pC=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};_v=function(e,t,n){switch(t){case"input":if(fv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=hm(r);if(!a)throw Error(ct(90));W5(r),fv(r,a)}}}break;case"textarea":Y5(e,n);break;case"select":t=n.value,t!=null&&_u(e,!!n.multiple,t,!1)}};eC=By;tC=yl;var dx={usingClientEntryPoint:!1,Events:[qd,lu,hm,Q5,J5,By]},_c={findFiberByHostInstance:nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fx={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aC(e),e===null?null:e.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||ux,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{um=Of.inject(fx),fo=Of}catch{}}Qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;Qa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qy(t))throw Error(ct(200));return lx(e,t,null,n)};Qa.createRoot=function(e,t){if(!qy(e))throw Error(ct(299));var n=!1,r="",a=FS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Hy(e,1,!1,null,null,n,!1,r,a),e[Fo]=t.current,gd(e.nodeType===8?e.parentNode:e),new Wy(t)};Qa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=aC(t),e=e===null?null:e.stateNode,e};Qa.flushSync=function(e){return yl(e)};Qa.hydrate=function(e,t,n){if(!Em(t))throw Error(ct(200));return Cm(null,e,t,!0,n)};Qa.hydrateRoot=function(e,t,n){if(!qy(e))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=FS;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=IS(t,null,e,1,n??null,a,!1,i,o),e[Fo]=t.current,gd(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new wm(t)};Qa.render=function(e,t,n){if(!Em(t))throw Error(ct(200));return Cm(null,e,t,!1,n)};Qa.unmountComponentAtNode=function(e){if(!Em(e))throw Error(ct(40));return e._reactRootContainer?(yl(function(){Cm(null,null,e,!1,function(){e._reactRootContainer=null,e[Fo]=null})}),!0):!1};Qa.unstable_batchedUpdates=By;Qa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Em(n))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return Cm(e,t,n,!1,r)};Qa.version="18.3.1-next-f1338f8080-20240426";function NS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NS)}catch(e){console.error(e)}}NS(),N5.exports=Qa;var Yy=N5.exports,G3=Yy;iv.createRoot=G3.createRoot,iv.hydrateRoot=G3.hydrateRoot;var hx=vx,oo=[],Z3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Af=0,px=Z3.length;Af<px;++Af)oo[Af]=Z3[Af];function mx(e){return oo[e>>18&63]+oo[e>>12&63]+oo[e>>6&63]+oo[e&63]}function gx(e,t,n){for(var r,a=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),a.push(mx(r));return a.join("")}function vx(e){for(var t,n=e.length,r=n%3,a=[],i=16383,o=0,s=n-r;o<s;o+=i)a.push(gx(e,o,o+i>s?s:o+i));return r===1?(t=e[n-1],a.push(oo[t>>2]+oo[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],a.push(oo[t>>10]+oo[t>>4&63]+oo[t<<2&63]+"=")),a.join("")}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}function Sr(e){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(e)}function US(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qv(e,t){if(e==null)return{};var n=US(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yx(e){if(Array.isArray(e))return Jv(e)}function BS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ky(e,t){if(e){if(typeof e=="string")return Jv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jv(e,t)}}function _x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pr(e){return yx(e)||BS(e)||Ky(e)||_x()}function X3(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(u){n(u);return}s.done?t(l):Promise.resolve(l).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(l){X3(i,r,a,o,s,"next",l)}function s(l){X3(i,r,a,o,s,"throw",l)}o(void 0)})}}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bx(e,t){if(Sr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jS(e){var t=bx(e,"string");return Sr(t)=="symbol"?t:t+""}function Q3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jS(r.key),r)}}function Or(e,t,n){return t&&Q3(e.prototype,t),n&&Q3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function be(e,t,n){return t=jS(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zS={exports:{}},$S={exports:{}};(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})($S);var wx=$S.exports;(function(e){var t=wx.default;function n(){e.exports=n=function(){return a},e.exports.__esModule=!0,e.exports.default=e.exports;var r,a={},i=Object.prototype,o=i.hasOwnProperty,s=Object.defineProperty||function(U,R,O){U[R]=O.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(U,R,O){return Object.defineProperty(U,R,{value:O,enumerable:!0,configurable:!0,writable:!0}),U[R]}try{f({},"")}catch{f=function(O,A,x){return O[A]=x}}function h(U,R,O,A){var x=R&&R.prototype instanceof M?R:M,j=Object.create(x.prototype),V=new B(A||[]);return s(j,"_invoke",{value:N(U,O,V)}),j}function p(U,R,O){try{return{type:"normal",arg:U.call(R,O)}}catch(A){return{type:"throw",arg:A}}}a.wrap=h;var w="suspendedStart",D="suspendedYield",E="executing",g="completed",C={};function M(){}function m(){}function b(){}var S={};f(S,u,function(){return this});var y=Object.getPrototypeOf,k=y&&y(y(F([])));k&&k!==i&&o.call(k,u)&&(S=k);var _=b.prototype=M.prototype=Object.create(S);function P(U){["next","throw","return"].forEach(function(R){f(U,R,function(O){return this._invoke(R,O)})})}function z(U,R){function O(x,j,V,X){var re=p(U[x],U,j);if(re.type!=="throw"){var W=re.arg,J=W.value;return J&&t(J)=="object"&&o.call(J,"__await")?R.resolve(J.__await).then(function(oe){O("next",oe,V,X)},function(oe){O("throw",oe,V,X)}):R.resolve(J).then(function(oe){W.value=oe,V(W)},function(oe){return O("throw",oe,V,X)})}X(re.arg)}var A;s(this,"_invoke",{value:function(j,V){function X(){return new R(function(re,W){O(j,V,re,W)})}return A=A?A.then(X,X):X()}})}function N(U,R,O){var A=w;return function(x,j){if(A===E)throw Error("Generator is already running");if(A===g){if(x==="throw")throw j;return{value:r,done:!0}}for(O.method=x,O.arg=j;;){var V=O.delegate;if(V){var X=T(V,O);if(X){if(X===C)continue;return X}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(A===w)throw A=g,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);A=E;var re=p(U,R,O);if(re.type==="normal"){if(A=O.done?g:D,re.arg===C)continue;return{value:re.arg,done:O.done}}re.type==="throw"&&(A=g,O.method="throw",O.arg=re.arg)}}}function T(U,R){var O=R.method,A=U.iterator[O];if(A===r)return R.delegate=null,O==="throw"&&U.iterator.return&&(R.method="return",R.arg=r,T(U,R),R.method==="throw")||O!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+O+"' method")),C;var x=p(A,U.iterator,R.arg);if(x.type==="throw")return R.method="throw",R.arg=x.arg,R.delegate=null,C;var j=x.arg;return j?j.done?(R[U.resultName]=j.value,R.next=U.nextLoc,R.method!=="return"&&(R.method="next",R.arg=r),R.delegate=null,C):j:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,C)}function L(U){var R={tryLoc:U[0]};1 in U&&(R.catchLoc=U[1]),2 in U&&(R.finallyLoc=U[2],R.afterLoc=U[3]),this.tryEntries.push(R)}function I(U){var R=U.completion||{};R.type="normal",delete R.arg,U.completion=R}function B(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(L,this),this.reset(!0)}function F(U){if(U||U===""){var R=U[u];if(R)return R.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var O=-1,A=function x(){for(;++O<U.length;)if(o.call(U,O))return x.value=U[O],x.done=!1,x;return x.value=r,x.done=!0,x};return A.next=A}}throw new TypeError(t(U)+" is not iterable")}return m.prototype=b,s(_,"constructor",{value:b,configurable:!0}),s(b,"constructor",{value:m,configurable:!0}),m.displayName=f(b,d,"GeneratorFunction"),a.isGeneratorFunction=function(U){var R=typeof U=="function"&&U.constructor;return!!R&&(R===m||(R.displayName||R.name)==="GeneratorFunction")},a.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,b):(U.__proto__=b,f(U,d,"GeneratorFunction")),U.prototype=Object.create(_),U},a.awrap=function(U){return{__await:U}},P(z.prototype),f(z.prototype,c,function(){return this}),a.AsyncIterator=z,a.async=function(U,R,O,A,x){x===void 0&&(x=Promise);var j=new z(h(U,R,O,A),x);return a.isGeneratorFunction(R)?j:j.next().then(function(V){return V.done?V.value:j.next()})},P(_),f(_,d,"Generator"),f(_,u,function(){return this}),f(_,"toString",function(){return"[object Generator]"}),a.keys=function(U){var R=Object(U),O=[];for(var A in R)O.push(A);return O.reverse(),function x(){for(;O.length;){var j=O.pop();if(j in R)return x.value=j,x.done=!1,x}return x.done=!0,x}},a.values=F,B.prototype={constructor:B,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(I),!R)for(var O in this)O.charAt(0)==="t"&&o.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=r)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var O=this;function A(W,J){return V.type="throw",V.arg=R,O.next=W,J&&(O.method="next",O.arg=r),!!J}for(var x=this.tryEntries.length-1;x>=0;--x){var j=this.tryEntries[x],V=j.completion;if(j.tryLoc==="root")return A("end");if(j.tryLoc<=this.prev){var X=o.call(j,"catchLoc"),re=o.call(j,"finallyLoc");if(X&&re){if(this.prev<j.catchLoc)return A(j.catchLoc,!0);if(this.prev<j.finallyLoc)return A(j.finallyLoc)}else if(X){if(this.prev<j.catchLoc)return A(j.catchLoc,!0)}else{if(!re)throw Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return A(j.finallyLoc)}}}},abrupt:function(R,O){for(var A=this.tryEntries.length-1;A>=0;--A){var x=this.tryEntries[A];if(x.tryLoc<=this.prev&&o.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var j=x;break}}j&&(R==="break"||R==="continue")&&j.tryLoc<=O&&O<=j.finallyLoc&&(j=null);var V=j?j.completion:{};return V.type=R,V.arg=O,j?(this.method="next",this.next=j.finallyLoc,C):this.complete(V)},complete:function(R,O){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&O&&(this.next=O),C},finish:function(R){for(var O=this.tryEntries.length-1;O>=0;--O){var A=this.tryEntries[O];if(A.finallyLoc===R)return this.complete(A.completion,A.afterLoc),I(A),C}},catch:function(R){for(var O=this.tryEntries.length-1;O>=0;--O){var A=this.tryEntries[O];if(A.tryLoc===R){var x=A.completion;if(x.type==="throw"){var j=x.arg;I(A)}return j}}throw Error("illegal catch attempt")},delegateYield:function(R,O,A){return this.delegate={iterator:F(R),resultName:O,nextLoc:A},this.method==="next"&&(this.arg=r),C}},a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(zS);var Ex=zS.exports,_h=Ex(),Cx=_h;try{regeneratorRuntime=_h}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=_h:Function("r","regeneratorRuntime = r")(_h)}const Q=Wn(Cx);function HS(e,t){return function(){return e.apply(t,arguments)}}const{toString:Sx}=Object.prototype,{getPrototypeOf:Gy}=Object,Sm=(e=>t=>{const n=Sx.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_o=e=>(e=e.toLowerCase(),t=>Sm(t)===e),Dm=e=>t=>typeof t===e,{isArray:Yu}=Array,Dd=Dm("undefined");function Dx(e){return e!==null&&!Dd(e)&&e.constructor!==null&&!Dd(e.constructor)&&vi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const VS=_o("ArrayBuffer");function kx(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&VS(e.buffer),t}const Mx=Dm("string"),vi=Dm("function"),WS=Dm("number"),km=e=>e!==null&&typeof e=="object",Tx=e=>e===!0||e===!1,bh=e=>{if(Sm(e)!=="object")return!1;const t=Gy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xx=_o("Date"),Rx=_o("File"),Px=_o("Blob"),Ox=_o("FileList"),Ax=e=>km(e)&&vi(e.pipe),Lx=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vi(e.append)&&((t=Sm(e))==="formdata"||t==="object"&&vi(e.toString)&&e.toString()==="[object FormData]"))},Ix=_o("URLSearchParams"),Fx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Yu(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function qS(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const YS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KS=e=>!Dd(e)&&e!==YS;function e0(){const{caseless:e}=KS(this)&&this||{},t={},n=(r,a)=>{const i=e&&qS(t,a)||a;bh(t[i])&&bh(r)?t[i]=e0(t[i],r):bh(r)?t[i]=e0({},r):Yu(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Kd(arguments[r],n);return t}const Nx=(e,t,n,{allOwnKeys:r}={})=>(Kd(t,(a,i)=>{n&&vi(a)?e[i]=HS(a,n):e[i]=a},{allOwnKeys:r}),e),Ux=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bx=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},jx=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&Gy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},zx=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},$x=e=>{if(!e)return null;if(Yu(e))return e;let t=e.length;if(!WS(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Hx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gy(Uint8Array)),Vx=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Wx=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},qx=_o("HTMLFormElement"),Yx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),J3=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Kx=_o("RegExp"),GS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Kd(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},Gx=e=>{GS(e,(t,n)=>{if(vi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(vi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Zx=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Yu(e)?r(e):r(String(e).split(t)),n},Xx=()=>{},Qx=(e,t)=>(e=+e,Number.isFinite(e)?e:t),zg="abcdefghijklmnopqrstuvwxyz",eb="0123456789",ZS={DIGIT:eb,ALPHA:zg,ALPHA_DIGIT:zg+zg.toUpperCase()+eb},Jx=(e=16,t=ZS.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function eR(e){return!!(e&&vi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const tR=e=>{const t=new Array(10),n=(r,a)=>{if(km(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=Yu(r)?[]:{};return Kd(r,(o,s)=>{const l=n(o,a+1);!Dd(l)&&(i[s]=l)}),t[a]=void 0,i}}return r};return n(e,0)},nR=_o("AsyncFunction"),rR=e=>e&&(km(e)||vi(e))&&vi(e.then)&&vi(e.catch),tt={isArray:Yu,isArrayBuffer:VS,isBuffer:Dx,isFormData:Lx,isArrayBufferView:kx,isString:Mx,isNumber:WS,isBoolean:Tx,isObject:km,isPlainObject:bh,isUndefined:Dd,isDate:xx,isFile:Rx,isBlob:Px,isRegExp:Kx,isFunction:vi,isStream:Ax,isURLSearchParams:Ix,isTypedArray:Hx,isFileList:Ox,forEach:Kd,merge:e0,extend:Nx,trim:Fx,stripBOM:Ux,inherits:Bx,toFlatObject:jx,kindOf:Sm,kindOfTest:_o,endsWith:zx,toArray:$x,forEachEntry:Vx,matchAll:Wx,isHTMLForm:qx,hasOwnProperty:J3,hasOwnProp:J3,reduceDescriptors:GS,freezeMethods:Gx,toObjectSet:Zx,toCamelCase:Yx,noop:Xx,toFiniteNumber:Qx,findKey:qS,global:YS,isContextDefined:KS,ALPHABET:ZS,generateString:Jx,isSpecCompliantForm:eR,toJSONObject:tR,isAsyncFn:nR,isThenable:rR};function yn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}tt.inherits(yn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const XS=yn.prototype,QS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{QS[e]={value:e}});Object.defineProperties(yn,QS);Object.defineProperty(XS,"isAxiosError",{value:!0});yn.from=(e,t,n,r,a,i)=>{const o=Object.create(XS);return tt.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),yn.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const aR=null;function t0(e){return tt.isPlainObject(e)||tt.isArray(e)}function JS(e){return tt.endsWith(e,"[]")?e.slice(0,-2):e}function tb(e,t,n){return e?e.concat(t).map(function(a,i){return a=JS(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function iR(e){return tt.isArray(e)&&!e.some(t0)}const oR=tt.toFlatObject(tt,{},null,function(t){return/^is[A-Z]/.test(t)});function Mm(e,t,n){if(!tt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=tt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,D){return!tt.isUndefined(D[w])});const r=n.metaTokens,a=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&tt.isSpecCompliantForm(t);if(!tt.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(tt.isDate(p))return p.toISOString();if(!l&&tt.isBlob(p))throw new yn("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(p)||tt.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,w,D){let E=p;if(p&&!D&&typeof p=="object"){if(tt.endsWith(w,"{}"))w=r?w:w.slice(0,-2),p=JSON.stringify(p);else if(tt.isArray(p)&&iR(p)||(tt.isFileList(p)||tt.endsWith(w,"[]"))&&(E=tt.toArray(p)))return w=JS(w),E.forEach(function(C,M){!(tt.isUndefined(C)||C===null)&&t.append(o===!0?tb([w],M,i):o===null?w:w+"[]",u(C))}),!1}return t0(p)?!0:(t.append(tb(D,w,i),u(p)),!1)}const d=[],f=Object.assign(oR,{defaultVisitor:c,convertValue:u,isVisitable:t0});function h(p,w){if(!tt.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(p),tt.forEach(p,function(E,g){(!(tt.isUndefined(E)||E===null)&&a.call(t,E,tt.isString(g)?g.trim():g,w,f))===!0&&h(E,w?w.concat(g):[g])}),d.pop()}}if(!tt.isObject(e))throw new TypeError("data must be an object");return h(e),t}function nb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Zy(e,t){this._pairs=[],e&&Mm(e,this,t)}const eD=Zy.prototype;eD.append=function(t,n){this._pairs.push([t,n])};eD.toString=function(t){const n=t?function(r){return t.call(this,r,nb)}:nb;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function sR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tD(e,t,n){if(!t)return e;const r=n&&n.encode||sR,a=n&&n.serialize;let i;if(a?i=a(t,n):i=tt.isURLSearchParams(t)?t.toString():new Zy(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class rb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){tt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const nD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lR=typeof URLSearchParams<"u"?URLSearchParams:Zy,uR=typeof FormData<"u"?FormData:null,cR=typeof Blob<"u"?Blob:null,dR={isBrowser:!0,classes:{URLSearchParams:lR,FormData:uR,Blob:cR},protocols:["http","https","file","blob","url","data"]},rD=typeof window<"u"&&typeof document<"u",fR=(e=>rD&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),hR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rD,hasStandardBrowserEnv:fR,hasStandardBrowserWebWorkerEnv:hR},Symbol.toStringTag,{value:"Module"})),lo={...pR,...dR};function mR(e,t){return Mm(e,new lo.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return lo.isNode&&tt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function gR(e){return tt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vR(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function aD(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=i>=n.length;return o=!o&&tt.isArray(a)?a.length:o,l?(tt.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!tt.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&tt.isArray(a[o])&&(a[o]=vR(a[o])),!s)}if(tt.isFormData(e)&&tt.isFunction(e.entries)){const n={};return tt.forEachEntry(e,(r,a)=>{t(gR(r),a,n,0)}),n}return null}function yR(e,t,n){if(tt.isString(e))try{return(t||JSON.parse)(e),tt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Gd={transitional:nD,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=tt.isObject(t);if(i&&tt.isHTMLForm(t)&&(t=new FormData(t)),tt.isFormData(t))return a?JSON.stringify(aD(t)):t;if(tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t))return t;if(tt.isArrayBufferView(t))return t.buffer;if(tt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mR(t,this.formSerializer).toString();if((s=tt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Mm(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),yR(t)):t}],transformResponse:[function(t){const n=this.transitional||Gd.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(t&&tt.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?yn.from(s,yn.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lo.classes.FormData,Blob:lo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],e=>{Gd.headers[e]={}});const _R=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bR=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&_R[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ab=Symbol("internals");function bc(e){return e&&String(e).trim().toLowerCase()}function wh(e){return e===!1||e==null?e:tt.isArray(e)?e.map(wh):String(e)}function wR(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ER=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $g(e,t,n,r,a){if(tt.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!tt.isString(t)){if(tt.isString(r))return t.indexOf(r)!==-1;if(tt.isRegExp(r))return r.test(t)}}function CR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function SR(e,t){const n=tt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class yi{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,l,u){const c=bc(l);if(!c)throw new Error("header name must be a non-empty string");const d=tt.findKey(a,c);(!d||a[d]===void 0||u===!0||u===void 0&&a[d]!==!1)&&(a[d||l]=wh(s))}const o=(s,l)=>tt.forEach(s,(u,c)=>i(u,c,l));return tt.isPlainObject(t)||t instanceof this.constructor?o(t,n):tt.isString(t)&&(t=t.trim())&&!ER(t)?o(bR(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=bc(t),t){const r=tt.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return wR(a);if(tt.isFunction(n))return n.call(this,a,r);if(tt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=bc(t),t){const r=tt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$g(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=bc(o),o){const s=tt.findKey(r,o);s&&(!n||$g(r,r[s],s,n))&&(delete r[s],a=!0)}}return tt.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||$g(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return tt.forEach(this,(a,i)=>{const o=tt.findKey(r,i);if(o){n[o]=wh(a),delete n[i];return}const s=t?CR(i):String(i).trim();s!==i&&delete n[i],n[s]=wh(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return tt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&tt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[ab]=this[ab]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=bc(o);r[s]||(SR(a,o),r[s]=!0)}return tt.isArray(t)?t.forEach(i):i(t),this}}yi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tt.reduceDescriptors(yi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});tt.freezeMethods(yi);function Hg(e,t){const n=this||Gd,r=t||n,a=yi.from(r.headers);let i=r.data;return tt.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function iD(e){return!!(e&&e.__CANCEL__)}function Zd(e,t,n){yn.call(this,e??"canceled",yn.ERR_CANCELED,t,n),this.name="CanceledError"}tt.inherits(Zd,yn,{__CANCEL__:!0});function DR(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new yn("Request failed with status code "+n.status,[yn.ERR_BAD_REQUEST,yn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const kR=lo.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];tt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),tt.isString(r)&&o.push("path="+r),tt.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function MR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function TR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function oD(e,t){return e&&!MR(t)?TR(e,t):t}const xR=lo.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const s=tt.isString(o)?a(o):o;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function RR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function PR(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[a]=l,r[a]=u;let d=i,f=0;for(;d!==a;)f+=n[d++],d=d%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function ib(e,t){let n=0;const r=PR(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,s=i-n,l=r(s),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:a};c[t?"download":"upload"]=!0,e(c)}}const OR=typeof XMLHttpRequest<"u",AR=OR&&function(e){return new Promise(function(n,r){let a=e.data;const i=yi.from(e.headers).normalize();let{responseType:o,withXSRFToken:s}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let c;if(tt.isFormData(a)){if(lo.hasStandardBrowserEnv||lo.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((c=i.getContentType())!==!1){const[w,...D]=c?c.split(";").map(E=>E.trim()).filter(Boolean):[];i.setContentType([w||"multipart/form-data",...D].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const w=e.auth.username||"",D=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(w+":"+D))}const f=oD(e.baseURL,e.url);d.open(e.method.toUpperCase(),tD(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function h(){if(!d)return;const w=yi.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:w,config:e,request:d};DR(function(C){n(C),u()},function(C){r(C),u()},E),d=null}if("onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(r(new yn("Request aborted",yn.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new yn("Network Error",yn.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let D=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const E=e.transitional||nD;e.timeoutErrorMessage&&(D=e.timeoutErrorMessage),r(new yn(D,E.clarifyTimeoutError?yn.ETIMEDOUT:yn.ECONNABORTED,e,d)),d=null},lo.hasStandardBrowserEnv&&(s&&tt.isFunction(s)&&(s=s(e)),s||s!==!1&&xR(f))){const w=e.xsrfHeaderName&&e.xsrfCookieName&&kR.read(e.xsrfCookieName);w&&i.set(e.xsrfHeaderName,w)}a===void 0&&i.setContentType(null),"setRequestHeader"in d&&tt.forEach(i.toJSON(),function(D,E){d.setRequestHeader(E,D)}),tt.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",ib(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",ib(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=w=>{d&&(r(!w||w.type?new Zd(null,e,d):w),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const p=RR(f);if(p&&lo.protocols.indexOf(p)===-1){r(new yn("Unsupported protocol "+p+":",yn.ERR_BAD_REQUEST,e));return}d.send(a||null)})},n0={http:aR,xhr:AR};tt.forEach(n0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ob=e=>`- ${e}`,LR=e=>tt.isFunction(e)||e===null||e===!1,sD={getAdapter:e=>{e=tt.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!LR(n)&&(r=n0[(o=String(n)).toLowerCase()],r===void 0))throw new yn(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(ob).join(`
`):" "+ob(i[0]):"as no adapter specified";throw new yn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:n0};function Vg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zd(null,e)}function sb(e){return Vg(e),e.headers=yi.from(e.headers),e.data=Hg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sD.getAdapter(e.adapter||Gd.adapter)(e).then(function(r){return Vg(e),r.data=Hg.call(e,e.transformResponse,r),r.headers=yi.from(r.headers),r},function(r){return iD(r)||(Vg(e),r&&r.response&&(r.response.data=Hg.call(e,e.transformResponse,r.response),r.response.headers=yi.from(r.response.headers))),Promise.reject(r)})}const lb=e=>e instanceof yi?{...e}:e;function Iu(e,t){t=t||{};const n={};function r(u,c,d){return tt.isPlainObject(u)&&tt.isPlainObject(c)?tt.merge.call({caseless:d},u,c):tt.isPlainObject(c)?tt.merge({},c):tt.isArray(c)?c.slice():c}function a(u,c,d){if(tt.isUndefined(c)){if(!tt.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function i(u,c){if(!tt.isUndefined(c))return r(void 0,c)}function o(u,c){if(tt.isUndefined(c)){if(!tt.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function s(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c)=>a(lb(u),lb(c),!0)};return tt.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||a,f=d(e[c],t[c],c);tt.isUndefined(f)&&d!==s||(n[c]=f)}),n}const lD="1.6.8",Xy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xy[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ub={};Xy.transitional=function(t,n,r){function a(i,o){return"[Axios v"+lD+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new yn(a(o," has been removed"+(n?" in "+n:"")),yn.ERR_DEPRECATED);return n&&!ub[o]&&(ub[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};function IR(e,t,n){if(typeof e!="object")throw new yn("options must be an object",yn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],l=s===void 0||o(s,i,e);if(l!==!0)throw new yn("option "+i+" must be "+l,yn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yn("Unknown option "+i,yn.ERR_BAD_OPTION)}}const r0={assertOptions:IR,validators:Xy},es=r0.validators;class cl{constructor(t){this.defaults=t,this.interceptors={request:new rb,response:new rb}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Iu(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&r0.assertOptions(r,{silentJSONParsing:es.transitional(es.boolean),forcedJSONParsing:es.transitional(es.boolean),clarifyTimeoutError:es.transitional(es.boolean)},!1),a!=null&&(tt.isFunction(a)?n.paramsSerializer={serialize:a}:r0.assertOptions(a,{encode:es.function,serialize:es.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&tt.merge(i.common,i[n.method]);i&&tt.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=yi.concat(o,i);const s=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,s.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let c,d=0,f;if(!l){const p=[sb.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,u),f=p.length,c=Promise.resolve(n);d<f;)c=c.then(p[d++],p[d++]);return c}f=s.length;let h=n;for(d=0;d<f;){const p=s[d++],w=s[d++];try{h=p(h)}catch(D){w.call(this,D);break}}try{c=sb.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Iu(this.defaults,t);const n=oD(t.baseURL,t.url);return tD(n,t.params,t.paramsSerializer)}}tt.forEach(["delete","get","head","options"],function(t){cl.prototype[t]=function(n,r){return this.request(Iu(r||{},{method:t,url:n,data:(r||{}).data}))}});tt.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request(Iu(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}cl.prototype[t]=n(),cl.prototype[t+"Form"]=n(!0)});class Qy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new Zd(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Qy(function(a){t=a}),cancel:t}}}function FR(e){return function(n){return e.apply(null,n)}}function NR(e){return tt.isObject(e)&&e.isAxiosError===!0}const a0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(a0).forEach(([e,t])=>{a0[t]=e});function uD(e){const t=new cl(e),n=HS(cl.prototype.request,t);return tt.extend(n,cl.prototype,t,{allOwnKeys:!0}),tt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return uD(Iu(e,a))},n}const Gn=uD(Gd);Gn.Axios=cl;Gn.CanceledError=Zd;Gn.CancelToken=Qy;Gn.isCancel=iD;Gn.VERSION=lD;Gn.toFormData=Mm;Gn.AxiosError=yn;Gn.Cancel=Gn.CanceledError;Gn.all=function(t){return Promise.all(t)};Gn.spread=FR;Gn.isAxiosError=NR;Gn.mergeConfig=Iu;Gn.AxiosHeaders=yi;Gn.formToJSON=e=>aD(tt.isHTMLForm(e)?new FormData(e):e);Gn.getAdapter=sD.getAdapter;Gn.HttpStatusCode=a0;Gn.default=Gn;function cD(e){if(Array.isArray(e))return e}function UR(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function dD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fD(e,t){return cD(e)||UR(e,t)||Ky(e,t)||dD()}var BR=typeof self=="object"?self.FormData:window.FormData;const jR=Wn(BR);var Ql=null;typeof WebSocket<"u"?Ql=WebSocket:typeof MozWebSocket<"u"?Ql=MozWebSocket:typeof jt<"u"?Ql=jt.WebSocket||jt.MozWebSocket:typeof window<"u"?Ql=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ql=self.WebSocket||self.MozWebSocket);var zR=Ql;const $R=Wn(zR);function Bi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kd(e,t){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kd(e,t)}function Xd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kd(e,t)}function Ku(e,t){if(t&&(Sr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(e)}function Ga(e){return Ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ga(e)}function HR(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function hD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!e})()}function VR(e,t,n){if(hD())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&kd(a,n.prototype),a}function i0(e){var t=typeof Map=="function"?new Map:void 0;return i0=function(r){if(r===null||!HR(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return VR(r,arguments,Ga(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),kd(a,r)},i0(e)}var Wg={};function o0(e){return typeof e=="string"}function cb(e,t){return!!t&&o0(e)}function WR(e,t){var n=[];if(o0(e)&&cb(e,t)){for(var r=0,a=e.length;r<a;r++)if(e.charAt(r)){var i=e.charAt(r),o=t(i,r,e);n[r]=o}}else if(!o0(e)&&!cb(e,t)){for(var s=0,l=e.length;s<l;s++)if(s in e){var u=e[s],c=t(u,s,e);n[s]=c}}return n}var qR=function(t){return hx(new Uint8Array(WR(t,function(n){return n.charCodeAt(0)})))},YR=function(t){var n={},r=String.fromCharCode,a=t.length,i,o=0,s,l,u=0,c,d="",f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0;i<64;i++)n[f.charAt(i)]=i;for(l=0;l<a;l++)for(s=n[t.charAt(l)],o=(o<<6)+s,u+=6;u>=8;)((c=o>>>(u-=8)&255)||l<a-2)&&(d+=r(c));return d},KR=null;function db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?db(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):db(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GR(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ZR(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){function u(c){return l.apply(this,arguments)}return u.toString=function(){return l.toString()},u}(function(l){throw l}),f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(l){function u(c){return l.apply(this,arguments)}return u.toString=function(){return l.toString()},u}(function(l){o=!0,s=l}),f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function ZR(e,t){if(e){if(typeof e=="string")return hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(e,t)}}function hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pD(e,t){e.then().catch(function(n){console.warn("failed to do ".concat(t,", ran into error: "),n)})}var dl=function(t){return new Promise(function(n){return setTimeout(n,t)})};function s0(e){return e&&(Object.prototype.toString.call(e)==="[object Function]"||typeof e=="function"||e instanceof Function)}var Nc={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function XR(e){return e!==null&&Sr(e)==="object"&&(e.readable||typeof e._read=="function")}function QR(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function JR(e){return typeof window<"u"&&"File"in window&&e instanceof File}function eP(e){return typeof window<"u"&&"Blob"in window&&e instanceof Blob}function tP(e){var t={channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,privacy_settings:!0,roles:!0};return t[e]}function nP(e,t,n){var r=new jR;return XR(e)||QR(e)||JR(e)||eP(e)?t?r.append("file",e,t):r.append("file",e):r.append("file",{uri:e,name:t||e.split("/").reverse()[0],contentType:n||void 0,type:n||void 0}),r}function ui(e){var t=[],n=Array.isArray(e)?e:[e],r=GR(n),a;try{for(r.s();!(a=r.n()).done;){var i=a.value,o=Object.entries(i);o.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(var s=0,l=o;s<l.length;s++){var u=fD(l[s],2),c=u[0],d=u[1];t.push({field:c,direction:d})}}}catch(f){r.e(f)}finally{r.f()}return t}function np(e){var t=Math.min(500+e*2e3,25e3),n=Math.min(Math.max(250,(e-1)*2e3),25e3);return Math.floor(Math.random()*(t-n)+n)}function mu(){return rP()}function wc(e){for(var t="",n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function rP(){var e=oP(16);return e[6]=e[6]&15|64,e[8]=e[8]&191|128,wc(e.subarray(0,4))+"-"+wc(e.subarray(4,6))+"-"+wc(e.subarray(6,8))+"-"+wc(e.subarray(8,10))+"-"+wc(e.subarray(10,16))}function aP(e){for(var t=Math.pow(2,8*e.byteLength/e.length),n=0;n<e.length;n++)e[n]=Math.random()*t}var iP=function(){var e;return typeof crypto<"u"&&typeof((e=crypto)===null||e===void 0?void 0:e.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):aP}();function oP(e){var t=new Uint8Array(e);return iP(t),t}function sP(e){var t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})}catch{return{error:"failed to serialize the error"}}return t}function lP(){var e=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return e?typeof e.onLine!="boolean"?!0:e.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function mD(e){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",e),window.addEventListener("online",e))}function gD(e){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",e),window.removeEventListener("online",e))}var uP=function(t){var n=[];for(var r in t)t[r]!==void 0&&(Array.isArray(t[r])||Sr(t[r])==="object"?n.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(t[r])))):n.push("".concat(r,"=").concat(encodeURIComponent(t[r]))));return n.join("&")};function Bs(e){return fb(fb({},e),{},{__html:e.html,pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received",reaction_groups:cP(e.reaction_groups,e.reaction_counts,e.reaction_scores)})}function vD(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"created_at",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=a||n,o=e;n&&(o=o.filter(function(h){return!(h.id&&t.id===h.id)}));var s=o.length;if(s===0&&i)return o.concat(t);if(s===0)return pr(o);var l=t[r].getTime(),u=o[s-1][r].getTime()<l;if(u&&i)return o.concat(t);if(u)return pr(o);for(var c=0,d=0,f=s-1;c<=f;)d=Math.floor((f+c)/2),o[d][r].getTime()<=l?c=d+1:f=d-1;if(!n&&t.id){if(o[c]&&t.id===o[c].id)return o[c]=t,pr(o);if(o[c-1]&&t.id===o[c-1].id)return o[c-1]=t,pr(o)}return i&&o.splice(c,0,t),pr(o)}function cP(e,t,n){if(e)return e;if(t&&n){for(var r={},a=0,i=Object.keys(t);a<i.length;a++){var o=i[a];r[o]={count:t[o],sum_scores:n[o]}}return r}return null}function pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dP=function(){function e(t){var n=this,r;rr(this,e),be(this,"_channel",void 0),be(this,"watcher_count",void 0),be(this,"typing",void 0),be(this,"read",void 0),be(this,"pinnedMessages",void 0),be(this,"pending_messages",void 0),be(this,"threads",void 0),be(this,"mutedUsers",void 0),be(this,"watchers",void 0),be(this,"members",void 0),be(this,"unreadCount",void 0),be(this,"membership",void 0),be(this,"last_message_at",void 0),be(this,"isUpToDate",void 0),be(this,"messageSets",[]),be(this,"setIsUpToDate",function(a){n.isUpToDate=a}),be(this,"removeMessageFromArray",function(a,i){var o=a.filter(function(s){return!(s.id&&i.id&&s.id===i.id)});return{removed:o.length<a.length,result:o}}),be(this,"updatePollVote",function(a,i,o){var s,l=n.findMessage(o);if(l&&l.poll_id===a.poll_id){var u=jn({},i),c=pr(((s=l.poll)===null||s===void 0?void 0:s.own_votes)||[]);a.user_id===n._channel.getClient().userID&&(a.option_id&&i.enforce_unique_vote?c=c.filter(function(f){return!f.option_id}):a.answer_text&&(c=c.filter(function(f){return f.answer_text})),c.push(a)),u.own_votes=c;var d=jn(jn({},l),{},{poll:u});n.addMessageSorted(d,!1,!1)}}),be(this,"addPollVote",function(a,i,o){var s,l=n.findMessage(o);if(l&&l.poll_id===a.poll_id){var u=jn({},i),c=pr(((s=l.poll)===null||s===void 0?void 0:s.own_votes)||[]);a.user_id===n._channel.getClient().userID&&c.push(a),u.own_votes=c;var d=jn(jn({},l),{},{poll:u});n.addMessageSorted(d,!1,!1)}}),be(this,"removePollVote",function(a,i,o){var s,l=n.findMessage(o);if(l&&l.poll_id===a.poll_id){var u=jn({},i),c=pr(((s=l.poll)===null||s===void 0?void 0:s.own_votes)||[]);if(a.user_id===n._channel.getClient().userID){var d=c.findIndex(function(h){return h.option_id===a.option_id});d>-1&&c.splice(d,1)}u.own_votes=c;var f=jn(jn({},l),{},{poll:u});n.addMessageSorted(f,!1,!1)}}),be(this,"updatePoll",function(a,i){var o,s=n.findMessage(i);if(s){var l=jn(jn({},a),{},{own_votes:pr(((o=s.poll)===null||o===void 0?void 0:o.own_votes)||[])}),u=jn(jn({},s),{},{poll:l});n.addMessageSorted(u,!1,!1)}}),be(this,"updateUserMessages",function(a){var i=function(l,u){for(var c=0;c<l.length;c++){var d,f=l[c];((d=f.user)===null||d===void 0?void 0:d.id)===u.id&&(l[c]=jn(jn({},f),{},{user:u}))}};n.messageSets.forEach(function(s){return i(s.messages,a)});for(var o in n.threads)i(n.threads[o],a);i(n.pinnedMessages,a)}),be(this,"deleteUserMessages",function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=function(u,c){for(var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=0;f<u.length;f++){var h,p=u[f];((h=p.user)===null||h===void 0?void 0:h.id)===c.id&&(d?u[f]={cid:p.cid,created_at:p.created_at,deleted_at:c.deleted_at,id:p.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:p.parent_id,reply_count:p.reply_count,status:p.status,thread_participants:p.thread_participants,type:"deleted",updated_at:p.updated_at,user:p.user}:u[f]=jn(jn({},p),{},{type:"deleted",deleted_at:c.deleted_at}))}};n.messageSets.forEach(function(l){return o(l.messages,a,i)});for(var s in n.threads)o(n.threads[s],a,i);o(n.pinnedMessages,a,i)}),this._channel=t,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=(t==null||(r=t.state)===null||r===void 0?void 0:r.last_message_at)!=null?new Date(t.state.last_message_at):null}return Or(e,[{key:"messages",get:function(){var n;return((n=this.messageSets.find(function(r){return r.isCurrent}))===null||n===void 0?void 0:n.messages)||[]},set:function(n){var r=this.messageSets.findIndex(function(a){return a.isCurrent});this.messageSets[r].messages=n}},{key:"latestMessages",get:function(){var n;return((n=this.messageSets.find(function(r){return r.isLatest}))===null||n===void 0?void 0:n.messages)||[]},set:function(n){var r=this.messageSets.findIndex(function(a){return a.isLatest});this.messageSets[r].messages=n}},{key:"addMessageSorted",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest";return this.addMessagesSorted([n],r,!1,a,i)}},{key:"formatMessage",value:function(n){return jn(jn({},n),{},{__html:n.html,pinned_at:n.pinned_at?new Date(n.pinned_at):null,created_at:n.created_at?new Date(n.created_at):new Date,updated_at:n.updated_at?new Date(n.updated_at):new Date,status:n.status||"received"})}},{key:"addMessagesSorted",value:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"current",s=this.findTargetMessageSet(n,i,o),l=s.messagesToAdd,u=s.targetMessageSetIndex,c=0;c<l.length;c+=1){var d=l[c].shadowed;if(!d){var f=l[c].created_at instanceof Date,h=void 0;if(f)h=l[c];else{var p;h=this.formatMessage(l[c]),h.user&&(p=this._channel)!==null&&p!==void 0&&p.cid&&this._channel.getClient().state.updateUserReference(h.user,this._channel.cid),a&&h.id&&this.threads[h.id]&&delete this.threads[h.id],this.last_message_at||(this.last_message_at=new Date(h.created_at.getTime())),h.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(h.created_at.getTime()))}var w=h.parent_id;if((!w||h.show_in_channel)&&u!==-1&&(this.messageSets[u].messages=this._addToMessageList(this.messageSets[u].messages,h,r,"created_at",i)),w&&!a){var D=this.threads[w]||[],E=this._addToMessageList(D,h,r,"created_at",i);this.threads[w]=E}}}return{messageSet:this.messageSets[u]}}},{key:"addPinnedMessages",value:function(n){for(var r=0;r<n.length;r+=1)this.addPinnedMessage(n[r])}},{key:"addPinnedMessage",value:function(n){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(n),!1,"pinned_at")}},{key:"removePinnedMessage",value:function(n){var r=this.removeMessageFromArray(this.pinnedMessages,n),a=r.result;this.pinnedMessages=a}},{key:"addReaction",value:function(n,r,a){var i=this;if(r){var o=r;return this._updateMessage(r,function(s){return o.own_reactions=i._addOwnReactionToMessage(s.own_reactions,n,a),i.formatMessage(o)}),o}}},{key:"_addOwnReactionToMessage",value:function(n,r,a){return a?n=[]:n=this._removeOwnReactionFromMessage(n,r),n=n||[],this._channel.getClient().userID===r.user_id&&n.push(r),n}},{key:"_removeOwnReactionFromMessage",value:function(n,r){return n&&n.filter(function(a){return a.user_id!==r.user_id||a.type!==r.type})}},{key:"removeReaction",value:function(n,r){var a=this;if(r){var i=r;return this._updateMessage(r,function(o){return i.own_reactions=a._removeOwnReactionFromMessage(o.own_reactions,n),a.formatMessage(i)}),i}}},{key:"removeQuotedMessageReferences",value:function(n){var r=this,a=function(o){var s,l;return jn(jn({},o),{},{created_at:o.created_at.toISOString(),pinned_at:(s=o.pinned_at)===null||s===void 0?void 0:s.toISOString(),updated_at:(l=o.updated_at)===null||l===void 0?void 0:l.toISOString()})};this.messageSets.forEach(function(i){var o=i.messages.filter(function(s){return s.quoted_message_id===n.id}).map(a).map(function(s){return jn(jn({},s),{},{quoted_message:jn(jn({},n),{},{attachments:[]})})});r.addMessagesSorted(o,!0)})}},{key:"_updateMessage",value:function(n,r){var a=n.parent_id,i=n.show_in_channel,o=n.pinned;if(a&&this.threads[a]){var s=this.threads[a],l=s.findIndex(function(f){return f.id===n.id});l!==-1&&(s[l]=r(s[l]),this.threads[a]=s)}if(!i&&!a||i){var u=this.findMessageSetIndex(n);if(u!==-1){var c=this.messageSets[u].messages.findIndex(function(f){return f.id===n.id});c!==-1&&(this.messageSets[u].messages[c]=r(this.messageSets[u].messages[c]))}}if(o){var d=this.pinnedMessages.findIndex(function(f){return f.id===n.id});d!==-1&&(this.pinnedMessages[d]=r(this.pinnedMessages[d]))}}},{key:"_addToMessageList",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"created_at",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return vD(n,r,a,i,o)}},{key:"removeMessage",value:function(n){var r=!1;if(n.parent_id&&this.threads[n.parent_id]){var a=this.removeMessageFromArray(this.threads[n.parent_id],n),i=a.removed,o=a.result;this.threads[n.parent_id]=o,r=i}else{var s,l=(s=n.messageSetIndex)!==null&&s!==void 0?s:this.findMessageSetIndex(n);if(l!==-1){var u=this.removeMessageFromArray(this.messageSets[l].messages,n),c=u.removed,d=u.result;this.messageSets[l].messages=d,r=c}}return r}},{key:"filterErrorMessages",value:function(){var n=this.latestMessages.filter(function(r){return r.type!=="error"});this.latestMessages=n}},{key:"clean",value:function(){for(var n=new Date,r=0,a=Object.entries(this.typing);r<a.length;r++){var i=fD(a[r],2),o=i[0],s=i[1],l=typeof s.received_at=="string"?new Date(s.received_at):s.received_at||new Date;n.getTime()-l.getTime()>7e3&&(delete this.typing[o],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:o}}))}}},{key:"clearMessages",value:function(){this.initMessages(),this.pinnedMessages=[]}},{key:"initMessages",value:function(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0}]}},{key:"loadMessageIntoState",value:function(){var t=Me(Q.mark(function r(a,i){var o,s,l,u,c,d,f=arguments;return Q.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s=f.length>2&&f[2]!==void 0?f[2]:25,u=!1,c=!1,d=i||a,a!=="latest"){p.next=10;break}if(this.messages!==this.latestMessages){p.next=7;break}return p.abrupt("return");case 7:l=this.messageSets.findIndex(function(w){return w.isLatest}),p.next=11;break;case 10:l=this.findMessageSetIndex({id:d});case 11:if(l!==-1&&(this.switchToMessageSet(l),u=!0),c=!i||!!((o=this.threads[i])!==null&&o!==void 0&&o.find(function(w){return w.id===a})),!(u&&c)){p.next=15;break}return p.abrupt("return");case 15:if(u){p.next=18;break}return p.next=18,this._channel.query({messages:{id_around:d,limit:s}},"new");case 18:if(!(!c&&i)){p.next=21;break}return p.next=21,this._channel.getReplies(i,{id_around:a,limit:s});case 21:l=this.findMessageSetIndex({id:d}),l!==-1&&this.switchToMessageSet(l);case 23:case"end":return p.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"findMessage",value:function(n,r){if(r){var a=this.threads[r];return a?a.find(function(o){return o.id===n}):void 0}var i=this.findMessageSetIndex({id:n});if(i!==-1)return this.messageSets[i].messages.find(function(o){return o.id===n})}},{key:"switchToMessageSet",value:function(n){var r=this.messageSets.find(function(a){return a.isCurrent});r&&(r.isCurrent=!1,this.messageSets[n].isCurrent=!0)}},{key:"areMessageSetsOverlap",value:function(n,r){return n.some(function(a){return r.find(function(i){return a.id===i.id})})}},{key:"findMessageSetIndex",value:function(n){return this.messageSets.findIndex(function(r){return!!r.messages.find(function(a){return a.id===n.id})})}},{key:"findTargetMessageSet",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"current",o=n,s;if(a){var l=this.messageSets.map(function(p,w){return w}).filter(function(p){return r.areMessageSetsOverlap(r.messageSets[p].messages,n)});switch(i){case"new":l.length>0?s=l[0]:n.some(function(p){return!p.parent_id})&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1}),s=this.messageSets.length-1);break;case"current":s=this.messageSets.findIndex(function(p){return p.isCurrent});break;case"latest":s=this.messageSets.findIndex(function(p){return p.isLatest});break;default:s=-1}var u=l.splice(0,1)[0],c=pr(l);if(u!==void 0&&u!==s&&c.push(s),c.length>0){var d=this.messageSets[u],f=this.messageSets.filter(function(p,w){return c.indexOf(w)!==-1});f.forEach(function(p){d.isLatest=d.isLatest||p.isLatest,d.isCurrent=d.isCurrent||p.isCurrent,o=[].concat(pr(o),pr(p.messages))}),f.forEach(function(p){return r.messageSets.splice(r.messageSets.indexOf(p),1)});var h=this.messageSets.findIndex(function(p){return r.areMessageSetsOverlap(p.messages,n)});s=h}}else s=this.findMessageSetIndex(n[0]);return{targetMessageSetIndex:s,messagesToAdd:o}}}]),e}();function qg(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fP(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function fP(e,t){if(e){if(typeof e=="string")return mb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mb(e,t)}}function mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Yg=function(){function e(t,n,r,a){var i=this;rr(this,e),be(this,"_client",void 0),be(this,"type",void 0),be(this,"id",void 0),be(this,"data",void 0),be(this,"_data",void 0),be(this,"cid",void 0),be(this,"listeners",void 0),be(this,"state",void 0),be(this,"initialized",void 0),be(this,"offlineMode",void 0),be(this,"lastKeyStroke",void 0),be(this,"lastTypingEvent",void 0),be(this,"isTyping",void 0),be(this,"disconnected",void 0),be(this,"create",function(){var l=Me(Q.mark(function u(c){var d;return Q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return d=Kt(Kt({},c),{},{watch:!1,state:!1,presence:!1}),h.next=3,i.query(d,"latest");case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},u)}));return function(u){return l.apply(this,arguments)}}()),be(this,"_callChannelListeners",function(l){var u=i,c=[];u.listeners.all&&c.push.apply(c,pr(u.listeners.all)),u.listeners[l.type]&&c.push.apply(c,pr(u.listeners[l.type]));for(var d=0,f=c;d<f.length;d++){var h=f[d];typeof h!="string"&&h(l)}}),be(this,"_channelURL",function(){if(!i.id)throw new Error("channel id is not defined");return"".concat(i.getClient().baseURL,"/channels/").concat(i.type,"/").concat(i.id)});var o=/^[\w_-]+$/,s=/^[\w!_-]+$/;if(!o.test(n))throw new Error("Invalid chat type ".concat(n,', letters, numbers and "_-" are allowed'));if(typeof r=="string"&&!s.test(r))throw new Error("Invalid chat id ".concat(r,', letters, numbers and "!-_" are allowed'));this._client=t,this.type=n,this.id=r,this.data=a,this._data=Kt({},a),this.cid="".concat(n,":").concat(r),this.listeners={},this.state=new dP(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1}return Or(e,[{key:"getClient",value:function(){if(this.disconnected===!0)throw Error("You can't use a channel after client.disconnect() was called");return this._client}},{key:"getConfig",value:function(){var n=this.getClient();return n.configs[this.cid]}},{key:"sendMessage",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getClient().post(this._channelURL()+"/message",Kt({message:a},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"sendFile",value:function(n,r,a,i){return this.getClient().sendFile("".concat(this._channelURL(),"/file"),n,r,a,i)}},{key:"sendImage",value:function(n,r,a,i){return this.getClient().sendFile("".concat(this._channelURL(),"/image"),n,r,a,i)}},{key:"deleteFile",value:function(n){return this.getClient().delete("".concat(this._channelURL(),"/file"),{url:n})}},{key:"deleteImage",value:function(n){return this.getClient().delete("".concat(this._channelURL(),"/image"),{url:n})}},{key:"sendEvent",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().post(this._channelURL()+"/event",{event:a});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"search",value:function(){var t=Me(Q.mark(function r(a){var i,o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=s.length>1&&s[1]!==void 0?s[1]:{},!(i.offset&&i.next)){u.next=3;break}throw Error("Cannot specify offset with next");case 3:if(o=Kt(Kt({filter_conditions:{cid:this.cid}},i),{},{sort:i.sort?ui(i.sort):void 0}),typeof a!="string"){u.next=8;break}o.query=a,u.next=13;break;case 8:if(Sr(a)!=="object"){u.next=12;break}o.message_filter_conditions=a,u.next=13;break;case 12:throw Error("Invalid type ".concat(Sr(a)," for query parameter"));case 13:return u.next=15,this.getClient().wsPromise;case 15:return u.next=17,this.getClient().get(this.getClient().baseURL+"/search",{payload:o});case 17:return u.abrupt("return",u.sent);case 18:case"end":return u.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"queryMembers",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l,u,c,d=arguments;return Q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=d.length>1&&d[1]!==void 0?d[1]:[],s=d.length>2&&d[2]!==void 0?d[2]:{},u=this.type,this.id?l=this.id:(i=this.data)!==null&&i!==void 0&&i.members&&Array.isArray(this.data.members)&&(c=this.data.members),h.next=6,this.getClient().get(this.getClient().baseURL+"/members",{payload:Kt({type:u,id:l,members:c,sort:ui(o),filter_conditions:a},s)});case 6:return h.abrupt("return",h.sent);case 7:case"end":return h.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"sendReaction",value:function(){var t=Me(Q.mark(function r(a,i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a){l.next=2;break}throw Error("Message id is missing");case 2:if(!(!i||Object.keys(i).length===0)){l.next=4;break}throw Error("Reaction object is missing");case 4:return l.next=6,this.getClient().post(this.getClient().baseURL+"/messages/".concat(a,"/reaction"),Kt({reaction:i},o));case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"deleteReaction",value:function(n,r,a){if(this._checkInitialized(),!r||!n)throw Error("Deleting a reaction requires specifying both the message and reaction type");var i=this.getClient().baseURL+"/messages/".concat(n,"/reaction/").concat(r);return a?this.getClient().delete(i,{user_id:a}):this.getClient().delete(i,{})}},{key:"update",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return a=l.length>0&&l[0]!==void 0?l[0]:{},i=l.length>1?l[1]:void 0,o=l.length>2?l[2]:void 0,s=["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"],s.forEach(function(d){delete a[d]}),c.next=7,this._update(Kt({message:i,data:a},o));case 7:return c.abrupt("return",c.sent);case 8:case"end":return c.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"updatePartial",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.getClient().patch(this._channelURL(),a);case 2:return s=c.sent,l=pr(s.channel.own_capabilities||[]).sort().join()!==pr(Array.isArray((i=this.data)===null||i===void 0?void 0:i.own_capabilities)?(o=this.data)===null||o===void 0?void 0:o.own_capabilities:[]).sort().join(),this.data=s.channel,l&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:s.channel.own_capabilities}),c.abrupt("return",s);case 7:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"enableSlowMode",value:function(){var t=Me(Q.mark(function r(a){var i;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getClient().post(this._channelURL(),{cooldown:a});case 2:return i=s.sent,this.data=i.channel,s.abrupt("return",i);case 5:case"end":return s.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"disableSlowMode",value:function(){var t=Me(Q.mark(function r(){var a;return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL(),{cooldown:0});case 2:return a=o.sent,this.data=a.channel,o.abrupt("return",a);case 5:case"end":return o.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"delete",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this.getClient().delete(this._channelURL(),Kt({},a));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"truncate",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this.getClient().post(this._channelURL()+"/truncate",a);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"acceptInvite",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this._update(Kt({accept_invite:!0},a));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"rejectInvite",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this._update(Kt({reject_invite:!0},a));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"addMembers",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this._update(Kt({add_members:a,message:i},o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"addModerators",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this._update(Kt({add_moderators:a,message:i},o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"assignRoles",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this._update(Kt({assign_roles:a,message:i},o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"inviteMembers",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this._update(Kt({invites:a,message:i},o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"removeMembers",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this._update(Kt({remove_members:a,message:i},o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"demoteModerators",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this._update(Kt({demote_moderators:a,message:i},o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"_update",value:function(){var t=Me(Q.mark(function r(a){var i;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getClient().post(this._channelURL(),a);case 2:return i=s.sent,this.data=i.channel,s.abrupt("return",i);case 5:case"end":return s.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"mute",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",Kt({channel_cid:this.cid},a));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"unmute",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",Kt({channel_cid:this.cid},a));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"muteStatus",value:function(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}},{key:"sendAction",value:function(n,r){if(this._checkInitialized(),!n)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+"/messages/".concat(n,"/action"),{message_id:n,form_data:r,id:this.id,type:this.type})}},{key:"keystroke",value:function(){var t=Me(Q.mark(function r(a,i){var o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._isTypingIndicatorsEnabled()){u.next=2;break}return u.abrupt("return");case 2:if(o=new Date,s=this.lastTypingEvent&&o.getTime()-this.lastTypingEvent.getTime(),this.lastKeyStroke=o,this.isTyping=!0,!(s===null||s>2e3)){u.next=10;break}return this.lastTypingEvent=new Date,u.next=10,this.sendEvent(Kt({type:"typing.start",parent_id:a},i||{}));case 10:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"stopTyping",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this._isTypingIndicatorsEnabled()){s.next=2;break}return s.abrupt("return");case 2:return this.lastTypingEvent=null,this.isTyping=!1,s.next=6,this.sendEvent(Kt({type:"typing.stop",parent_id:a},i||{}));case 6:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"_isTypingIndicatorsEnabled",value:function(){var n,r,a,i,o;return(n=this.getConfig())!==null&&n!==void 0&&n.typing_events?(r=(a=this.getClient().user)===null||a===void 0||(i=a.privacy_settings)===null||i===void 0||(o=i.typing_indicators)===null||o===void 0?void 0:o.enabled)!==null&&r!==void 0?r:!0:!1}},{key:"lastMessage",value:function(){var n=this.state.latestMessages.length-5;n<0&&(n=0);var r=this.state.latestMessages.length+1,a=this.state.latestMessages.slice(n,r);return a.sort(function(i,o){return o.created_at.getTime()-i.created_at.getTime()}),a[0]}},{key:"markRead",value:function(){var t=Me(Q.mark(function r(){var a,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i=o.length>0&&o[0]!==void 0?o[0]:{},this._checkInitialized(),!(!((a=this.getConfig())!==null&&a!==void 0&&a.read_events)&&!this.getClient()._isUsingServerAuth())){l.next=4;break}return l.abrupt("return",Promise.resolve(null));case 4:return l.next=6,this.getClient().post(this._channelURL()+"/read",Kt({},i));case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"markUnread",value:function(){var t=Me(Q.mark(function r(a){var i;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this._checkInitialized(),!(!((i=this.getConfig())!==null&&i!==void 0&&i.read_events)&&!this.getClient()._isUsingServerAuth())){s.next=3;break}return s.abrupt("return",Promise.resolve(null));case 3:return s.next=5,this.getClient().post(this._channelURL()+"/unread",Kt({},a));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"clean",value:function(){if(this.lastKeyStroke){var n=new Date,r=n.getTime()-this.lastKeyStroke.getTime();r>1e3&&this.isTyping&&pD(this.stopTyping(),"stop typing event")}this.state.clean()}},{key:"watch",value:function(){var t=Me(Q.mark(function r(a){var i,o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i={state:!0,watch:!0,presence:!1},u.next=3,this.getClient().wsPromise;case 3:return this.getClient()._hasConnectionID()||(i.watch=!1),o=Kt(Kt({},i),a),u.next=7,this.query(o,"latest");case 7:return s=u.sent,this.initialized=!0,this.data=s.channel,this._client.logger("info","channel:watch() - started watching channel ".concat(this.cid),{tags:["channel"],channel:this}),u.abrupt("return",s);case 12:case"end":return u.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"stopWatching",value:function(){var t=Me(Q.mark(function r(){var a;return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL()+"/stop-watching",{});case 2:return a=o.sent,this._client.logger("info","channel:watch() - stopped watching channel ".concat(this.cid),{tags:["channel"],channel:this}),o.abrupt("return",a);case 5:case"end":return o.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"getReplies",value:function(){var t=Me(Q.mark(function r(a,i,o){var s,l;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=o?ui(o):void 0,c.next=3,this.getClient().get(this.getClient().baseURL+"/messages/".concat(a,"/replies"),Kt({sort:s},i));case 3:return l=c.sent,l.messages&&this.state.addMessagesSorted(l.messages),c.abrupt("return",l);case 6:case"end":return c.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"getPinnedMessages",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:[],l.next=3,this.getClient().get(this.getClient().baseURL+"/channels/".concat(this.type,"/").concat(this.id,"/pinned_messages"),{payload:Kt(Kt({},a),{},{sort:ui(i)})});case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getReactions",value:function(n,r){return this.getClient().get(this.getClient().baseURL+"/messages/".concat(n,"/reactions"),Kt({},r))}},{key:"getMessagesById",value:function(n){return this.getClient().get(this._channelURL()+"/messages",{ids:n.join(",")})}},{key:"lastRead",value:function(){var n=this.getClient(),r=n.userID;if(r)return this.state.read[r]?this.state.read[r].last_read:null}},{key:"_countMessageAsUnread",value:function(n){var r,a,i,o;return!(n.shadowed||n.silent||n.parent_id&&!n.show_in_channel||((r=n.user)===null||r===void 0?void 0:r.id)===this.getClient().userID||(a=n.user)!==null&&a!==void 0&&a.id&&this.getClient().userMuteStatus(n.user.id)||n.type==="system"||Array.isArray((i=this.data)===null||i===void 0?void 0:i.own_capabilities)&&!((o=this.data)!==null&&o!==void 0&&o.own_capabilities.includes("read-events"))||this.muteStatus().muted)}},{key:"countUnread",value:function(n){if(!n)return this.state.unreadCount;for(var r=0,a=0;a<this.state.latestMessages.length;a+=1){var i=this.state.latestMessages[a];i.created_at>n&&this._countMessageAsUnread(i)&&r++}return r}},{key:"countUnreadMentions",value:function(){for(var n=this.lastRead(),r=this.getClient().userID,a=0,i=0;i<this.state.latestMessages.length;i+=1){var o,s=this.state.latestMessages[i];this._countMessageAsUnread(s)&&(!n||s.created_at>n)&&(o=s.mentioned_users)!==null&&o!==void 0&&o.some(function(l){return l.id===r})&&a++}return a}},{key:"query",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l,u,c,d,f,h,p,w=arguments;return Q.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return s=w.length>1&&w[1]!==void 0?w[1]:"current",E.next=3,this.getClient().wsPromise;case 3:return l="".concat(this.getClient().baseURL,"/channels/").concat(this.type),this.id&&(l+="/".concat(this.id)),E.next=7,this.getClient().post(l+"/query",Kt({data:this._data,state:!0},a));case 7:return u=E.sent,this.id||(this.id=u.channel.id,this.cid=u.channel.cid,c=u.members.map(function(g){var C;return g.user_id||((C=g.user)===null||C===void 0?void 0:C.id)}).sort().join(","),d="".concat(this.type,":!members-").concat(c),d in this.getClient().activeChannels&&delete this.getClient().activeChannels[d],this.cid in this.getClient().activeChannels||(this.getClient().activeChannels[this.cid]=this)),this.getClient()._addChannelConfig(u.channel),f=this._initializeState(u,s),h=f.messageSet,p=pr(u.channel.own_capabilities||[]).sort().join()!==pr(Array.isArray((i=this.data)===null||i===void 0?void 0:i.own_capabilities)?(o=this.data)===null||o===void 0?void 0:o.own_capabilities:[]).sort().join(),this.data=u.channel,this.offlineMode=!1,p&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:u.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[u],isLatestMessageSet:h.isLatest}}),E.abrupt("return",u);case 17:case"end":return E.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"banUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this._checkInitialized(),s.next=3,this.getClient().banUser(a,Kt(Kt({},i),{},{type:this.type,id:this.id}));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"hide",value:function(){var t=Me(Q.mark(function r(){var a,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=o.length>0&&o[0]!==void 0?o[0]:null,i=o.length>1&&o[1]!==void 0?o[1]:!1,this._checkInitialized(),l.next=5,this.getClient().post("".concat(this._channelURL(),"/hide"),{user_id:a,clear_history:i});case 5:return l.abrupt("return",l.sent);case 6:case"end":return l.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"show",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:null,this._checkInitialized(),s.next=4,this.getClient().post("".concat(this._channelURL(),"/show"),{user_id:a});case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"unbanUser",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().unbanUser(a,{type:this.type,id:this.id});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"shadowBan",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this._checkInitialized(),s.next=3,this.getClient().shadowBan(a,Kt(Kt({},i),{},{type:this.type,id:this.id}));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"removeShadowBan",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().removeShadowBan(a,{type:this.type,id:this.id});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createCall",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL()+"/call",a);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"vote",value:function(){var t=Me(Q.mark(function r(a,i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClient().castPollVote(a,i,o);case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"removeVote",value:function(){var t=Me(Q.mark(function r(a,i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClient().removePollVote(a,i,o);case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"on",value:function(n,r){var a=this,i=r?n:"all",o=r||n;return i in this.listeners||(this.listeners[i]=[]),this._client.logger("info","Attaching listener for ".concat(i," event on channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[i].push(o),{unsubscribe:function(){a._client.logger("info","Removing listener for ".concat(i," event from channel ").concat(a.cid),{tags:["event","channel"],channel:a}),a.listeners[i]=a.listeners[i].filter(function(l){return l!==o})}}}},{key:"off",value:function(n,r){var a=r?n:"all",i=r||n;a in this.listeners||(this.listeners[a]=[]),this._client.logger("info","Removing listener for ".concat(a," event from channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[a]=this.listeners[a].filter(function(o){return o!==i})}},{key:"_handleChannelEvent",value:function(n){var r,a,i,o,s,l,u,c,d,f,h,p,w=this;this._client.logger("info","channel:_handleChannelEvent - Received event of type { ".concat(n.type," } on ").concat(this.cid),{tags:["event","channel"],channel:this});var D=w.state;switch(n.type){case"typing.start":(r=n.user)!==null&&r!==void 0&&r.id&&(D.typing[n.user.id]=n);break;case"typing.stop":(a=n.user)!==null&&a!==void 0&&a.id&&delete D.typing[n.user.id];break;case"message.read":if((i=n.user)!==null&&i!==void 0&&i.id&&n.created_at){var E,g;D.read[n.user.id]={last_read:new Date(n.created_at),last_read_message_id:n.last_read_message_id,user:n.user,unread_messages:0},((E=n.user)===null||E===void 0?void 0:E.id)===((g=this.getClient().user)===null||g===void 0?void 0:g.id)&&(D.unreadCount=0)}break;case"user.watching.start":case"user.updated":(o=n.user)!==null&&o!==void 0&&o.id&&(D.watchers[n.user.id]=n.user);break;case"user.watching.stop":(s=n.user)!==null&&s!==void 0&&s.id&&delete D.watchers[n.user.id];break;case"message.deleted":n.message&&(this._extendEventWithOwnReactions(n),n.hard_delete?D.removeMessage(n.message):D.addMessageSorted(n.message,!1,!1),D.removeQuotedMessageReferences(n.message),n.message.pinned&&D.removePinnedMessage(n.message));break;case"message.new":if(n.message){var C,M,m,b=((C=n.user)===null||C===void 0?void 0:C.id)===((M=this.getClient().user)===null||M===void 0?void 0:M.id),S=n.message.parent_id&&!n.message.show_in_channel;(this.state.isUpToDate||S)&&D.addMessageSorted(n.message,b),n.message.pinned&&D.addPinnedMessage(n.message);var y=b||S;if(y)break;if((m=n.user)!==null&&m!==void 0&&m.id)for(var k in D.read)k===n.user.id?D.read[n.user.id]={last_read:new Date(n.created_at),user:n.user,unread_messages:0}:D.read[k].unread_messages+=1;this._countMessageAsUnread(n.message)&&(D.unreadCount=D.unreadCount+1)}break;case"message.updated":case"message.undeleted":n.message&&(this._extendEventWithOwnReactions(n),D.addMessageSorted(n.message,!1,!1),n.message.pinned?D.addPinnedMessage(n.message):D.removePinnedMessage(n.message));break;case"channel.truncated":if((l=n.channel)!==null&&l!==void 0&&l.truncated_at){var _=+new Date(n.channel.truncated_at);D.messageSets.forEach(function(J,oe){J.messages.forEach(function(he){var Oe=he.created_at,$e=he.id;_>+Oe&&D.removeMessage({id:$e,messageSetIndex:oe})})}),D.pinnedMessages.forEach(function(J){var oe=J.id,he=J.created_at;_>+he&&D.removePinnedMessage({id:oe})})}else D.clearMessages();D.unreadCount=0,n.message&&(D.addMessageSorted(n.message),n.message.pinned&&D.addPinnedMessage(n.message));break;case"member.added":case"member.updated":(u=n.member)!==null&&u!==void 0&&u.user_id&&(D.members[n.member.user_id]=n.member);break;case"member.removed":(c=n.user)!==null&&c!==void 0&&c.id&&delete D.members[n.user.id];break;case"notification.mark_unread":{var P,z,N,T=((P=n.user)===null||P===void 0?void 0:P.id)===((z=this.getClient().user)===null||z===void 0?void 0:z.id);if(!(T&&n.user))break;var L=(N=n.unread_messages)!==null&&N!==void 0?N:0;D.read[n.user.id]={first_unread_message_id:n.first_unread_message_id,last_read:new Date(n.last_read_at),last_read_message_id:n.last_read_message_id,user:n.user,unread_messages:L},D.unreadCount=L;break}case"channel.updated":if(n.channel){var I,B,F,U,R,O,A,x,j=((I=n.channel)===null||I===void 0?void 0:I.frozen)!==void 0&&n.channel.frozen!==((B=w.data)===null||B===void 0?void 0:B.frozen);j&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}}),w.data=Kt(Kt({},n.channel),{},{hidden:(F=(U=n.channel)===null||U===void 0?void 0:U.hidden)!==null&&F!==void 0?F:(R=w.data)===null||R===void 0?void 0:R.hidden,own_capabilities:(O=(A=n.channel)===null||A===void 0?void 0:A.own_capabilities)!==null&&O!==void 0?O:(x=w.data)===null||x===void 0?void 0:x.own_capabilities})}break;case"poll.updated":if(n.poll){var V;D.updatePoll(n.poll,((V=n.message)===null||V===void 0?void 0:V.id)||"")}break;case"poll.vote_casted":if(n.poll_vote&&n.poll){var X;D.addPollVote(n.poll_vote,n.poll,((X=n.message)===null||X===void 0?void 0:X.id)||"")}break;case"poll.vote_changed":if(n.poll_vote&&n.poll){var re;D.updatePollVote(n.poll_vote,n.poll,((re=n.message)===null||re===void 0?void 0:re.id)||"")}break;case"poll.vote_removed":if(n.poll_vote&&n.poll){var W;D.removePollVote(n.poll_vote,n.poll,((W=n.message)===null||W===void 0?void 0:W.id)||"")}break;case"poll.closed":n.message&&D.addMessageSorted(n.message,!1,!1);break;case"reaction.new":n.message&&n.reaction&&(n.message=D.addReaction(n.reaction,n.message));break;case"reaction.deleted":n.reaction&&(n.message=D.removeReaction(n.reaction,n.message));break;case"reaction.updated":n.reaction&&(n.message=D.addReaction(n.reaction,n.message,!0));break;case"channel.hidden":w.data=Kt(Kt({},w.data),{},{hidden:!0}),n.clear_history&&D.clearMessages();break;case"channel.visible":w.data=Kt(Kt({},w.data),{},{hidden:!1});break;case"user.banned":if(!((d=n.user)!==null&&d!==void 0&&d.id))break;D.members[n.user.id]=Kt(Kt({},D.members[n.user.id]||{}),{},{shadow_banned:!!n.shadow,banned:!n.shadow,user:Kt(Kt({},((f=D.members[n.user.id])===null||f===void 0?void 0:f.user)||{}),n.user)});break;case"user.unbanned":if(!((h=n.user)!==null&&h!==void 0&&h.id))break;D.members[n.user.id]=Kt(Kt({},D.members[n.user.id]||{}),{},{shadow_banned:!1,banned:!1,user:Kt(Kt({},((p=D.members[n.user.id])===null||p===void 0?void 0:p.user)||{}),n.user)});break}n.watcher_count!==void 0&&(w.state.watcher_count=n.watcher_count)}},{key:"_checkInitialized",value:function(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error("Channel ".concat(this.cid," hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve"))}},{key:"_initializeState",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"latest",a=this.getClient(),i=a.state,o=a.user,s=a.userID;if(n.members){var l=qg(n.members),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c.user&&i.updateUserReference(c.user,this.cid)}}catch(b){l.e(b)}finally{l.f()}}this.state.membership=n.membership||{};var d=n.messages||[];this.state.messages||this.state.initMessages();var f=this.state.addMessagesSorted(d,!1,!0,!0,r),h=f.messageSet;if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(n.pinned_messages||[]),n.pending_messages&&(this.state.pending_messages=n.pending_messages),n.watcher_count!==void 0&&(this.state.watcher_count=n.watcher_count),n.watchers){var p=qg(n.watchers),w;try{for(p.s();!(w=p.n()).done;){var D=w.value;D&&(i.updateUserReference(D,this.cid),this.state.watchers[D.id]=D)}}catch(b){p.e(b)}finally{p.f()}}if(s!=null){var E=this.state.last_message_at||new Date;o&&(this.state.read[o.id]={user:o,last_read:E,unread_messages:0})}if(n.read){var g=qg(n.read),C;try{for(g.s();!(C=g.n()).done;){var M,m=C.value;this.state.read[m.user.id]={last_read:new Date(m.last_read),last_read_message_id:m.last_read_message_id,unread_messages:(M=m.unread_messages)!==null&&M!==void 0?M:0,user:m.user},m.user.id===(o==null?void 0:o.id)&&(this.state.unreadCount=this.state.read[m.user.id].unread_messages)}}catch(b){g.e(b)}finally{g.f()}}return n.members&&(this.state.members=n.members.reduce(function(b,S){return S.user&&(b[S.user.id]=S),b},{})),{messageSet:h}}},{key:"_extendEventWithOwnReactions",value:function(n){if(n.message){var r=this.state.findMessage(n.message.id,n.message.parent_id);r&&(n.message.own_reactions=r.own_reactions)}}},{key:"_disconnect",value:function(){this._client.logger("info","channel:disconnect() - Disconnecting the channel ".concat(this.cid),{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}}]),e}();function hP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pP(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function pP(e,t){if(e){if(typeof e=="string")return vb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vb(e,t)}}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yb=function(){function e(){rr(this,e),be(this,"users",void 0),be(this,"userChannelReferences",void 0),this.users={},this.userChannelReferences={}}return Or(e,[{key:"updateUsers",value:function(n){var r=hP(n),a;try{for(r.s();!(a=r.n()).done;){var i=a.value;this.updateUser(i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"updateUser",value:function(n){n!=null&&(this.users[n.id]=n)}},{key:"updateUserReference",value:function(n,r){n!=null&&(this.updateUser(n),this.userChannelReferences[n.id]||(this.userChannelReferences[n.id]={}),this.userChannelReferences[n.id][r]=!0)}},{key:"deleteAllChannelReference",value:function(n){for(var r in this.userChannelReferences)delete this.userChannelReferences[r][n]}}]),e}();function _b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var mP=function e(){rr(this,e),be(this,"connectionStartTimestamp",void 0),be(this,"wsConsecutiveFailures",void 0),be(this,"wsTotalFailures",void 0),be(this,"instanceClientId",void 0),this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=mu()},Uc=function(){var e=Me(Q.mark(function t(n,r){var a,i;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a=3,i=0;case 2:if(!(i<a)){s.next=17;break}return s.prev=3,s.next=6,Gn.post("https://chat-insights.getstream.io/insights/".concat(n),r);case 6:s.next=13;break;case 8:return s.prev=8,s.t0=s.catch(3),s.next=12,dl((i+1)*3e3);case 12:return s.abrupt("continue",14);case 13:return s.abrupt("break",17);case 14:i++,s.next=2;break;case 17:case"end":return s.stop()}},t,null,[[3,8]])}));return function(n,r){return e.apply(this,arguments)}}();function gP(e,t){return bb(bb({},t),yD(e))}function yD(e){var t,n,r,a=e.client;return{ready_state:(t=e.ws)===null||t===void 0?void 0:t.readyState,url:e._buildUrl(),api_key:a.key,start_ts:a.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:a.getAuthType(),token:a.tokenManager.token,user_id:a.userID,user_details:a._user,device:a.options.device,client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:a.insightMetrics.wsConsecutiveFailures,ws_total_failures:a.insightMetrics.wsTotalFailures,request_id:e.requestID,online:typeof navigator<"u"?(n=navigator)===null||n===void 0?void 0:n.onLine:null,user_agent:typeof navigator<"u"?(r=navigator)===null||r===void 0?void 0:r.userAgent:null,instance_client_id:a.insightMetrics.instanceClientId}}function vP(e){return yD(e)}function wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _P=function(t){return t.code!==void 0},bP=function(t){return t.error!==void 0},wP=function(){function e(t){var n=this,r=t.client;rr(this,e),be(this,"client",void 0),be(this,"connectionID",void 0),be(this,"connectionOpen",void 0),be(this,"consecutiveFailures",void 0),be(this,"pingInterval",void 0),be(this,"healthCheckTimeoutRef",void 0),be(this,"isConnecting",void 0),be(this,"isDisconnected",void 0),be(this,"isHealthy",void 0),be(this,"isResolved",void 0),be(this,"lastEvent",void 0),be(this,"connectionCheckTimeout",void 0),be(this,"connectionCheckTimeoutRef",void 0),be(this,"rejectPromise",void 0),be(this,"requestID",void 0),be(this,"resolvePromise",void 0),be(this,"totalFailures",void 0),be(this,"ws",void 0),be(this,"wsID",void 0),be(this,"_buildUrl",function(){var a=encodeURIComponent(n.client._buildWSPayload(n.requestID)),i=n.client.tokenManager.getToken();return"".concat(n.client.wsBaseURL,"/connect?json=").concat(a,"&api_key=").concat(n.client.key,"&authorization=").concat(i,"&stream-auth-type=").concat(n.client.getAuthType(),"&X-Stream-Client=").concat(n.client.getUserAgent())}),be(this,"onlineStatusChanged",function(a){a.type==="offline"?(n._log("onlineStatusChanged() - Status changing to offline"),n._setHealth(!1)):a.type==="online"&&(n._log("onlineStatusChanged() - Status changing to online. isHealthy: ".concat(n.isHealthy)),n.isHealthy||n._reconnect({interval:10}))}),be(this,"onopen",function(a){n.wsID===a&&n._log("onopen() - onopen callback",{wsID:a})}),be(this,"onmessage",function(a,i){if(n.wsID===a){n._log("onmessage() - onmessage callback",{event:i,wsID:a});var o=typeof i.data=="string"?JSON.parse(i.data):null;if(!n.isResolved&&o){var s;if(n.isResolved=!0,o.error){var l;(l=n.rejectPromise)===null||l===void 0||l.call(n,n._errorFromWSEvent(o,!1));return}(s=n.resolvePromise)===null||s===void 0||s.call(n,o),n._setHealth(!0)}n.lastEvent=new Date,o&&o.type==="health.check"&&n.scheduleNextPing(),n.client.handleEvent(i),n.scheduleConnectionCheck()}}),be(this,"onclose",function(a,i){if(n.wsID===a)if(n._log("onclose() - onclose callback - "+i.code,{event:i,wsID:a}),i.code===Nc.WS_CLOSED_SUCCESS){var o,s=new Error("WS connection reject with error ".concat(i.reason));s.reason=i.reason,s.code=i.code,s.wasClean=i.wasClean,s.target=i.target,(o=n.rejectPromise)===null||o===void 0||o.call(n,s),n._log("onclose() - WS connection reject with error ".concat(i.reason),{event:i})}else{var l;n.consecutiveFailures+=1,n.totalFailures+=1,n._setHealth(!1),n.isConnecting=!1,(l=n.rejectPromise)===null||l===void 0||l.call(n,n._errorFromWSEvent(i)),n._log("onclose() - WS connection closed. Calling reconnect ...",{event:i}),n._reconnect()}}),be(this,"onerror",function(a,i){var o;n.wsID===a&&(n.consecutiveFailures+=1,n.totalFailures+=1,n._setHealth(!1),n.isConnecting=!1,(o=n.rejectPromise)===null||o===void 0||o.call(n,n._errorFromWSEvent(i)),n._log("onerror() - WS connection resulted into error",{event:i}),n._reconnect())}),be(this,"_setHealth",function(a){if(a!==n.isHealthy){if(n.isHealthy=a,n.isHealthy){n.client.dispatchEvent({type:"connection.changed",online:n.isHealthy});return}setTimeout(function(){n.isHealthy||n.client.dispatchEvent({type:"connection.changed",online:n.isHealthy})},5e3)}}),be(this,"_errorFromWSEvent",function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o,s,l;_P(a)&&(o=a.code,s="unknown",l=a.reason),bP(a)&&(o=a.error.code,s=a.error.StatusCode,l=a.error.message),n._log("_errorFromWSEvent() - WS failed with code ".concat(o),{event:a},"warn");var u=new Error("WS failed with code ".concat(o," and reason - ").concat(l));return u.code=o,u.StatusCode=s,u.isWSFailure=i,u}),be(this,"_setupConnectionPromise",function(){n.isResolved=!1,n.connectionOpen=new Promise(function(a,i){n.resolvePromise=a,n.rejectPromise=i})}),be(this,"scheduleNextPing",function(){n.healthCheckTimeoutRef&&clearTimeout(n.healthCheckTimeoutRef),n.healthCheckTimeoutRef=setTimeout(function(){var a=[{type:"health.check",client_id:n.client.clientID}];try{var i;(i=n.ws)===null||i===void 0||i.send(JSON.stringify(a))}catch{}},n.pingInterval)}),be(this,"scheduleConnectionCheck",function(){n.connectionCheckTimeoutRef&&clearTimeout(n.connectionCheckTimeoutRef),n.connectionCheckTimeoutRef=setTimeout(function(){var a=new Date;n.lastEvent&&a.getTime()-n.lastEvent.getTime()>n.connectionCheckTimeout&&(n._log("scheduleConnectionCheck - going to reconnect"),n._setHealth(!1),n._reconnect())},n.connectionCheckTimeout)}),this.client=r,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25*1e3,this.connectionCheckTimeout=this.pingInterval+10*1e3,mD(this.onlineStatusChanged)}return Or(e,[{key:"_log",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"info";this.client.logger(a,"connection:"+n,yP({tags:["connection"]},r))}},{key:"setClient",value:function(n){this.client=n}},{key:"connect",value:function(){var t=Me(Q.mark(function r(){var a,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a=o.length>0&&o[0]!==void 0?o[0]:15e3,!this.isConnecting){l.next=3;break}throw Error("You've called connect twice, can only attempt 1 connection at the time");case 3:return this.isDisconnected=!1,l.prev=4,l.next=7,this._connect();case 7:i=l.sent,this.consecutiveFailures=0,this._log("connect() - Established ws connection with healthcheck: ".concat(i)),l.next=23;break;case 12:if(l.prev=12,l.t0=l.catch(4),this.isHealthy=!1,this.consecutiveFailures+=1,!(l.t0.code===Nc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())){l.next=21;break}this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}),l.next=23;break;case 21:if(l.t0.isWSFailure){l.next=23;break}throw new Error(JSON.stringify({code:l.t0.code,StatusCode:l.t0.StatusCode,message:l.t0.message,isWSFailure:l.t0.isWSFailure}));case 23:return l.next=25,this._waitForHealthy(a);case 25:return l.abrupt("return",l.sent);case 26:case"end":return l.stop()}},r,this,[[4,12]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"_waitForHealthy",value:function(){var t=Me(Q.mark(function r(){var a=this,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>0&&o[0]!==void 0?o[0]:15e3,l.abrupt("return",Promise.race([Me(Q.mark(function u(){var c,d;return Q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:c=50,d=0;case 2:if(!(d<=i)){h.next=18;break}return h.prev=3,h.next=6,a.connectionOpen;case 6:return h.abrupt("return",h.sent);case 9:if(h.prev=9,h.t0=h.catch(3),d!==i){h.next=13;break}throw new Error(JSON.stringify({code:h.t0.code,StatusCode:h.t0.StatusCode,message:h.t0.message,isWSFailure:h.t0.isWSFailure}));case 13:return h.next=15,dl(c);case 15:d+=c,h.next=2;break;case 18:case"end":return h.stop()}},u,null,[[3,9]])}))(),Me(Q.mark(function u(){return Q.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,dl(i);case 2:throw a.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}));case 4:case"end":return d.stop()}},u)}))()]));case 2:case"end":return l.stop()}},r)}));function n(){return t.apply(this,arguments)}return n}()},{key:"disconnect",value:function(n){var r=this;this._log("disconnect() - Closing the websocket connection for wsID ".concat(this.wsID)),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),gD(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();var a,i=this.ws;return i&&i.close&&i.readyState===i.OPEN?(a=new Promise(function(o){var s=function(u){r._log("disconnect() - resolving isClosedPromise ".concat(u?"with":"without"," close frame"),{event:u}),o()};i.onclose=s,setTimeout(s,n??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),i.close(Nc.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),a=Promise.resolve()),delete this.ws,a}},{key:"_connect",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)){u.next=2;break}return u.abrupt("return");case 2:return this.isConnecting=!0,this.requestID=mu(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime(),a=!1,u.prev=6,this._log("_connect() - waiting for token"),u.next=10,this.client.tokenManager.tokenReady();case 10:a=!0,u.next=15;break;case 13:u.prev=13,u.t0=u.catch(6);case 15:if(u.prev=15,a){u.next=20;break}return this._log("_connect() - tokenProvider failed before, so going to retry"),u.next=20,this.client.tokenManager.loadToken();case 20:return this._setupConnectionPromise(),i=this._buildUrl(),this._log("_connect() - Connecting to ".concat(i),{wsURL:i,requestID:this.requestID}),this.ws=new $R(i),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID),u.next=30,this.connectionOpen;case 30:if(o=u.sent,this.isConnecting=!1,!o){u.next=36;break}return this.connectionID=o.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(Uc("ws_success_after_failure",vP(this)),this.client.insightMetrics.wsConsecutiveFailures=0),u.abrupt("return",o);case 36:u.next=44;break;case 38:throw u.prev=38,u.t1=u.catch(15),this.isConnecting=!1,this._log("_connect() - Error - ",u.t1),this.client.options.enableInsights&&(this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++,s=gP(this,sP(u.t1)),Uc==null||Uc("ws_fatal",s)),u.t1;case 44:case"end":return u.stop()}},r,this,[[6,13],[15,38]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"_reconnect",value:function(){var t=Me(Q.mark(function r(){var a,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a=o.length>0&&o[0]!==void 0?o[0]:{},this._log("_reconnect() - Initiating the reconnect"),!(this.isConnecting||this.isHealthy)){l.next=5;break}return this._log("_reconnect() - Abort (1) since already connecting or healthy"),l.abrupt("return");case 5:return i=a.interval,i||(i=np(this.consecutiveFailures)),l.next=9,dl(i);case 9:if(!(this.isConnecting||this.isHealthy)){l.next=12;break}return this._log("_reconnect() - Abort (2) since already connecting or healthy"),l.abrupt("return");case 12:if(!(this.isDisconnected&&this.client.options.enableWSFallback)){l.next=15;break}return this._log("_reconnect() - Abort (3) since disconnect() is called"),l.abrupt("return");case 15:if(this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),!a.refreshToken){l.next=20;break}return l.next=20,this.client.tokenManager.loadToken();case 20:return l.prev=20,l.next=23,this._connect();case 23:return this._log("_reconnect() - Waiting for recoverCallBack"),l.next=26,this.client.recoverState();case 26:this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0,l.next=38;break;case 30:if(l.prev=30,l.t0=l.catch(20),this.isHealthy=!1,this.consecutiveFailures+=1,!(l.t0.code===Nc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())){l.next=37;break}return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),l.abrupt("return",this._reconnect({refreshToken:!0}));case 37:l.t0.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect());case 38:this._log("_reconnect() - == END ==");case 39:case"end":return l.stop()}},r,this,[[20,30]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"_destroyCurrentWSConnection",value:function(){this.wsID+=1;try{var n,r;this===null||this===void 0||(n=this.ws)===null||n===void 0||n.removeAllListeners(),this===null||this===void 0||(r=this.ws)===null||r===void 0||r.close()}catch{}}}]),e}(),EP=null,Eb=null;function Cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _D(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};throw typeof t!="string"?new TypeError("userId should be a string"):(CP({user_id:t},n),Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side."))}function Sb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={server:!0},r=Lu({algorithm:"HS256",noTimestamp:!0},t);return EP.sign(n,e,r)}function SP(e){var t=e.split(".");if(t.length!==3)return"";var n=t[1],r=YR(n),a=JSON.parse(r);return a.user_id}function DP(e){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",qR(JSON.stringify({user_id:e})),"devtoken"].join(".")}function kP(e,t,n){var r=Buffer.from(t,"utf8"),a=Eb.createHmac("sha256",r).update(e).digest("hex");try{return Eb.timingSafeEqual(Buffer.from(a),Buffer.from(n))}catch{return!1}}var MP=function e(t){var n=this;rr(this,e),be(this,"loadTokenPromise",void 0),be(this,"type",void 0),be(this,"secret",void 0),be(this,"token",void 0),be(this,"tokenProvider",void 0),be(this,"user",void 0),be(this,"setTokenOrProvider",function(){var r=Me(Q.mark(function a(i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n.validateToken(i,o),n.user=o,s0(i)&&(n.tokenProvider=i,n.type="provider"),typeof i=="string"&&(n.token=i,n.type="static"),!i&&n.user&&n.secret&&(n.token=_D(n.secret,o.id,{},{}),n.type="static"),l.next=7,n.loadToken();case 7:case"end":return l.stop()}},a)}));return function(a,i){return r.apply(this,arguments)}}()),be(this,"reset",function(){n.token=void 0,n.user=void 0,n.loadTokenPromise=null}),be(this,"validateToken",function(r,a){if(!(a&&a.anon&&!r)){if(!n.secret&&!r)throw new Error("User token can not be empty");if(r&&typeof r!="string"&&!s0(r))throw new Error("user token should either be a string or a function");if(typeof r=="string"){if(a.anon&&r==="")return;var i=SP(r);if(r!=null&&(i==null||i===""||i!==a.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}}),be(this,"tokenReady",function(){return n.loadTokenPromise}),be(this,"loadToken",function(){return n.loadTokenPromise=new Promise(function(){var r=Me(Q.mark(function a(i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(n.type!=="static"){l.next=2;break}return l.abrupt("return",i(n.token));case 2:if(!(n.tokenProvider&&typeof n.tokenProvider!="string")){l.next=13;break}return l.prev=3,l.next=6,n.tokenProvider();case 6:n.token=l.sent,l.next=12;break;case 9:return l.prev=9,l.t0=l.catch(3),l.abrupt("return",o(new Error("Call to tokenProvider failed with message: ".concat(l.t0))));case 12:i(n.token);case 13:case"end":return l.stop()}},a,null,[[3,9]])}));return function(a,i){return r.apply(this,arguments)}}()),n.loadTokenPromise}),be(this,"getToken",function(){if(n.token||n.user&&n.user.anon&&!n.token)return n.token;if(n.secret)return Sb(n.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")}),be(this,"isStatic",function(){return n.type==="static"}),this.loadTokenPromise=null,t&&(this.secret=t),this.type="static",this.secret&&(this.token=Sb(this.secret))},TP={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function xP(e){return e.code!==void 0}function Db(e){if(!e.code)return!1;var t=TP["".concat(e.code)];return t?t.retryable:!1}function RP(e){return e.code===46}function PP(e){if(typeof e.isWSFailure=="boolean")return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch{return!1}}function OP(e){return!e.status||e.status<200||300<=e.status}function kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tr;(function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"})(Tr||(Tr={}));var AP=function(){function e(t){var n=this,r=t.client;rr(this,e),be(this,"client",void 0),be(this,"state",void 0),be(this,"consecutiveFailures",void 0),be(this,"connectionID",void 0),be(this,"cancelToken",void 0),be(this,"_onlineStatusChanged",function(a){if(n._log("_onlineStatusChanged() - ".concat(a.type)),a.type==="offline"){var i;n._setState(Tr.Closed),(i=n.cancelToken)===null||i===void 0||i.cancel("disconnect() is called"),n.cancelToken=void 0;return}a.type==="online"&&n.state===Tr.Closed&&n.connect(!0)}),be(this,"_req",function(){var a=Me(Q.mark(function i(o,s,l){var u,c;return Q.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return!n.cancelToken&&!o.close&&(n.cancelToken=Gn.CancelToken.source()),f.prev=1,f.next=4,n.client.doAxiosRequest("get",n.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:Kg(Kg({},s),{},{cancelToken:(u=n.cancelToken)===null||u===void 0?void 0:u.token}),params:o});case 4:return c=f.sent,n.consecutiveFailures=0,f.abrupt("return",c);case 9:if(f.prev=9,f.t0=f.catch(1),n.consecutiveFailures+=1,!(l&&Db(f.t0))){f.next=17;break}return n._log("_req() - Retryable error, retrying request"),f.next=16,dl(np(n.consecutiveFailures));case 16:return f.abrupt("return",n._req(o,s,l));case 17:throw f.t0;case 18:case"end":return f.stop()}},i,null,[[1,9]])}));return function(i,o,s){return a.apply(this,arguments)}}()),be(this,"_poll",Me(Q.mark(function a(){var i,o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n.state!==Tr.Connected){u.next=25;break}return u.prev=1,u.next=4,n._req({},{timeout:3e4},!0);case 4:if(o=u.sent,(i=o.events)!==null&&i!==void 0&&i.length)for(s=0;s<o.events.length;s++)n.client.dispatchEvent(o.events[s]);u.next=23;break;case 8:if(u.prev=8,u.t0=u.catch(1),!Gn.isCancel(u.t0)){u.next=13;break}return n._log("_poll() - axios canceled request"),u.abrupt("return");case 13:if(!RP(u.t0)){u.next=18;break}return n._log("_poll() - ConnectionID error, connecting without ID..."),n._setState(Tr.Disconnected),n.connect(!0),u.abrupt("return");case 18:if(!(xP(u.t0)&&!Db(u.t0))){u.next=21;break}return n._setState(Tr.Closed),u.abrupt("return");case 21:return u.next=23,dl(np(n.consecutiveFailures));case 23:u.next=0;break;case 25:case"end":return u.stop()}},a,null,[[1,8]])}))),be(this,"connect",Me(Q.mark(function a(){var i,o,s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=l.length>0&&l[0]!==void 0?l[0]:!1,n.state!==Tr.Connecting){c.next=4;break}return n._log("connect() - connecting already in progress",{reconnect:i},"warn"),c.abrupt("return");case 4:if(n.state!==Tr.Connected){c.next=7;break}return n._log("connect() - already connected and polling",{reconnect:i},"warn"),c.abrupt("return");case 7:return n._setState(Tr.Connecting),n.connectionID=void 0,c.prev=9,c.next=12,n._req({json:n.client._buildWSPayload()},{timeout:8e3},i);case 12:return o=c.sent,s=o.event,n._setState(Tr.Connected),n.connectionID=s.connection_id,n.client.dispatchEvent(s),n._poll(),i&&n.client.recoverState(),c.abrupt("return",s);case 22:throw c.prev=22,c.t0=c.catch(9),n._setState(Tr.Closed),c.t0;case 26:case"end":return c.stop()}},a,null,[[9,22]])}))),be(this,"isHealthy",function(){return!!n.connectionID&&n.state===Tr.Connected}),be(this,"disconnect",Me(Q.mark(function a(){var i,o,s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:2e3,gD(n._onlineStatusChanged),n._setState(Tr.Disconnected),(i=n.cancelToken)===null||i===void 0||i.cancel("disconnect() is called"),n.cancelToken=void 0,s=n.connectionID,n.connectionID=void 0,c.prev=7,c.next=10,n._req({close:!0,connection_id:s},{timeout:o},!1);case 10:n._log("disconnect() - Closed connectionID"),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(7),n._log("disconnect() - Failed",{err:c.t0},"error");case 16:case"end":return c.stop()}},a,null,[[7,13]])}))),this.client=r,this.state=Tr.Init,this.consecutiveFailures=0,mD(this._onlineStatusChanged)}return Or(e,[{key:"_log",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"info";this.client.logger(a,"WSConnectionFallback:"+n,Kg({tags:["connection_fallback","connection"]},r))}},{key:"_setState",value:function(n){this._log("_setState() - ".concat(n)),this.state===Tr.Connecting&&n===Tr.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(n===Tr.Closed||n===Tr.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=n}}]),e}(),Mb=function(){function e(t,n,r){rr(this,e),be(this,"id",void 0),be(this,"data",void 0),be(this,"client",void 0),this.client=t,this.id=n,this.data=r}return Or(e,[{key:"create",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s,l,u,c,d,f,h;return Q.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return f={id:this.id,message_template:(a=this.data)===null||a===void 0?void 0:a.message_template,segment_ids:(i=this.data)===null||i===void 0?void 0:i.segment_ids,sender_id:(o=this.data)===null||o===void 0?void 0:o.sender_id,channel_template:(s=this.data)===null||s===void 0?void 0:s.channel_template,create_channels:(l=this.data)===null||l===void 0?void 0:l.create_channels,description:(u=this.data)===null||u===void 0?void 0:u.description,name:(c=this.data)===null||c===void 0?void 0:c.name,user_ids:(d=this.data)===null||d===void 0?void 0:d.user_ids},w.next=3,this.client.createCampaign(f);case 3:return h=w.sent,this.id=h.campaign.id,this.data=h.campaign,w.abrupt("return",h);case 7:case"end":return w.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"verifyCampaignId",value:function(){if(!this.id)throw new Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}},{key:"start",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifyCampaignId(),o.next=3,this.client.startCampaign(this.id,a);case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"update",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifyCampaignId(),o.abrupt("return",this.client.updateCampaign(this.id,a));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"delete",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.verifyCampaignId(),i.next=3,this.client.deleteCampaign(this.id);case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"stop",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.verifyCampaignId(),i.abrupt("return",this.client.stopCampaign(this.id));case 2:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"get",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.verifyCampaignId(),i.abrupt("return",this.client.getCampaign(this.id));case 2:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}]),e}(),Tb=function(){function e(t,n,r,a){rr(this,e),be(this,"type",void 0),be(this,"id",void 0),be(this,"client",void 0),be(this,"data",void 0),this.client=t,this.type=n,this.id=r,this.data=a}return Or(e,[{key:"create",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s,l,u;return Q.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return u={name:(a=this.data)===null||a===void 0?void 0:a.name,filter:(i=this.data)===null||i===void 0?void 0:i.filter,description:(o=this.data)===null||o===void 0?void 0:o.description,all_sender_channels:(s=this.data)===null||s===void 0?void 0:s.all_sender_channels,all_users:(l=this.data)===null||l===void 0?void 0:l.all_users},d.abrupt("return",this.client.createSegment(this.type,this.id,u));case 2:case"end":return d.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"verifySegmentId",value:function(){if(!this.id)throw new Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}},{key:"get",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.verifySegmentId(),i.abrupt("return",this.client.getSegment(this.id));case 2:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"update",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.updateSegment(this.id,a));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"addTargets",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.addSegmentTargets(this.id,a));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"removeTargets",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.removeSegmentTargets(this.id,a));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"delete",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.verifySegmentId(),i.abrupt("return",this.client.deleteSegment(this.id));case 2:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"targetExists",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.segmentTargetExists(this.id,a));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"queryTargets",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=s.length>0&&s[0]!==void 0?s[0]:{},i=s.length>1&&s[1]!==void 0?s[1]:[],o=s.length>2&&s[2]!==void 0?s[2]:{},this.verifySegmentId(),u.abrupt("return",this.client.querySegmentTargets(this.id,a,i,o));case 5:case"end":return u.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}]),e}();function LP(e){var t=IP();return function(){var r=Ga(e),a;if(t){var i=Ga(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Ku(this,a)}}function IP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var FP=function(e){Xd(n,e);var t=LP(n);function n(){var r;rr(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),be(Bi(r),"code",void 0),be(Bi(r),"response",void 0),be(Bi(r),"status",void 0),r}return n}(i0(Error)),xb;(function(e){e.anonymous="anonymous",e.public="public"})(xb||(xb={}));var NP=["parent_message_id","parent_message","latest_replies","thread_participants","reply_count","channel","read"];function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=BP(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function BP(e,t){if(e){if(typeof e=="string")return Ob(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(e,t)}}function Ob(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ab=function(){function e(t,n){rr(this,e),be(this,"id",void 0),be(this,"latestReplies",[]),be(this,"participants",[]),be(this,"message",void 0),be(this,"channel",void 0),be(this,"_channel",void 0),be(this,"replyCount",0),be(this,"_client",void 0),be(this,"read",{}),be(this,"data",{});var r=n.parent_message_id,a=n.parent_message,i=n.latest_replies,o=n.thread_participants,s=n.reply_count,l=n.channel,u=n.read,c=Qv(n,NP);if(this.id=r,this.message=Bs(a),this.latestReplies=i.map(Bs),this.participants=o,this.replyCount=s,this.channel=l,this._channel=t.channel(n.channel.type,n.channel.id),this._client=t,u){var d=UP(u),f;try{for(d.s();!(f=d.n()).done;){var h=f.value;this.read[h.user.id]=Pb(Pb({},h),{},{last_read:new Date(h.last_read)})}}catch(p){d.e(p)}finally{d.f()}}this.data=c}return Or(e,[{key:"getClient",value:function(){return this._client}},{key:"addReply",value:function(n){if(n.parent_id!==this.message.id)throw new Error("Message does not belong to this thread");this.latestReplies=vD(this.latestReplies,Bs(n),!0)}},{key:"updateReply",value:function(n){this.latestReplies=this.latestReplies.map(function(r){return r.id===n.id?Bs(n):r})}},{key:"updateMessageOrReplyIfExists",value:function(n){if(!(!n.parent_id&&n.id!==this.message.id)&&!(n.parent_id&&n.parent_id!==this.message.id)){if(n.parent_id&&n.parent_id===this.message.id){this.updateReply(n);return}!n.parent_id&&n.id===this.message.id&&(this.message=Bs(n))}}},{key:"addReaction",value:function(n,r,a){var i=this;r&&(this.latestReplies=this.latestReplies.map(function(o){return o.id===r.id?Bs(i._channel.state.addReaction(n,r,a)):o}))}},{key:"removeReaction",value:function(n,r){var a=this;r&&(this.latestReplies=this.latestReplies.map(function(i){return i.id===r.id?Bs(a._channel.state.removeReaction(n,r)):i}))}}]),e}(),jP=["created_at","updated_at","last_active","online"],zP=["params","headers"];function Ec(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$P(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function $P(e,t){if(e){if(typeof e=="string")return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(e,t)}}function Lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zl(e){return typeof e=="string"||e instanceof String}var bD=function(){function e(t,n,r){var a=this,i;rr(this,e),be(this,"_user",void 0),be(this,"activeChannels",void 0),be(this,"anonymous",void 0),be(this,"persistUserOnConnectionFailure",void 0),be(this,"axiosInstance",void 0),be(this,"baseURL",void 0),be(this,"browser",void 0),be(this,"cleaningIntervalRef",void 0),be(this,"clientID",void 0),be(this,"configs",void 0),be(this,"key",void 0),be(this,"listeners",void 0),be(this,"logger",void 0),be(this,"recoverStateOnReconnect",void 0),be(this,"mutedChannels",void 0),be(this,"mutedUsers",void 0),be(this,"node",void 0),be(this,"options",void 0),be(this,"secret",void 0),be(this,"setUserPromise",void 0),be(this,"state",void 0),be(this,"tokenManager",void 0),be(this,"user",void 0),be(this,"userAgent",void 0),be(this,"userID",void 0),be(this,"wsBaseURL",void 0),be(this,"wsConnection",void 0),be(this,"wsFallback",void 0),be(this,"wsPromise",void 0),be(this,"consecutiveFailures",void 0),be(this,"insightMetrics",void 0),be(this,"defaultWSTimeoutWithFallback",void 0),be(this,"defaultWSTimeout",void 0),be(this,"nextRequestAbortController",null),be(this,"_getConnectionID",function(){var s,l;return((s=a.wsConnection)===null||s===void 0?void 0:s.connectionID)||((l=a.wsFallback)===null||l===void 0?void 0:l.connectionID)}),be(this,"_hasConnectionID",function(){return!!a._getConnectionID()}),be(this,"connectUser",function(){var s=Me(Q.mark(function l(u,c){var d,f;return Q.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u.id){p.next=2;break}throw new Error('The "id" field on the user is missing');case 2:if(!(a.userID===u.id&&a.setUserPromise)){p.next=5;break}return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),p.abrupt("return",a.setUserPromise);case 5:if(!a.userID){p.next=7;break}throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");case 7:return(a._isUsingServerAuth()||a.node)&&!a.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),a.userID=u.id,a.anonymous=!1,d=a._setToken(u,c),a._setUser(u),f=a.openConnection(),a.setUserPromise=Promise.all([d,f]).then(function(w){return w[1]}),p.prev=14,p.next=17,a.setUserPromise;case 17:return p.abrupt("return",p.sent);case 20:throw p.prev=20,p.t0=p.catch(14),a.persistUserOnConnectionFailure?a.closeConnection():a.disconnectUser(),p.t0;case 24:case"end":return p.stop()}},l,null,[[14,20]])}));return function(l,u){return s.apply(this,arguments)}}()),be(this,"setUser",this.connectUser),be(this,"_setToken",function(s,l){return a.tokenManager.setTokenOrProvider(l,s)}),be(this,"closeConnection",function(){var s=Me(Q.mark(function l(u){var c,d;return Q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return a.cleaningIntervalRef!=null&&(clearInterval(a.cleaningIntervalRef),a.cleaningIntervalRef=void 0),h.next=3,Promise.all([(c=a.wsConnection)===null||c===void 0?void 0:c.disconnect(u),(d=a.wsFallback)===null||d===void 0?void 0:d.disconnect(u)]);case 3:return h.abrupt("return",Promise.resolve());case 4:case"end":return h.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()),be(this,"openConnection",Me(Q.mark(function s(){var l,u,c;return Q.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(a.userID){f.next=2;break}throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");case 2:if(!((l=a.wsConnection)!==null&&l!==void 0&&l.isConnecting&&a.wsPromise)){f.next=5;break}return a.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),f.abrupt("return",a.wsPromise);case 5:if(!(((u=a.wsConnection)!==null&&u!==void 0&&u.isHealthy||(c=a.wsFallback)!==null&&c!==void 0&&c.isHealthy())&&a._hasConnectionID())){f.next=8;break}return a.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]}),f.abrupt("return",Promise.resolve());case 8:return a.clientID="".concat(a.userID,"--").concat(mu()),a.wsPromise=a.connect(),a._startCleaning(),f.abrupt("return",a.wsPromise);case 12:case"end":return f.stop()}},s)}))),be(this,"_setupConnection",this.openConnection),be(this,"_normalizeDate",function(s){if(s instanceof Date&&(s=s.toISOString()),s==="")throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return s}),be(this,"disconnectUser",function(){var s=Me(Q.mark(function l(u){var c,d,f,h;return Q.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:for(a.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete a.user,delete a._user,delete a.userID,a.anonymous=!1,c=a.closeConnection(u),d=0,f=Object.values(a.activeChannels);d<f.length;d++)h=f[d],h._disconnect();return a.activeChannels={},a.state=new yb,setTimeout(a.tokenManager.reset),w.abrupt("return",c);case 11:case"end":return w.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()),be(this,"disconnect",this.disconnectUser),be(this,"connectAnonymousUser",function(){(a._isUsingServerAuth()||a.node)&&!a.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),a.anonymous=!0,a.userID=mu();var s={id:a.userID,anon:!0};return a._setToken(s,""),a._setUser(s),a._setupConnection()}),be(this,"setAnonymousUser",this.connectAnonymousUser),be(this,"doAxiosRequest",function(){var s=Me(Q.mark(function l(u,c,d){var f,h,p,w,D=arguments;return Q.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return f=D.length>3&&D[3]!==void 0?D[3]:{},g.next=3,a.tokenManager.tokenReady();case 3:h=a._enrichAxiosOptions(f),g.prev=4,a._logApiRequest(u,c,d,h),g.t0=u,g.next=g.t0==="get"?9:g.t0==="delete"?13:g.t0==="post"?17:g.t0==="postForm"?21:g.t0==="put"?25:g.t0==="patch"?29:g.t0==="options"?33:37;break;case 9:return g.next=11,a.axiosInstance.get(c,h);case 11:return p=g.sent,g.abrupt("break",38);case 13:return g.next=15,a.axiosInstance.delete(c,h);case 15:return p=g.sent,g.abrupt("break",38);case 17:return g.next=19,a.axiosInstance.post(c,d,h);case 19:return p=g.sent,g.abrupt("break",38);case 21:return g.next=23,a.axiosInstance.postForm(c,d,h);case 23:return p=g.sent,g.abrupt("break",38);case 25:return g.next=27,a.axiosInstance.put(c,d,h);case 27:return p=g.sent,g.abrupt("break",38);case 29:return g.next=31,a.axiosInstance.patch(c,d,h);case 31:return p=g.sent,g.abrupt("break",38);case 33:return g.next=35,a.axiosInstance.options(c,h);case 35:return p=g.sent,g.abrupt("break",38);case 37:throw new Error("Invalid request type");case 38:return a._logApiResponse(u,c,p),a.consecutiveFailures=0,g.abrupt("return",a.handleResponse(p));case 43:if(g.prev=43,g.t1=g.catch(4),g.t1.client_request_id=(w=h.headers)===null||w===void 0?void 0:w["x-client-request-id"],a._logApiError(u,c,g.t1),a.consecutiveFailures+=1,!g.t1.response){g.next=60;break}if(!(g.t1.response.data.code===Nc.TOKEN_EXPIRED&&!a.tokenManager.isStatic())){g.next=57;break}if(!(a.consecutiveFailures>1)){g.next=53;break}return g.next=53,dl(np(a.consecutiveFailures));case 53:return a.tokenManager.loadToken(),g.next=56,a.doAxiosRequest(u,c,d,f);case 56:return g.abrupt("return",g.sent);case 57:return g.abrupt("return",a.handleResponse(g.t1.response));case 60:throw g.t1;case 61:case"end":return g.stop()}},l,null,[[4,43]])}));return function(l,u,c){return s.apply(this,arguments)}}()),be(this,"dispatchEvent",function(s){s.received_at||(s.received_at=new Date);var l=a._handleClientEvent(s),u=s.cid,c=u?a.activeChannels[u]:void 0;c&&c._handleChannelEvent(s),a._callClientListeners(s),c&&c._callChannelListeners(s),l.forEach(function(d){return d()})}),be(this,"handleEvent",function(s){var l=s.data,u=JSON.parse(l);a.dispatchEvent(u)}),be(this,"_updateMemberWatcherReferences",function(s){var l=a.state.userChannelReferences[s.id]||{};for(var u in l){var c=a.activeChannels[u];c!=null&&c.state&&(c.state.members[s.id]&&(c.state.members[s.id].user=s),c.state.watchers[s.id]&&(c.state.watchers[s.id]=s),c.state.read[s.id]&&(c.state.read[s.id].user=s))}}),be(this,"_updateUserReferences",this._updateMemberWatcherReferences),be(this,"_updateUserMessageReferences",function(s){var l=a.state.userChannelReferences[s.id]||{};for(var u in l){var c=a.activeChannels[u];if(c){var d=c.state;d==null||d.updateUserMessages(s)}}}),be(this,"_deleteUserMessageReference",function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=a.state.userChannelReferences[s.id]||{};for(var c in u){var d=a.activeChannels[c],f=d.state;f==null||f.deleteUserMessages(s,l)}}),be(this,"_handleUserEvent",function(s){if(s.user){if(s.type==="user.presence.changed"||s.type==="user.updated"){if(s.user.id===a.userID){var l=ft({},a.user||{}),u=ft({},a._user||{});for(var c in a.user)c in s.user||tP(c)||(delete l[c],delete u[c]);for(var d in s.user)u&&d in u&&(u[d]=s.user[d]);a._user=ft({},u),a.user=ft(ft({},l),s.user)}a.state.updateUser(s.user),a._updateMemberWatcherReferences(s.user)}s.type==="user.updated"&&a._updateUserMessageReferences(s.user),s.type==="user.deleted"&&s.user.deleted_at&&(s.mark_messages_deleted||s.hard_delete)&&a._deleteUserMessageReference(s.user,s.hard_delete)}}),be(this,"_callClientListeners",function(s){var l=a,u=[];l.listeners.all&&u.push.apply(u,pr(l.listeners.all)),l.listeners[s.type]&&u.push.apply(u,pr(l.listeners[s.type]));for(var c=0,d=u;c<d.length;c++){var f=d[c];f(s)}}),be(this,"recoverState",Me(Q.mark(function s(){var l;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a.logger("info","client:recoverState() - Start of recoverState with connectionID ".concat(a._getConnectionID()),{tags:["connection"]}),l=Object.keys(a.activeChannels),!(l.length&&a.recoverStateOnReconnect)){c.next=10;break}return a.logger("info","client:recoverState() - Start the querying of ".concat(l.length," channels"),{tags:["connection","client"]}),c.next=6,a.queryChannels({cid:{$in:l}},{last_message_at:-1},{limit:30});case 6:a.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),a.dispatchEvent({type:"connection.recovered"}),c.next=11;break;case 10:a.dispatchEvent({type:"connection.recovered"});case 11:a.wsPromise=Promise.resolve(),a.setUserPromise=Promise.resolve();case 13:case"end":return c.stop()}},s)}))),be(this,"getChannelByMembers",function(s,l){var u=pr(l.members||[]).sort().join(","),c="".concat(s,":!members-").concat(u);if(!u)throw Error("Please specify atleast one member when creating unique conversation");for(var d in a.activeChannels){var f=a.activeChannels[d];if(!f.disconnected){if(d===c)return f;if(d.indexOf("".concat(s,":!members-"))===0){var h=Object.keys(f.state.members).sort().join(",");if(h===u)return f}}}var p=new Yg(a,s,void 0,l);return a.activeChannels[c]=p,p}),be(this,"getChannelById",function(s,l,u){if(typeof l=="string"&&~l.indexOf(":"))throw Error("Invalid channel id ".concat(l,", can't contain the : character"));var c="".concat(s,":").concat(l);if(c in a.activeChannels&&!a.activeChannels[c].disconnected){var d=a.activeChannels[c];return Object.keys(u).length>0&&(d.data=u,d._data=u),d}var f=new Yg(a,s,l,u);return a.activeChannels[f.cid]=f,f}),be(this,"updateUsers",this.upsertUsers),be(this,"updateUser",this.upsertUser),be(this,"_unblockMessage",this.unblockMessage),be(this,"markAllRead",this.markChannelsRead),be(this,"_isUsingServerAuth",function(){return!!a.secret}),be(this,"_buildWSPayload",function(s){return JSON.stringify({user_id:a.userID,user_details:a._user,device:a.options.device,client_request_id:s})}),this.key=t,this.listeners={},this.state=new yb,this.mutedChannels=[],this.mutedUsers=[],n&&zl(n)&&(this.secret=n);var o=r||(n&&!zl(n)?n:{});this.browser=typeof o.browser<"u"?o.browser:typeof window<"u",this.node=!this.browser,this.options=ft({timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0},o),this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new KR.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=Gn.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&Wg.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&Wg.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+Wg.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=(i=this.options)===null||i===void 0?void 0:i.persistUserOnConnectionFailure,this.tokenManager=new MP(this.secret),this.consecutiveFailures=0,this.insightMetrics=new mP,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.axiosInstance.defaults.paramsSerializer=uP,this.logger=s0(o.logger)?o.logger:function(){return null},this.recoverStateOnReconnect=this.options.recoverStateOnReconnect}return Or(e,[{key:"devToken",value:function(n){return DP(n)}},{key:"getAuthType",value:function(){return this.anonymous?"anonymous":"jwt"}},{key:"setBaseURL",value:function(n){this.baseURL=n,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}},{key:"_setUser",value:function(n){this.user=n,this.userID=n.id,this._user=ft({},n)}},{key:"updateAppSettings",value:function(){var t=Me(Q.mark(function r(a){var i;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=a.apn_config,i!=null&&i.p12_cert&&(a=ft(ft({},a),{},{apn_config:ft(ft({},i),{},{p12_cert:Buffer.from(i.p12_cert).toString("base64")})})),s.next=4,this.patch(this.baseURL+"/app",a);case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"revokeTokens",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(a)});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"revokeUserToken",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.revokeUsersToken([a],i);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"revokeUsersToken",value:function(){var t=Me(Q.mark(function r(a,i){var o,s,l,u;return Q.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:i===void 0?i=new Date().toISOString():i=this._normalizeDate(i),o=[],s=Ec(a);try{for(s.s();!(l=s.n()).done;)u=l.value,o.push({id:u,set:{revoke_tokens_issued_before:i}})}catch(f){s.e(f)}finally{s.f()}return d.next=6,this.partialUpdateUsers(o);case 6:return d.abrupt("return",d.sent);case 7:case"end":return d.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"getAppSettings",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.get(this.baseURL+"/app");case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"testPushSettings",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/check_push",ft(ft(ft(ft(ft(ft(ft({user_id:a},i.messageID?{message_id:i.messageID}:{}),i.apnTemplate?{apn_template:i.apnTemplate}:{}),i.firebaseTemplate?{firebase_template:i.firebaseTemplate}:{}),i.firebaseDataTemplate?{firebase_data_template:i.firebaseDataTemplate}:{}),i.skipDevices?{skip_devices:!0}:{}),i.pushProviderName?{push_provider_name:i.pushProviderName}:{}),i.pushProviderType?{push_provider_type:i.pushProviderType}:{}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"testSQSSettings",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this.post(this.baseURL+"/check_sqs",a);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"testSNSSettings",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this.post(this.baseURL+"/check_sns",a);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"setGuestUser",value:function(){var t=Me(Q.mark(function r(a){var i,o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.anonymous=!0,u.prev=1,u.next=4,this.post(this.baseURL+"/guest",{user:a});case 4:i=u.sent,u.next=11;break;case 7:throw u.prev=7,u.t0=u.catch(1),this.anonymous=!1,u.t0;case 11:return this.anonymous=!1,o=i.user,o.created_at,o.updated_at,o.last_active,o.online,s=Qv(o,jP),u.next=15,this.connectUser(s,i.access_token);case 15:return u.abrupt("return",u.sent);case 16:case"end":return u.stop()}},r,this,[[1,7]])}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createToken",value:function(n,r,a){if(this.secret==null)throw Error("tokens can only be created server-side using the API Secret");var i={};return r&&(i.exp=r),a&&(i.iat=a),_D(this.secret,n,i,{})}},{key:"on",value:function(n,r){var a=this,i=r?n:"all",o=r||n;return i in this.listeners||(this.listeners[i]=[]),this.logger("info","Attaching listener for ".concat(i," event"),{tags:["event","client"]}),this.listeners[i].push(o),{unsubscribe:function(){a.logger("info","Removing listener for ".concat(i," event"),{tags:["event","client"]}),a.listeners[i]=a.listeners[i].filter(function(l){return l!==o})}}}},{key:"off",value:function(n,r){var a=r?n:"all",i=r||n;a in this.listeners||(this.listeners[a]=[]),this.logger("info","Removing listener for ".concat(a," event"),{tags:["event","client"]}),this.listeners[a]=this.listeners[a].filter(function(o){return o!==i})}},{key:"_logApiRequest",value:function(n,r,a,i){this.logger("info","client: ".concat(n," - Request - ").concat(r),{tags:["api","api_request","client"],url:r,payload:a,config:i})}},{key:"_logApiResponse",value:function(n,r,a){this.logger("info","client:".concat(n," - Response - url: ").concat(r," > status ").concat(a.status),{tags:["api","api_response","client"],url:r,response:a})}},{key:"_logApiError",value:function(n,r,a){this.logger("error","client:".concat(n," - Error - url: ").concat(r),{tags:["api","api_response","client"],url:r,error:a})}},{key:"get",value:function(n,r){return this.doAxiosRequest("get",n,null,{params:r})}},{key:"put",value:function(n,r){return this.doAxiosRequest("put",n,r)}},{key:"post",value:function(n,r){return this.doAxiosRequest("post",n,r)}},{key:"patch",value:function(n,r){return this.doAxiosRequest("patch",n,r)}},{key:"delete",value:function(n,r){return this.doAxiosRequest("delete",n,null,{params:r})}},{key:"sendFile",value:function(n,r,a,i,o){var s=nP(r,a,i||"multipart/form-data");return o!=null&&s.append("user",JSON.stringify(o)),this.doAxiosRequest("postForm",n,s,{headers:s.getHeaders?s.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}},{key:"errorFromResponse",value:function(n){var r;return r=new FP("StreamChat error HTTP code: ".concat(n.status)),n.data&&n.data.code&&(r=new Error("StreamChat error code ".concat(n.data.code,": ").concat(n.data.message)),r.code=n.data.code),r.response=n,r.status=n.status,r}},{key:"handleResponse",value:function(n){var r=n.data;if(OP(n))throw this.errorFromResponse(n);return r}},{key:"_handleClientEvent",value:function(n){var r,a,i=this,o=this,s=[];if(this.logger("info","client:_handleClientEvent - Received event of type { ".concat(n.type," }"),{tags:["event","client"],event:n}),(n.type==="user.presence.changed"||n.type==="user.updated"||n.type==="user.deleted")&&this._handleUserEvent(n),n.type==="health.check"&&n.me&&(o.user=n.me,o.state.updateUser(n.me),o.mutedChannels=n.me.channel_mutes,o.mutedUsers=n.me.mutes),n.channel&&n.type==="notification.message_new"&&this._addChannelConfig(n.channel),n.type==="notification.channel_mutes_updated"&&(r=n.me)!==null&&r!==void 0&&r.channel_mutes&&(this.mutedChannels=n.me.channel_mutes),n.type==="notification.mutes_updated"&&(a=n.me)!==null&&a!==void 0&&a.mutes&&(this.mutedUsers=n.me.mutes),n.type==="notification.mark_read"&&n.unread_channels===0){var l=Object.keys(this.activeChannels);l.forEach(function(c){return i.activeChannels[c].state.unreadCount=0})}if((n.type==="channel.deleted"||n.type==="notification.channel_deleted")&&n.cid){var u;o.state.deleteAllChannelReference(n.cid),(u=this.activeChannels[n.cid])===null||u===void 0||u._disconnect(),s.push(function(){n.cid&&delete i.activeChannels[n.cid]})}return s}},{key:"_muteStatus",value:function(n){for(var r,a=0;a<this.mutedChannels.length;a++){var i,o=this.mutedChannels[a];if(((i=o.channel)===null||i===void 0?void 0:i.cid)===n){r={muted:o.expires?new Date(o.expires).getTime()>new Date().getTime():!0,createdAt:o.created_at?new Date(o.created_at):new Date,expiresAt:o.expires?new Date(o.expires):null};break}}return r||{muted:!1,createdAt:null,expiresAt:null}}},{key:"connect",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(!this.userID||!this._user)){i.next=2;break}throw Error("Call connectUser or connectAnonymousUser before starting the connection");case 2:if(this.wsBaseURL){i.next=4;break}throw Error("Websocket base url not set");case 4:if(this.clientID){i.next=6;break}throw Error("clientID is not set");case 6:if(!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new wP({client:this}),i.prev=8,!this.wsFallback){i.next=13;break}return i.next=12,this.wsFallback.connect();case 12:return i.abrupt("return",i.sent);case 13:return i.next=15,this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout);case 15:return i.abrupt("return",i.sent);case 18:if(i.prev=18,i.t0=i.catch(8),!(this.options.enableWSFallback&&PP(i.t0)&&lP())){i.next=29;break}return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new AP({client:this}),i.next=28,this.wsFallback.connect();case 28:return i.abrupt("return",i.sent);case 29:throw i.t0;case 30:case"end":return i.stop()}},r,this,[[8,18]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"_sayHi",value:function(){var n=this,r=mu(),a={headers:{"x-client-request-id":r}};this.doAxiosRequest("get",this.baseURL+"/hi",null,a).catch(function(i){n.options.enableInsights&&Uc("http_hi_failed",{api_key:n.key,err:i,client_request_id:r})})}},{key:"queryUsers",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l,u=arguments;return Q.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=u.length>1&&u[1]!==void 0?u[1]:[],o=u.length>2&&u[2]!==void 0?u[2]:{},s={presence:!1},d.next=5,this.wsPromise;case 5:return this._hasConnectionID()||(s.presence=!1),d.next=8,this.get(this.baseURL+"/users",{payload:ft(ft({filter_conditions:a,sort:ui(i)},s),o)});case 8:return l=d.sent,this.state.updateUsers(l.users),d.abrupt("return",l);case 11:case"end":return d.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"queryBannedUsers",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=s.length>0&&s[0]!==void 0?s[0]:{},i=s.length>1&&s[1]!==void 0?s[1]:[],o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=5,this.get(this.baseURL+"/query_banned_users",{payload:ft({filter_conditions:a,sort:ui(i)},o)});case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"queryMessageFlags",value:function(){var t=Me(Q.mark(function r(){var a,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=o.length>0&&o[0]!==void 0?o[0]:{},i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=4,this.get(this.baseURL+"/moderation/flags/message",{payload:ft({filter_conditions:a},i)});case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"queryChannels",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l,u,c,d=arguments;return Q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return i=d.length>1&&d[1]!==void 0?d[1]:[],o=d.length>2&&d[2]!==void 0?d[2]:{},s=d.length>3&&d[3]!==void 0?d[3]:{},l={state:!0,watch:!0,presence:!1},h.next=6,this.wsPromise;case 6:return this._hasConnectionID()||(l.watch=!1),u=ft(ft({filter_conditions:a,sort:ui(i)},l),o),h.next=10,this.post(this.baseURL+"/channels",u);case 10:return c=h.sent,this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:c.channels,isLatestMessageSet:!0}}),h.abrupt("return",this.hydrateActiveChannels(c.channels,s));case 13:case"end":return h.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"queryReactions",value:function(){var t=Me(Q.mark(function r(a,i){var o,s,l,u=arguments;return Q.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=u.length>2&&u[2]!==void 0?u[2]:[],s=u.length>3&&u[3]!==void 0?u[3]:{},d.next=4,this.wsPromise;case 4:return l=ft({filter:i,sort:ui(o)},s),d.next=7,this.post(this.baseURL+"/messages/"+a+"/reactions",l);case 7:return d.abrupt("return",d.sent);case 8:case"end":return d.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"hydrateActiveChannels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.skipInitialization,i=r.offlineMode,o=i===void 0?!1:i,s=Ec(n),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;this._addChannelConfig(u.channel)}}catch(w){s.e(w)}finally{s.f()}var c=[],d=Ec(n),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,p=this.channel(h.channel.type,h.channel.id);p.data=h.channel,p.offlineMode=o,p.initialized=!o,a===void 0?p._initializeState(h,"latest"):a.includes(h.channel.id)||(p.state.clearMessages(),p._initializeState(h,"latest")),c.push(p)}}catch(w){d.e(w)}finally{d.f()}return c}},{key:"search",value:function(){var t=Me(Q.mark(function r(a,i){var o,s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=l.length>2&&l[2]!==void 0?l[2]:{},!(o.offset&&o.next)){c.next=3;break}throw Error("Cannot specify offset with next");case 3:if(s=ft(ft({filter_conditions:a},o),{},{sort:o.sort?ui(o.sort):void 0}),typeof i!="string"){c.next=8;break}s.query=i,c.next=13;break;case 8:if(Sr(i)!=="object"){c.next=12;break}s.message_filter_conditions=i,c.next=13;break;case 12:throw Error("Invalid type ".concat(Sr(i)," for query parameter"));case 13:return c.next=15,this.wsPromise;case 15:return c.next=17,this.get(this.baseURL+"/search",{payload:s});case 17:return c.abrupt("return",c.sent);case 18:case"end":return c.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"setLocalDevice",value:function(n){var r,a,i;if((r=this.wsConnection)!==null&&r!==void 0&&r.isConnecting&&this.wsPromise||((a=this.wsConnection)!==null&&a!==void 0&&a.isHealthy||(i=this.wsFallback)!==null&&i!==void 0&&i.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=n}},{key:"addDevice",value:function(){var t=Me(Q.mark(function r(a,i,o,s){return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.post(this.baseURL+"/devices",ft(ft({id:a,push_provider:i},o!=null?{user_id:o}:{}),s!=null?{push_provider_name:s}:{}));case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},r,this)}));function n(r,a,i,o){return t.apply(this,arguments)}return n}()},{key:"getDevices",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/devices",a?{user_id:a}:{});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getUnreadCount",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/unread",a?{user_id:a}:{});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getUnreadCountBatch",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/unread_batch",{user_ids:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"removeDevice",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.delete(this.baseURL+"/devices",ft({id:a},i?{user_id:i}:{}));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"getRateLimits",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l,u,c;return Q.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return i=a||{},o=i.serverSide,s=i.web,l=i.android,u=i.ios,c=i.endpoints,f.abrupt("return",this.get(this.baseURL+"/rate_limits",{server_side:o,web:s,android:l,ios:u,endpoints:c?c.join(","):void 0}));case 2:case"end":return f.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"_addChannelConfig",value:function(n){var r=n.cid,a=n.config;this.configs[r]=a}},{key:"channel",value:function(n,r){var a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~n.indexOf(":"))throw Error("Invalid channel group ".concat(n,", can't contain the : character"));return r&&Sr(r)==="object"?this.getChannelByMembers(n,r):!r&&Sr(i)==="object"&&(a=i.members)!==null&&a!==void 0&&a.length?this.getChannelByMembers(n,i):r?this.getChannelById(n,r,i):new Yg(this,n,void 0,i)}},{key:"partialUpdateUser",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.partialUpdateUsers([a]);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"upsertUsers",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i={},o=Ec(a),c.prev=2,o.s();case 4:if((s=o.n()).done){c.next=11;break}if(l=s.value,l.id){c.next=8;break}throw Error("User ID is required when updating a user");case 8:i[l.id]=l;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),o.e(c.t0);case 16:return c.prev=16,o.f(),c.finish(16);case 19:return c.next=21,this.post(this.baseURL+"/users",{users:i});case 21:return c.abrupt("return",c.sent);case 22:case"end":return c.stop()}},r,this,[[2,13,16,19]])}));function n(r){return t.apply(this,arguments)}return n}()},{key:"upsertUser",value:function(n){return this.upsertUsers([n])}},{key:"partialUpdateUsers",value:function(){var t=Me(Q.mark(function r(a){var i,o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=Ec(a),u.prev=1,i.s();case 3:if((o=i.n()).done){u.next=9;break}if(s=o.value,s.id){u.next=7;break}throw Error("User ID is required when updating a user");case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:return u.next=19,this.patch(this.baseURL+"/users",{users:a});case 19:return u.abrupt("return",u.sent);case 20:case"end":return u.stop()}},r,this,[[1,11,14,17]])}));function n(r){return t.apply(this,arguments)}return n}()},{key:"deleteUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.delete(this.baseURL+"/users/".concat(a),i);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"restoreUsers",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/users/restore",{user_ids:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"reactivateUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/users/".concat(a,"/reactivate"),ft({},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"reactivateUsers",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/users/reactivate",ft({user_ids:a},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"deactivateUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/users/".concat(a,"/deactivate"),ft({},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"deactivateUsers",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/users/deactivate",ft({user_ids:a},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"exportUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.get(this.baseURL+"/users/".concat(a,"/export"),ft({},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"banUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/moderation/ban",ft({target_user_id:a},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"unbanUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.delete(this.baseURL+"/moderation/ban",ft({target_user_id:a},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"shadowBan",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.banUser(a,ft({shadow:!0},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"removeShadowBan",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.unbanUser(a,ft({shadow:!0},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"muteUser",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this.post(this.baseURL+"/moderation/mute",ft(ft({target_id:a},i?{user_id:i}:{}),o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"unmuteUser",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/moderation/unmute",ft({target_id:a},i?{user_id:i}:{}));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"userMuteStatus",value:function(n){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(var r=0;r<this.mutedUsers.length;r+=1)if(this.mutedUsers[r].target.id===n)return!0;return!1}},{key:"flagMessage",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/flag",ft({target_message_id:a},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"flagUser",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/flag",ft({target_user_id:a},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"unflagMessage",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unflag",ft({target_message_id:a},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"unflagUser",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unflag",ft({target_user_id:a},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getCallToken",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/calls/".concat(a),ft({},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"_queryFlags",value:function(){var t=Me(Q.mark(function r(){var a,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=o.length>0&&o[0]!==void 0?o[0]:{},i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=4,this.post(this.baseURL+"/moderation/flags",ft({filter_conditions:a},i));case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"_queryFlagReports",value:function(){var t=Me(Q.mark(function r(){var a,i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=o.length>0&&o[0]!==void 0?o[0]:{},i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=4,this.post(this.baseURL+"/moderation/reports",ft({filter_conditions:a},i));case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"_reviewFlagReport",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=3,this.patch(this.baseURL+"/moderation/reports/".concat(a),ft({review_result:i},o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"unblockMessage",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unblock_message",ft({target_message_id:a},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"markChannelsRead",value:function(){var t=Me(Q.mark(function r(){var a,i=arguments;return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},s.next=3,this.post(this.baseURL+"/channels/read",ft({},a));case 3:case"end":return s.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"createCommand",value:function(n){return this.post(this.baseURL+"/commands",n)}},{key:"getCommand",value:function(n){return this.get(this.baseURL+"/commands/".concat(n))}},{key:"updateCommand",value:function(n,r){return this.put(this.baseURL+"/commands/".concat(n),r)}},{key:"deleteCommand",value:function(n){return this.delete(this.baseURL+"/commands/".concat(n))}},{key:"listCommands",value:function(){return this.get(this.baseURL+"/commands")}},{key:"createChannelType",value:function(n){var r=Lu({},{commands:["all"]},n);return this.post(this.baseURL+"/channeltypes",r)}},{key:"getChannelType",value:function(n){return this.get(this.baseURL+"/channeltypes/".concat(n))}},{key:"updateChannelType",value:function(n,r){return this.put(this.baseURL+"/channeltypes/".concat(n),r)}},{key:"deleteChannelType",value:function(n){return this.delete(this.baseURL+"/channeltypes/".concat(n))}},{key:"listChannelTypes",value:function(){return this.get(this.baseURL+"/channeltypes")}},{key:"translateMessage",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/messages/".concat(a,"/translate"),{language:i});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"_normalizeExpiration",value:function(n){var r=null;if(typeof n=="number"){var a=new Date;a.setSeconds(a.getSeconds()+n),r=a.toISOString()}else zl(n)?r=n:n instanceof Date&&(r=n.toISOString());return r}},{key:"_validateAndGetMessageId",value:function(n,r){var a;if(typeof n=="string")a=n;else{if(!n.id)throw Error(r);a=n.id}return a}},{key:"pinMessage",value:function(n,r,a,i){var o=this._validateAndGetMessageId(n,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(o,{set:{pinned:!0,pin_expires:this._normalizeExpiration(r),pinned_at:this._normalizeExpiration(i)}},a)}},{key:"unpinMessage",value:function(n,r){var a=this._validateAndGetMessageId(n,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(a,{set:{pinned:!1}},r)}},{key:"updateMessage",value:function(){var t=Me(Q.mark(function r(a,i,o){var s,l;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a.id){c.next=2;break}throw Error("Please specify the message id when calling updateMessage");case 2:return s=Lu({},a),delete s.id,l=["command","created_at","html","latest_reactions","own_reactions","quoted_message","reaction_counts","reply_count","type","updated_at","user","__html"],l.forEach(function(d){s[d]!=null&&delete s[d]}),i!=null&&(zl(i)?s.user_id=i:s.user={id:i.id}),Array.isArray(s.mentioned_users)&&!zl(s.mentioned_users[0])&&(s.mentioned_users=s.mentioned_users.map(function(d){return d.id})),c.next=10,this.post(this.baseURL+"/messages/".concat(a.id),ft({message:s},o));case 10:return c.abrupt("return",c.sent);case 11:case"end":return c.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"partialUpdateMessage",value:function(){var t=Me(Q.mark(function r(a,i,o,s){var l;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a){c.next=2;break}throw Error("Please specify the message id when calling partialUpdateMessage");case 2:return l=o,o!=null&&zl(o)&&(l={id:o}),c.next=6,this.put(this.baseURL+"/messages/".concat(a),ft(ft(ft({},i),s),{},{user:l}));case 6:return c.abrupt("return",c.sent);case 7:case"end":return c.stop()}},r,this)}));function n(r,a,i,o){return t.apply(this,arguments)}return n}()},{key:"deleteMessage",value:function(){var t=Me(Q.mark(function r(a,i){var o;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={},i&&(o={hard:!0}),l.next=4,this.delete(this.baseURL+"/messages/".concat(a),o);case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"undeleteMessage",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/messages/".concat(a,"/undelete"),{undeleted_by:i});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"getMessage",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.get(this.baseURL+"/messages/".concat(encodeURIComponent(a)),ft({},i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"queryThreads",value:function(){var t=Me(Q.mark(function r(a){var i=this,o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=ft({limit:10,participant_limit:10,reply_limit:3,watch:!0},a),u.next=3,this.post(this.baseURL+"/threads",o);case 3:return s=u.sent,u.abrupt("return",{threads:s.threads.map(function(c){return new Ab(i,c)}),next:s.next});case 5:case"end":return u.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getThread",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=l.length>1&&l[1]!==void 0?l[1]:{},a){c.next=3;break}throw Error("Please specify the message id when calling partialUpdateThread");case 3:return o=ft({participant_limit:100,reply_limit:3,watch:!0},i),c.next=6,this.get(this.baseURL+"/threads/".concat(a),o);case 6:return s=c.sent,c.abrupt("return",new Ab(this,s.thread));case 8:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"partialUpdateThread",value:function(){var t=Me(Q.mark(function r(a,i){var o,s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(a){u.next=2;break}throw Error("Please specify the message id when calling partialUpdateThread");case 2:o=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel"],u.t0=Q.keys(ft(ft({},i.set),i.unset));case 4:if((u.t1=u.t0()).done){u.next=10;break}if(s=u.t1.value,!o.includes(s)){u.next=8;break}throw Error("You cannot set ".concat(s," field on Thread object. ").concat(s," is reserved for server-side use. Please omit ").concat(s," from your set object."));case 8:u.next=4;break;case 10:return u.next=12,this.patch(this.baseURL+"/threads/".concat(a),i);case 12:return u.abrupt("return",u.sent);case 13:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"getUserAgent",value:function(){return this.userAgent||"stream-chat-javascript-client-".concat(this.node?"node":"browser","-","8.33.0")}},{key:"setUserAgent",value:function(n){this.userAgent=n}},{key:"_enrichAxiosOptions",value:function(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{params:{},headers:{},config:{}},a=this._getToken(),i=a?{Authorization:a}:void 0,o=null;this.nextRequestAbortController!==null&&(o=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),(n=r.headers)!==null&&n!==void 0&&n["x-client-request-id"]||(r.headers=ft(ft({},r.headers),{},{"x-client-request-id":mu()}));var s=this.options.axiosRequestConfig||{},l=s.params,u=s.headers,c=Qv(s,zP);return ft(ft(ft({params:ft(ft({user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key},r.params),l||{}),headers:ft(ft(ft({},i),{},{"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent()},r.headers),u||{})},o?{signal:o}:{}),r.config),c||{})}},{key:"_getToken",value:function(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}},{key:"_startCleaning",value:function(){var n=this;this.cleaningIntervalRef==null&&(this.cleaningIntervalRef=setInterval(function(){for(var r=0,a=Object.values(n.activeChannels);r<a.length;r++){var i=a[r];i.clean()}},500))}},{key:"verifyWebhook",value:function(n,r){return!!this.secret&&kP(n,this.secret,r)}},{key:"getPermission",value:function(n){return this.get("".concat(this.baseURL,"/permissions/").concat(n))}},{key:"createPermission",value:function(n){return this.post("".concat(this.baseURL,"/permissions"),ft({},n))}},{key:"updatePermission",value:function(n,r){return this.put("".concat(this.baseURL,"/permissions/").concat(n),ft({},r))}},{key:"deletePermission",value:function(n){return this.delete("".concat(this.baseURL,"/permissions/").concat(n))}},{key:"listPermissions",value:function(){return this.get("".concat(this.baseURL,"/permissions"))}},{key:"createRole",value:function(n){return this.post("".concat(this.baseURL,"/roles"),{name:n})}},{key:"listRoles",value:function(){return this.get("".concat(this.baseURL,"/roles"))}},{key:"deleteRole",value:function(n){return this.delete("".concat(this.baseURL,"/roles/").concat(n))}},{key:"sync",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.post("".concat(this.baseURL,"/sync"),ft({channel_cids:n,last_sync_at:r},a))}},{key:"sendUserCustomEvent",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post("".concat(this.baseURL,"/users/").concat(a,"/event"),{event:i});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"createBlockList",value:function(n){return this.post("".concat(this.baseURL,"/blocklists"),n)}},{key:"listBlockLists",value:function(){return this.get("".concat(this.baseURL,"/blocklists"))}},{key:"getBlockList",value:function(n){return this.get("".concat(this.baseURL,"/blocklists/").concat(n))}},{key:"updateBlockList",value:function(n,r){return this.put("".concat(this.baseURL,"/blocklists/").concat(n),r)}},{key:"deleteBlockList",value:function(n){return this.delete("".concat(this.baseURL,"/blocklists/").concat(n))}},{key:"exportChannels",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=ft({channels:n},r);return this.post("".concat(this.baseURL,"/export_channels"),a)}},{key:"exportUsers",value:function(n){return this.post("".concat(this.baseURL,"/export/users"),n)}},{key:"exportChannel",value:function(n,r){return this.exportChannels([n],r)}},{key:"getExportChannelStatus",value:function(n){return this.get("".concat(this.baseURL,"/export_channels/").concat(n))}},{key:"campaign",value:function(n,r){return n&&Sr(n)==="object"?new Mb(this,null,n):new Mb(this,n,r)}},{key:"segment",value:function(n,r,a){return typeof r=="string"?new Tb(this,n,r,a):new Tb(this,n,null,r)}},{key:"validateServerSideAuth",value:function(){if(!this.secret)throw new Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}},{key:"createSegment",value:function(){var t=Me(Q.mark(function r(a,i,o){var s;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.validateServerSideAuth(),s=ft({id:i,type:a},o),u.abrupt("return",this.post(this.baseURL+"/segments",s));case 3:case"end":return u.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"createUserSegment",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.validateServerSideAuth(),s.abrupt("return",this.createSegment("user",a,i));case 2:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"createChannelSegment",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.validateServerSideAuth(),s.abrupt("return",this.createSegment("channel",a,i));case 2:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"getSegment",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.get(this.baseURL+"/segments/".concat(a)));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"updateSegment",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.validateServerSideAuth(),s.abrupt("return",this.put(this.baseURL+"/segments/".concat(a),i));case 2:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"addSegmentTargets",value:function(){var t=Me(Q.mark(function r(a,i){var o;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.validateServerSideAuth(),o={target_ids:i},l.abrupt("return",this.post(this.baseURL+"/segments/".concat(a,"/addtargets"),o));case 3:case"end":return l.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"querySegmentTargets",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=l.length>1&&l[1]!==void 0?l[1]:{},o=l.length>2&&l[2]!==void 0?l[2]:[],s=l.length>3&&l[3]!==void 0?l[3]:{},this.validateServerSideAuth(),c.abrupt("return",this.post(this.baseURL+"/segments/".concat(a,"/targets/query"),ft({filter:i||{},sort:o||[]},s)));case 5:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"removeSegmentTargets",value:function(){var t=Me(Q.mark(function r(a,i){var o;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.validateServerSideAuth(),o={target_ids:i},l.abrupt("return",this.post(this.baseURL+"/segments/".concat(a,"/deletetargets"),o));case 3:case"end":return l.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"querySegments",value:function(){var t=Me(Q.mark(function r(a,i){var o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=s.length>2&&s[2]!==void 0?s[2]:{},this.validateServerSideAuth(),u.abrupt("return",this.post(this.baseURL+"/segments/query",ft({filter:a,sort:i},o)));case 3:case"end":return u.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"deleteSegment",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.delete(this.baseURL+"/segments/".concat(a)));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"segmentTargetExists",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.validateServerSideAuth(),s.abrupt("return",this.get(this.baseURL+"/segments/".concat(a,"/target/").concat(i)));case 2:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"createCampaign",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.post(this.baseURL+"/campaigns",ft({},a)));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getCampaign",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.get(this.baseURL+"/campaigns/".concat(a)));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"startCampaign",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.validateServerSideAuth(),s.abrupt("return",this.post(this.baseURL+"/campaigns/".concat(a,"/start"),{scheduled_for:i==null?void 0:i.scheduledFor,stop_at:i==null?void 0:i.stopAt}));case 2:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"queryCampaigns",value:function(){var t=Me(Q.mark(function r(a,i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.validateServerSideAuth(),l.next=3,this.post(this.baseURL+"/campaigns/query",ft({filter:a,sort:i},o||{}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"updateCampaign",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.validateServerSideAuth(),s.abrupt("return",this.put(this.baseURL+"/campaigns/".concat(a),i));case 2:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"deleteCampaign",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.delete(this.baseURL+"/campaigns/".concat(a)));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"stopCampaign",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.post(this.baseURL+"/campaigns/".concat(a,"/stop")));case 2:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"enrichURL",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.get(this.baseURL+"/og",{url:a}));case 1:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getTask",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.get("".concat(this.baseURL,"/tasks/").concat(a)));case 1:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"deleteChannels",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/channels/delete",ft({cids:a},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"deleteUsers",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i=o.length>1&&o[1]!==void 0?o[1]:{},!(typeof i.user<"u"&&!["soft","hard","pruning"].includes(i.user))){l.next=3;break}throw new Error("Invalid delete user options. user must be one of [soft hard pruning]");case 3:if(!(typeof i.conversations<"u"&&!["soft","hard"].includes(i.conversations))){l.next=5;break}throw new Error("Invalid delete user options. conversations must be one of [soft hard]");case 5:if(!(typeof i.messages<"u"&&!["soft","hard","pruning"].includes(i.messages))){l.next=7;break}throw new Error("Invalid delete user options. messages must be one of [soft hard pruning]");case 7:return l.next=9,this.post(this.baseURL+"/users/delete",ft({user_ids:a},i));case 9:return l.abrupt("return",l.sent);case 10:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"_createImportURL",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/import_urls",{filename:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"_createImport",value:function(){var t=Me(Q.mark(function r(a){var i,o=arguments;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>1&&o[1]!==void 0?o[1]:{mode:"upsert"},l.next=3,this.post(this.baseURL+"/imports",ft({path:a},i));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"_getImport",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/imports/".concat(a));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"_listImports",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/imports",a);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"upsertPushProvider",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/push_providers",{push_provider:a});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"deletePushProvider",value:function(){var t=Me(Q.mark(function r(a){var i,o;return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=a.type,o=a.name,l.next=3,this.delete(this.baseURL+"/push_providers/".concat(i,"/").concat(o));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"listPushProviders",value:function(){var t=Me(Q.mark(function r(){return Q.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.get(this.baseURL+"/push_providers");case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"createAbortControllerForNextRequest",value:function(){return this.nextRequestAbortController=new AbortController}},{key:"commitMessage",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/messages/".concat(a,"/commit"));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createPoll",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/polls",a);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getPoll",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.get(this.baseURL+"/polls/".concat(a),ft({},i?{user_id:i}:{}));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"updatePoll",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.put(this.baseURL+"/polls",a);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"partialUpdatePoll",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.patch(this.baseURL+"/polls/".concat(a),i);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"deletePoll",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.delete(this.baseURL+"/polls/".concat(a),ft({},i?{user_id:i}:{}));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"closePoll",value:function(){var t=Me(Q.mark(function r(a){return Q.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.partialUpdatePoll(a,{set:{is_closed:!0}}));case 1:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createPollOption",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.post(this.baseURL+"/polls/".concat(a,"/options"),i);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"getPollOption",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.get(this.baseURL+"/polls/".concat(a,"/options/").concat(i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"updatePollOption",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.put(this.baseURL+"/polls/".concat(a,"/options"),i);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"deletePollOption",value:function(){var t=Me(Q.mark(function r(a,i){return Q.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.delete(this.baseURL+"/polls/".concat(a,"/options/").concat(i));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));function n(r,a){return t.apply(this,arguments)}return n}()},{key:"castPollVote",value:function(){var t=Me(Q.mark(function r(a,i,o){var s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=l.length>3&&l[3]!==void 0?l[3]:{},c.next=3,this.post(this.baseURL+"/messages/".concat(a,"/polls/").concat(i,"/vote"),ft({vote:o},s));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"addPollAnswer",value:function(){var t=Me(Q.mark(function r(a,i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.castPollVote(a,i,{answer_text:o}));case 1:case"end":return l.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"removePollVote",value:function(){var t=Me(Q.mark(function r(a,i,o){return Q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.delete(this.baseURL+"/messages/".concat(a,"/polls/").concat(i,"/vote/").concat(o));case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r,this)}));function n(r,a,i){return t.apply(this,arguments)}return n}()},{key:"queryPolls",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=s.length>0&&s[0]!==void 0?s[0]:{},i=s.length>1&&s[1]!==void 0?s[1]:[],o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=5,this.post(this.baseURL+"/polls/query",ft({filter:a,sort:ui(i)},o));case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"queryPollVotes",value:function(){var t=Me(Q.mark(function r(a){var i,o,s,l=arguments;return Q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=l.length>1&&l[1]!==void 0?l[1]:{},o=l.length>2&&l[2]!==void 0?l[2]:[],s=l.length>3&&l[3]!==void 0?l[3]:{},c.next=5,this.post(this.baseURL+"/polls/".concat(a,"/votes"),ft({filter:i,sort:ui(o)},s));case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"queryMessageHistory",value:function(){var t=Me(Q.mark(function r(){var a,i,o,s=arguments;return Q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=s.length>0&&s[0]!==void 0?s[0]:{},i=s.length>1&&s[1]!==void 0?s[1]:[],o=s.length>2&&s[2]!==void 0?s[2]:{},u.next=5,this.post(this.baseURL+"/messages/history",ft({filter:a,sort:ui(i)},o));case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},r,this)}));function n(){return t.apply(this,arguments)}return n}()}],[{key:"getInstance",value:function(n,r,a){return e._instance||(typeof r=="string"?e._instance=new e(n,r,a):e._instance=new e(n,r)),e._instance}}]),e}();be(bD,"_instance",void 0);var wD="Allow",HP="Deny",Jy=["*"],e2=["*"],VP=999,WP=1,ED=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jy,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e2,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:wD;rr(this,e),be(this,"name",void 0),be(this,"action",void 0),be(this,"owner",void 0),be(this,"priority",void 0),be(this,"resources",void 0),be(this,"roles",void 0),this.name=t,this.action=o,this.owner=i,this.priority=n,this.resources=r,this.roles=a};new ED("Allow all",VP,Jy,e2,!1,wD);new ED("Deny all",WP,Jy,e2,!1,HP);var l0=function(e,t){return l0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},l0(e,t)};function t2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ne=function(){return ne=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ne.apply(this,arguments)};function Bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function St(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}function Dt(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Fb(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Vt(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var CD={},SD={},An={},qP=function(t,n,r){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},i.type=n.type||"text/javascript",i.charset=n.charset||"utf8",i.async="async"in n?!!n.async:!0,i.src=t,n.attrs&&YP(i,n.attrs),n.text&&(i.text=""+n.text);var o="onload"in i?Nb:KP;o(i,r),i.onload||Nb(i,r),a.appendChild(i)};function YP(e,t){for(var n in t)e.setAttribute(n,t[n])}function Nb(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function KP(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var GP=function(t){return ZP(t)&&!XP(t)};function ZP(e){return!!e&&typeof e=="object"}function XP(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||eO(e)}var QP=typeof Symbol=="function"&&Symbol.for,JP=QP?Symbol.for("react.element"):60103;function eO(e){return e.$$typeof===JP}function tO(e){return Array.isArray(e)?[]:{}}function Md(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Fu(tO(e),e,t):e}function nO(e,t,n){return e.concat(t).map(function(r){return Md(r,n)})}function rO(e,t){if(!t.customMerge)return Fu;var n=t.customMerge(e);return typeof n=="function"?n:Fu}function aO(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Ub(e){return Object.keys(e).concat(aO(e))}function DD(e,t){try{return t in e}catch{return!1}}function iO(e,t){return DD(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function oO(e,t,n){var r={};return n.isMergeableObject(e)&&Ub(e).forEach(function(a){r[a]=Md(e[a],n)}),Ub(t).forEach(function(a){iO(e,a)||(DD(e,a)&&n.isMergeableObject(t[a])?r[a]=rO(a,n)(e[a],t[a],n):r[a]=Md(t[a],n))}),r}function Fu(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||nO,n.isMergeableObject=n.isMergeableObject||GP,n.cloneUnlessOtherwiseSpecified=Md;var r=Array.isArray(t),a=Array.isArray(e),i=r===a;return i?r?n.arrayMerge(e,t,n):oO(e,t,n):Md(t,n)}Fu.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,a){return Fu(r,a,n)},{})};var sO=Fu,kD=sO;Object.defineProperty(An,"__esModule",{value:!0});An.parseStartTime=_O;An.parseEndTime=bO;An.randomString=wO;An.queryString=EO;An.getSDK=CO;An.getConfig=SO;An.omit=DO;An.callPlayer=kO;An.isMediaStream=MO;An.isBlobUrl=TO;An.supportsWebKitPresentationMode=xO;var lO=MD(qP),uO=MD(kD);function MD(e){return e&&e.__esModule?e:{default:e}}function cO(e,t){return pO(e)||hO(e,t)||fO(e,t)||dO()}function dO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fO(e,t){if(e){if(typeof e=="string")return Bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(e,t)}}function Bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hO(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){a=!0,i=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function pO(e){if(Array.isArray(e))return e}var mO=/[?&#](?:start|t)=([0-9hms]+)/,gO=/[?&#]end=([0-9hms]+)/,u0=/(\d+)(h|m|s)/g,vO=/^\d+$/;function TD(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(u0))return yO(r);if(vO.test(r))return parseInt(r)}}}function yO(e){for(var t=0,n=u0.exec(e);n!==null;){var r=n,a=cO(r,3),i=a[1],o=a[2];o==="h"&&(t+=parseInt(i,10)*60*60),o==="m"&&(t+=parseInt(i,10)*60),o==="s"&&(t+=parseInt(i,10)),n=u0.exec(e)}return t}function _O(e){return TD(e,mO)}function bO(e){return TD(e,gO)}function wO(){return Math.random().toString(36).substr(2,5)}function EO(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&")}function Gg(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var $l={};function CO(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:lO.default,i=Gg(t);return i&&r(i)?Promise.resolve(i):new Promise(function(o,s){if($l[e]){$l[e].push({resolve:o,reject:s});return}$l[e]=[{resolve:o,reject:s}];var l=function(d){$l[e].forEach(function(f){return f.resolve(d)})};if(n){var u=window[n];window[n]=function(){u&&u(),l(Gg(t))}}a(e,function(c){c?($l[e].forEach(function(d){return d.reject(c)}),$l[e]=null):n||l(Gg(t))})})}function SO(e,t){return(0,uO.default)(t.config,e.config)}function DO(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=(t=[]).concat.apply(t,r),o={},s=Object.keys(e),l=0,u=s;l<u.length;l++){var c=u[l];i.indexOf(c)===-1&&(o[c]=e[c])}return o}function kO(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c  ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return(t=this.player)[e].apply(t,a)}function MO(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function TO(e){return/^blob:/.test(e)}function xO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.canPlay=$t.FLV_EXTENSIONS=$t.DASH_EXTENSIONS=$t.HLS_EXTENSIONS=$t.VIDEO_EXTENSIONS=$t.AUDIO_EXTENSIONS=$t.MATCH_URL_KALTURA=$t.MATCH_URL_VIDYARD=$t.MATCH_URL_MIXCLOUD=$t.MATCH_URL_DAILYMOTION=$t.MATCH_URL_TWITCH_CHANNEL=$t.MATCH_URL_TWITCH_VIDEO=$t.MATCH_URL_WISTIA=$t.MATCH_URL_STREAMABLE=$t.MATCH_URL_FACEBOOK_WATCH=$t.MATCH_URL_FACEBOOK=$t.MATCH_URL_VIMEO=$t.MATCH_URL_SOUNDCLOUD=$t.MATCH_URL_YOUTUBE=void 0;var jb=An;function RO(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=PO(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var u=n.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function PO(e,t){if(e){if(typeof e=="string")return zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(e,t)}}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c0=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;$t.MATCH_URL_YOUTUBE=c0;var xD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;$t.MATCH_URL_SOUNDCLOUD=xD;var RD=/vimeo\.com\/(?!progressive_redirect).+/;$t.MATCH_URL_VIMEO=RD;var PD=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;$t.MATCH_URL_FACEBOOK=PD;var OD=/^https?:\/\/fb\.watch\/.+$/;$t.MATCH_URL_FACEBOOK_WATCH=OD;var AD=/streamable\.com\/([a-z0-9]+)$/;$t.MATCH_URL_STREAMABLE=AD;var LD=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;$t.MATCH_URL_WISTIA=LD;var ID=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;$t.MATCH_URL_TWITCH_VIDEO=ID;var FD=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;$t.MATCH_URL_TWITCH_CHANNEL=FD;var ND=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;$t.MATCH_URL_DAILYMOTION=ND;var UD=/mixcloud\.com\/([^/]+\/[^/]+)/;$t.MATCH_URL_MIXCLOUD=UD;var BD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;$t.MATCH_URL_VIDYARD=BD;var jD=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;$t.MATCH_URL_KALTURA=jD;var n2=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;$t.AUDIO_EXTENSIONS=n2;var r2=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;$t.VIDEO_EXTENSIONS=r2;var a2=/\.(m3u8)($|\?)/i;$t.HLS_EXTENSIONS=a2;var zD=/\.(mpd)($|\?)/i;$t.DASH_EXTENSIONS=zD;var $D=/\.(flv)($|\?)/i;$t.FLV_EXTENSIONS=$D;var OO=function e(t){if(t instanceof Array){var n=RO(t),r;try{for(n.s();!(r=n.n()).done;){var a=r.value;if(typeof a=="string"&&e(a)||e(a.src))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}return(0,jb.isMediaStream)(t)||(0,jb.isBlobUrl)(t)?!0:n2.test(t)||r2.test(t)||a2.test(t)||zD.test(t)||$D.test(t)},AO={youtube:function(t){return t instanceof Array?t.every(function(n){return c0.test(n)}):c0.test(t)},soundcloud:function(t){return xD.test(t)&&!n2.test(t)},vimeo:function(t){return RD.test(t)&&!r2.test(t)&&!a2.test(t)},facebook:function(t){return PD.test(t)||OD.test(t)},streamable:function(t){return AD.test(t)},wistia:function(t){return LD.test(t)},twitch:function(t){return ID.test(t)||FD.test(t)},dailymotion:function(t){return ND.test(t)},mixcloud:function(t){return UD.test(t)},vidyard:function(t){return BD.test(t)},kaltura:function(t){return jD.test(t)},file:OO};$t.canPlay=AO;var Zg={},$b;function LO(){return $b||($b=1,function(e){function t(F){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(R){return typeof R}:t=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},t(F)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var F=new WeakMap;return i=function(){return F},F}function o(F){if(F&&F.__esModule)return F;if(F===null||t(F)!=="object"&&typeof F!="function")return{default:F};var U=i();if(U&&U.has(F))return U.get(F);var R={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in F)if(Object.prototype.hasOwnProperty.call(F,A)){var x=O?Object.getOwnPropertyDescriptor(F,A):null;x&&(x.get||x.set)?Object.defineProperty(R,A,x):R[A]=F[A]}return R.default=F,U&&U.set(F,R),R}function s(F,U){var R=Object.keys(F);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(F);U&&(O=O.filter(function(A){return Object.getOwnPropertyDescriptor(F,A).enumerable})),R.push.apply(R,O)}return R}function l(F){for(var U=1;U<arguments.length;U++){var R=arguments[U]!=null?arguments[U]:{};U%2?s(Object(R),!0).forEach(function(O){k(F,O,R[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(R)):s(Object(R)).forEach(function(O){Object.defineProperty(F,O,Object.getOwnPropertyDescriptor(R,O))})}return F}function u(F,U){return p(F)||h(F,U)||d(F,U)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(F,U){if(F){if(typeof F=="string")return f(F,U);var R=Object.prototype.toString.call(F).slice(8,-1);if(R==="Object"&&F.constructor&&(R=F.constructor.name),R==="Map"||R==="Set")return Array.from(F);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return f(F,U)}}function f(F,U){(U==null||U>F.length)&&(U=F.length);for(var R=0,O=new Array(U);R<U;R++)O[R]=F[R];return O}function h(F,U){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(F)))){var R=[],O=!0,A=!1,x=void 0;try{for(var j=F[Symbol.iterator](),V;!(O=(V=j.next()).done)&&(R.push(V.value),!(U&&R.length===U));O=!0);}catch(X){A=!0,x=X}finally{try{!O&&j.return!=null&&j.return()}finally{if(A)throw x}}return R}}function p(F){if(Array.isArray(F))return F}function w(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}function D(F,U){for(var R=0;R<U.length;R++){var O=U[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}function E(F,U,R){return U&&D(F.prototype,U),F}function g(F,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),U&&C(F,U)}function C(F,U){return C=Object.setPrototypeOf||function(O,A){return O.__proto__=A,O},C(F,U)}function M(F){var U=S();return function(){var O=y(F),A;if(U){var x=y(this).constructor;A=Reflect.construct(O,arguments,x)}else A=O.apply(this,arguments);return m(this,A)}}function m(F,U){return U&&(t(U)==="object"||typeof U=="function")?U:b(F)}function b(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function y(F){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},y(F)}function k(F,U,R){return U in F?Object.defineProperty(F,U,{value:R,enumerable:!0,configurable:!0,writable:!0}):F[U]=R,F}var _="https://www.youtube.com/iframe_api",P="YT",z="onYouTubeIframeAPIReady",N=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,T=/user\/([a-zA-Z0-9_-]+)\/?/,L=/youtube-nocookie\.com/,I="https://www.youtube-nocookie.com",B=function(F){g(R,F);var U=M(R);function R(){var O;w(this,R);for(var A=arguments.length,x=new Array(A),j=0;j<A;j++)x[j]=arguments[j];return O=U.call.apply(U,[this].concat(x)),k(b(O),"callPlayer",r.callPlayer),k(b(O),"parsePlaylist",function(V){if(V instanceof Array)return{listType:"playlist",playlist:V.map(O.getID).join(",")};if(N.test(V)){var X=V.match(N),re=u(X,2),W=re[1];return{listType:"playlist",list:W.replace(/^UC/,"UU")}}if(T.test(V)){var J=V.match(T),oe=u(J,2),he=oe[1];return{listType:"user_uploads",list:he}}return{}}),k(b(O),"onStateChange",function(V){var X=V.data,re=O.props,W=re.onPlay,J=re.onPause,oe=re.onBuffer,he=re.onBufferEnd,Oe=re.onEnded,$e=re.onReady,Ie=re.loop,ze=re.config,We=ze.playerVars,at=ze.onUnstarted,bt=window[P].PlayerState,H=bt.UNSTARTED,q=bt.PLAYING,De=bt.PAUSED,Fe=bt.BUFFERING,Qe=bt.ENDED,le=bt.CUED;if(X===H&&at(),X===q&&(W(),he()),X===De&&J(),X===Fe&&oe(),X===Qe){var Ne=!!O.callPlayer("getPlaylist");Ie&&!Ne&&(We.start?O.seekTo(We.start):O.play()),Oe()}X===le&&$e()}),k(b(O),"mute",function(){O.callPlayer("mute")}),k(b(O),"unmute",function(){O.callPlayer("unMute")}),k(b(O),"ref",function(V){O.container=V}),O}return E(R,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(A){return!A||A instanceof Array||N.test(A)?null:A.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(A,x){var j=this,V=this.props,X=V.playing,re=V.muted,W=V.playsinline,J=V.controls,oe=V.loop,he=V.config,Oe=V.onError,$e=he.playerVars,Ie=he.embedOptions,ze=this.getID(A);if(x){if(N.test(A)||T.test(A)||A instanceof Array){this.player.loadPlaylist(this.parsePlaylist(A));return}this.player.cueVideoById({videoId:ze,startSeconds:(0,r.parseStartTime)(A)||$e.start,endSeconds:(0,r.parseEndTime)(A)||$e.end});return}(0,r.getSDK)(_,P,z,function(We){return We.loaded}).then(function(We){j.container&&(j.player=new We.Player(j.container,l({width:"100%",height:"100%",videoId:ze,playerVars:l(l({autoplay:X?1:0,mute:re?1:0,controls:J?1:0,start:(0,r.parseStartTime)(A),end:(0,r.parseEndTime)(A),origin:window.location.origin,playsinline:W?1:0},j.parsePlaylist(A)),$e),events:{onReady:function(){oe&&j.player.setLoop(!0),j.props.onReady()},onPlaybackRateChange:function(bt){return j.props.onPlaybackRateChange(bt.data)},onStateChange:j.onStateChange,onError:function(bt){return Oe(bt.data)}},host:L.test(A)?I:void 0},Ie)))},Oe),Ie.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayers callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(A){this.callPlayer("seekTo",A),this.props.playing||this.pause()}},{key:"setVolume",value:function(A){this.callPlayer("setVolume",A*100)}},{key:"setPlaybackRate",value:function(A){this.callPlayer("setPlaybackRate",A)}},{key:"setLoop",value:function(A){this.callPlayer("setLoop",A)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var A=this.props.display,x={width:"100%",height:"100%",display:A};return n.default.createElement("div",{style:x},n.default.createElement("div",{ref:this.ref}))}}]),R}(n.Component);e.default=B,k(B,"displayName","YouTube"),k(B,"canPlay",a.canPlay.youtube)}(Zg)),Zg}var Xg={},Hb;function IO(){return Hb||(Hb=1,function(e){function t(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(k){return typeof k}:t=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},t(S)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return i=function(){return S},S}function o(S){if(S&&S.__esModule)return S;if(S===null||t(S)!=="object"&&typeof S!="function")return{default:S};var y=i();if(y&&y.has(S))return y.get(S);var k={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in S)if(Object.prototype.hasOwnProperty.call(S,P)){var z=_?Object.getOwnPropertyDescriptor(S,P):null;z&&(z.get||z.set)?Object.defineProperty(k,P,z):k[P]=S[P]}return k.default=S,y&&y.set(S,k),k}function s(S,y){var k=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);y&&(_=_.filter(function(P){return Object.getOwnPropertyDescriptor(S,P).enumerable})),k.push.apply(k,_)}return k}function l(S){for(var y=1;y<arguments.length;y++){var k=arguments[y]!=null?arguments[y]:{};y%2?s(Object(k),!0).forEach(function(_){C(S,_,k[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(k)):s(Object(k)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(k,_))})}return S}function u(S,y){if(!(S instanceof y))throw new TypeError("Cannot call a class as a function")}function c(S,y){for(var k=0;k<y.length;k++){var _=y[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}function d(S,y,k){return y&&c(S.prototype,y),S}function f(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),y&&h(S,y)}function h(S,y){return h=Object.setPrototypeOf||function(_,P){return _.__proto__=P,_},h(S,y)}function p(S){var y=E();return function(){var _=g(S),P;if(y){var z=g(this).constructor;P=Reflect.construct(_,arguments,z)}else P=_.apply(this,arguments);return w(this,P)}}function w(S,y){return y&&(t(y)==="object"||typeof y=="function")?y:D(S)}function D(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(S){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},g(S)}function C(S,y,k){return y in S?Object.defineProperty(S,y,{value:k,enumerable:!0,configurable:!0,writable:!0}):S[y]=k,S}var M="https://w.soundcloud.com/player/api.js",m="SC",b=function(S){f(k,S);var y=p(k);function k(){var _;u(this,k);for(var P=arguments.length,z=new Array(P),N=0;N<P;N++)z[N]=arguments[N];return _=y.call.apply(y,[this].concat(z)),C(D(_),"callPlayer",r.callPlayer),C(D(_),"duration",null),C(D(_),"currentTime",null),C(D(_),"fractionLoaded",null),C(D(_),"mute",function(){_.setVolume(0)}),C(D(_),"unmute",function(){_.props.volume!==null&&_.setVolume(_.props.volume)}),C(D(_),"ref",function(T){_.iframe=T}),_}return d(k,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(P,z){var N=this;(0,r.getSDK)(M,m).then(function(T){if(N.iframe){var L=T.Widget.Events,I=L.PLAY,B=L.PLAY_PROGRESS,F=L.PAUSE,U=L.FINISH,R=L.ERROR;z||(N.player=T.Widget(N.iframe),N.player.bind(I,N.props.onPlay),N.player.bind(F,function(){var O=N.duration-N.currentTime;O<.05||N.props.onPause()}),N.player.bind(B,function(O){N.currentTime=O.currentPosition/1e3,N.fractionLoaded=O.loadedProgress}),N.player.bind(U,function(){return N.props.onEnded()}),N.player.bind(R,function(O){return N.props.onError(O)})),N.player.load(P,l(l({},N.props.config.options),{},{callback:function(){N.player.getDuration(function(A){N.duration=A/1e3,N.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(P){this.callPlayer("seekTo",P*1e3)}},{key:"setVolume",value:function(P){this.callPlayer("setVolume",P*100)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var P=this.props.display,z={width:"100%",height:"100%",display:P};return n.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:z,frameBorder:0,allow:"autoplay"})}}]),k}(n.Component);e.default=b,C(b,"displayName","SoundCloud"),C(b,"canPlay",a.canPlay.soundcloud),C(b,"loopOnEnded",!0)}(Xg)),Xg}var Qg={},Vb;function FO(){return Vb||(Vb=1,function(e){function t(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(k){return typeof k}:t=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},t(S)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return i=function(){return S},S}function o(S){if(S&&S.__esModule)return S;if(S===null||t(S)!=="object"&&typeof S!="function")return{default:S};var y=i();if(y&&y.has(S))return y.get(S);var k={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in S)if(Object.prototype.hasOwnProperty.call(S,P)){var z=_?Object.getOwnPropertyDescriptor(S,P):null;z&&(z.get||z.set)?Object.defineProperty(k,P,z):k[P]=S[P]}return k.default=S,y&&y.set(S,k),k}function s(S,y){var k=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);y&&(_=_.filter(function(P){return Object.getOwnPropertyDescriptor(S,P).enumerable})),k.push.apply(k,_)}return k}function l(S){for(var y=1;y<arguments.length;y++){var k=arguments[y]!=null?arguments[y]:{};y%2?s(Object(k),!0).forEach(function(_){C(S,_,k[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(k)):s(Object(k)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(k,_))})}return S}function u(S,y){if(!(S instanceof y))throw new TypeError("Cannot call a class as a function")}function c(S,y){for(var k=0;k<y.length;k++){var _=y[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}function d(S,y,k){return y&&c(S.prototype,y),S}function f(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),y&&h(S,y)}function h(S,y){return h=Object.setPrototypeOf||function(_,P){return _.__proto__=P,_},h(S,y)}function p(S){var y=E();return function(){var _=g(S),P;if(y){var z=g(this).constructor;P=Reflect.construct(_,arguments,z)}else P=_.apply(this,arguments);return w(this,P)}}function w(S,y){return y&&(t(y)==="object"||typeof y=="function")?y:D(S)}function D(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(S){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},g(S)}function C(S,y,k){return y in S?Object.defineProperty(S,y,{value:k,enumerable:!0,configurable:!0,writable:!0}):S[y]=k,S}var M="https://player.vimeo.com/api/player.js",m="Vimeo",b=function(S){f(k,S);var y=p(k);function k(){var _;u(this,k);for(var P=arguments.length,z=new Array(P),N=0;N<P;N++)z[N]=arguments[N];return _=y.call.apply(y,[this].concat(z)),C(D(_),"callPlayer",r.callPlayer),C(D(_),"duration",null),C(D(_),"currentTime",null),C(D(_),"secondsLoaded",null),C(D(_),"mute",function(){_.setVolume(0)}),C(D(_),"unmute",function(){_.props.volume!==null&&_.setVolume(_.props.volume)}),C(D(_),"ref",function(T){_.container=T}),_}return d(k,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(P){var z=this;this.duration=null,(0,r.getSDK)(M,m).then(function(N){if(z.container){var T=z.props.config,L=T.playerOptions,I=T.title;z.player=new N.Player(z.container,l({url:P,autoplay:z.props.playing,muted:z.props.muted,loop:z.props.loop,playsinline:z.props.playsinline,controls:z.props.controls},L)),z.player.ready().then(function(){var B=z.container.querySelector("iframe");B.style.width="100%",B.style.height="100%",I&&(B.title=I)}).catch(z.props.onError),z.player.on("loaded",function(){z.props.onReady(),z.refreshDuration()}),z.player.on("play",function(){z.props.onPlay(),z.refreshDuration()}),z.player.on("pause",z.props.onPause),z.player.on("seeked",function(B){return z.props.onSeek(B.seconds)}),z.player.on("ended",z.props.onEnded),z.player.on("error",z.props.onError),z.player.on("timeupdate",function(B){var F=B.seconds;z.currentTime=F}),z.player.on("progress",function(B){var F=B.seconds;z.secondsLoaded=F}),z.player.on("bufferstart",z.props.onBuffer),z.player.on("bufferend",z.props.onBufferEnd)}},this.props.onError)}},{key:"refreshDuration",value:function(){var P=this;this.player.getDuration().then(function(z){P.duration=z})}},{key:"play",value:function(){var P=this.callPlayer("play");P&&P.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(P){this.callPlayer("setCurrentTime",P)}},{key:"setVolume",value:function(P){this.callPlayer("setVolume",P)}},{key:"setLoop",value:function(P){this.callPlayer("setLoop",P)}},{key:"setPlaybackRate",value:function(P){this.callPlayer("setPlaybackRate",P)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var P=this.props.display,z={width:"100%",height:"100%",overflow:"hidden",display:P};return n.default.createElement("div",{key:this.props.url,ref:this.ref,style:z})}}]),k}(n.Component);e.default=b,C(b,"displayName","Vimeo"),C(b,"canPlay",a.canPlay.vimeo),C(b,"forceLoad",!0)}(Qg)),Qg}var Jg={},Wb;function NO(){return Wb||(Wb=1,function(e){function t(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(_){return typeof _}:t=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(y)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var y=new WeakMap;return i=function(){return y},y}function o(y){if(y&&y.__esModule)return y;if(y===null||t(y)!=="object"&&typeof y!="function")return{default:y};var k=i();if(k&&k.has(y))return k.get(y);var _={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z)){var N=P?Object.getOwnPropertyDescriptor(y,z):null;N&&(N.get||N.set)?Object.defineProperty(_,z,N):_[z]=y[z]}return _.default=y,k&&k.set(y,_),_}function s(){return s=Object.assign||function(y){for(var k=1;k<arguments.length;k++){var _=arguments[k];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(y[P]=_[P])}return y},s.apply(this,arguments)}function l(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function u(y,k){for(var _=0;_<k.length;_++){var P=k[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}function c(y,k,_){return k&&u(y.prototype,k),y}function d(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),k&&f(y,k)}function f(y,k){return f=Object.setPrototypeOf||function(P,z){return P.__proto__=z,P},f(y,k)}function h(y){var k=D();return function(){var P=E(y),z;if(k){var N=E(this).constructor;z=Reflect.construct(P,arguments,N)}else z=P.apply(this,arguments);return p(this,z)}}function p(y,k){return k&&(t(k)==="object"||typeof k=="function")?k:w(y)}function w(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(y){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},E(y)}function g(y,k,_){return k in y?Object.defineProperty(y,k,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[k]=_,y}var C="https://connect.facebook.net/en_US/sdk.js",M="FB",m="fbAsyncInit",b="facebook-player-",S=function(y){d(_,y);var k=h(_);function _(){var P;l(this,_);for(var z=arguments.length,N=new Array(z),T=0;T<z;T++)N[T]=arguments[T];return P=k.call.apply(k,[this].concat(N)),g(w(P),"callPlayer",r.callPlayer),g(w(P),"playerID",P.props.config.playerId||"".concat(b).concat((0,r.randomString)())),g(w(P),"mute",function(){P.callPlayer("mute")}),g(w(P),"unmute",function(){P.callPlayer("unmute")}),P}return c(_,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(z,N){var T=this;if(N){(0,r.getSDK)(C,M,m).then(function(L){return L.XFBML.parse()});return}(0,r.getSDK)(C,M,m).then(function(L){L.init({appId:T.props.config.appId,xfbml:!0,version:T.props.config.version}),L.Event.subscribe("xfbml.render",function(I){T.props.onLoaded()}),L.Event.subscribe("xfbml.ready",function(I){I.type==="video"&&I.id===T.playerID&&(T.player=I.instance,T.player.subscribe("startedPlaying",T.props.onPlay),T.player.subscribe("paused",T.props.onPause),T.player.subscribe("finishedPlaying",T.props.onEnded),T.player.subscribe("startedBuffering",T.props.onBuffer),T.player.subscribe("finishedBuffering",T.props.onBufferEnd),T.player.subscribe("error",T.props.onError),T.props.muted?T.callPlayer("mute"):T.callPlayer("unmute"),T.props.onReady(),document.getElementById(T.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(z){this.callPlayer("seek",z)}},{key:"setVolume",value:function(z){this.callPlayer("setVolume",z)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var z=this.props.config.attributes,N={width:"100%",height:"100%"};return n.default.createElement("div",s({style:N,id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},z))}}]),_}(n.Component);e.default=S,g(S,"displayName","Facebook"),g(S,"canPlay",a.canPlay.facebook),g(S,"loopOnEnded",!0)}(Jg)),Jg}var e1={},qb;function UO(){return qb||(qb=1,function(e){function t(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(m)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return i=function(){return m},m}function o(m){if(m&&m.__esModule)return m;if(m===null||t(m)!=="object"&&typeof m!="function")return{default:m};var b=i();if(b&&b.has(m))return b.get(m);var S={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in m)if(Object.prototype.hasOwnProperty.call(m,k)){var _=y?Object.getOwnPropertyDescriptor(m,k):null;_&&(_.get||_.set)?Object.defineProperty(S,k,_):S[k]=m[k]}return S.default=m,b&&b.set(m,S),S}function s(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function l(m,b){for(var S=0;S<b.length;S++){var y=b[S];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function u(m,b,S){return b&&l(m.prototype,b),m}function c(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),b&&d(m,b)}function d(m,b){return d=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},d(m,b)}function f(m){var b=w();return function(){var y=D(m),k;if(b){var _=D(this).constructor;k=Reflect.construct(y,arguments,_)}else k=y.apply(this,arguments);return h(this,k)}}function h(m,b){return b&&(t(b)==="object"||typeof b=="function")?b:p(m)}function p(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function D(m){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},D(m)}function E(m,b,S){return b in m?Object.defineProperty(m,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[b]=S,m}var g="https://cdn.embed.ly/player-0.1.0.min.js",C="playerjs",M=function(m){c(S,m);var b=f(S);function S(){var y;s(this,S);for(var k=arguments.length,_=new Array(k),P=0;P<k;P++)_[P]=arguments[P];return y=b.call.apply(b,[this].concat(_)),E(p(y),"callPlayer",r.callPlayer),E(p(y),"duration",null),E(p(y),"currentTime",null),E(p(y),"secondsLoaded",null),E(p(y),"mute",function(){y.callPlayer("mute")}),E(p(y),"unmute",function(){y.callPlayer("unmute")}),E(p(y),"ref",function(z){y.iframe=z}),y}return u(S,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(k){var _=this;(0,r.getSDK)(g,C).then(function(P){_.iframe&&(_.player=new P.Player(_.iframe),_.player.setLoop(_.props.loop),_.player.on("ready",_.props.onReady),_.player.on("play",_.props.onPlay),_.player.on("pause",_.props.onPause),_.player.on("seeked",_.props.onSeek),_.player.on("ended",_.props.onEnded),_.player.on("error",_.props.onError),_.player.on("timeupdate",function(z){var N=z.duration,T=z.seconds;_.duration=N,_.currentTime=T}),_.player.on("buffered",function(z){var N=z.percent;_.duration&&(_.secondsLoaded=_.duration*N)}),_.props.muted&&_.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(k){this.callPlayer("setCurrentTime",k)}},{key:"setVolume",value:function(k){this.callPlayer("setVolume",k*100)}},{key:"setLoop",value:function(k){this.callPlayer("setLoop",k)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var k=this.props.url.match(a.MATCH_URL_STREAMABLE)[1],_={width:"100%",height:"100%"};return n.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(k),frameBorder:"0",scrolling:"no",style:_,allow:"encrypted-media; autoplay; fullscreen;"})}}]),S}(n.Component);e.default=M,E(M,"displayName","Streamable"),E(M,"canPlay",a.canPlay.streamable)}(e1)),e1}var t1={},Yb;function BO(){return Yb||(Yb=1,function(e){function t(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(_){return typeof _}:t=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(y)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var y=new WeakMap;return i=function(){return y},y}function o(y){if(y&&y.__esModule)return y;if(y===null||t(y)!=="object"&&typeof y!="function")return{default:y};var k=i();if(k&&k.has(y))return k.get(y);var _={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z)){var N=P?Object.getOwnPropertyDescriptor(y,z):null;N&&(N.get||N.set)?Object.defineProperty(_,z,N):_[z]=y[z]}return _.default=y,k&&k.set(y,_),_}function s(y,k){var _=Object.keys(y);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(y);k&&(P=P.filter(function(z){return Object.getOwnPropertyDescriptor(y,z).enumerable})),_.push.apply(_,P)}return _}function l(y){for(var k=1;k<arguments.length;k++){var _=arguments[k]!=null?arguments[k]:{};k%2?s(Object(_),!0).forEach(function(P){C(y,P,_[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(_)):s(Object(_)).forEach(function(P){Object.defineProperty(y,P,Object.getOwnPropertyDescriptor(_,P))})}return y}function u(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function c(y,k){for(var _=0;_<k.length;_++){var P=k[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}function d(y,k,_){return k&&c(y.prototype,k),y}function f(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),k&&h(y,k)}function h(y,k){return h=Object.setPrototypeOf||function(P,z){return P.__proto__=z,P},h(y,k)}function p(y){var k=E();return function(){var P=g(y),z;if(k){var N=g(this).constructor;z=Reflect.construct(P,arguments,N)}else z=P.apply(this,arguments);return w(this,z)}}function w(y,k){return k&&(t(k)==="object"||typeof k=="function")?k:D(y)}function D(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(y){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},g(y)}function C(y,k,_){return k in y?Object.defineProperty(y,k,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[k]=_,y}var M="https://fast.wistia.com/assets/external/E-v1.js",m="Wistia",b="wistia-player-",S=function(y){f(_,y);var k=p(_);function _(){var P;u(this,_);for(var z=arguments.length,N=new Array(z),T=0;T<z;T++)N[T]=arguments[T];return P=k.call.apply(k,[this].concat(N)),C(D(P),"callPlayer",r.callPlayer),C(D(P),"playerID",P.props.config.playerId||"".concat(b).concat((0,r.randomString)())),C(D(P),"onPlay",function(){var L;return(L=P.props).onPlay.apply(L,arguments)}),C(D(P),"onPause",function(){var L;return(L=P.props).onPause.apply(L,arguments)}),C(D(P),"onSeek",function(){var L;return(L=P.props).onSeek.apply(L,arguments)}),C(D(P),"onEnded",function(){var L;return(L=P.props).onEnded.apply(L,arguments)}),C(D(P),"onPlaybackRateChange",function(){var L;return(L=P.props).onPlaybackRateChange.apply(L,arguments)}),C(D(P),"mute",function(){P.callPlayer("mute")}),C(D(P),"unmute",function(){P.callPlayer("unmute")}),P}return d(_,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(z){var N=this,T=this.props,L=T.playing,I=T.muted,B=T.controls,F=T.onReady,U=T.config,R=T.onError;(0,r.getSDK)(M,m).then(function(O){U.customControls&&U.customControls.forEach(function(A){return O.defineControl(A)}),window._wq=window._wq||[],window._wq.push({id:N.playerID,options:l({autoPlay:L,silentAutoPlay:"allow",muted:I,controlsVisibleOnLoad:B,fullscreenButton:B,playbar:B,playbackRateControl:B,qualityControl:B,volumeControl:B,settingsControl:B,smallPlayButton:B},U.options),onReady:function(x){N.player=x,N.unbind(),N.player.bind("play",N.onPlay),N.player.bind("pause",N.onPause),N.player.bind("seek",N.onSeek),N.player.bind("end",N.onEnded),N.player.bind("playbackratechange",N.onPlaybackRateChange),F()}})},R)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(z){this.callPlayer("time",z)}},{key:"setVolume",value:function(z){this.callPlayer("volume",z)}},{key:"setPlaybackRate",value:function(z){this.callPlayer("playbackRate",z)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var z=this.props.url,N=z&&z.match(a.MATCH_URL_WISTIA)[1],T="wistia_embed wistia_async_".concat(N),L={width:"100%",height:"100%"};return n.default.createElement("div",{id:this.playerID,key:N,className:T,style:L})}}]),_}(n.Component);e.default=S,C(S,"displayName","Wistia"),C(S,"canPlay",a.canPlay.wistia),C(S,"loopOnEnded",!0)}(t1)),t1}var n1={},Kb;function jO(){return Kb||(Kb=1,function(e){function t(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(_){return typeof _}:t=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(y)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var y=new WeakMap;return i=function(){return y},y}function o(y){if(y&&y.__esModule)return y;if(y===null||t(y)!=="object"&&typeof y!="function")return{default:y};var k=i();if(k&&k.has(y))return k.get(y);var _={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z)){var N=P?Object.getOwnPropertyDescriptor(y,z):null;N&&(N.get||N.set)?Object.defineProperty(_,z,N):_[z]=y[z]}return _.default=y,k&&k.set(y,_),_}function s(y,k){var _=Object.keys(y);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(y);k&&(P=P.filter(function(z){return Object.getOwnPropertyDescriptor(y,z).enumerable})),_.push.apply(_,P)}return _}function l(y){for(var k=1;k<arguments.length;k++){var _=arguments[k]!=null?arguments[k]:{};k%2?s(Object(_),!0).forEach(function(P){C(y,P,_[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(_)):s(Object(_)).forEach(function(P){Object.defineProperty(y,P,Object.getOwnPropertyDescriptor(_,P))})}return y}function u(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function c(y,k){for(var _=0;_<k.length;_++){var P=k[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}function d(y,k,_){return k&&c(y.prototype,k),y}function f(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),k&&h(y,k)}function h(y,k){return h=Object.setPrototypeOf||function(P,z){return P.__proto__=z,P},h(y,k)}function p(y){var k=E();return function(){var P=g(y),z;if(k){var N=g(this).constructor;z=Reflect.construct(P,arguments,N)}else z=P.apply(this,arguments);return w(this,z)}}function w(y,k){return k&&(t(k)==="object"||typeof k=="function")?k:D(y)}function D(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(y){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},g(y)}function C(y,k,_){return k in y?Object.defineProperty(y,k,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[k]=_,y}var M="https://player.twitch.tv/js/embed/v1.js",m="Twitch",b="twitch-player-",S=function(y){f(_,y);var k=p(_);function _(){var P;u(this,_);for(var z=arguments.length,N=new Array(z),T=0;T<z;T++)N[T]=arguments[T];return P=k.call.apply(k,[this].concat(N)),C(D(P),"callPlayer",r.callPlayer),C(D(P),"playerID",P.props.config.playerId||"".concat(b).concat((0,r.randomString)())),C(D(P),"mute",function(){P.callPlayer("setMuted",!0)}),C(D(P),"unmute",function(){P.callPlayer("setMuted",!1)}),P}return d(_,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(z,N){var T=this,L=this.props,I=L.playsinline,B=L.onError,F=L.config,U=L.controls,R=a.MATCH_URL_TWITCH_CHANNEL.test(z),O=R?z.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:z.match(a.MATCH_URL_TWITCH_VIDEO)[1];if(N){R?this.player.setChannel(O):this.player.setVideo("v"+O);return}(0,r.getSDK)(M,m).then(function(A){T.player=new A.Player(T.playerID,l({video:R?"":O,channel:R?O:"",height:"100%",width:"100%",playsinline:I,autoplay:T.props.playing,muted:T.props.muted,controls:R?!0:U,time:(0,r.parseStartTime)(z)},F.options));var x=A.Player,j=x.READY,V=x.PLAYING,X=x.PAUSE,re=x.ENDED,W=x.ONLINE,J=x.OFFLINE,oe=x.SEEK;T.player.addEventListener(j,T.props.onReady),T.player.addEventListener(V,T.props.onPlay),T.player.addEventListener(X,T.props.onPause),T.player.addEventListener(re,T.props.onEnded),T.player.addEventListener(oe,T.props.onSeek),T.player.addEventListener(W,T.props.onLoaded),T.player.addEventListener(J,T.props.onLoaded)},B)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(z){this.callPlayer("seek",z)}},{key:"setVolume",value:function(z){this.callPlayer("setVolume",z)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var z={width:"100%",height:"100%"};return n.default.createElement("div",{style:z,id:this.playerID})}}]),_}(n.Component);e.default=S,C(S,"displayName","Twitch"),C(S,"canPlay",a.canPlay.twitch),C(S,"loopOnEnded",!0)}(n1)),n1}var r1={},Gb;function zO(){return Gb||(Gb=1,function(e){function t(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(I){return typeof I}:t=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},t(T)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return i=function(){return T},T}function o(T){if(T&&T.__esModule)return T;if(T===null||t(T)!=="object"&&typeof T!="function")return{default:T};var L=i();if(L&&L.has(T))return L.get(T);var I={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in T)if(Object.prototype.hasOwnProperty.call(T,F)){var U=B?Object.getOwnPropertyDescriptor(T,F):null;U&&(U.get||U.set)?Object.defineProperty(I,F,U):I[F]=T[F]}return I.default=T,L&&L.set(T,I),I}function s(T,L){var I=Object.keys(T);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(T);L&&(B=B.filter(function(F){return Object.getOwnPropertyDescriptor(T,F).enumerable})),I.push.apply(I,B)}return I}function l(T){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?s(Object(I),!0).forEach(function(B){k(T,B,I[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(I)):s(Object(I)).forEach(function(B){Object.defineProperty(T,B,Object.getOwnPropertyDescriptor(I,B))})}return T}function u(T,L){return p(T)||h(T,L)||d(T,L)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(T,L){if(T){if(typeof T=="string")return f(T,L);var I=Object.prototype.toString.call(T).slice(8,-1);if(I==="Object"&&T.constructor&&(I=T.constructor.name),I==="Map"||I==="Set")return Array.from(T);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return f(T,L)}}function f(T,L){(L==null||L>T.length)&&(L=T.length);for(var I=0,B=new Array(L);I<L;I++)B[I]=T[I];return B}function h(T,L){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(T)))){var I=[],B=!0,F=!1,U=void 0;try{for(var R=T[Symbol.iterator](),O;!(B=(O=R.next()).done)&&(I.push(O.value),!(L&&I.length===L));B=!0);}catch(A){F=!0,U=A}finally{try{!B&&R.return!=null&&R.return()}finally{if(F)throw U}}return I}}function p(T){if(Array.isArray(T))return T}function w(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}function D(T,L){for(var I=0;I<L.length;I++){var B=L[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,B.key,B)}}function E(T,L,I){return L&&D(T.prototype,L),T}function g(T,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(L&&L.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),L&&C(T,L)}function C(T,L){return C=Object.setPrototypeOf||function(B,F){return B.__proto__=F,B},C(T,L)}function M(T){var L=S();return function(){var B=y(T),F;if(L){var U=y(this).constructor;F=Reflect.construct(B,arguments,U)}else F=B.apply(this,arguments);return m(this,F)}}function m(T,L){return L&&(t(L)==="object"||typeof L=="function")?L:b(T)}function b(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function y(T){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},y(T)}function k(T,L,I){return L in T?Object.defineProperty(T,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[L]=I,T}var _="https://api.dmcdn.net/all.js",P="DM",z="dmAsyncInit",N=function(T){g(I,T);var L=M(I);function I(){var B;w(this,I);for(var F=arguments.length,U=new Array(F),R=0;R<F;R++)U[R]=arguments[R];return B=L.call.apply(L,[this].concat(U)),k(b(B),"callPlayer",r.callPlayer),k(b(B),"onDurationChange",function(){var O=B.getDuration();B.props.onDuration(O)}),k(b(B),"mute",function(){B.callPlayer("setMuted",!0)}),k(b(B),"unmute",function(){B.callPlayer("setMuted",!1)}),k(b(B),"ref",function(O){B.container=O}),B}return E(I,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(F){var U=this,R=this.props,O=R.controls,A=R.config,x=R.onError,j=R.playing,V=F.match(a.MATCH_URL_DAILYMOTION),X=u(V,2),re=X[1];if(this.player){this.player.load(re,{start:(0,r.parseStartTime)(F),autoplay:j});return}(0,r.getSDK)(_,P,z,function(W){return W.player}).then(function(W){if(U.container){var J=W.player;U.player=new J(U.container,{width:"100%",height:"100%",video:re,params:l({controls:O,autoplay:U.props.playing,mute:U.props.muted,start:(0,r.parseStartTime)(F),origin:window.location.origin},A.params),events:{apiready:U.props.onReady,seeked:function(){return U.props.onSeek(U.player.currentTime)},video_end:U.props.onEnded,durationchange:U.onDurationChange,pause:U.props.onPause,playing:U.props.onPlay,waiting:U.props.onBuffer,error:function(he){return x(he)}}})}},x)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(F){this.callPlayer("seek",F)}},{key:"setVolume",value:function(F){this.callPlayer("setVolume",F)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var F=this.props.display,U={width:"100%",height:"100%",display:F};return n.default.createElement("div",{style:U},n.default.createElement("div",{ref:this.ref}))}}]),I}(n.Component);e.default=N,k(N,"displayName","DailyMotion"),k(N,"canPlay",a.canPlay.dailymotion),k(N,"loopOnEnded",!0)}(r1)),r1}var a1={},Zb;function $O(){return Zb||(Zb=1,function(e){function t(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(k){return typeof k}:t=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},t(S)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return i=function(){return S},S}function o(S){if(S&&S.__esModule)return S;if(S===null||t(S)!=="object"&&typeof S!="function")return{default:S};var y=i();if(y&&y.has(S))return y.get(S);var k={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in S)if(Object.prototype.hasOwnProperty.call(S,P)){var z=_?Object.getOwnPropertyDescriptor(S,P):null;z&&(z.get||z.set)?Object.defineProperty(k,P,z):k[P]=S[P]}return k.default=S,y&&y.set(S,k),k}function s(S,y){var k=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);y&&(_=_.filter(function(P){return Object.getOwnPropertyDescriptor(S,P).enumerable})),k.push.apply(k,_)}return k}function l(S){for(var y=1;y<arguments.length;y++){var k=arguments[y]!=null?arguments[y]:{};y%2?s(Object(k),!0).forEach(function(_){C(S,_,k[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(k)):s(Object(k)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(k,_))})}return S}function u(S,y){if(!(S instanceof y))throw new TypeError("Cannot call a class as a function")}function c(S,y){for(var k=0;k<y.length;k++){var _=y[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}function d(S,y,k){return y&&c(S.prototype,y),S}function f(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),y&&h(S,y)}function h(S,y){return h=Object.setPrototypeOf||function(_,P){return _.__proto__=P,_},h(S,y)}function p(S){var y=E();return function(){var _=g(S),P;if(y){var z=g(this).constructor;P=Reflect.construct(_,arguments,z)}else P=_.apply(this,arguments);return w(this,P)}}function w(S,y){return y&&(t(y)==="object"||typeof y=="function")?y:D(S)}function D(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(S){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},g(S)}function C(S,y,k){return y in S?Object.defineProperty(S,y,{value:k,enumerable:!0,configurable:!0,writable:!0}):S[y]=k,S}var M="https://widget.mixcloud.com/media/js/widgetApi.js",m="Mixcloud",b=function(S){f(k,S);var y=p(k);function k(){var _;u(this,k);for(var P=arguments.length,z=new Array(P),N=0;N<P;N++)z[N]=arguments[N];return _=y.call.apply(y,[this].concat(z)),C(D(_),"callPlayer",r.callPlayer),C(D(_),"duration",null),C(D(_),"currentTime",null),C(D(_),"secondsLoaded",null),C(D(_),"mute",function(){}),C(D(_),"unmute",function(){}),C(D(_),"ref",function(T){_.iframe=T}),_}return d(k,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(P){var z=this;(0,r.getSDK)(M,m).then(function(N){z.player=N.PlayerWidget(z.iframe),z.player.ready.then(function(){z.player.events.play.on(z.props.onPlay),z.player.events.pause.on(z.props.onPause),z.player.events.ended.on(z.props.onEnded),z.player.events.error.on(z.props.error),z.player.events.progress.on(function(T,L){z.currentTime=T,z.duration=L}),z.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(P){this.callPlayer("seek",P)}},{key:"setVolume",value:function(P){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var P=this.props,z=P.url,N=P.config,T=z.match(a.MATCH_URL_MIXCLOUD)[1],L={width:"100%",height:"100%"},I=(0,r.queryString)(l(l({},N.options),{},{feed:"/".concat(T,"/")}));return n.default.createElement("iframe",{key:T,ref:this.ref,style:L,src:"https://www.mixcloud.com/widget/iframe/?".concat(I),frameBorder:"0"})}}]),k}(n.Component);e.default=b,C(b,"displayName","Mixcloud"),C(b,"canPlay",a.canPlay.mixcloud),C(b,"loopOnEnded",!0)}(a1)),a1}var i1={},Xb;function HO(){return Xb||(Xb=1,function(e){function t(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(_){return typeof _}:t=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(y)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var y=new WeakMap;return i=function(){return y},y}function o(y){if(y&&y.__esModule)return y;if(y===null||t(y)!=="object"&&typeof y!="function")return{default:y};var k=i();if(k&&k.has(y))return k.get(y);var _={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z)){var N=P?Object.getOwnPropertyDescriptor(y,z):null;N&&(N.get||N.set)?Object.defineProperty(_,z,N):_[z]=y[z]}return _.default=y,k&&k.set(y,_),_}function s(y,k){var _=Object.keys(y);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(y);k&&(P=P.filter(function(z){return Object.getOwnPropertyDescriptor(y,z).enumerable})),_.push.apply(_,P)}return _}function l(y){for(var k=1;k<arguments.length;k++){var _=arguments[k]!=null?arguments[k]:{};k%2?s(Object(_),!0).forEach(function(P){C(y,P,_[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(_)):s(Object(_)).forEach(function(P){Object.defineProperty(y,P,Object.getOwnPropertyDescriptor(_,P))})}return y}function u(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function c(y,k){for(var _=0;_<k.length;_++){var P=k[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}function d(y,k,_){return k&&c(y.prototype,k),y}function f(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),k&&h(y,k)}function h(y,k){return h=Object.setPrototypeOf||function(P,z){return P.__proto__=z,P},h(y,k)}function p(y){var k=E();return function(){var P=g(y),z;if(k){var N=g(this).constructor;z=Reflect.construct(P,arguments,N)}else z=P.apply(this,arguments);return w(this,z)}}function w(y,k){return k&&(t(k)==="object"||typeof k=="function")?k:D(y)}function D(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(y){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},g(y)}function C(y,k,_){return k in y?Object.defineProperty(y,k,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[k]=_,y}var M="https://play.vidyard.com/embed/v4.js",m="VidyardV4",b="onVidyardAPI",S=function(y){f(_,y);var k=p(_);function _(){var P;u(this,_);for(var z=arguments.length,N=new Array(z),T=0;T<z;T++)N[T]=arguments[T];return P=k.call.apply(k,[this].concat(N)),C(D(P),"callPlayer",r.callPlayer),C(D(P),"mute",function(){P.setVolume(0)}),C(D(P),"unmute",function(){P.props.volume!==null&&P.setVolume(P.props.volume)}),C(D(P),"ref",function(L){P.container=L}),P}return d(_,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(z){var N=this,T=this.props,L=T.playing,I=T.config,B=T.onError,F=T.onDuration,U=z&&z.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,r.getSDK)(M,m,b).then(function(R){N.container&&(R.api.addReadyListener(function(O,A){N.player||(N.player=A,N.player.on("ready",N.props.onReady),N.player.on("play",N.props.onPlay),N.player.on("pause",N.props.onPause),N.player.on("seek",N.props.onSeek),N.player.on("playerComplete",N.props.onEnded))},U),R.api.renderPlayer(l({uuid:U,container:N.container,autoplay:L?1:0},I.options)),R.api.getPlayerMetadata(U).then(function(O){N.duration=O.length_in_seconds,F(O.length_in_seconds)}))},B)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(z){this.callPlayer("seek",z)}},{key:"setVolume",value:function(z){this.callPlayer("setVolume",z)}},{key:"setPlaybackRate",value:function(z){this.callPlayer("setPlaybackSpeed",z)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var z=this.props.display,N={width:"100%",height:"100%",display:z};return n.default.createElement("div",{style:N},n.default.createElement("div",{ref:this.ref}))}}]),_}(n.Component);e.default=S,C(S,"displayName","Vidyard"),C(S,"canPlay",a.canPlay.vidyard)}(i1)),i1}var o1={},Qb;function VO(){return Qb||(Qb=1,function(e){function t(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(m)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return i=function(){return m},m}function o(m){if(m&&m.__esModule)return m;if(m===null||t(m)!=="object"&&typeof m!="function")return{default:m};var b=i();if(b&&b.has(m))return b.get(m);var S={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in m)if(Object.prototype.hasOwnProperty.call(m,k)){var _=y?Object.getOwnPropertyDescriptor(m,k):null;_&&(_.get||_.set)?Object.defineProperty(S,k,_):S[k]=m[k]}return S.default=m,b&&b.set(m,S),S}function s(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function l(m,b){for(var S=0;S<b.length;S++){var y=b[S];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function u(m,b,S){return b&&l(m.prototype,b),m}function c(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),b&&d(m,b)}function d(m,b){return d=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},d(m,b)}function f(m){var b=w();return function(){var y=D(m),k;if(b){var _=D(this).constructor;k=Reflect.construct(y,arguments,_)}else k=y.apply(this,arguments);return h(this,k)}}function h(m,b){return b&&(t(b)==="object"||typeof b=="function")?b:p(m)}function p(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function D(m){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},D(m)}function E(m,b,S){return b in m?Object.defineProperty(m,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[b]=S,m}var g="https://cdn.embed.ly/player-0.1.0.min.js",C="playerjs",M=function(m){c(S,m);var b=f(S);function S(){var y;s(this,S);for(var k=arguments.length,_=new Array(k),P=0;P<k;P++)_[P]=arguments[P];return y=b.call.apply(b,[this].concat(_)),E(p(y),"callPlayer",r.callPlayer),E(p(y),"duration",null),E(p(y),"currentTime",null),E(p(y),"secondsLoaded",null),E(p(y),"mute",function(){y.callPlayer("mute")}),E(p(y),"unmute",function(){y.callPlayer("unmute")}),E(p(y),"ref",function(z){y.iframe=z}),y}return u(S,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(k){var _=this;(0,r.getSDK)(g,C).then(function(P){_.iframe&&(_.player=new P.Player(_.iframe),_.player.on("ready",function(){setTimeout(function(){_.player.isReady=!0,_.player.setLoop(_.props.loop),_.props.muted&&_.player.mute(),_.addListeners(_.player,_.props),_.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(k,_){var P=this;k.on("play",_.onPlay),k.on("pause",_.onPause),k.on("ended",_.onEnded),k.on("error",_.onError),k.on("timeupdate",function(z){var N=z.duration,T=z.seconds;P.duration=N,P.currentTime=T})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(k){this.callPlayer("setCurrentTime",k)}},{key:"setVolume",value:function(k){this.callPlayer("setVolume",k)}},{key:"setLoop",value:function(k){this.callPlayer("setLoop",k)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var k={width:"100%",height:"100%"};return n.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:k,allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}]),S}(n.Component);e.default=M,E(M,"displayName","Kaltura"),E(M,"canPlay",a.canPlay.kaltura)}(o1)),o1}var s1={},Jb;function WO(){return Jb||(Jb=1,function(e){function t(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(F){return typeof F}:t=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},t(I)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o($),r=An,a=$t;function i(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return i=function(){return I},I}function o(I){if(I&&I.__esModule)return I;if(I===null||t(I)!=="object"&&typeof I!="function")return{default:I};var B=i();if(B&&B.has(I))return B.get(I);var F={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in I)if(Object.prototype.hasOwnProperty.call(I,R)){var O=U?Object.getOwnPropertyDescriptor(I,R):null;O&&(O.get||O.set)?Object.defineProperty(F,R,O):F[R]=I[R]}return F.default=I,B&&B.set(I,F),F}function s(){return s=Object.assign||function(I){for(var B=1;B<arguments.length;B++){var F=arguments[B];for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(I[U]=F[U])}return I},s.apply(this,arguments)}function l(I,B){if(!(I instanceof B))throw new TypeError("Cannot call a class as a function")}function u(I,B){for(var F=0;F<B.length;F++){var U=B[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(I,U.key,U)}}function c(I,B,F){return B&&u(I.prototype,B),I}function d(I,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(B&&B.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),B&&f(I,B)}function f(I,B){return f=Object.setPrototypeOf||function(U,R){return U.__proto__=R,U},f(I,B)}function h(I){var B=D();return function(){var U=E(I),R;if(B){var O=E(this).constructor;R=Reflect.construct(U,arguments,O)}else R=U.apply(this,arguments);return p(this,R)}}function p(I,B){return B&&(t(B)==="object"||typeof B=="function")?B:w(I)}function w(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(I){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},E(I)}function g(I,B,F){return B in I?Object.defineProperty(I,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):I[B]=F,I}var C=typeof navigator<"u",M=C&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,m=C&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||M)&&!window.MSStream,b="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",S="Hls",y="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",k="dashjs",_="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",P="flvjs",z=/www\.dropbox\.com\/.+/,N=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,T="https://videodelivery.net/{id}/manifest/video.m3u8",L=function(I){d(F,I);var B=h(F);function F(){var U;l(this,F);for(var R=arguments.length,O=new Array(R),A=0;A<R;A++)O[A]=arguments[A];return U=B.call.apply(B,[this].concat(O)),g(w(U),"onReady",function(){var x;return(x=U.props).onReady.apply(x,arguments)}),g(w(U),"onPlay",function(){var x;return(x=U.props).onPlay.apply(x,arguments)}),g(w(U),"onBuffer",function(){var x;return(x=U.props).onBuffer.apply(x,arguments)}),g(w(U),"onBufferEnd",function(){var x;return(x=U.props).onBufferEnd.apply(x,arguments)}),g(w(U),"onPause",function(){var x;return(x=U.props).onPause.apply(x,arguments)}),g(w(U),"onEnded",function(){var x;return(x=U.props).onEnded.apply(x,arguments)}),g(w(U),"onError",function(){var x;return(x=U.props).onError.apply(x,arguments)}),g(w(U),"onPlayBackRateChange",function(x){return U.props.onPlaybackRateChange(x.target.playbackRate)}),g(w(U),"onEnablePIP",function(){var x;return(x=U.props).onEnablePIP.apply(x,arguments)}),g(w(U),"onDisablePIP",function(x){var j=U.props,V=j.onDisablePIP,X=j.playing;V(x),X&&U.play()}),g(w(U),"onPresentationModeChange",function(x){if(U.player&&(0,r.supportsWebKitPresentationMode)(U.player)){var j=U.player.webkitPresentationMode;j==="picture-in-picture"?U.onEnablePIP(x):j==="inline"&&U.onDisablePIP(x)}}),g(w(U),"onSeek",function(x){U.props.onSeek(x.target.currentTime)}),g(w(U),"mute",function(){U.player.muted=!0}),g(w(U),"unmute",function(){U.player.muted=!1}),g(w(U),"renderSourceElement",function(x,j){return typeof x=="string"?n.default.createElement("source",{key:j,src:x}):n.default.createElement("source",s({key:j},x))}),g(w(U),"renderTrack",function(x,j){return n.default.createElement("track",s({key:j},x))}),g(w(U),"ref",function(x){U.player&&(U.prevPlayer=U.player),U.player=x}),U}return c(F,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),m&&this.player.load()}},{key:"componentDidUpdate",value:function(R){this.shouldUseAudio(this.props)!==this.shouldUseAudio(R)&&(this.removeListeners(this.prevPlayer,R.url),this.addListeners(this.player)),this.props.url!==R.url&&!(0,r.isMediaStream)(this.props.url)&&(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(R){var O=this.props,A=O.url,x=O.playsinline;R.addEventListener("play",this.onPlay),R.addEventListener("waiting",this.onBuffer),R.addEventListener("playing",this.onBufferEnd),R.addEventListener("pause",this.onPause),R.addEventListener("seeked",this.onSeek),R.addEventListener("ended",this.onEnded),R.addEventListener("error",this.onError),R.addEventListener("ratechange",this.onPlayBackRateChange),R.addEventListener("enterpictureinpicture",this.onEnablePIP),R.addEventListener("leavepictureinpicture",this.onDisablePIP),R.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(A)||R.addEventListener("canplay",this.onReady),x&&(R.setAttribute("playsinline",""),R.setAttribute("webkit-playsinline",""),R.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(R,O){R.removeEventListener("canplay",this.onReady),R.removeEventListener("play",this.onPlay),R.removeEventListener("waiting",this.onBuffer),R.removeEventListener("playing",this.onBufferEnd),R.removeEventListener("pause",this.onPause),R.removeEventListener("seeked",this.onSeek),R.removeEventListener("ended",this.onEnded),R.removeEventListener("error",this.onError),R.removeEventListener("ratechange",this.onPlayBackRateChange),R.removeEventListener("enterpictureinpicture",this.onEnablePIP),R.removeEventListener("leavepictureinpicture",this.onDisablePIP),R.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(O)||R.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(R){return R.config.forceVideo||R.config.attributes.poster?!1:a.AUDIO_EXTENSIONS.test(R.url)||R.config.forceAudio}},{key:"shouldUseHLS",value:function(R){return this.props.config.forceHLS?!0:m?!1:a.HLS_EXTENSIONS.test(R)||N.test(R)}},{key:"shouldUseDASH",value:function(R){return a.DASH_EXTENSIONS.test(R)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(R){return a.FLV_EXTENSIONS.test(R)||this.props.config.forceFLV}},{key:"load",value:function(R){var O=this,A=this.props.config,x=A.hlsVersion,j=A.hlsOptions,V=A.dashVersion,X=A.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(R)&&(0,r.getSDK)(b.replace("VERSION",x),S).then(function(re){if(O.hls=new re(j),O.hls.on(re.Events.MANIFEST_PARSED,function(){O.props.onReady()}),O.hls.on(re.Events.ERROR,function(J,oe){O.props.onError(J,oe,O.hls,re)}),N.test(R)){var W=R.match(N)[1];O.hls.loadSource(T.replace("{id}",W))}else O.hls.loadSource(R);O.hls.attachMedia(O.player),O.props.onLoaded()}),this.shouldUseDASH(R)&&(0,r.getSDK)(y.replace("VERSION",V),k).then(function(re){O.dash=re.MediaPlayer().create(),O.dash.initialize(O.player,R,O.props.playing),O.dash.on("error",O.props.onError),parseInt(V)<3?O.dash.getDebug().setLogToBrowserConsole(!1):O.dash.updateSettings({debug:{logLevel:re.Debug.LOG_LEVEL_NONE}}),O.props.onLoaded()}),this.shouldUseFLV(R)&&(0,r.getSDK)(_.replace("VERSION",X),P).then(function(re){O.flv=re.createPlayer({type:"flv",url:R}),O.flv.attachMediaElement(O.player),O.flv.on(re.Events.ERROR,function(W,J){O.props.onError(W,J,O.flv,re)}),O.flv.load(),O.props.onLoaded()}),R instanceof Array)this.player.load();else if((0,r.isMediaStream)(R))try{this.player.srcObject=R}catch{this.player.src=window.URL.createObjectURL(R)}}},{key:"play",value:function(){var R=this.player.play();R&&R.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(R){this.player.currentTime=R}},{key:"setVolume",value:function(R){this.player.volume=R}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,r.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,r.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(R){try{this.player.playbackRate=R}catch(O){this.props.onError(O)}}},{key:"getDuration",value:function(){if(!this.player)return null;var R=this.player,O=R.duration,A=R.seekable;return O===1/0&&A.length>0?A.end(A.length-1):O}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var R=this.player.buffered;if(R.length===0)return 0;var O=R.end(R.length-1),A=this.getDuration();return O>A?A:O}},{key:"getSource",value:function(R){var O=this.shouldUseHLS(R),A=this.shouldUseDASH(R),x=this.shouldUseFLV(R);if(!(R instanceof Array||(0,r.isMediaStream)(R)||O||A||x))return z.test(R)?R.replace("www.dropbox.com","dl.dropboxusercontent.com"):R}},{key:"render",value:function(){var R=this.props,O=R.url,A=R.playing,x=R.loop,j=R.controls,V=R.muted,X=R.config,re=R.width,W=R.height,J=this.shouldUseAudio(this.props),oe=J?"audio":"video",he={width:re==="auto"?re:"100%",height:W==="auto"?W:"100%"};return n.default.createElement(oe,s({ref:this.ref,src:this.getSource(O),style:he,preload:"auto",autoPlay:A||void 0,controls:j,muted:V,loop:x},X.attributes),O instanceof Array&&O.map(this.renderSourceElement),X.tracks.map(this.renderTrack))}}]),F}(n.Component);e.default=L,g(L,"displayName","FilePlayer"),g(L,"canPlay",a.canPlay.file)}(s1)),s1}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=$,n=An,r=$t;function a(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(c){return typeof c}:a=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(l)}function i(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return i=function(){return l},l}function o(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var u=i();if(u&&u.has(l))return u.get(l);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in l)if(Object.prototype.hasOwnProperty.call(l,f)){var h=d?Object.getOwnPropertyDescriptor(l,f):null;h&&(h.get||h.set)?Object.defineProperty(c,f,h):c[f]=l[f]}return c.default=l,u&&u.set(l,c),c}var s=[{key:"youtube",name:"YouTube",canPlay:r.canPlay.youtube,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(LO())})})},{key:"soundcloud",name:"SoundCloud",canPlay:r.canPlay.soundcloud,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(IO())})})},{key:"vimeo",name:"Vimeo",canPlay:r.canPlay.vimeo,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(FO())})})},{key:"facebook",name:"Facebook",canPlay:r.canPlay.facebook,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(NO())})})},{key:"streamable",name:"Streamable",canPlay:r.canPlay.streamable,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(UO())})})},{key:"wistia",name:"Wistia",canPlay:r.canPlay.wistia,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(BO())})})},{key:"twitch",name:"Twitch",canPlay:r.canPlay.twitch,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(jO())})})},{key:"dailymotion",name:"DailyMotion",canPlay:r.canPlay.dailymotion,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(zO())})})},{key:"mixcloud",name:"Mixcloud",canPlay:r.canPlay.mixcloud,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o($O())})})},{key:"vidyard",name:"Vidyard",canPlay:r.canPlay.vidyard,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(HO())})})},{key:"kaltura",name:"Kaltura",canPlay:r.canPlay.kaltura,lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(VO())})})},{key:"file",name:"FilePlayer",canPlay:r.canPlay.file,canEnablePIP:function(u){return r.canPlay.file(u)&&(document.pictureInPictureEnabled||(0,n.supportsWebKitPresentationMode)())&&!r.AUDIO_EXTENSIONS.test(u)},lazyPlayer:(0,t.lazy)(function(){return Promise.resolve().then(function(){return o(WO())})})}];e.default=s})(SD);var Tm={},ew=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function qO(e,t){return!!(e===t||ew(e)&&ew(t))}function YO(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!qO(e[n],t[n]))return!1;return!0}function KO(e,t){t===void 0&&(t=YO);var n,r=[],a,i=!1;function o(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return i&&n===this&&t(s,r)||(a=e.apply(this,s),i=!0,n=this,r=s),a}return o}const GO=Object.freeze(Object.defineProperty({__proto__:null,default:KO},Symbol.toStringTag,{value:"Module"})),ZO=z7(GO);var XO=typeof Element<"u",QO=typeof Map=="function",JO=typeof Set=="function",eA=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Eh(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Eh(e[r],t[r]))return!1;return!0}var i;if(QO&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Eh(r.value[1],t.get(r.value[0])))return!1;return!0}if(JO&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(eA&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(XO&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!Eh(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var i2=function(t,n){try{return Eh(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Xs=Wn(i2);var _l={},HD={exports:{}},tA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nA=tA,rA=nA;function VD(){}function WD(){}WD.resetWarningCache=VD;var aA=function(){function e(r,a,i,o,s,l){if(l!==rA){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WD,resetWarningCache:VD};return n.PropTypes=n,n};HD.exports=aA();var qD=HD.exports;const Wt=Wn(qD);Object.defineProperty(_l,"__esModule",{value:!0});_l.defaultProps=_l.propTypes=void 0;var Vo=iA(qD);function iA(e){return e&&e.__esModule?e:{default:e}}var la=Vo.default.string,ja=Vo.default.bool,Hl=Vo.default.number,l1=Vo.default.array,Cc=Vo.default.oneOfType,ai=Vo.default.shape,Sa=Vo.default.object,Fr=Vo.default.func,tw=Vo.default.node,oA={url:Cc([la,l1,Sa]),playing:ja,loop:ja,controls:ja,volume:Hl,muted:ja,playbackRate:Hl,width:Cc([la,Hl]),height:Cc([la,Hl]),style:Sa,progressInterval:Hl,playsinline:ja,pip:ja,stopOnUnmount:ja,light:Cc([ja,la]),playIcon:tw,previewTabIndex:Hl,fallback:tw,oEmbedUrl:la,wrapper:Cc([la,Fr,ai({render:Fr.isRequired})]),config:ai({soundcloud:ai({options:Sa}),youtube:ai({playerVars:Sa,embedOptions:Sa,onUnstarted:Fr}),facebook:ai({appId:la,version:la,playerId:la,attributes:Sa}),dailymotion:ai({params:Sa}),vimeo:ai({playerOptions:Sa,title:la}),file:ai({attributes:Sa,tracks:l1,forceVideo:ja,forceAudio:ja,forceHLS:ja,forceDASH:ja,forceFLV:ja,hlsOptions:Sa,hlsVersion:la,dashVersion:la,flvVersion:la}),wistia:ai({options:Sa,playerId:la,customControls:l1}),mixcloud:ai({options:Sa}),twitch:ai({options:Sa,playerId:la}),vidyard:ai({options:Sa})}),onReady:Fr,onStart:Fr,onPlay:Fr,onPause:Fr,onBuffer:Fr,onBufferEnd:Fr,onEnded:Fr,onError:Fr,onDuration:Fr,onSeek:Fr,onPlaybackRateChange:Fr,onProgress:Fr,onClickPreview:Fr,onEnablePIP:Fr,onDisablePIP:Fr};_l.propTypes=oA;var qr=function(){},sA={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:qr},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:qr,onStart:qr,onPlay:qr,onPause:qr,onBuffer:qr,onBufferEnd:qr,onEnded:qr,onError:qr,onDuration:qr,onSeek:qr,onPlaybackRateChange:qr,onProgress:qr,onClickPreview:qr,onEnablePIP:qr,onDisablePIP:qr};_l.defaultProps=sA;var YD={};(function(e){function t(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(k){return typeof k}:t=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},t(S)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l($),r=o(i2),a=_l,i=An;function o(S){return S&&S.__esModule?S:{default:S}}function s(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return s=function(){return S},S}function l(S){if(S&&S.__esModule)return S;if(S===null||t(S)!=="object"&&typeof S!="function")return{default:S};var y=s();if(y&&y.has(S))return y.get(S);var k={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in S)if(Object.prototype.hasOwnProperty.call(S,P)){var z=_?Object.getOwnPropertyDescriptor(S,P):null;z&&(z.get||z.set)?Object.defineProperty(k,P,z):k[P]=S[P]}return k.default=S,y&&y.set(S,k),k}function u(){return u=Object.assign||function(S){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var _ in k)Object.prototype.hasOwnProperty.call(k,_)&&(S[_]=k[_])}return S},u.apply(this,arguments)}function c(S,y){if(!(S instanceof y))throw new TypeError("Cannot call a class as a function")}function d(S,y){for(var k=0;k<y.length;k++){var _=y[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}function f(S,y,k){return y&&d(S.prototype,y),S}function h(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),y&&p(S,y)}function p(S,y){return p=Object.setPrototypeOf||function(_,P){return _.__proto__=P,_},p(S,y)}function w(S){var y=g();return function(){var _=C(S),P;if(y){var z=C(this).constructor;P=Reflect.construct(_,arguments,z)}else P=_.apply(this,arguments);return D(this,P)}}function D(S,y){return y&&(t(y)==="object"||typeof y=="function")?y:E(S)}function E(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(S){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},C(S)}function M(S,y,k){return y in S?Object.defineProperty(S,y,{value:k,enumerable:!0,configurable:!0,writable:!0}):S[y]=k,S}var m=5e3,b=function(S){h(k,S);var y=w(k);function k(){var _;c(this,k);for(var P=arguments.length,z=new Array(P),N=0;N<P;N++)z[N]=arguments[N];return _=y.call.apply(y,[this].concat(z)),M(E(_),"mounted",!1),M(E(_),"isReady",!1),M(E(_),"isPlaying",!1),M(E(_),"isLoading",!0),M(E(_),"loadOnReady",null),M(E(_),"startOnPlay",!0),M(E(_),"seekOnPlay",null),M(E(_),"onDurationCalled",!1),M(E(_),"handlePlayerMount",function(T){_.player||(_.player=T,_.player.load(_.props.url),_.progress())}),M(E(_),"getInternalPlayer",function(T){return _.player?_.player[T]:null}),M(E(_),"progress",function(){if(_.props.url&&_.player&&_.isReady){var T=_.getCurrentTime()||0,L=_.getSecondsLoaded(),I=_.getDuration();if(I){var B={playedSeconds:T,played:T/I};L!==null&&(B.loadedSeconds=L,B.loaded=L/I),(B.playedSeconds!==_.prevPlayed||B.loadedSeconds!==_.prevLoaded)&&_.props.onProgress(B),_.prevPlayed=B.playedSeconds,_.prevLoaded=B.loadedSeconds}}_.progressTimeout=setTimeout(_.progress,_.props.progressFrequency||_.props.progressInterval)}),M(E(_),"handleReady",function(){if(_.mounted){_.isReady=!0,_.isLoading=!1;var T=_.props,L=T.onReady,I=T.playing,B=T.volume,F=T.muted;L(),!F&&B!==null&&_.player.setVolume(B),_.loadOnReady?(_.player.load(_.loadOnReady,!0),_.loadOnReady=null):I&&_.player.play(),_.handleDurationCheck()}}),M(E(_),"handlePlay",function(){_.isPlaying=!0,_.isLoading=!1;var T=_.props,L=T.onStart,I=T.onPlay,B=T.playbackRate;_.startOnPlay&&(_.player.setPlaybackRate&&B!==1&&_.player.setPlaybackRate(B),L(),_.startOnPlay=!1),I(),_.seekOnPlay&&(_.seekTo(_.seekOnPlay),_.seekOnPlay=null),_.handleDurationCheck()}),M(E(_),"handlePause",function(T){_.isPlaying=!1,_.isLoading||_.props.onPause(T)}),M(E(_),"handleEnded",function(){var T=_.props,L=T.activePlayer,I=T.loop,B=T.onEnded;L.loopOnEnded&&I&&_.seekTo(0),I||(_.isPlaying=!1,B())}),M(E(_),"handleError",function(){var T;_.isLoading=!1,(T=_.props).onError.apply(T,arguments)}),M(E(_),"handleDurationCheck",function(){clearTimeout(_.durationCheckTimeout);var T=_.getDuration();T?_.onDurationCalled||(_.props.onDuration(T),_.onDurationCalled=!0):_.durationCheckTimeout=setTimeout(_.handleDurationCheck,100)}),M(E(_),"handleLoaded",function(){_.isLoading=!1}),_}return f(k,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(P){var z=this;if(this.player){var N=this.props,T=N.url,L=N.playing,I=N.volume,B=N.muted,F=N.playbackRate,U=N.pip,R=N.loop,O=N.activePlayer,A=N.disableDeferredLoading;if(!(0,r.default)(P.url,T)){if(this.isLoading&&!O.forceLoad&&!A&&!(0,i.isMediaStream)(T)){console.warn("ReactPlayer: the attempt to load ".concat(T," is being deferred until the player has loaded")),this.loadOnReady=T;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(T,this.isReady)}!P.playing&&L&&!this.isPlaying&&this.player.play(),P.playing&&!L&&this.isPlaying&&this.player.pause(),!P.pip&&U&&this.player.enablePIP&&this.player.enablePIP(),P.pip&&!U&&this.player.disablePIP&&this.player.disablePIP(),P.volume!==I&&I!==null&&this.player.setVolume(I),P.muted!==B&&(B?this.player.mute():(this.player.unmute(),I!==null&&setTimeout(function(){return z.player.setVolume(I)}))),P.playbackRate!==F&&this.player.setPlaybackRate&&this.player.setPlaybackRate(F),P.loop!==R&&this.player.setLoop&&this.player.setLoop(R)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(P,z){var N=this;if(!this.isReady){P!==0&&(this.seekOnPlay=P,setTimeout(function(){N.seekOnPlay=null},m));return}var T=z?z==="fraction":P>0&&P<1;if(T){var L=this.player.getDuration();if(!L){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(L*P);return}this.player.seekTo(P)}},{key:"render",value:function(){var P=this.props.activePlayer;return P?n.default.createElement(P,u({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),k}(n.Component);e.default=b,M(b,"displayName","Player"),M(b,"propTypes",a.propTypes),M(b,"defaultProps",a.defaultProps)})(YD);var u1={},nw;function lA(){return nw||(nw=1,function(e){function t(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(m)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a($);function r(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return r=function(){return m},m}function a(m){if(m&&m.__esModule)return m;if(m===null||t(m)!=="object"&&typeof m!="function")return{default:m};var b=r();if(b&&b.has(m))return b.get(m);var S={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in m)if(Object.prototype.hasOwnProperty.call(m,k)){var _=y?Object.getOwnPropertyDescriptor(m,k):null;_&&(_.get||_.set)?Object.defineProperty(S,k,_):S[k]=m[k]}return S.default=m,b&&b.set(m,S),S}function i(m,b){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);b&&(y=y.filter(function(k){return Object.getOwnPropertyDescriptor(m,k).enumerable})),S.push.apply(S,y)}return S}function o(m){for(var b=1;b<arguments.length;b++){var S=arguments[b]!=null?arguments[b]:{};b%2?i(Object(S),!0).forEach(function(y){E(m,y,S[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):i(Object(S)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(S,y))})}return m}function s(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function l(m,b){for(var S=0;S<b.length;S++){var y=b[S];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function u(m,b,S){return b&&l(m.prototype,b),m}function c(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),b&&d(m,b)}function d(m,b){return d=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},d(m,b)}function f(m){var b=w();return function(){var y=D(m),k;if(b){var _=D(this).constructor;k=Reflect.construct(y,arguments,_)}else k=y.apply(this,arguments);return h(this,k)}}function h(m,b){return b&&(t(b)==="object"||typeof b=="function")?b:p(m)}function p(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function D(m){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},D(m)}function E(m,b,S){return b in m?Object.defineProperty(m,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[b]=S,m}var g="64px",C={},M=function(m){c(S,m);var b=f(S);function S(){var y;s(this,S);for(var k=arguments.length,_=new Array(k),P=0;P<k;P++)_[P]=arguments[P];return y=b.call.apply(b,[this].concat(_)),E(p(y),"mounted",!1),E(p(y),"state",{image:null}),E(p(y),"handleKeyPress",function(z){(z.key==="Enter"||z.key===" ")&&y.props.onClick()}),y}return u(S,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(k){var _=this.props,P=_.url,z=_.light;(k.url!==P||k.light!==z)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(k){var _=this,P=k.url,z=k.light,N=k.oEmbedUrl;if(typeof z=="string"){this.setState({image:z});return}if(C[P]){this.setState({image:C[P]});return}return this.setState({image:null}),window.fetch(N.replace("{url}",P)).then(function(T){return T.json()}).then(function(T){if(T.thumbnail_url&&_.mounted){var L=T.thumbnail_url.replace("height=100","height=480");_.setState({image:L}),C[P]=L}})}},{key:"render",value:function(){var k=this.props,_=k.onClick,P=k.playIcon,z=k.previewTabIndex,N=this.state.image,T={display:"flex",alignItems:"center",justifyContent:"center"},L={preview:o({width:"100%",height:"100%",backgroundImage:N?"url(".concat(N,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},T),shadow:o({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:g,width:g,height:g},T),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},I=n.default.createElement("div",{style:L.shadow,className:"react-player__shadow"},n.default.createElement("div",{style:L.playIcon,className:"react-player__play-icon"}));return n.default.createElement("div",{style:L.preview,className:"react-player__preview",onClick:_,tabIndex:z,onKeyPress:this.handleKeyPress},P||I)}}]),S}(n.Component);e.default=M}(u1)),u1}Object.defineProperty(Tm,"__esModule",{value:!0});Tm.createReactPlayer=void 0;var Js=GD($),uA=xm(kD),c1=xm(ZO),rw=xm(i2),Bc=_l,cA=An,dA=xm(YD);function xm(e){return e&&e.__esModule?e:{default:e}}function Xc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xc=function(n){return typeof n}:Xc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xc(e)}function aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rp(){return rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(this,arguments)}function d1(e){return mA(e)||pA(e)||hA(e)||fA()}function fA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hA(e,t){if(e){if(typeof e=="string")return d0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d0(e,t)}}function pA(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mA(e){if(Array.isArray(e))return d0(e)}function d0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yA(e,t,n){return t&&vA(e.prototype,t),e}function _A(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f0(e,t)}function f0(e,t){return f0=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},f0(e,t)}function bA(e){var t=EA();return function(){var r=ap(e),a;if(t){var i=ap(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return wA(this,a)}}function wA(e,t){return t&&(Xc(t)==="object"||typeof t=="function")?t:Yr(e)}function Yr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(e)}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KD(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return KD=function(){return e},e}function GD(e){if(e&&e.__esModule)return e;if(e===null||Xc(e)!=="object"&&typeof e!="function")return{default:e};var t=KD();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var CA=(0,Js.lazy)(function(){return Promise.resolve().then(function(){return GD(lA())})}),SA=typeof window<"u"&&window.document,DA=typeof jt<"u"&&jt.window&&jt.window.document,kA=Object.keys(Bc.propTypes),MA=SA||DA?Js.Suspense:function(){return null},Sc=[],TA=function(t,n){var r,a;return a=r=function(i){_A(s,i);var o=bA(s);function s(){var l;gA(this,s);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=o.call.apply(o,[this].concat(c)),sr(Yr(l),"state",{showPreview:!!l.props.light}),sr(Yr(l),"references",{wrapper:function(h){l.wrapper=h},player:function(h){l.player=h}}),sr(Yr(l),"handleClickPreview",function(f){l.setState({showPreview:!1}),l.props.onClickPreview(f)}),sr(Yr(l),"showPreview",function(){l.setState({showPreview:!0})}),sr(Yr(l),"getDuration",function(){return l.player?l.player.getDuration():null}),sr(Yr(l),"getCurrentTime",function(){return l.player?l.player.getCurrentTime():null}),sr(Yr(l),"getSecondsLoaded",function(){return l.player?l.player.getSecondsLoaded():null}),sr(Yr(l),"getInternalPlayer",function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return l.player?l.player.getInternalPlayer(f):null}),sr(Yr(l),"seekTo",function(f,h){if(!l.player)return null;l.player.seekTo(f,h)}),sr(Yr(l),"handleReady",function(){l.props.onReady(Yr(l))}),sr(Yr(l),"getActivePlayer",(0,c1.default)(function(f){for(var h=0,p=[].concat(Sc,d1(t));h<p.length;h++){var w=p[h];if(w.canPlay(f))return w}return n||null})),sr(Yr(l),"getConfig",(0,c1.default)(function(f,h){var p=l.props.config;return uA.default.all([Bc.defaultProps.config,Bc.defaultProps.config[h]||{},p,p[h]||{}])})),sr(Yr(l),"getAttributes",(0,c1.default)(function(f){return(0,cA.omit)(l.props,kA)})),sr(Yr(l),"renderActivePlayer",function(f){if(!f)return null;var h=l.getActivePlayer(f);if(!h)return null;var p=l.getConfig(f,h.key);return Js.default.createElement(dA.default,rp({},l.props,{key:h.key,ref:l.references.player,config:p,activePlayer:h.lazyPlayer||h,onReady:l.handleReady}))}),l}return yA(s,[{key:"shouldComponentUpdate",value:function(u,c){return!(0,rw.default)(this.props,u)||!(0,rw.default)(this.state,c)}},{key:"componentDidUpdate",value:function(u){var c=this.props.light;!u.light&&c&&this.setState({showPreview:!0}),u.light&&!c&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(u){if(!u)return null;var c=this.props,d=c.light,f=c.playIcon,h=c.previewTabIndex,p=c.oEmbedUrl;return Js.default.createElement(CA,{url:u,light:d,playIcon:f,previewTabIndex:h,oEmbedUrl:p,onClick:this.handleClickPreview})}},{key:"render",value:function(){var u=this.props,c=u.url,d=u.style,f=u.width,h=u.height,p=u.fallback,w=u.wrapper,D=this.state.showPreview,E=this.getAttributes(c);return Js.default.createElement(w,rp({ref:this.references.wrapper,style:iw(iw({},d),{},{width:f,height:h})},E),Js.default.createElement(MA,{fallback:p},D?this.renderPreview(c):this.renderActivePlayer(c)))}}]),s}(Js.Component),sr(r,"displayName","ReactPlayer"),sr(r,"propTypes",Bc.propTypes),sr(r,"defaultProps",Bc.defaultProps),sr(r,"addCustomPlayer",function(i){Sc.push(i)}),sr(r,"removeCustomPlayers",function(){Sc.length=0}),sr(r,"canPlay",function(i){for(var o=0,s=[].concat(Sc,d1(t));o<s.length;o++){var l=s[o];if(l.canPlay(i))return!0}return!1}),sr(r,"canEnablePIP",function(i){for(var o=0,s=[].concat(Sc,d1(t));o<s.length;o++){var l=s[o];if(l.canEnablePIP&&l.canEnablePIP(i))return!0}return!1}),a};Tm.createReactPlayer=TA;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(SD),n=Tm;function r(o){return o&&o.__esModule?o:{default:o}}var a=t.default[t.default.length-1],i=(0,n.createReactPlayer)(t.default,a);e.default=i})(CD);const ZD=Wn(CD);function XD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=XD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Yt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=XD(e))&&(r&&(r+=" "),r+=t);return r}var QD=v.createContext(void 0),xA=function(e){var t=e.children,n=e.value;return v.createElement(QD.Provider,{value:n},t)},qn=function(e){var t=$.useContext(QD);return t||(console.warn("The useChannelActionContext hook was called outside of the ChannelActionContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ".concat(e," component.")),{})},RA=$.createContext(void 0),PA=function(e){var t=e.children,n=e.value;return v.createElement(RA.Provider,{value:n},t)},JD=v.createContext(void 0),OA=function(e){var t=e.children,n=e.value;return v.createElement(JD.Provider,{value:n},t)},tn=function(e){var t=$.useContext(JD);return t||(console.warn("The useChannelStateContext hook was called outside of the ChannelStateContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ".concat(e," component.")),{})},e6=v.createContext(void 0),AA=function(e){var t=e.children,n=e.value;return v.createElement(e6.Provider,{value:n},t)},kt=function(e){var t=$.useContext(e6);return t||(console.warn("The useChatContext hook was called outside of the ChatContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ".concat(e," component.")),{})},t6=v.createContext(void 0),LA=function(e){var t=e.children,n=e.value;return v.createElement(t6.Provider,{value:n},t)},En=function(e){var t=$.useContext(t6);return t||(console.warn("The useComponentContext hook was called outside of the ComponentContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ".concat(e," component.")),{})},n6=v.createContext(void 0),IA=function(e){var t=e.children,n=e.value;return v.createElement(n6.Provider,{value:n},t)},ba=function(e){var t=$.useContext(n6);return t||(console.warn("The useMessageContext hook was called outside of the MessageContext provider. Make sure this hook is called within the Message's UI component. The errored call is located in the ".concat(e," component.")),{})},r6=$.createContext(void 0);function FA(e){var t=$.useContext(r6);return t||(console.warn("The useMessageBounceContext hook was called outside of the MessageBounceContext provider. The errored call is located in the ".concat(e," component.")),{})}function NA(e){var t=e.children,n=ba("MessageBounceProvider"),r=n.handleRetry,a=n.message,i=n.setEditingState;X2(a)||console.warn('The MessageBounceProvider was rendered for a message that is not bounced. Have you missed the "isMessageBounced" check?');var o=qn("MessageBounceProvider").removeMessage,s=$.useCallback(function(){o(a)},[a,o]),l=$.useCallback(function(d){i(d)},[i]),u=$.useCallback(function(){r(a)},[r,a]),c=$.useMemo(function(){return{handleDelete:s,handleEdit:l,handleRetry:u,message:a}},[s,l,u,a]);return v.createElement(r6.Provider,{value:c},t)}var a6=$.createContext(void 0),o2=function(e){var t=e.children,n=e.value;return v.createElement(a6.Provider,{value:n},t)},wa=function(e){var t=$.useContext(a6);return t||(console.warn("The useMessageInputContext hook was called outside of the MessageInputContext provider. Make sure this hook is called within the MessageInput's UI component. The errored call is located in the ".concat(e," component.")),{})},UA=$.createContext(void 0),BA=function(e){var t=e.children,n=e.value;return v.createElement(UA.Provider,{value:n},t)},i6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",s="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",w="Invalid Date",D=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var L=["th","st","nd","rd"],I=T%100;return"["+T+(L[(I-20)%10]||L[I]||L[0])+"]"}},C=function(T,L,I){var B=String(T);return!B||B.length>=L?T:""+Array(L+1-B.length).join(I)+T},M={s:C,z:function(T){var L=-T.utcOffset(),I=Math.abs(L),B=Math.floor(I/60),F=I%60;return(L<=0?"+":"-")+C(B,2,"0")+":"+C(F,2,"0")},m:function T(L,I){if(L.date()<I.date())return-T(I,L);var B=12*(I.year()-L.year())+(I.month()-L.month()),F=L.clone().add(B,d),U=I-F<0,R=L.clone().add(B+(U?-1:1),d);return+(-(B+(I-F)/(U?F-R:R-F))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:d,y:h,w:c,d:u,D:p,h:l,m:s,s:o,ms:i,Q:f}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},m="en",b={};b[m]=g;var S="$isDayjsObject",y=function(T){return T instanceof z||!(!T||!T[S])},k=function T(L,I,B){var F;if(!L)return m;if(typeof L=="string"){var U=L.toLowerCase();b[U]&&(F=U),I&&(b[U]=I,F=U);var R=L.split("-");if(!F&&R.length>1)return T(R[0])}else{var O=L.name;b[O]=L,F=O}return!B&&F&&(m=F),F||!B&&m},_=function(T,L){if(y(T))return T.clone();var I=typeof L=="object"?L:{};return I.date=T,I.args=arguments,new z(I)},P=M;P.l=k,P.i=y,P.w=function(T,L){return _(T,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var z=function(){function T(I){this.$L=k(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[S]=!0}var L=T.prototype;return L.parse=function(I){this.$d=function(B){var F=B.date,U=B.utc;if(F===null)return new Date(NaN);if(P.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var R=F.match(D);if(R){var O=R[2]-1||0,A=(R[7]||"0").substring(0,3);return U?new Date(Date.UTC(R[1],O,R[3]||1,R[4]||0,R[5]||0,R[6]||0,A)):new Date(R[1],O,R[3]||1,R[4]||0,R[5]||0,R[6]||0,A)}}return new Date(F)}(I),this.init()},L.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},L.$utils=function(){return P},L.isValid=function(){return this.$d.toString()!==w},L.isSame=function(I,B){var F=_(I);return this.startOf(B)<=F&&F<=this.endOf(B)},L.isAfter=function(I,B){return _(I)<this.startOf(B)},L.isBefore=function(I,B){return this.endOf(B)<_(I)},L.$g=function(I,B,F){return P.u(I)?this[B]:this.set(F,I)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(I,B){var F=this,U=!!P.u(B)||B,R=P.p(I),O=function(J,oe){var he=P.w(F.$u?Date.UTC(F.$y,oe,J):new Date(F.$y,oe,J),F);return U?he:he.endOf(u)},A=function(J,oe){return P.w(F.toDate()[J].apply(F.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(oe)),F)},x=this.$W,j=this.$M,V=this.$D,X="set"+(this.$u?"UTC":"");switch(R){case h:return U?O(1,0):O(31,11);case d:return U?O(1,j):O(0,j+1);case c:var re=this.$locale().weekStart||0,W=(x<re?x+7:x)-re;return O(U?V-W:V+(6-W),j);case u:case p:return A(X+"Hours",0);case l:return A(X+"Minutes",1);case s:return A(X+"Seconds",2);case o:return A(X+"Milliseconds",3);default:return this.clone()}},L.endOf=function(I){return this.startOf(I,!1)},L.$set=function(I,B){var F,U=P.p(I),R="set"+(this.$u?"UTC":""),O=(F={},F[u]=R+"Date",F[p]=R+"Date",F[d]=R+"Month",F[h]=R+"FullYear",F[l]=R+"Hours",F[s]=R+"Minutes",F[o]=R+"Seconds",F[i]=R+"Milliseconds",F)[U],A=U===u?this.$D+(B-this.$W):B;if(U===d||U===h){var x=this.clone().set(p,1);x.$d[O](A),x.init(),this.$d=x.set(p,Math.min(this.$D,x.daysInMonth())).$d}else O&&this.$d[O](A);return this.init(),this},L.set=function(I,B){return this.clone().$set(I,B)},L.get=function(I){return this[P.p(I)]()},L.add=function(I,B){var F,U=this;I=Number(I);var R=P.p(B),O=function(j){var V=_(U);return P.w(V.date(V.date()+Math.round(j*I)),U)};if(R===d)return this.set(d,this.$M+I);if(R===h)return this.set(h,this.$y+I);if(R===u)return O(1);if(R===c)return O(7);var A=(F={},F[s]=r,F[l]=a,F[o]=n,F)[R]||1,x=this.$d.getTime()+I*A;return P.w(x,this)},L.subtract=function(I,B){return this.add(-1*I,B)},L.format=function(I){var B=this,F=this.$locale();if(!this.isValid())return F.invalidDate||w;var U=I||"YYYY-MM-DDTHH:mm:ssZ",R=P.z(this),O=this.$H,A=this.$m,x=this.$M,j=F.weekdays,V=F.months,X=F.meridiem,re=function(oe,he,Oe,$e){return oe&&(oe[he]||oe(B,U))||Oe[he].slice(0,$e)},W=function(oe){return P.s(O%12||12,oe,"0")},J=X||function(oe,he,Oe){var $e=oe<12?"AM":"PM";return Oe?$e.toLowerCase():$e};return U.replace(E,function(oe,he){return he||function(Oe){switch(Oe){case"YY":return String(B.$y).slice(-2);case"YYYY":return P.s(B.$y,4,"0");case"M":return x+1;case"MM":return P.s(x+1,2,"0");case"MMM":return re(F.monthsShort,x,V,3);case"MMMM":return re(V,x);case"D":return B.$D;case"DD":return P.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return re(F.weekdaysMin,B.$W,j,2);case"ddd":return re(F.weekdaysShort,B.$W,j,3);case"dddd":return j[B.$W];case"H":return String(O);case"HH":return P.s(O,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return J(O,A,!0);case"A":return J(O,A,!1);case"m":return String(A);case"mm":return P.s(A,2,"0");case"s":return String(B.$s);case"ss":return P.s(B.$s,2,"0");case"SSS":return P.s(B.$ms,3,"0");case"Z":return R}return null}(oe)||R.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(I,B,F){var U,R=this,O=P.p(B),A=_(I),x=(A.utcOffset()-this.utcOffset())*r,j=this-A,V=function(){return P.m(R,A)};switch(O){case h:U=V()/12;break;case d:U=V();break;case f:U=V()/3;break;case c:U=(j-x)/6048e5;break;case u:U=(j-x)/864e5;break;case l:U=j/a;break;case s:U=j/r;break;case o:U=j/n;break;default:U=j}return F?U:P.a(U)},L.daysInMonth=function(){return this.endOf(d).$D},L.$locale=function(){return b[this.$L]},L.locale=function(I,B){if(!I)return this.$L;var F=this.clone(),U=k(I,B,!0);return U&&(F.$L=U),F},L.clone=function(){return P.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},T}(),N=z.prototype;return _.prototype=N,[["$ms",i],["$s",o],["$m",s],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach(function(T){N[T[1]]=function(L){return this.$g(L,T[0],T[1])}}),_.extend=function(T,L){return T.$i||(T(L,z,_),T.$i=!0),_},_.locale=k,_.isDayjs=y,_.unix=function(T){return _(1e3*T)},_.en=b[m],_.Ls=b,_.p={},_})})(i6);var Di=i6.exports;const gr=Wn(Di);var o6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){return function(n,r,a){var i="h:mm A",o={lastDay:"[Yesterday at] "+i,sameDay:"[Today at] "+i,nextDay:"[Tomorrow at] "+i,nextWeek:"dddd [at] "+i,lastWeek:"[Last] dddd [at] "+i,sameElse:"MM/DD/YYYY"};r.prototype.calendar=function(s,l){var u=l||this.$locale().calendar||o,c=a(s||void 0).startOf("d"),d=this.diff(c,"d",!0),f="sameElse",h=d<-6?f:d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":f,p=u[h]||o[h];return typeof p=="function"?p.call(this,a()):this.format(p)}}})})(o6);var jA=o6.exports;const s6=Wn(jA);var l6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var o=a.prototype,s=o.format;i.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,p,w){var D=w&&w.toUpperCase();return p||f[w]||n[w]||f[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,g,C){return g||C.slice(1)})})}(l,u===void 0?{}:u);return s.call(this,c)}}})})(l6);var zA=l6.exports;const u6=Wn(zA),$A="Stornieren",HA="Schlieen",VA="Lschen",WA="Zugestellt",qA="Bearbeitet",YA="Meldung",KA="Men",GA="Stumm schalten",ZA="Neu",XA="Ok",QA="Pin",JA="Antworten",eL="Suche",tL="Senden",nL="Mischen",rL="Thread",aL="Stummschaltung aufheben",iL="Pin entfernen",oL="live",sL="1 Antwort",lL="{{ count }} Antworten",uL="1 Ergebnis",cL="{{ count }} Ergebnisse",dL="1 ungelesene Nachricht",fL="{{count}} ungelesene Nachrichten",hL={"Allow access to camera":"Zugriff auf Kamera erlauben","Allow access to microphone":"Zugriff auf Mikrofon erlauben","An error has occurred during recording":"Ein Fehler ist whrend der Aufnahme aufgetreten","An error has occurred during the recording processing":"Ein Fehler ist whrend der Aufnahmeverarbeitung aufgetreten","Attach files":"Dateien anhngen",Cancel:$A,"Cannot seek in the recording":"In der Aufnahme es kann nicht gesucht werden","Channel Missing":"Kanal fehlt",Close:HA,"Close emoji picker":"Emoji-Picker schlieen","Commands matching":"bereinstimmende Befehle","Connection failure, reconnecting now...":"Verbindungsfehler, Wiederherstellung der Verbindung...",Delete:VA,Delivered:WA,"Drag your files here":"Ziehen Sie Ihre Dateien hierher","Drag your files here to add to your post":"Ziehen Sie Ihre Dateien hierher, um sie Ihrem Beitrag hinzuzufgen","Edit Message":"Nachricht bearbeiten","Edit message request failed":"Anfrage zum Bearbeiten der Nachricht fehlgeschlagen",Edited:qA,"Emoji matching":"Emoji passend","Empty message...":"Leere Nachricht...","Error adding flag":"Fehler beim Hinzufgen des Flags","Error connecting to chat, refresh the page to try again.":"Verbindungsfehler zum Chat, Aktualisiere die Seite um es erneut zu versuchen.","Error deleting message":"Fehler beim Lschen der Nachricht","Error fetching reactions":"Fehler beim Laden von Reaktionen","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Fehler beim Markieren der Nachricht als ungelesen. Kann keine lteren ungelesenen Nachrichten markieren als die neuesten 100 Kanalnachrichten.","Error muting a user ...":"Fehler beim Stummschalten eines Nutzers.","Error pinning message":"Fehler beim Pinnen der Nachricht","Error removing message pin":"Fehler beim Entfernen der gepinnten Nachricht","Error reproducing the recording":"Fehler bei der Wiedergabe der Aufnahme","Error starting recording":"Fehler beim Starten der Aufnahme","Error unmuting a user ...":"Stummschaltung des Nutzers fehlgeschlagen ...","Error uploading attachment":"Fehler beim Hochladen des Anhangs","Error uploading file":"Fehler beim Hochladen der Datei","Error uploading image":"Hochladen des Bildes fehlgeschlagen","Error  Unsent":"Fehler nicht gesendet","Error: {{ errorMessage }}":"Fehler: {{ errorMessage }}","Failed to jump to the first unread message":"Fehler beim Springen zur ersten ungelesenen Nachricht","Failed to mark channel as read":"Fehler beim Markieren des Kanals als gelesen","Failed to play the recording":"Wiedergabe der Aufnahme fehlgeschlagen","File is too large: {{ size }}, maximum upload size is {{ limit }}":"Datei ist zu gro: {{ size }}, maximale Upload-Gre betrgt {{ limit }}",Flag:YA,"Latest Messages":"Neueste Nachrichten","Load more":"Mehr laden","Mark as unread":"Als ungelesen markieren",Menu:KA,"Message Failed  Click to try again":"Nachricht fehlgeschlagen  Klicken, um es erneut zu versuchen","Message Failed  Unauthorized":"Nachricht fehlgeschlagen  Nicht autorisiert","Message deleted":"Nachricht gelscht","Message has been successfully flagged":"Nachricht wurde erfolgreich gemeldet","Message pinned":"Nachricht gepinnt","Messages have been marked unread.":"Nachrichten wurden als ungelesen markiert.","Missing permissions to upload the attachment":"Berechtigungen zum Hochladen des Anhangs fehlen",Mute:GA,New:ZA,"New Messages!":"Neue Nachrichten!","No chats here yet":"Noch keine Chats hier...","No results found":"keine Ergebnisse gefunden","Nothing yet...":"Noch nichts...",Ok:XA,"Open emoji picker":"Emoji-Picker ffnen","People matching":"Passende Personen",Pin:QA,"Pinned by":"Gepinnt von","Recording format is not supported and cannot be reproduced":"Aufnahmeformat wird nicht untersttzt und kann nicht wiedergegeben werden",Reply:JA,"Reply to Message":"Auf Nachricht antworten",Search:eL,"Searching...":"Suchen...",Send:tL,"Send Anyway":"Trotzdem senden","Send message request failed":"Senden der Nachrichtenanfrage fehlgeschlagen","Sending...":"Senden...",Shuffle:nL,"Slow Mode ON":"Slow-Mode EIN","Some of the files will not be accepted":"Einige der Dateien werden nicht akzeptiert","This message did not meet our content guidelines":"Diese Nachricht entsprach nicht unseren Inhaltsrichtlinien","This message was deleted...":"Diese Nachricht wurde gelscht...",Thread:rL,"To start recording, allow the camera access in your browser":"Um mit der Aufnahme zu beginnen, erlauben Sie den Zugriff auf die Kamera in Ihrem Browser","To start recording, allow the microphone access in your browser":"Um mit der Aufnahme zu beginnen, erlauben Sie den Zugriff auf das Mikrofon in Ihrem Browser","Type your message":"Nachricht eingeben",Unmute:aL,Unpin:iL,"Unread messages":"Ungelesene Nachrichten","Unsupported attachment":"Nicht untersttzter Anhang",'Upload type: "{{ type }}" is not allowed':'Upload-Typ: "{{ type }}" ist nicht erlaubt',"User uploaded content":"Benutzer hochgeladenen Inhalts","Voice message":"Sprachnachricht","Wait until all attachments have uploaded":"Bitte warten, bis alle Anhnge hochgeladen wurden","You have no channels currently":"Du hast momentan noch keinen Channels","You've reached the maximum number of files":"Die maximale Dateianzahl ist erreicht","aria/Attachment":"Anhang","aria/Cancel Reply":"Antwort abbrechen","aria/Cancel upload":"Upload abbrechen","aria/Channel list":"Kanalliste","aria/Channel search results":"Kanalsuchergebnisse","aria/Close thread":"Thread schlieen","aria/Emoji picker":"Emoji-Auswahl","aria/File input":"Dateieingabe","aria/File upload":"Datei hochladen","aria/Image input":"Bildeingabe","aria/Load More Channels":"Mehr Kanle laden","aria/Menu":"Men","aria/Message Options":"Nachrichtenoptionen","aria/Open Message Actions Menu":"Nachrichtenaktionsmen ffnen","aria/Open Reaction Selector":"Reaktionsauswahl ffnen","aria/Open Thread":"Thread ffnen","aria/Reaction list":"Reaktionsliste","aria/Retry upload":"Upload erneut versuchen","aria/Send":"Senden","ban-command-args":"[@Benutzername] [Text]","ban-command-description":"Einen Benutzer verbannen","giphy-command-args":"[Text]","giphy-command-description":"Poste ein zuflliges Gif in den Kanal",live:oL,"mute-command-args":"[@Benutzername]","mute-command-description":"Stummschalten eines Benutzers",replyCount_one:sL,replyCount_other:lL,searchResultsCount_one:uL,searchResultsCount_other:cL,"this content could not be displayed":"Dieser Inhalt konnte nicht angezeigt werden","unban-command-args":"[@Benutzername]","unban-command-description":"Einen Benutzer entbannen","unmute-command-args":"[@Benutzername]","unmute-command-description":"Stummschaltung eines Benutzers aufheben",unreadMessagesSeparatorText_one:dL,unreadMessagesSeparatorText_other:fL,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} und {{moreCount}} Mehr","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} und {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} und {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} mehr","{{ memberCount }} members":"{{ memberCount }} Mitglieder","{{ user }} has been muted":"{{ user }} wurde stummgeschaltet","{{ user }} has been unmuted":"{{ user }} wurde nicht stummgeschaltet","{{ user }} is typing...":"{{ user }} tippt...","{{ users }} and more are typing...":"{{ users }} und mehr tippen...","{{ users }} and {{ user }} are typing...":"{{ users }} und {{ user }} tippen...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} ungelesen","{{count}} unread_other":"{{count}} ungelesen"," Attachment...":" Anhang..."},pL="Cancel",mL="Close",gL="Delete",vL="Delivered",yL="Edited",_L="Flag",bL="Menu",wL="Mute",EL="New",CL="Ok",SL="Pin",DL="Reply",kL="Search",ML="Send",TL="Shuffle",xL="Thread",RL="Unmute",PL="Unpin",OL="live",AL="1 reply",LL="{{ count }} replies",IL="1 result",FL="{{ count }} results",NL="1 unread message",UL="{{count}} unread messages",BL={"Allow access to camera":"Allow access to camera","Allow access to microphone":"Allow access to microphone","An error has occurred during recording":"An error has occurred during recording","An error has occurred during the recording processing":"An error has occurred during the recording processing","Attach files":"Attach files",Cancel:pL,"Cannot seek in the recording":"Cannot seek in the recording","Channel Missing":"Channel Missing",Close:mL,"Close emoji picker":"Close emoji picker","Commands matching":"Commands matching","Connection failure, reconnecting now...":"Connection failure, reconnecting now...",Delete:gL,Delivered:vL,"Drag your files here":"Drag your files here","Drag your files here to add to your post":"Drag your files here to add to your post","Edit Message":"Edit Message","Edit message request failed":"Edit message request failed",Edited:yL,"Emoji matching":"Emoji matching","Empty message...":"Empty message...","Error adding flag":"Error adding flag","Error connecting to chat, refresh the page to try again.":"Error connecting to chat, refresh the page to try again.","Error deleting message":"Error deleting message","Error fetching reactions":"Error loading reactions","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.","Error muting a user ...":"Error muting a user ...","Error pinning message":"Error pinning message","Error removing message pin":"Error removing message pin","Error reproducing the recording":"Error reproducing the recording","Error starting recording":"Error starting recording","Error unmuting a user ...":"Error unmuting a user ...","Error uploading attachment":"Error uploading attachment","Error uploading file":"Error uploading file","Error uploading image":"Error uploading image","Error  Unsent":"Error  Unsent","Error: {{ errorMessage }}":"Error: {{ errorMessage }}","Failed to jump to the first unread message":"Failed to jump to the first unread message","Failed to mark channel as read":"Failed to mark channel as read","Failed to play the recording":"Failed to play the recording","File is too large: {{ size }}, maximum upload size is {{ limit }}":"File is too large: {{ size }}, maximum upload size is {{ limit }}",Flag:_L,"Latest Messages":"Latest Messages","Load more":"Load more","Mark as unread":"Mark as unread",Menu:bL,"Message Failed  Click to try again":"Message Failed  Click to try again","Message Failed  Unauthorized":"Message Failed  Unauthorized","Message deleted":"Message deleted","Message has been successfully flagged":"Message has been successfully flagged","Message pinned":"Message pinned","Messages have been marked unread.":"Messages have been marked unread.","Missing permissions to upload the attachment":"Missing permissions to upload the attachment",Mute:wL,New:EL,"New Messages!":"New Messages!","No chats here yet":"No chats here yet","No results found":"No results found","Nothing yet...":"Nothing yet...",Ok:CL,"Open emoji picker":"Open emoji picker","People matching":"People matching",Pin:SL,"Pinned by":"Pinned by","Recording format is not supported and cannot be reproduced":"Recording format is not supported and cannot be reproduced",Reply:DL,"Reply to Message":"Reply to Message",Search:kL,"Searching...":"Searching...",Send:ML,"Send Anyway":"Send Anyway","Send message request failed":"Send message request failed","Sending...":"Sending...",Shuffle:TL,"Slow Mode ON":"Slow Mode ON","Some of the files will not be accepted":"Some of the files will not be accepted","This message did not meet our content guidelines":"This message did not meet our content guidelines","This message was deleted...":"This message was deleted...",Thread:xL,"To start recording, allow the camera access in your browser":"To start recording, allow the camera access in your browser","To start recording, allow the microphone access in your browser":"To start recording, allow the microphone access in your browser","Type your message":"Type your message",Unmute:RL,Unpin:PL,"Unread messages":"Unread messages","Unsupported attachment":"Unsupported attachment",'Upload type: "{{ type }}" is not allowed':'Upload type: "{{ type }}" is not allowed',"User uploaded content":"User uploaded content","Voice message":"Voice message","Wait until all attachments have uploaded":"Wait until all attachments have uploaded","You have no channels currently":"You have no channels currently","You've reached the maximum number of files":"You've reached the maximum number of files","aria/Attachment":"Attachment","aria/Cancel Reply":"Cancel Reply","aria/Cancel upload":"Cancel upload","aria/Channel list":"Channel list","aria/Channel search results":"Channel search results","aria/Close thread":"Close thread","aria/Emoji picker":"Emoji picker","aria/File input":"File input","aria/File upload":"File upload","aria/Image input":"Image input","aria/Load More Channels":"Load More Channels","aria/Menu":"Menu","aria/Message Options":"Message Options","aria/Open Message Actions Menu":"Open Message Actions Menu","aria/Open Reaction Selector":"Open Reaction Selector","aria/Open Thread":"Open Thread","aria/Reaction list":"Reaction list","aria/Retry upload":"Retry upload","aria/Send":"Send",live:OL,replyCount_one:AL,replyCount_other:LL,searchResultsCount_one:IL,searchResultsCount_other:FL,"this content could not be displayed":"this content could not be displayed",unreadMessagesSeparatorText_one:NL,unreadMessagesSeparatorText_other:UL,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} and {{ moreCount }} more","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, and {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} and {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} more","{{ memberCount }} members":"{{ memberCount }} members","{{ user }} has been muted":"{{ user }} has been muted","{{ user }} has been unmuted":"{{ user }} has been unmuted","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} unread","{{count}} unread_other":"{{count}} unread"," Attachment...":" Attachment..."},jL="Cancelar",zL="Cerca",$L="Borrar",HL="Entregado",VL="Editado",WL="Bandera",qL="Men",YL="Mudo",KL="Nuevo",GL="Ok",ZL="Alfiler",XL="Respuesta",QL="Buscar",JL="Enviar",eI="Mezclar",tI="Hilo",nI="Activar sonido",rI="Desprender",aI="En Vivo",iI="{{ count }} respuestas",oI="1 respuesta",sI="{{ count }} respuestas",lI="{{ count }} resultados",uI="1 resultado",cI="{{ count }} resultados",dI="{{count}} mensajes no ledos",fI="1 mensaje no ledo",hI="{{count}} mensajes no ledos",pI={"Allow access to camera":"Permitir acceso a la cmara","Allow access to microphone":"Permitir acceso al micrfono","An error has occurred during recording":"Se ha producido un error durante la grabacin","An error has occurred during the recording processing":"Se ha producido un error durante el procesamiento de la grabacin","Attach files":"Adjuntar archivos",Cancel:jL,"Cannot seek in the recording":"No se puede buscar en la grabacin","Channel Missing":"Falta canal",Close:zL,"Close emoji picker":"Cerrar el selector de emojis","Commands matching":"Coincidencia de comandos","Connection failure, reconnecting now...":"Fallo de conexin, reconectando ahora ...",Delete:$L,Delivered:HL,"Drag your files here":"Arrastra tus archivos aqu","Drag your files here to add to your post":"Arrastra tus archivos aqu para agregarlos a tu publicacin","Edit Message":"Editar mensaje","Edit message request failed":"Error al editar la solicitud de mensaje",Edited:VL,"Emoji matching":"Coincidencia de emoji","Empty message...":"Mensaje vaco ...","Error adding flag":"Error al agregar la bandera","Error connecting to chat, refresh the page to try again.":"Error al conectarse al chat, actualice la pgina para volver a intentarlo.","Error deleting message":"Error al eliminar el mensaje","Error fetching reactions":"Error al cargar las reacciones","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Error al marcar el mensaje como no ledo. No se pueden marcar mensajes no ledos ms antiguos que los ltimos 100 mensajes del canal.","Error muting a user ...":"Error al silenciar a un usuario ...","Error pinning message":"Mensaje de error al fijar","Error removing message pin":"Error al quitar el pin del mensaje","Error reproducing the recording":"Error al reproducir la grabacin","Error starting recording":"Error al iniciar la grabacin","Error unmuting a user ...":"Error al activar el silencio de un usuario ...","Error uploading attachment":"Error al subir el archivo adjunto","Error uploading file":"Error al cargar el archivo","Error uploading image":"Error subiendo imagen","Error  Unsent":"Error  No enviado","Error: {{ errorMessage }}":"Error: {{ errorMessage }}","Failed to jump to the first unread message":"Error al saltar al primer mensaje no ledo","Failed to mark channel as read":"Error al marcar el canal como ledo","Failed to play the recording":"No se pudo reproducir la grabacin","File is too large: {{ size }}, maximum upload size is {{ limit }}":"El archivo es demasiado grande: {{ size }}, el tamao mximo de carga es de {{ limit }}",Flag:WL,"Latest Messages":"ltimos mensajes","Load more":"Cargar ms","Mark as unread":"Marcar como no ledo",Menu:qL,"Message Failed  Click to try again":"Mensaje fallido  Haga clic para volver a intentarlo","Message Failed  Unauthorized":"Mensaje fallido  No autorizado","Message deleted":"Mensaje borrado","Message has been successfully flagged":"El mensaje se marc correctamente","Message pinned":"Mensaje fijado","Messages have been marked unread.":"Los mensajes han sido marcados como no ledos.","Missing permissions to upload the attachment":"Permisos faltantes para subir el archivo adjunto",Mute:YL,New:KL,"New Messages!":"Nuevos mensajes!","No chats here yet":"An no hay mensajes aqu...","No results found":"No se han encontrado resultados","Nothing yet...":"Nada an...",Ok:GL,"Open emoji picker":"Selector de emoji abierto","People matching":"Personas que coinciden",Pin:ZL,"Pinned by":"Fijado por","Recording format is not supported and cannot be reproduced":"El formato de grabacin no es compatible y no se puede reproducir",Reply:XL,"Reply to Message":"Responder al mensaje",Search:QL,"Searching...":"Buscando...",Send:JL,"Send Anyway":"Enviar de todos modos","Send message request failed":"Error al enviar la solicitud de mensaje","Sending...":"Enviando...",Shuffle:eI,"Slow Mode ON":"Modo lento activado","Some of the files will not be accepted":"Algunos de los archivos no sern aceptados","This message did not meet our content guidelines":"Este mensaje no cumple nuestras directrices de contenido","This message was deleted...":"Este mensaje fue eliminado ...",Thread:tI,"To start recording, allow the camera access in your browser":"Para comenzar a grabar, permita el acceso a la cmara en su navegador","To start recording, allow the microphone access in your browser":"Para comenzar a grabar, permita el acceso al micrfono en su navegador","Type your message":"Escribe tu mensaje",Unmute:nI,Unpin:rI,"Unread messages":"Mensajes no ledos","Unsupported attachment":"Adjunto no compatible",'Upload type: "{{ type }}" is not allowed':'Tipo de carga: "{{ type }}" no est permitido',"User uploaded content":"Contenido subido por el usuario","Voice message":"Mensaje de voz","Wait until all attachments have uploaded":"Espere hasta que se hayan cargado todos los archivos adjuntos","You have no channels currently":"Actualmente no tienes canales","You've reached the maximum number of files":"Has alcanzado el nmero mximo de archivos","aria/Attachment":"Adjunto","aria/Cancel Reply":"Cancelar respuesta","aria/Cancel upload":"Cancelar carga","aria/Channel list":"Lista de canales","aria/Channel search results":"Resultados de bsqueda de canales","aria/Close thread":"Cerrar hilo","aria/Emoji picker":"Selector de emojis","aria/File input":"Entrada de archivo","aria/File upload":"Carga de archivo","aria/Image input":"Entrada de imagen","aria/Load More Channels":"Cargar ms canales","aria/Menu":"Men","aria/Message Options":"Opciones de mensaje","aria/Open Message Actions Menu":"Abrir men de acciones de mensaje","aria/Open Reaction Selector":"Abrir selector de reaccin","aria/Open Thread":"Abrir hilo","aria/Reaction list":"Lista de reacciones","aria/Retry upload":"Reintentar carga","aria/Send":"Enviar","ban-command-args":"[@usuario] [texto]","ban-command-description":"Prohibir a un usuario","giphy-command-args":"[texto]","giphy-command-description":"Publicar un gif aleatorio en el canal",live:aI,"mute-command-args":"[@usuario]","mute-command-description":"Silenciar a un usuario",replyCount_many:iI,replyCount_one:oI,replyCount_other:sI,searchResultsCount_many:lI,searchResultsCount_one:uI,searchResultsCount_other:cI,"this content could not be displayed":"este contenido no se pudo mostrar","unban-command-args":"[@usuario]","unban-command-description":"Quitar la prohibicin a un usuario","unmute-command-args":"[@usuario]","unmute-command-description":"Anular el silencio de un usuario",unreadMessagesSeparatorText_many:dI,unreadMessagesSeparatorText_one:fI,unreadMessagesSeparatorText_other:hI,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} y {{ moreCount }} ms","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} y {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} y {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} ms","{{ memberCount }} members":"{{ memberCount }} miembros","{{ user }} has been muted":"{{ user }} ha sido silenciado","{{ user }} has been unmuted":"{{ user }} se ha desactivado","{{ user }} is typing...":"{{ user }} est escribiendo...","{{ users }} and more are typing...":"{{ users }} y ms estn escribiendo...","{{ users }} and {{ user }} are typing...":"{{ users }} y {{ user }} estn escribiendo...","{{ watcherCount }} online":"{{ watcherCount }} en lnea","{{count}} unread_many":"{{count}} no ledos","{{count}} unread_one":"{{count}} no ledo","{{count}} unread_other":"{{count}} no ledos"," Attachment...":" Adjunto..."},mI="Annuler",gI="Fermer",vI="Supprimer",yI="Publi",_I="dit",bI="Signaler",wI="Menu",EI="Muet",CI="Nouveaux",SI="D'accord",DI="pingle",kI="Rponse",MI="Rechercher",TI="Envoyer",xI="Mlanger",RI="Fil de discussion",PI="Dsactiver muet",OI="Dtacher",AI="en direct",LI="{{ count }} rponses",II="1 rponse",FI="{{ count }} rponses",NI="{{ count }} rsultats",UI="1 rsultat",BI="{{ count }} rsultats",jI="{{count}} messages non lus",zI="1 message non lu",$I="{{count}} messages non lus",HI={"Allow access to camera":"Autoriser l'accs  la camra","Allow access to microphone":"Autoriser l'accs au microphone","An error has occurred during recording":"Une erreur s'est produite pendant l'enregistrement","An error has occurred during the recording processing":"Une erreur s'est produite pendant le traitement de l'enregistrement","Attach files":"Pices jointes",Cancel:mI,"Cannot seek in the recording":"Impossible de rechercher dans l'enregistrement","Channel Missing":"Canal Manquant",Close:gI,"Close emoji picker":"Fermer le slecteur d'emojis","Commands matching":"Correspondance des commandes","Connection failure, reconnecting now...":"chec de la connexion, reconnexion en cours...",Delete:vI,Delivered:yI,"Drag your files here":"Glissez vos fichiers ici","Drag your files here to add to your post":"Glissez vos fichiers ici pour les ajouter  votre publication","Edit Message":"diter un message","Edit message request failed":"chec de la demande de modification du message",Edited:_I,"Emoji matching":"Correspondance emoji","Empty message...":"Message vide...","Error adding flag":"Erreur lors de l'ajout du drapeau","Error connecting to chat, refresh the page to try again.":"Erreur de connexion au chat, rafrachissez la page pour ressayer.","Error deleting message":"Erreur lors de la suppression du message","Error fetching reactions":"Erreur de chargement des ractions","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Erreur lors de la marque du message comme non lu. Impossible de marquer des messages non lus plus anciens que les 100 derniers messages du canal.","Error muting a user ...":"Erreur de mise en sourdine d'un utilisateur ...","Error pinning message":"Erreur d'pinglage du message","Error removing message pin":"Erreur lors de la suppression du code PIN du message","Error reproducing the recording":"Erreur lors de la reproduction de l'enregistrement","Error starting recording":"Erreur de dmarrage de l'enregistrement","Error unmuting a user ...":"Erreur de dsactivation de la fonction sourdine pour un utilisateur ...","Error uploading attachment":"Erreur lors du tlchargement de la pice jointe","Error uploading file":"Erreur lors du tlchargement du fichier","Error uploading image":"Erreur lors de l'envoi de l'image","Error  Unsent":"Erreur - Non envoy","Error: {{ errorMessage }}":"Erreur : {{ errorMessage }}","Failed to jump to the first unread message":"chec de saut vers le premier message non lu","Failed to mark channel as read":"chec de la marque du canal comme lu","Failed to play the recording":"Impossible de lire l'enregistrement","File is too large: {{ size }}, maximum upload size is {{ limit }}":"Le fichier est trop volumineux : {{ size }}, la taille de tlchargement maximale est de {{ limit }}",Flag:bI,"Latest Messages":"Derniers messages","Load more":"Charger plus","Mark as unread":"Marquer comme non lu",Menu:wI,"Message Failed  Click to try again":"chec de l'envoi du message - Cliquez pour ressayer","Message Failed  Unauthorized":"chec de l'envoi du message - Non autoris","Message deleted":"Message supprim","Message has been successfully flagged":"Le message a t signal avec succs","Message pinned":"Message pingl","Messages have been marked unread.":"Les messages ont t marqus comme non lus.","Missing permissions to upload the attachment":"Autorisations manquantes pour tlcharger la pice jointe",Mute:EI,New:CI,"New Messages!":"Nouveaux Messages!","No chats here yet":"Pas encore de messages ici...","No results found":"Aucun rsultat trouv","Nothing yet...":"Aucun message...",Ok:SI,"Open emoji picker":"Ouvrez le slecteur d'emoji","People matching":"Correspondance de personnes",Pin:DI,"Pinned by":"pingl par","Recording format is not supported and cannot be reproduced":"Le format d'enregistrement n'est pas pris en charge et ne peut pas tre reproduit",Reply:kI,"Reply to Message":"Rpondre au message",Search:MI,"Searching...":"Recherche...",Send:TI,"Send Anyway":"Envoyer quand mme","Send message request failed":"chec de la demande d'envoi de message","Sending...":"Envoi en cours...",Shuffle:xI,"Slow Mode ON":"Mode lent activ","Some of the files will not be accepted":"Certains fichiers ne seront pas accepts","This message did not meet our content guidelines":"Ce message n'est pas conforme  nos lignes directrices en matire de contenu","This message was deleted...":"Ce message a t supprim...",Thread:RI,"To start recording, allow the camera access in your browser":"Pour commencer l'enregistrement, autorisez l'accs  la camra dans votre navigateur","To start recording, allow the microphone access in your browser":"Pour commencer l'enregistrement, autorisez l'accs au microphone dans votre navigateur","Type your message":"Saisissez votre message",Unmute:PI,Unpin:OI,"Unread messages":"Messages non lus","Unsupported attachment":"Pice jointe non prise en charge",'Upload type: "{{ type }}" is not allowed':`Le type de tlchargement: "{{ type }}" n'est pas autoris`,"User uploaded content":"Contenu tlcharg par l'utilisateur","Voice message":"Message vocal","Wait until all attachments have uploaded":"Attendez que toutes les pices jointes soient tlcharges","You have no channels currently":"Vous n'avez actuellement aucun canal","You've reached the maximum number of files":"Vous avez atteint le nombre maximum de fichiers","aria/Attachment":"Pice jointe","aria/Cancel Reply":"Annuler la rponse","aria/Cancel upload":"Annuler le tlchargement","aria/Channel list":"Liste des canaux","aria/Channel search results":"Rsultats de la recherche de canaux","aria/Close thread":"Fermer le fil","aria/Emoji picker":"Slecteur d'mojis","aria/File input":"Entre de fichier","aria/File upload":"Tlchargement de fichier","aria/Image input":"Entre d'image","aria/Load More Channels":"Charger plus de canaux","aria/Menu":"Menu","aria/Message Options":"Options de message","aria/Open Message Actions Menu":"Ouvrir le menu des actions de message","aria/Open Reaction Selector":"Ouvrir le slecteur de raction","aria/Open Thread":"Ouvrir le fil","aria/Reaction list":"Liste des ractions","aria/Retry upload":"Ressayer le tlchargement","aria/Send":"Envoyer","ban-command-args":"[@nomdutilisateur] [texte]","ban-command-description":"Bannir un utilisateur","giphy-command-args":"[texte]","giphy-command-description":"Poster un GIF alatoire dans le canal",live:AI,"mute-command-args":"[@nomdutilisateur]","mute-command-description":"Muter un utilisateur",replyCount_many:LI,replyCount_one:II,replyCount_other:FI,searchResultsCount_many:NI,searchResultsCount_one:UI,searchResultsCount_other:BI,"this content could not be displayed":"ce contenu n'a pu tre affich","unban-command-args":"[@nomdutilisateur]","unban-command-description":"Dbannir un utilisateur","unmute-command-args":"[@nomdutilisateur]","unmute-command-description":"Dmuter un utilisateur",unreadMessagesSeparatorText_many:jI,unreadMessagesSeparatorText_one:zI,unreadMessagesSeparatorText_other:$I,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} et {{ moreCount }} autres","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} et {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} et {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} supplmentaires","{{ memberCount }} members":"{{ memberCount }} membres","{{ user }} has been muted":"{{ user }} a t mis en sourdine","{{ user }} has been unmuted":"{{ user }} n'est plus en sourdine","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} en ligne","{{count}} unread_many":"{{count}} non lus","{{count}} unread_one":"{{count}} non lu","{{count}} unread_other":"{{count}} non lus"," Attachment...":" Pice jointe..."},VI=" ",WI=" ",qI="",YI=" ",KI="",GI=" ",ZI="",XI=" ",QI="",JI=" ",eF="",tF="  ",nF="",rF="",aF=" ",iF=" ",oF="",sF="",lF="",uF="1 ",cF="{{ count }} ",dF="1 ",fF="{{ count }} ",hF="1  ",pF="{{count}}  ",mF={"Allow access to camera":"   ","Allow access to microphone":"   ","An error has occurred during recording":"       ","An error has occurred during the recording processing":"        ","Attach files":"  ",Cancel:VI,"Cannot seek in the recording":"      ","Channel Missing":"   ",Close:WI,"Close emoji picker":"   ","Commands matching":"  ","Connection failure, reconnecting now...":"  ,       ...",Delete:qI,Delivered:YI,"Drag your files here":"   ","Drag your files here to add to your post":"          ","Edit Message":"   ","Edit message request failed":"      ",Edited:KI,"Emoji matching":" ","Empty message...":"  ...","Error adding flag":"   ","Error connecting to chat, refresh the page to try again.":"     ,    ","Error deleting message":"   ","Error fetching reactions":"    ","Error marking message unread":"      ","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"         100                ","Error muting a user ...":"       ","Error pinning message":"     ","Error removing message pin":"    ","Error reproducing the recording":" :    ","Error starting recording":"    ","Error unmuting a user ...":"       ","Error uploading attachment":"    ","Error uploading file":"    ","Error uploading image":"    ","Error  Unsent":"","Error: {{ errorMessage }}":": {{ errorMessage }}","Failed to jump to the first unread message":"      ","Failed to mark channel as read":"       ","Failed to play the recording":"    ","File is too large: {{ size }}, maximum upload size is {{ limit }}":"   : {{ size }},    {{ limit }} ",Flag:GI,"Latest Messages":" ","Load more":"  ","Mark as unread":"  ",Menu:ZI,"Message Failed  Click to try again":"  -   ","Message Failed  Unauthorized":"  - ","Message deleted":"   ","Message has been successfully flagged":"      ","Message pinned":"   ","Messages have been marked unread.":"      ","Missing permissions to upload the attachment":"      ",Mute:XI,New:QI,"New Messages!":" !","No chats here yet":"     ...","No results found":"   ","Nothing yet...":"   ",Ok:JI,"Open emoji picker":"  ","People matching":"  ",Pin:eF,"Pinned by":"   ","Recording format is not supported and cannot be reproduced":"           ",Reply:tF,"Reply to Message":"   ",Search:nF,"Searching...":" ...",Send:rF,"Send Anyway":"  ","Send message request failed":"     ","Sending...":"   ",Shuffle:aF,"Slow Mode ON":"  ","Some of the files will not be accepted":"     ","This message did not meet our content guidelines":"        ","This message was deleted...":"   ",Thread:iF,"To start recording, allow the camera access in your browser":"    ,       ","To start recording, allow the microphone access in your browser":"T    ,       ","Type your message":"  ",Unmute:oF,Unpin:sF,"Unread messages":" ","Unsupported attachment":" ",'Upload type: "{{ type }}" is not allowed':' : "{{ type }}"    ',"User uploaded content":"    ","Voice message":" ","Wait until all attachments have uploaded":"      ","You have no channels currently":"     ","You've reached the maximum number of files":"      ","aria/Attachment":"","aria/Cancel Reply":"  ","aria/Cancel upload":"  ","aria/Channel list":" ","aria/Channel search results":"  ","aria/Close thread":"  ","aria/Emoji picker":"  ","aria/File input":" ","aria/File upload":" ","aria/Image input":" ","aria/Load More Channels":"   ","aria/Menu":"","aria/Message Options":" ","aria/Open Message Actions Menu":"   ","aria/Open Reaction Selector":"  ","aria/Open Thread":" ","aria/Reaction list":" ","aria/Retry upload":"   ","aria/Send":"","ban-command-args":"[@] []","ban-command-description":"    ","giphy-command-args":"[]","giphy-command-description":"      ",live:lF,"mute-command-args":"[@]","mute-command-description":"    ",replyCount_one:uF,replyCount_other:cF,searchResultsCount_one:dF,searchResultsCount_other:fF,"this content could not be displayed":"     ","unban-command-args":"[@]","unban-command-description":"      ","unmute-command-args":"[@]","unmute-command-description":"    ",unreadMessagesSeparatorText_one:hF,unreadMessagesSeparatorText_other:pF,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }}  {{ moreCount }} ","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}  {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }}  {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} ","{{ memberCount }} members":"{{ memberCount }} ","{{ user }} has been muted":"{{ user }}      ","{{ user }} has been unmuted":"{{ user }}      ","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} ","{{count}} unread_other":"{{count}} "," Attachment...":" "},gF="Annulla",vF="Chiudi",yF="Cancella",_F="Consegnato",bF="Modificato",wF="Segnala",EF="Men",CF="Silenzia",SF="Nuovo",DF="Ok",kF="Pin",MF="Rispondere",TF="Ricerca",xF="Invia",RF="Mescolare",PF="Thread",OF="Riattiva le notifiche",AF="Sblocca",LF="live",IF="{{ count }} risposte",FF="Una risposta",NF="{{ count }} risposte",UF="{{ count }} risultati",BF="1 risultato",jF="{{ count }} risultati",zF="{{count}} messaggi non letti",$F="1 messaggio non letto",HF="{{count}} messaggi non letti",VF={"Allow access to camera":"Consenti l'accesso alla fotocamera","Allow access to microphone":"Consenti l'accesso al microfono","An error has occurred during recording":"Si  verificato un errore durante la registrazione","An error has occurred during the recording processing":"Si  verificato un errore durante l'elaborazione della registrazione","Attach files":"Allega file",Cancel:gF,"Cannot seek in the recording":"Impossibile cercare nella registrazione","Channel Missing":"Il canale non esiste",Close:vF,"Close emoji picker":"Chiudi il selettore di emoji","Commands matching":"Comandi corrispondenti","Connection failure, reconnecting now...":"Connessione fallitta, riconnessione in corso...",Delete:yF,Delivered:_F,"Drag your files here":"Trascina i tuoi file qui","Drag your files here to add to your post":"Trascina i tuoi file qui per aggiungerli al tuo post","Edit Message":"Modifica messaggio","Edit message request failed":"Richiesta di modifica del messaggio non riuscita",Edited:bF,"Emoji matching":"Abbinamento emoji","Empty message...":"Message vuoto...","Error adding flag":"Errore durante l'aggiunta del flag","Error connecting to chat, refresh the page to try again.":"Errore di connessione alla chat, aggiorna la pagina per riprovare","Error deleting message":"Errore durante l'eliminazione del messaggio","Error fetching reactions":"Errore nel caricamento delle reazioni","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Errore durante la marcatura del messaggio come non letto. Impossibile marcare messaggi non letti pi vecchi dei pi recenti 100 messaggi del canale.","Error muting a user ...":"Errore silenziando un utente ...","Error pinning message":"Errore durante il blocco del messaggio","Error removing message pin":"Errore durante la rimozione del PIN del messaggio","Error reproducing the recording":"Errore durante la riproduzione della registrazione","Error starting recording":"Errore durante l'avvio della registrazione","Error unmuting a user ...":"Errore riattivando le notifiche per l'utente ...","Error uploading attachment":"Errore durante il caricamento dell'allegato","Error uploading file":"Errore durante il caricamento del file","Error uploading image":"Errore durante il caricamento dell'immagine","Error  Unsent":"Errore  Non inviato","Error: {{ errorMessage }}":"Errore: {{ errorMessage }}","Failed to jump to the first unread message":"Impossibile passare al primo messaggio non letto","Failed to mark channel as read":"Impossibile contrassegnare il canale come letto","Failed to play the recording":"Impossibile riprodurre la registrazione","File is too large: {{ size }}, maximum upload size is {{ limit }}":"Il file  troppo grande: {{ size }}, la dimensione massima di caricamento  {{ limit }}",Flag:wF,"Latest Messages":"Ultimi messaggi","Load more":"Carica di pi","Mark as unread":"Contrassegna come non letto",Menu:EF,"Message Failed  Click to try again":"Invio messaggio fallito  Clicca per riprovare","Message Failed  Unauthorized":"Invio messaggio fallito  Non autorizzato","Message deleted":"Messaggio cancellato","Message has been successfully flagged":"Il messaggio  stato segnalato con successo","Message pinned":"Messaggio bloccato","Messages have been marked unread.":"I messaggi sono stati contrassegnati come non letti.","Missing permissions to upload the attachment":"Autorizzazioni mancanti per caricare l'allegato",Mute:CF,New:SF,"New Messages!":"Nuovo messaggio!","No chats here yet":"Non ci sono ancora messaggi qui...","No results found":"Nessun risultato trovato","Nothing yet...":"Ancora niente...",Ok:DF,"Open emoji picker":"Apri il selettore dellle emoji","People matching":"Persone che corrispondono",Pin:kF,"Pinned by":"Appuntato da","Recording format is not supported and cannot be reproduced":"Il formato di registrazione non  supportato e non pu essere riprodotto",Reply:MF,"Reply to Message":"Rispondi al messaggio",Search:TF,"Searching...":"Ricerca in corso ...",Send:xF,"Send Anyway":"Invia comunque","Send message request failed":"Invia messaggio di richiesta non riuscito","Sending...":"Invio in corso...",Shuffle:RF,"Slow Mode ON":"Modalit lenta attivata","Some of the files will not be accepted":"Alcuni dei file non saranno accettati","This message did not meet our content guidelines":"Questo messaggio non soddisfa le nostre linee guida sui contenuti","This message was deleted...":"Questo messaggio  stato cancellato",Thread:PF,"To start recording, allow the camera access in your browser":"Per iniziare la registrazione, consenti l'accesso alla fotocamera nel tuo browser","To start recording, allow the microphone access in your browser":"Per iniziare la registrazione, consenti l'accesso al microfono nel tuo browser","Type your message":"Scrivi il tuo messaggio",Unmute:OF,Unpin:AF,"Unread messages":"Messaggi non letti","Unsupported attachment":"Allegato non supportato",'Upload type: "{{ type }}" is not allowed':'Tipo di caricamento: "{{ type }}" non  consentito',"User uploaded content":"Contenuto caricato dall'utente","Voice message":"Messaggio vocale","Wait until all attachments have uploaded":"Attendi il caricamento di tutti gli allegati","You have no channels currently":"Al momento non sono presenti canali","You've reached the maximum number of files":"Hai raggiunto il numero massimo di file","aria/Attachment":"Allegato","aria/Cancel Reply":"Annulla risposta","aria/Cancel upload":"Annulla caricamento","aria/Channel list":"Elenco dei canali","aria/Channel search results":"Risultati della ricerca dei canali","aria/Close thread":"Chiudi discussione","aria/Emoji picker":"Selettore di emoji","aria/File input":"Input di file","aria/File upload":"Caricamento di file","aria/Image input":"Input di immagine","aria/Load More Channels":"Carica altri canali","aria/Menu":"Menu","aria/Message Options":"Opzioni di messaggio","aria/Open Message Actions Menu":"Apri il menu delle azioni di messaggio","aria/Open Reaction Selector":"Apri il selettore di reazione","aria/Open Thread":"Apri discussione","aria/Reaction list":"Elenco delle reazioni","aria/Retry upload":"Riprova caricamento","aria/Send":"Invia","ban-command-args":"[@nomeutente] [testo]","ban-command-description":"Vietare un utente","giphy-command-args":"[testo]","giphy-command-description":"Pubblica un gif casuale sul canale",live:LF,"mute-command-args":"[@nomeutente]","mute-command-description":"Silenzia un utente",replyCount_many:IF,replyCount_one:FF,replyCount_other:NF,searchResultsCount_many:UF,searchResultsCount_one:BF,searchResultsCount_other:jF,"this content could not be displayed":"questo contenuto non pu essere mostrato","unban-command-args":"[@nomeutente]","unban-command-description":"Togliere il divieto a un utente","unmute-command-args":"[@nomeutente]","unmute-command-description":"Togliere il silenzio a un utente",unreadMessagesSeparatorText_many:zF,unreadMessagesSeparatorText_one:$F,unreadMessagesSeparatorText_other:HF,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} e altri {{ moreCount }}","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} e {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} e {{ secondUser }}","{{ imageCount }} more":"+ {{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} membri","{{ user }} has been muted":"{{ user }}  stato silenziato","{{ user }} has been unmuted":"Notifiche riattivate per {{ user }}","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_many":"{{count}} non letti","{{count}} unread_one":"{{count}} non letto","{{count}} unread_other":"{{count}} non letti"," Attachment...":" Allegato..."},WF="",qF="",YF="",KF="",GF="",ZF="",XF="",QF="",JF="",eN="OK",tN="",nN="",rN="",aN="",iN="",oN="",sN="",lN="",uN="",cN="1",dN="{{ count }} ",fN="1",hN="{{ count }}",pN=" {{count}} ",mN={"Allow access to camera":"","Allow access to microphone":"","An error has occurred during recording":"","An error has occurred during the recording processing":"","Attach files":"",Cancel:WF,"Cannot seek in the recording":"","Channel Missing":"",Close:qF,"Close emoji picker":"","Commands matching":"","Connection failure, reconnecting now...":"...",Delete:YF,Delivered:KF,"Drag your files here":"","Drag your files here to add to your post":"","Edit Message":"","Edit message request failed":"",Edited:GF,"Emoji matching":"","Empty message...":"...","Error adding flag":"","Error connecting to chat, refresh the page to try again.":"","Error deleting message":"","Error fetching reactions":"","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"100","Error muting a user ...":"...","Error pinning message":"","Error removing message pin":"","Error reproducing the recording":"","Error starting recording":"","Error unmuting a user ...":"...","Error uploading attachment":"","Error uploading file":"","Error uploading image":"","Error  Unsent":"","Error: {{ errorMessage }}":": {{ errorMessage }}","Failed to jump to the first unread message":"","Failed to mark channel as read":"","Failed to play the recording":"","File is too large: {{ size }}, maximum upload size is {{ limit }}":"{{ size }}{{ limit }}",Flag:ZF,"Latest Messages":"","Load more":"","Mark as unread":"",Menu:XF,"Message Failed  Click to try again":"  ","Message Failed  Unauthorized":"  ","Message deleted":"","Message has been successfully flagged":"","Message pinned":"","Messages have been marked unread.":"","Missing permissions to upload the attachment":"",Mute:QF,New:JF,"New Messages!":"!","No chats here yet":"","No results found":"","Nothing yet...":"...",Ok:eN,"Open emoji picker":"","People matching":"",Pin:tN,"Pinned by":"","Recording format is not supported and cannot be reproduced":"",Reply:nN,"Reply to Message":"",Search:rN,"Searching...":"...",Send:aN,"Send Anyway":"","Send message request failed":"","Sending...":"...",Shuffle:iN,"Slow Mode ON":"","Some of the files will not be accepted":"","This message did not meet our content guidelines":"","This message was deleted...":"...",Thread:oN,"To start recording, allow the camera access in your browser":"","To start recording, allow the microphone access in your browser":"","Type your message":"",Unmute:sN,Unpin:lN,"Unread messages":"","Unsupported attachment":"",'Upload type: "{{ type }}" is not allowed':'"{{ type }}"',"User uploaded content":"","Voice message":"","Wait until all attachments have uploaded":"","You have no channels currently":"","You've reached the maximum number of files":"","aria/Attachment":"","aria/Cancel Reply":"","aria/Cancel upload":"","aria/Channel list":"","aria/Channel search results":"","aria/Close thread":"","aria/Emoji picker":"","aria/File input":"","aria/File upload":"","aria/Image input":"","aria/Load More Channels":"","aria/Menu":"","aria/Message Options":"","aria/Open Message Actions Menu":"","aria/Open Reaction Selector":"","aria/Open Thread":"","aria/Reaction list":"","aria/Retry upload":"","aria/Send":"","ban-command-args":"[@] []","ban-command-description":"","giphy-command-args":"[]","giphy-command-description":"GIF",live:uN,"mute-command-args":"[@]","mute-command-description":"",replyCount_one:cN,replyCount_other:dN,searchResultsCount_one:fN,searchResultsCount_other:hN,"this content could not be displayed":"","unban-command-args":"[@]","unban-command-description":"","unmute-command-args":"[@]","unmute-command-description":"",unreadMessagesSeparatorText_other:pN,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }}  {{ moreCount }} ","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}  {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }}  {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} ","{{ memberCount }} members":"{{ memberCount }} ","{{ user }} has been muted":"{{ user }} ","{{ user }} has been unmuted":"{{ user }} ","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} ","{{count}} unread_other":"{{count}} "," Attachment...":" ..."},gN="",vN="",yN="",_N="",bN="",wN="",EN="",CN="",SN="",DN="",kN="",MN="",TN="",xN="",RN="",PN="",ON=" ",AN=" ",LN="",IN=" 1",FN="{{ count }} ",NN="1 ",UN="{{ count }} ",BN="   {{count}}",jN={"Allow access to camera":"   ","Allow access to microphone":"   ","An error has occurred during recording":"   ","An error has occurred during the recording processing":"    ","Attach files":" ",Cancel:gN,"Cannot seek in the recording":"   ","Channel Missing":" ",Close:vN,"Close emoji picker":"  ","Commands matching":" ","Connection failure, reconnecting now...":" ,    ...",Delete:yN,Delivered:_N,"Drag your files here":"   ","Drag your files here to add to your post":"     ","Edit Message":" ","Edit message request failed":"   ",Edited:bN,"Emoji matching":" ","Empty message...":" ...","Error adding flag":"    .","Error connecting to chat, refresh the page to try again.":"    .    .","Error deleting message":"    .","Error fetching reactions":"  .","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"      .   100         .","Error muting a user ...":"    ...","Error pinning message":"    .","Error removing message pin":"     .","Error reproducing the recording":"    ","Error starting recording":"    ","Error unmuting a user ...":"     ...","Error uploading attachment":"     ","Error uploading file":"  ","Error uploading image":"    .","Error  Unsent":"   ","Error: {{ errorMessage }}":": {{ errorMessage }}","Failed to jump to the first unread message":"      ","Failed to mark channel as read":"    ","Failed to play the recording":"  ","File is too large: {{ size }}, maximum upload size is {{ limit }}":"  : {{ size }},    {{ limit }}",Flag:wN,"Latest Messages":" ","Load more":" ","Mark as unread":"  ",Menu:EN,"Message Failed  Click to try again":"     .","Message Failed  Unauthorized":"    ","Message deleted":" .","Message has been successfully flagged":"  .","Message pinned":" ","Messages have been marked unread.":"   .","Missing permissions to upload the attachment":"    ",Mute:CN,New:SN,"New Messages!":" !","No chats here yet":"  ...","No results found":"  ","Nothing yet...":" ...",Ok:DN,"Open emoji picker":"  ","People matching":" ",Pin:kN,"Pinned by":" :","Recording format is not supported and cannot be reproduced":"      ",Reply:MN,"Reply to Message":" ",Search:TN,"Searching...":"...",Send:xN,"Send Anyway":" ","Send message request failed":"   ","Sending...":"...",Shuffle:RN,"Slow Mode ON":"  ","Some of the files will not be accepted":"     ","This message did not meet our content guidelines":"     .","This message was deleted...":"  ...",Thread:PN,"To start recording, allow the camera access in your browser":"     ","To start recording, allow the microphone access in your browser":"     ","Type your message":" ",Unmute:ON,Unpin:AN,"Unread messages":"  ","Unsupported attachment":"   ",'Upload type: "{{ type }}" is not allowed':' : "{{ type }}"()  .',"User uploaded content":"  ","Voice message":" ","Wait until all attachments have uploaded":"     .","You have no channels currently":"  .","You've reached the maximum number of files":"   .","aria/Attachment":" ","aria/Cancel Reply":" ","aria/Cancel upload":" ","aria/Channel list":" ","aria/Channel search results":"  ","aria/Close thread":" ","aria/Emoji picker":" ","aria/File input":" ","aria/File upload":" ","aria/Image input":" ","aria/Load More Channels":"   ","aria/Menu":"","aria/Message Options":" ","aria/Open Message Actions Menu":"   ","aria/Open Reaction Selector":"  ","aria/Open Thread":" ","aria/Reaction list":" ","aria/Retry upload":"  ","aria/Send":"","ban-command-args":"[@] []","ban-command-description":" ","giphy-command-args":"[]","giphy-command-description":"  GIF ",live:LN,"mute-command-args":"[@]","mute-command-description":" ",replyCount_one:IN,replyCount_other:FN,searchResultsCount_one:NN,searchResultsCount_other:UN,"this content could not be displayed":"    ","unban-command-args":"[@]","unban-command-description":"  ","unmute-command-args":"[@]","unmute-command-description":"  ",unreadMessagesSeparatorText_other:BN,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }}  {{ moreCount }} ","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}  {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }}  {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} ","{{ memberCount }} members":"{{ memberCount }}","{{ user }} has been muted":"{{ user }} ","{{ user }} has been unmuted":"{{ user }}  ","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} ","{{count}} unread_other":"{{count}}  "," Attachment...":" ..."},zN="Annuleer",$N="Sluit",HN="Verwijder",VN="Afgeleverd",WN="Bewerkt",qN="Markeer",YN="Menu",KN="Mute",GN="Nieuwe",ZN="Ok",XN="Pin",QN="Antwoord",JN="Zoeken",eU="Verstuur",tU="Schudden",nU="Draadje",rU="Unmute",aU="Losmaken",iU="live",oU="1 antwoord",sU="{{ count }} antwoorden",lU="1 resultaat",uU="{{ count }} resultaten",cU="1 ongelezen bericht",dU="{{count}} ongelezen berichten",fU={"Allow access to camera":"Toegang tot camera toestaan","Allow access to microphone":"Toegang tot microfoon toestaan","An error has occurred during recording":"Er is een fout opgetreden tijdens het opnemen","An error has occurred during the recording processing":"Er is een fout opgetreden tijdens de verwerking van de opname","Attach files":"Bijlage toevoegen",Cancel:zN,"Cannot seek in the recording":"Kan niet zoeken in de opname","Channel Missing":"Kanaal niet gevonden",Close:$N,"Close emoji picker":"Sluit de emoji-kiezer","Commands matching":"Bijpassende opdrachten","Connection failure, reconnecting now...":"Probleem met de verbinding, opnieuw verbinding maken...",Delete:HN,Delivered:VN,"Drag your files here":"Sleep je bestanden hier naartoe","Drag your files here to add to your post":"Sleep je bestanden hier naartoe om aan je bericht toe te voegen","Edit Message":"Pas bericht aan","Edit message request failed":"Verzoek om bericht bewerken mislukt",Edited:WN,"Emoji matching":"Emoji-overeenkomsten","Empty message...":"Leeg bericht...","Error adding flag":"Fout bij toevoegen van vlag","Error connecting to chat, refresh the page to try again.":"Fout bij het verbinden, ververs de pagina om nogmaals te proberen","Error deleting message":"Fout bij verwijderen van bericht","Error fetching reactions":"Fout bij het laden van reacties","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Fout bij markeren van bericht als ongelezen. Kan geen oudere ongelezen berichten markeren dan de nieuwste 100 kanaalberichten.","Error muting a user ...":"Fout bij het muten van de gebruiker","Error pinning message":"Fout bij vastzetten van bericht","Error removing message pin":"Fout bij verwijderen van berichtpin","Error reproducing the recording":"Fout bij het afspelen van de opname","Error starting recording":"Fout bij het starten van de opname","Error unmuting a user ...":"Fout bij het unmuten van de gebruiker","Error uploading attachment":"Fout bij het uploaden van de bijlage","Error uploading file":"Fout bij uploaden bestand","Error uploading image":"Fout bij uploaden afbeelding","Error  Unsent":"Error:  niet verzonden","Error: {{ errorMessage }}":"Error: {{ errorMessage }}","Failed to jump to the first unread message":"Niet gelukt om naar het eerste ongelezen bericht te springen","Failed to mark channel as read":"Kanaal kon niet als gelezen worden gemarkeerd","Failed to play the recording":"Kan de opname niet afspelen","File is too large: {{ size }}, maximum upload size is {{ limit }}":"Bestand is te groot: {{ size }}, maximale uploadgrootte is {{ limit }}",Flag:qN,"Latest Messages":"Laatste berichten","Load more":"Meer laden","Mark as unread":"Markeren als ongelezen",Menu:YN,"Message Failed  Click to try again":"Bericht mislukt, klik om het nogmaals te proberen","Message Failed  Unauthorized":"Bericht mislukt, ongeautoriseerd","Message deleted":"Bericht verwijderd","Message has been successfully flagged":"Bericht is succesvol gemarkeerd","Message pinned":"Bericht vastgezet","Messages have been marked unread.":"Berichten zijn gemarkeerd als ongelezen.","Missing permissions to upload the attachment":"Missende toestemmingen om de bijlage te uploaden",Mute:KN,New:GN,"New Messages!":"Nieuwe Berichten!","No chats here yet":"Nog geen chats hier...","No results found":"Geen resultaten gevonden","Nothing yet...":"Nog niets ...",Ok:ZN,"Open emoji picker":"Open emojipicker","People matching":"Mensen die matchen",Pin:XN,"Pinned by":"Vastgemaakt door","Recording format is not supported and cannot be reproduced":"Opnameformaat wordt niet ondersteund en kan niet worden gereproduceerd",Reply:QN,"Reply to Message":"Antwoord op bericht",Search:JN,"Searching...":"Zoeken...",Send:eU,"Send Anyway":"Toch versturen","Send message request failed":"Verzoek om bericht te verzenden mislukt","Sending...":"Aan het verzenden...",Shuffle:tU,"Slow Mode ON":"Langzame modus aan","Some of the files will not be accepted":"Sommige bestanden zullen niet worden geaccepteerd","This message did not meet our content guidelines":"Dit bericht voldeed niet aan onze inhoudsrichtlijnen","This message was deleted...":"Dit bericht was verwijderd",Thread:nU,"To start recording, allow the camera access in your browser":"Om te beginnen met opnemen, sta toegang tot de camera toe in uw browser","To start recording, allow the microphone access in your browser":"Om te beginnen met opnemen, sta toegang tot de microfoon toe in uw browser","Type your message":"Type je bericht",Unmute:rU,Unpin:aU,"Unread messages":"Ongelezen berichten","Unsupported attachment":"Niet-ondersteunde bijlage",'Upload type: "{{ type }}" is not allowed':'Uploadtype: "{{ type }}" is niet toegestaan',"User uploaded content":"Gebruikersgeploade inhoud","Voice message":"Voicemail","Wait until all attachments have uploaded":"Wacht tot alle bijlagen zijn gepload","You have no channels currently":"Er zijn geen chats beschikbaar","You've reached the maximum number of files":"Je hebt het maximale aantal bestanden bereikt","aria/Attachment":"Bijlage","aria/Cancel Reply":"Antwoord annuleren","aria/Cancel upload":"Upload annuleren","aria/Channel list":"Kanaallijst","aria/Channel search results":"Zoekresultaten voor kanalen","aria/Close thread":"Draad sluiten","aria/Emoji picker":"Emoji kiezer","aria/File input":"Bestandsinvoer","aria/File upload":"Bestand uploaden","aria/Image input":"Afbeelding invoeren","aria/Load More Channels":"Meer kanalen laden","aria/Menu":"Menu","aria/Message Options":"Berichtopties","aria/Open Message Actions Menu":"Menu voor berichtacties openen","aria/Open Reaction Selector":"Reactiekiezer openen","aria/Open Thread":"Draad openen","aria/Reaction list":"Reactielijst","aria/Retry upload":"Upload opnieuw proberen","aria/Send":"Verzenden","ban-command-args":"[@gebruikersnaam] [tekst]","ban-command-description":"Een gebruiker verbannen","giphy-command-args":"[tekst]","giphy-command-description":"Plaats een willekeurige gif in het kanaal",live:iU,"mute-command-args":"[@gebruikersnaam]","mute-command-description":"Een gebruiker dempen",replyCount_one:oU,replyCount_other:sU,searchResultsCount_one:lU,searchResultsCount_other:uU,"this content could not be displayed":"Deze inhoud kan niet weergegeven worden","unban-command-args":"[@gebruikersnaam]","unban-command-description":"Een gebruiker debannen","unmute-command-args":"[@gebruikersnaam]","unmute-command-description":"Een gebruiker niet meer dempen",unreadMessagesSeparatorText_one:cU,unreadMessagesSeparatorText_other:dU,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} en {{ moreCount }} meer","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} en {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} en {{ secondUser }}","{{ imageCount }} more":"+{{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} deelnemers","{{ user }} has been muted":"{{ user }} is muted","{{ user }} has been unmuted":"{{ user }} is unmuted","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} ongelezen","{{count}} unread_other":"{{count}} ongelezen"," Attachment...":" Bijlage..."},hU="Cancelar",pU="Fechar",mU="Excluir",gU="Entregue",vU="Editada",yU="Reportar",_U="Menu",bU="Mudo",wU="Novo",EU="Ok",CU="Fixar",SU="Responder",DU="Procurar",kU="Enviar",MU="Embaralhar",TU="Fio",xU="Ativar som",RU="Liberar",PU="ao vivo",OU="{{ count }} respostas",AU="1 resposta",LU="{{ count }} respostas",IU="{{ count }} resultados",FU="1 resultado",NU="{{ count }} resultados",UU="{{count}} mensagens no lidas",BU="1 mensagem no lida",jU="{{count}} mensagens no lidas",zU={"Allow access to camera":"Permitir acesso  cmera","Allow access to microphone":"Permitir acesso ao microfone","An error has occurred during recording":"Ocorreu um erro durante a gravao","An error has occurred during the recording processing":"Ocorreu um erro durante o processamento da gravao","Attach files":"Anexar arquivos",Cancel:hU,"Cannot seek in the recording":"No  possvel buscar na gravao","Channel Missing":"Canal ausente",Close:pU,"Close emoji picker":"Fechar seletor de emoji","Commands matching":"Comandos correspondentes","Connection failure, reconnecting now...":"Falha de conexo, reconectando agora...",Delete:mU,Delivered:gU,"Drag your files here":"Arraste seus arquivos aqui","Drag your files here to add to your post":"Arraste seus arquivos aqui para adicionar ao seu post","Edit Message":"Editar Mensagem","Edit message request failed":"O pedido de edio da mensagem falhou",Edited:vU,"Emoji matching":"Emoji correspondente","Empty message...":"Mensagem vazia...","Error adding flag":"Erro ao reportar","Error connecting to chat, refresh the page to try again.":"Erro ao conectar ao bate-papo, atualize a pgina para tentar novamente.","Error deleting message":"Erro ao deletar mensagem","Error fetching reactions":"Erro ao carregar reaces","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Erro ao marcar a mensagem como no lida. No  possvel marcar mensagens no lidas mais antigas do que as 100 mensagens mais recentes do canal.","Error muting a user ...":"Erro ao silenciar um usurio...","Error pinning message":"Erro ao fixar mensagem","Error removing message pin":"Erro ao remover o PIN da mensagem","Error reproducing the recording":"Erro ao reproduzir a gravao","Error starting recording":"Erro ao iniciar a gravao","Error unmuting a user ...":"Erro ao ativar o som de um usurio...","Error uploading attachment":"Erro ao carregar o anexo","Error uploading file":"Erro ao enviar arquivo","Error uploading image":"Erro ao carregar a imagem","Error  Unsent":"Erro  No enviado","Error: {{ errorMessage }}":"Erro: {{ errorMessage }}","Failed to jump to the first unread message":"Falha ao pular para a primeira mensagem no lida","Failed to mark channel as read":"Falha ao marcar o canal como lido","Failed to play the recording":"Permisses faltando para carregar o anexo","File is too large: {{ size }}, maximum upload size is {{ limit }}":"O arquivo  muito grande: {{ size }}, o tamanho mximo de upload  {{ limit }}",Flag:yU,"Latest Messages":"Mensagens mais recentes","Load more":"Carregar mais","Mark as unread":"Marcar como no lida",Menu:_U,"Message Failed  Click to try again":"A mensagem falhou  Clique para tentar novamente","Message Failed  Unauthorized":"A mensagem falhou  no autorizado","Message deleted":"Mensagem apagada","Message has been successfully flagged":"A mensagem foi reportada com sucesso","Message pinned":"Mensagem fixada","Messages have been marked unread.":"Mensagens foram marcadas como no lidas.","Missing permissions to upload the attachment":"Missing permissions to upload the attachment",Mute:bU,New:wU,"New Messages!":"Novas mensagens!","No chats here yet":"Ainda no h conversas aqui...","No results found":"Nenhum resultado encontrado","Nothing yet...":"Nada ainda...",Ok:EU,"Open emoji picker":"Abrir seletor de emoji","People matching":"Pessoas correspondentes",Pin:CU,"Pinned by":"Fixado por","Recording format is not supported and cannot be reproduced":"Formato de gravao no  suportado e no pode ser reproduzido",Reply:SU,"Reply to Message":"Responder a mensagem",Search:DU,"Searching...":"Procurando...",Send:kU,"Send Anyway":"Enviar de qualquer forma","Send message request failed":"O pedido de envio de mensagem falhou","Sending...":"Enviando...",Shuffle:MU,"Slow Mode ON":"Modo lento LIGADO","Some of the files will not be accepted":"Alguns dos arquivos no sero aceitos","This message did not meet our content guidelines":"Esta mensagem no corresponde s nossas directrizes de contedo","This message was deleted...":"Esta mensagem foi excluda...",Thread:TU,"To start recording, allow the camera access in your browser":"Para comear a gravar, permita o acesso  cmera no seu navegador","To start recording, allow the microphone access in your browser":"Para comear a gravar, permita o acesso ao microfone no seu navegador","Type your message":"Digite sua mensagem",Unmute:xU,Unpin:RU,"Unread messages":"Mensagens no lidas","Unsupported attachment":"Anexo no suportado",'Upload type: "{{ type }}" is not allowed':'Tipo de upload: "{{ type }}" no  permitido',"User uploaded content":"Contedo enviado pelo usurio","Voice message":"Mensagem de voz","Wait until all attachments have uploaded":"Espere at que todos os anexos tenham sido carregados","You have no channels currently":"Voc no tem canais atualmente","You've reached the maximum number of files":"Voc atingiu o nmero mximo de arquivos","aria/Attachment":"Anexo","aria/Cancel Reply":"Cancelar resposta","aria/Cancel upload":"Cancelar upload","aria/Channel list":"Lista de canais","aria/Channel search results":"Resultados de pesquisa de canais","aria/Close thread":"Fechar tpico","aria/Emoji picker":"Seletor de emojis","aria/File input":"Entrada de arquivo","aria/File upload":"Carregar arquivo","aria/Image input":"Entrada de imagem","aria/Load More Channels":"Carregar mais canais","aria/Menu":"Menu","aria/Message Options":"Opes de mensagem","aria/Open Message Actions Menu":"Abrir menu de aes de mensagem","aria/Open Reaction Selector":"Abrir seletor de reaes","aria/Open Thread":"Abrir tpico","aria/Reaction list":"Lista de reaes","aria/Retry upload":"Tentar upload novamente","aria/Send":"Enviar","ban-command-args":"[@nomedeusurio] [texto]","ban-command-description":"Banir um usurio","giphy-command-args":"[texto]","giphy-command-description":"Postar um gif aleatrio no canal",live:PU,"mute-command-args":"[@nomedeusurio]","mute-command-description":"Silenciar um usurio",replyCount_many:OU,replyCount_one:AU,replyCount_other:LU,searchResultsCount_many:IU,searchResultsCount_one:FU,searchResultsCount_other:NU,"this content could not be displayed":"este contedo no pde ser exibido","unban-command-args":"[@nomedeusurio]","unban-command-description":"Desbanir um usurio","unmute-command-args":"[@nomedeusurio]","unmute-command-description":"Retirar o silenciamento de um usurio",unreadMessagesSeparatorText_many:UU,unreadMessagesSeparatorText_one:BU,unreadMessagesSeparatorText_other:jU,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} e mais {{ moreCount }}","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} e {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} e {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} mais","{{ memberCount }} members":"{{ memberCount }} membros","{{ user }} has been muted":"{{ user }} foi silenciado","{{ user }} has been unmuted":"{{ user }} foi reativado","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_many":"{{count}} no lidos","{{count}} unread_one":"{{count}} no lido","{{count}} unread_other":"{{count}} no lidos"," Attachment...":" Anexo..."},$U="",HU="",VU="",WU="",qU="",YU="",KU="",GU=" ",ZU="",XU="Ok",QU="",JU="",eB="",tB="",nB="",rB="",aB=" ",iB="",oB="  ",sB="{{ count }} ",lB="{{ count }} ",uB="1 ",cB="{{ count }} ",dB="{{ count }} ",fB="{{ count }} ",hB="1 ",pB="{{ count }} ",mB="1  ",gB="{{count}}  ",vB="1  ",yB="{{count}}  ",_B={"Allow access to camera":"   ","Allow access to microphone":"   ","An error has occurred during recording":"    ","An error has occurred during the recording processing":"     ","Attach files":" ",Cancel:$U,"Cannot seek in the recording":"    ","Channel Missing":"  ",Close:HU,"Close emoji picker":"   ","Commands matching":" ","Connection failure, reconnecting now...":" , ...",Delete:VU,Delivered:WU,"Drag your files here":"   ","Drag your files here to add to your post":"   ,      ","Edit Message":" ","Edit message request failed":"    ",Edited:qU,"Emoji matching":" ","Empty message...":" ...","Error adding flag":"  ","Error connecting to chat, refresh the page to try again.":"   ,     .","Error deleting message":"   ","Error fetching reactions":"   ","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"     .        100   .","Error muting a user ...":"    ...","Error pinning message":"    ","Error removing message pin":"    ","Error reproducing the recording":"  ","Error starting recording":"   ","Error unmuting a user ...":"  ...","Error uploading attachment":"   ","Error uploading file":"   ","Error uploading image":"  ","Error  Unsent":"   ","Error: {{ errorMessage }}":": {{ errorMessage }}","Failed to jump to the first unread message":"      ","Failed to mark channel as read":"     ","Failed to play the recording":"   ","File is too large: {{ size }}, maximum upload size is {{ limit }}":"  : {{ size }},     {{ limit }}",Flag:YU,"Latest Messages":" ","Load more":" ","Mark as unread":"  ",Menu:KU,"Message Failed  Click to try again":"      ","Message Failed  Unauthorized":"    ","Message deleted":" ","Message has been successfully flagged":"    ","Message pinned":" ","Messages have been marked unread.":"    .","Missing permissions to upload the attachment":"    ",Mute:GU,New:ZU,"New Messages!":" !","No chats here yet":"   ...","No results found":"  ","Nothing yet...":"  ...",Ok:XU,"Open emoji picker":" emoji","People matching":" ",Pin:QU,"Pinned by":"","Recording format is not supported and cannot be reproduced":"        ",Reply:JU,"Reply to Message":"  ",Search:eB,"Searching...":"...",Send:tB,"Send Anyway":"  , ","Send message request failed":"      ","Sending...":"...",Shuffle:nB,"Slow Mode ON":"  ","Some of the files will not be accepted":"    ","This message did not meet our content guidelines":"   ","This message was deleted...":"  ...",Thread:rB,"To start recording, allow the camera access in your browser":"         ","To start recording, allow the microphone access in your browser":"         ","Type your message":" ",Unmute:aB,Unpin:iB,"Unread messages":" ","Unsupported attachment":" ",'Upload type: "{{ type }}" is not allowed':' : "{{ type }}"  ',"User uploaded content":"  ","Voice message":" ","Wait until all attachments have uploaded":",    ","You have no channels currently":"      ","You've reached the maximum number of files":"    ","aria/Attachment":"","aria/Cancel Reply":" ","aria/Cancel upload":" ","aria/Channel list":" ","aria/Channel search results":"   ","aria/Close thread":" ","aria/Emoji picker":" ","aria/File input":" ","aria/File upload":" ","aria/Image input":" ","aria/Load More Channels":"  ","aria/Menu":"","aria/Message Options":" ","aria/Open Message Actions Menu":"    ","aria/Open Reaction Selector":"  ","aria/Open Thread":" ","aria/Reaction list":" ","aria/Retry upload":" ","aria/Send":"","ban-command-args":"[@] []","ban-command-description":" ","giphy-command-args":"[]","giphy-command-description":"  GIF-  ",live:oB,"mute-command-args":"[@]","mute-command-description":"   ",replyCount_few:sB,replyCount_many:lB,replyCount_one:uB,replyCount_other:cB,searchResultsCount_few:dB,searchResultsCount_many:fB,searchResultsCount_one:hB,searchResultsCount_other:pB,"this content could not be displayed":"        ","unban-command-args":"[@]","unban-command-description":" ","unmute-command-args":"[@]","unmute-command-description":"   ",unreadMessagesSeparatorText_few:mB,unreadMessagesSeparatorText_many:gB,unreadMessagesSeparatorText_one:vB,unreadMessagesSeparatorText_other:yB,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }}  {{ moreCount }} ","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}  {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }}  {{ secondUser }}","{{ imageCount }} more":" {{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} ","{{ user }} has been muted":"     {{ user }}","{{ user }} has been unmuted":"  {{ user }}  ","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }}  ","{{count}} unread_few":"{{count}} ","{{count}} unread_many":"{{count}} ","{{count}} unread_one":"{{count}} ","{{count}} unread_other":"{{count}} "," Attachment...":" ..."},bB="ptal",wB="Kapat",EB="Sil",CB="letildi",SB="Dzenlendi",DB="Bayrak",kB="Men",MB="Sessiz",TB="Yeni",xB="Tamam",RB="Toplu ine",PB="Cevapla",OB="Arama",AB="Gnder",LB="Kartr",IB="Konu",FB="Sesini a",NB="Sabitlemeyi kaldr",UB="canl",BB="1 cevap",jB="{{ count }} cevaplar",zB="1 sonu",$B="{{ count }} sonu",HB="1 okunmam mesaj",VB="{{count}} okunmam mesaj",WB={"Allow access to camera":"Kameraya eriime izin ver","Allow access to microphone":"Mikrofona eriime izin ver","An error has occurred during recording":"Kayt srasnda bir hata olutu","An error has occurred during the recording processing":"Kayt ilemi srasnda bir hata olutu","Attach files":"Dosya ekle",Cancel:bB,"Cannot seek in the recording":"Kaytta arama yaplamyor","Channel Missing":"Kanal bulunamyor",Close:wB,"Close emoji picker":"Emoji seiciyi kapat","Commands matching":"Eleen komutlar","Connection failure, reconnecting now...":"Balant hatas, tekrar balanlyor...",Delete:EB,Delivered:CB,"Drag your files here":"Dosyalarnz buraya srkleyin","Drag your files here to add to your post":"Gnderinize eklemek iin dosyalarnz buraya srkleyin","Edit Message":"Mesaj Dzenle","Edit message request failed":"Mesaj dzenleme istei baarsz oldu",Edited:SB,"Emoji matching":"Emoji eletirme","Empty message...":"Bo mesaj...","Error adding flag":"Bayrak eklenirken hata olutu","Error connecting to chat, refresh the page to try again.":"Balant hatas, sayfay yenileyip tekrar deneyin.","Error deleting message":"Mesaj silinirken hata olutu","Error fetching reactions":"Reaksiyonlar alnrken hata olutu","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Mesaj okunmam olarak iaretleme hatas. En yeni 100 kanal mesajndan daha eski okunmam mesajlar iaretleme yaplamaz.","Error muting a user ...":"Kullancy sessize alrken hata olutu ...","Error pinning message":"Mesaj sabitlenirken hata olutu","Error removing message pin":"Mesaj PIN'i kaldrlrken hata olutu","Error reproducing the recording":"Kayd yeniden retme hatas","Error starting recording":"Kayt balatlrken hata olutu","Error unmuting a user ...":"Kullancnn sesini aarken hata olutu ...","Error uploading attachment":"Ek yklenirken hata olutu","Error uploading file":"Dosya yklenirken hata olutu","Error uploading image":"Resmi yklerken hata","Error  Unsent":"Hata  Gnderilemedi","Error: {{ errorMessage }}":"Hata: {{ errorMessage }}","Failed to jump to the first unread message":"lk okunmam mesaja atlamada hata olutu","Failed to mark channel as read":"Kanal okundu olarak iaretleme baarsz oldu","Failed to play the recording":"Kayt oynatlamad","File is too large: {{ size }}, maximum upload size is {{ limit }}":"Dosya ok byk: {{ size }}, maksimum ykleme boyutu {{ limit }}",Flag:DB,"Latest Messages":"Son Mesajlar","Load more":"Daha fazla ykle","Mark as unread":"Okunmam olarak iaretle",Menu:kB,"Message Failed  Click to try again":"Mesaj Baarsz  Tekrar denemek iin tklayn","Message Failed  Unauthorized":"Mesaj Baarsz  Yetkisiz","Message deleted":"Mesaj silindi","Message has been successfully flagged":"Mesaj baaryla bayrakland","Message pinned":"Mesaj sabitlendi","Messages have been marked unread.":"Mesajlar okunmam olarak iaretlendi.","Missing permissions to upload the attachment":"Ek yklemek iin izinler eksik",Mute:MB,New:TB,"New Messages!":"Yeni Mesajlar!","No chats here yet":"Henz burada sohbet yok...","No results found":"Sonu bulunamad","Nothing yet...":"imdilik hibir ey...",Ok:xB,"Open emoji picker":"Emoji klavyesini a","People matching":"Eleen kiiler",Pin:RB,"Pinned by":"Sabitleyen","Recording format is not supported and cannot be reproduced":"Kayt format desteklenmiyor ve oaltlamyor",Reply:PB,"Reply to Message":"Mesaj Cevapla",Search:OB,"Searching...":"Aranyor...",Send:AB,"Send Anyway":"Neyse Gnder","Send message request failed":"Mesaj gnderme istei baarsz oldu","Sending...":"Gnderiliyor...",Shuffle:LB,"Slow Mode ON":"Yava Mod Ak","Some of the files will not be accepted":"Baz dosyalar kabul edilmeyecektir","This message did not meet our content guidelines":"Bu mesaj ierik ynergelerimize uygun deil","This message was deleted...":"Bu mesaj silindi",Thread:IB,"To start recording, allow the camera access in your browser":"Kayt yapmaya balamak iin taraycnzda kameraya eriime izin verin","To start recording, allow the microphone access in your browser":"Kayt yapmaya balamak iin taraycnzda mikrofona eriime izin verin","Type your message":"Mesajnz yazn",Unmute:FB,Unpin:NB,"Unread messages":"Okunmam mesajlar","Unsupported attachment":"Desteklenmeyen ek",'Upload type: "{{ type }}" is not allowed':'Ykleme tr: "{{ type }}" izin verilmez',"User uploaded content":"Kullanc tarafndan yklenen ierik","Voice message":"Sesli mesaj","Wait until all attachments have uploaded":"Tm ekler yklenene kadar bekleyin","You have no channels currently":"Henz kanalnz yok","You've reached the maximum number of files":"Maksimum dosya saysna ulatnz","aria/Attachment":"Bijlage","aria/Cancel Reply":"Antwoord annuleren","aria/Cancel upload":"Upload annuleren","aria/Channel list":"Kanaallijst","aria/Channel search results":"Zoekresultaten voor kanalen","aria/Close thread":"Draad sluiten","aria/Emoji picker":"Emoji kiezer","aria/File input":"Bestandsinvoer","aria/File upload":"Bestand uploaden","aria/Image input":"Afbeelding invoeren","aria/Load More Channels":"Meer kanalen laden","aria/Menu":"Menu","aria/Message Options":"Berichtopties","aria/Open Message Actions Menu":"Menu voor berichtacties openen","aria/Open Reaction Selector":"Reactiekiezer openen","aria/Open Thread":"Draad openen","aria/Reaction list":"Reactielijst","aria/Retry upload":"Upload opnieuw proberen","aria/Send":"Verzenden","ban-command-args":"[@kullancad] [metin]","ban-command-description":"Bir kullancy yasakla","giphy-command-args":"[metin]","giphy-command-description":"Rastgele bir gif'i kanala gnder",live:UB,"mute-command-args":"[@kullancad]","mute-command-description":"Bir kullancnn sesini kapat",replyCount_one:BB,replyCount_other:jB,searchResultsCount_one:zB,searchResultsCount_other:$B,"this content could not be displayed":"bu ierik gsterilemiyor","unban-command-args":"[@kullancad]","unban-command-description":"Bir kullancnn yasan kaldr","unmute-command-args":"[@kullancad]","unmute-command-description":"Bir kullancnn sesini a",unreadMessagesSeparatorText_one:HB,unreadMessagesSeparatorText_other:VB,"{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} ve {{ moreCount }} daha","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, ve {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} ve {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} adet daha","{{ memberCount }} members":"{{ memberCount }} yeler","{{ user }} has been muted":"{{ user }} sessize alnd","{{ user }} has been unmuted":"{{ user }} sesi ald","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} evrimii","{{count}} unread_one":"{{count}} okunmam","{{count}} unread_other":"{{count}} okunmam"," Attachment...":" Ek..."};function qB(e){return cD(e)||BS(e)||Ky(e)||dD()}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var YB={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,n){console&&console[t]&&console[t].apply(console,n)}},KB=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rr(this,e),this.init(t,n)}return Or(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||YB,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,a,i){return i&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(a).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new e(this.logger,sw(sw({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new e(this.logger,n)}}]),e}(),uo=new KB,Ds=function(){function e(){rr(this,e),this.observers={}}return Or(e,[{key:"on",value:function(n,r){var a=this;return n.split(" ").forEach(function(i){a.observers[i]=a.observers[i]||[],a.observers[i].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(a){return a!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(l){l.apply(void 0,a)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(l){l.apply(l,[n].concat(a))})}}}]),e}();function Dc(){var e,t,n=new Promise(function(r,a){e=r,t=a});return n.resolve=e,n.reject=t,n}function lw(e){return e==null?"":""+e}function GB(e,t,n){e.forEach(function(r){t[r]&&(n[r]=t[r])})}function s2(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function a(){return!e||typeof e=="string"}for(var i=typeof t!="string"?[].concat(t):t.split(".");i.length>1;){if(a())return{};var o=r(i.shift());!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={}}return a()?{}:{obj:e,k:r(i.shift())}}function uw(e,t,n){var r=s2(e,t,Object),a=r.obj,i=r.k;a[i]=n}function ZB(e,t,n,r){var a=s2(e,t,Object),i=a.obj,o=a.k;i[o]=i[o]||[],i[o].push(n)}function ip(e,t){var n=s2(e,t),r=n.obj,a=n.k;if(r)return r[a]}function cw(e,t,n){var r=ip(e,n);return r!==void 0?r:ip(t,n)}function c6(e,t,n){for(var r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):c6(e[r],t[r],n):e[r]=t[r]);return e}function Vl(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var XB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function QB(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return XB[t]}):e}var Rm=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,JB=[" ",",","?","!",";"];function ej(e,t,n){t=t||"",n=n||"";var r=JB.filter(function(s){return t.indexOf(s)<0&&n.indexOf(s)<0});if(r.length===0)return!0;var a=new RegExp("(".concat(r.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),i=!a.test(e);if(!i){var o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i}function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tj(e){var t=nj();return function(){var r=Ga(e),a;if(t){var i=Ga(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Ku(this,a)}}function nj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d6(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),a=e,i=0;i<r.length;++i){if(!a||typeof a[r[i]]=="string"&&i+1<r.length)return;if(a[r[i]]===void 0){for(var o=2,s=r.slice(i,i+o).join(n),l=a[s];l===void 0&&r.length>i+o;)o++,s=r.slice(i,i+o).join(n),l=a[s];if(l===void 0)return;if(l===null)return null;if(t.endsWith(s)){if(typeof l=="string")return l;if(s&&typeof l[s]=="string")return l[s]}var u=r.slice(i+o).join(n);return u?d6(l,u,n):void 0}a=a[r[i]]}return a}}var rj=function(e){Xd(n,e);var t=tj(n);function n(r){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return rr(this,n),a=t.call(this),Rm&&Ds.call(Bi(a)),a.data=r||{},a.options=i,a.options.keySeparator===void 0&&(a.options.keySeparator="."),a.options.ignoreJSONStructure===void 0&&(a.options.ignoreJSONStructure=!0),a}return Or(n,[{key:"addNamespaces",value:function(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}},{key:"removeNamespaces",value:function(a){var i=this.options.ns.indexOf(a);i>-1&&this.options.ns.splice(i,1)}},{key:"getResource",value:function(a,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[a,i];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(l?o.split(l):o)),a.indexOf(".")>-1&&(c=a.split("."));var d=ip(this.data,c);return d||!u||typeof o!="string"?d:d6(this.data&&this.data[a]&&this.data[a][i],o,l)}},{key:"addResource",value:function(a,i,o,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var c=[a,i];o&&(c=c.concat(u?o.split(u):o)),a.indexOf(".")>-1&&(c=a.split("."),s=i,i=c[1]),this.addNamespaces(i),uw(this.data,c,s),l.silent||this.emit("added",a,i,o,s)}},{key:"addResources",value:function(a,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(a,i,l,o[l],{silent:!0});s.silent||this.emit("added",a,i,o)}},{key:"addResourceBundle",value:function(a,i,o,s,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[a,i];a.indexOf(".")>-1&&(c=a.split("."),s=o,o=i,i=c[1]),this.addNamespaces(i);var d=ip(this.data,c)||{};s?c6(d,o,l):d=Lf(Lf({},d),o),uw(this.data,c,d),u.silent||this.emit("added",a,i,o)}},{key:"removeResourceBundle",value:function(a,i){this.hasResourceBundle(a,i)&&delete this.data[a][i],this.removeNamespaces(i),this.emit("removed",a,i)}},{key:"hasResourceBundle",value:function(a,i){return this.getResource(a,i)!==void 0}},{key:"getResourceBundle",value:function(a,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Lf(Lf({},{}),this.getResource(a,i)):this.getResource(a,i)}},{key:"getDataByLanguage",value:function(a){return this.data[a]}},{key:"hasLanguageSomeTranslations",value:function(a){var i=this.getDataByLanguage(a),o=i&&Object.keys(i)||[];return!!o.find(function(s){return i[s]&&Object.keys(i[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Ds),f6={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,n,r,a,i){var o=this;return t.forEach(function(s){o.processors[s]&&(n=o.processors[s].process(n,r,a,i))}),n}};function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aj(e){var t=ij();return function(){var r=Ga(e),a;if(t){var i=Ga(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Ku(this,a)}}function ij(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var hw={},pw=function(e){Xd(n,e);var t=aj(n);function n(r){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rr(this,n),a=t.call(this),Rm&&Ds.call(Bi(a)),GB(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Bi(a)),a.options=i,a.options.keySeparator===void 0&&(a.options.keySeparator="."),a.logger=uo.create("translator"),a}return Or(n,[{key:"changeLanguage",value:function(a){a&&(this.language=a)}},{key:"exists",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(a==null)return!1;var o=this.resolve(a,i);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(a,i){var o=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ns||this.options.defaultNS||[],u=o&&a.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!ej(a,o,s);if(u&&!c){var d=a.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:a,namespaces:l};var f=a.split(o);(o!==s||o===s&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),a=f.join(s)}return typeof l=="string"&&(l=[l]),{key:a,namespaces:l}}},{key:"translate",value:function(a,i,o){var s=this;if(Sr(i)!=="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);var l=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,u=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=this.extractFromKey(a[a.length-1],i),d=c.key,f=c.namespaces,h=f[f.length-1],p=i.lng||this.language,w=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(w){var D=i.nsSeparator||this.options.nsSeparator;return l?(E.res="".concat(h).concat(D).concat(d),E):"".concat(h).concat(D).concat(d)}return l?(E.res=d,E):d}var E=this.resolve(a,i),g=E&&E.res,C=E&&E.usedKey||d,M=E&&E.exactUsedKey||d,m=Object.prototype.toString.apply(g),b=["[object Number]","[object Function]","[object RegExp]"],S=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,k=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(y&&g&&k&&b.indexOf(m)<0&&!(typeof S=="string"&&m==="[object Array]")){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,g,ua(ua({},i),{},{ns:f})):"key '".concat(d," (").concat(this.language,")' returned an object instead of string.");return l?(E.res=_,E):_}if(u){var P=m==="[object Array]",z=P?[]:{},N=P?M:C;for(var T in g)if(Object.prototype.hasOwnProperty.call(g,T)){var L="".concat(N).concat(u).concat(T);z[T]=this.translate(L,ua(ua({},i),{joinArrays:!1,ns:f})),z[T]===L&&(z[T]=g[T])}g=z}}else if(y&&typeof S=="string"&&m==="[object Array]")g=g.join(S),g&&(g=this.extendTranslation(g,a,i,o));else{var I=!1,B=!1,F=i.count!==void 0&&typeof i.count!="string",U=n.hasDefaultValue(i),R=F?this.pluralResolver.getSuffix(p,i.count,i):"",O=i["defaultValue".concat(R)]||i.defaultValue;!this.isValidLookup(g)&&U&&(I=!0,g=O),this.isValidLookup(g)||(B=!0,g=d);var A=i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,x=A&&B?void 0:g,j=U&&O!==g&&this.options.updateMissing;if(B||I||j){if(this.logger.log(j?"updateKey":"missingKey",p,h,d,j?O:g),u){var V=this.resolve(d,ua(ua({},i),{},{keySeparator:!1}));V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var X=[],re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&re&&re[0])for(var W=0;W<re.length;W++)X.push(re[W]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(i.lng||this.language):X.push(i.lng||this.language);var J=function(he,Oe,$e){var Ie=U&&$e!==g?$e:x;s.options.missingKeyHandler?s.options.missingKeyHandler(he,h,Oe,Ie,j,i):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(he,h,Oe,Ie,j,i),s.emit("missingKey",he,h,Oe,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&F?X.forEach(function(oe){s.pluralResolver.getSuffixes(oe,i).forEach(function(he){J([oe],d+he,i["defaultValue".concat(he)]||O)})}):J(X,d,O))}g=this.extendTranslation(g,a,i,E,o),B&&g===d&&this.options.appendNamespaceToMissingKey&&(g="".concat(h,":").concat(d)),(B||I)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(h,":").concat(d):d,I?g:void 0):g=this.options.parseMissingKeyHandler(g))}return l?(E.res=g,E):g}},{key:"extendTranslation",value:function(a,i,o,s,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)a=this.i18nFormat.parse(a,ua(ua({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(ua(ua({},o),{interpolation:ua(ua({},this.options.interpolation),o.interpolation)}));var c=typeof a=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(c){var f=a.match(this.interpolator.nestingRegexp);d=f&&f.length}var h=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(h=ua(ua({},this.options.interpolation.defaultVariables),h)),a=this.interpolator.interpolate(a,h,o.lng||this.language,o),c){var p=a.match(this.interpolator.nestingRegexp),w=p&&p.length;d<w&&(o.nest=!1)}o.nest!==!1&&(a=this.interpolator.nest(a,function(){for(var g=arguments.length,C=new Array(g),M=0;M<g;M++)C[M]=arguments[M];return l&&l[0]===C[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(C[0]," in key: ").concat(i[0])),null):u.translate.apply(u,C.concat([i]))},o)),o.interpolation&&this.interpolator.reset()}var D=o.postProcess||this.options.postProcess,E=typeof D=="string"?[D]:D;return a!=null&&E&&E.length&&o.applyPostProcessor!==!1&&(a=f6.handle(E,a,i,this.options&&this.options.postProcessPassResolved?ua({i18nResolved:s},o):o,this)),a}},{key:"resolve",value:function(a){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,l,u,c,d;return typeof a=="string"&&(a=[a]),a.forEach(function(f){if(!i.isValidLookup(s)){var h=i.extractFromKey(f,o),p=h.key;l=p;var w=h.namespaces;i.options.fallbackNS&&(w=w.concat(i.options.fallbackNS));var D=o.count!==void 0&&typeof o.count!="string",E=D&&!o.ordinal&&o.count===0&&i.pluralResolver.shouldUseIntlApi(),g=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",C=o.lngs?o.lngs:i.languageUtils.toResolveHierarchy(o.lng||i.language,o.fallbackLng);w.forEach(function(M){i.isValidLookup(s)||(d=M,!hw["".concat(C[0],"-").concat(M)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(d)&&(hw["".concat(C[0],"-").concat(M)]=!0,i.logger.warn('key "'.concat(l,'" for languages "').concat(C.join(", "),`" won't get resolved as namespace "`).concat(d,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(function(m){if(!i.isValidLookup(s)){c=m;var b=[p];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(b,p,m,M,o);else{var S;D&&(S=i.pluralResolver.getSuffix(m,o.count,o));var y="".concat(i.options.pluralSeparator,"zero");if(D&&(b.push(p+S),E&&b.push(p+y)),g){var k="".concat(p).concat(i.options.contextSeparator).concat(o.context);b.push(k),D&&(b.push(k+S),E&&b.push(k+y))}}for(var _;_=b.pop();)i.isValidLookup(s)||(u=_,s=i.getResource(m,M,_,o))}}))})}}),{res:s,usedKey:l,exactUsedKey:u,usedLng:c,usedNS:d}}},{key:"isValidLookup",value:function(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}},{key:"getResource",value:function(a,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,i,o,s):this.resourceStore.getResource(a,i,o,s)}}],[{key:"hasDefaultValue",value:function(a){var i="defaultValue";for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&i===o.substring(0,i.length)&&a[o]!==void 0)return!0;return!1}}]),n}(Ds);function f1(e){return e.charAt(0).toUpperCase()+e.slice(1)}var oj=function(){function e(t){rr(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=uo.create("languageUtils")}return Or(e,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],a=n.split("-");return this.options.lowerCaseLng?a=a.map(function(i){return i.toLowerCase()}):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=f1(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=f1(a[1].toLowerCase())),r.indexOf(a[2].toLowerCase())>-1&&(a[2]=f1(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var a;return n.forEach(function(i){if(!a){var o=r.formatLanguageCode(i);(!r.options.supportedLngs||r.isSupportedCode(o))&&(a=o)}}),!a&&this.options.supportedLngs&&n.forEach(function(i){if(!a){var o=r.getLanguagePartFromCode(i);if(r.isSupportedCode(o))return a=o;a=r.options.supportedLngs.find(function(s){if(s.indexOf(o)===0)return s})}}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var a=n[r];return a||(a=n[this.getScriptPartFromCode(r)]),a||(a=n[this.formatLanguageCode(r)]),a||(a=n[this.getLanguagePartFromCode(r)]),a||(a=n.default),a||[]}},{key:"toResolveHierarchy",value:function(n,r){var a=this,i=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],s=function(u){u&&(a.isSupportedCode(u)?o.push(u):a.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(n))):typeof n=="string"&&s(this.formatLanguageCode(n)),i.forEach(function(l){o.indexOf(l)<0&&s(a.formatLanguageCode(l))}),o}}]),e}(),sj=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lj={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},uj=["v1","v2","v3"],mw={zero:0,one:1,two:2,few:3,many:4,other:5};function cj(){var e={};return sj.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:lj[t.fc]}})}),e}var dj=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rr(this,e),this.languageUtils=t,this.options=n,this.logger=uo.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=cj()}return Or(e,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(n,r);return this.shouldUseIntlApi()?a&&a.resolvedOptions().pluralCategories.length>1:a&&a.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,a).map(function(i){return"".concat(r).concat(i)})}},{key:"getSuffixes",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,a);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort(function(o,s){return mw[o]-mw[s]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):i.numbers.map(function(o){return r.getSuffix(n,o,a)}):[]}},{key:"getSuffix",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(n,a);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(r)):this.getSuffixRetroCompatible(i,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var a=this,i=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[i];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return a.options.prepend&&o.toString()?a.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!uj.includes(this.options.compatibilityJSON)}}]),e}();function gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fj=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rr(this,e),this.logger=uo.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(n){return n},this.init(t)}return Or(e,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:QB,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Vl(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Vl(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Vl(r.nestingPrefix):r.nestingPrefixEscaped||Vl("$t("),this.nestingSuffix=r.nestingSuffix?Vl(r.nestingSuffix):r.nestingSuffixEscaped||Vl(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var a="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(a,"g")}},{key:"interpolate",value:function(n,r,a,i){var o=this,s,l,u,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(D){return D.replace(/\$/g,"$$$$")}var f=function(E){if(E.indexOf(o.formatSeparator)<0){var g=cw(r,c,E);return o.alwaysFormat?o.format(g,void 0,a,Pi(Pi(Pi({},i),r),{},{interpolationkey:E})):g}var C=E.split(o.formatSeparator),M=C.shift().trim(),m=C.join(o.formatSeparator).trim();return o.format(cw(r,c,M),m,a,Pi(Pi(Pi({},i),r),{},{interpolationkey:M}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,w=[{regex:this.regexpUnescape,safeValue:function(E){return d(E)}},{regex:this.regexp,safeValue:function(E){return o.escapeValue?d(o.escape(E)):d(E)}}];return w.forEach(function(D){for(u=0;s=D.regex.exec(n);){var E=s[1].trim();if(l=f(E),l===void 0)if(typeof h=="function"){var g=h(n,s,i);l=typeof g=="string"?g:""}else if(i&&i.hasOwnProperty(E))l="";else if(p){l=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(E," for interpolating ").concat(n)),l="";else typeof l!="string"&&!o.useRawValueToEscape&&(l=lw(l));var C=D.safeValue(l);if(n=n.replace(s[0],C),p?(D.regex.lastIndex+=l.length,D.regex.lastIndex-=s[0].length):D.regex.lastIndex=0,u++,u>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var a=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,l=Pi({},i);l.applyPostProcessor=!1,delete l.defaultValue;function u(h,p){var w=this.nestingOptionsSeparator;if(h.indexOf(w)<0)return h;var D=h.split(new RegExp("".concat(w,"[ ]*{"))),E="{".concat(D[1]);h=D[0],E=this.interpolate(E,l);var g=E.match(/'/g),C=E.match(/"/g);(g&&g.length%2===0&&!C||C.length%2!==0)&&(E=E.replace(/'/g,'"'));try{l=JSON.parse(E),p&&(l=Pi(Pi({},p),l))}catch(M){return this.logger.warn("failed parsing options string in nesting for key ".concat(h),M),"".concat(h).concat(w).concat(E)}return delete l.defaultValue,h}for(;o=this.nestingRegexp.exec(n);){var c=[],d=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(h){return h.trim()});o[1]=f.shift(),c=f,d=!0}if(s=r(u.call(this,o[1].trim(),l),l),s&&o[0]===n&&typeof s!="string")return s;typeof s!="string"&&(s=lw(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),s=""),d&&(s=c.reduce(function(h,p){return a.format(h,p,i.lng,Pi(Pi({},i),{},{interpolationkey:o[1].trim()}))},s.trim())),n=n.replace(o[0],s),this.regexp.lastIndex=0}return n}}]),e}();function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hj(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var a=r[1].substring(0,r[1].length-1);if(t==="currency"&&a.indexOf(":")<0)n.currency||(n.currency=a.trim());else if(t==="relativetime"&&a.indexOf(":")<0)n.range||(n.range=a.trim());else{var i=a.split(";");i.forEach(function(o){if(o){var s=o.split(":"),l=qB(s),u=l[0],c=l.slice(1),d=c.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=d),d==="false"&&(n[u.trim()]=!1),d==="true"&&(n[u.trim()]=!0),isNaN(d)||(n[u.trim()]=parseInt(d,10))}})}}return{formatName:t,formatOptions:n}}function Wl(e){var t={};return function(r,a,i){var o=a+JSON.stringify(i),s=t[o];return s||(s=e(a,i),t[o]=s),s(r)}}var pj=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rr(this,e),this.logger=uo.create("formatter"),this.options=t,this.formats={number:Wl(function(n,r){var a=new Intl.NumberFormat(n,r);return function(i){return a.format(i)}}),currency:Wl(function(n,r){var a=new Intl.NumberFormat(n,ts(ts({},r),{},{style:"currency"}));return function(i){return a.format(i)}}),datetime:Wl(function(n,r){var a=new Intl.DateTimeFormat(n,ts({},r));return function(i){return a.format(i)}}),relativetime:Wl(function(n,r){var a=new Intl.RelativeTimeFormat(n,ts({},r));return function(i){return a.format(i,r.range||"day")}}),list:Wl(function(n,r){var a=new Intl.ListFormat(n,ts({},r));return function(i){return a.format(i)}})},this.init(t)}return Or(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},a=r.interpolation;this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Wl(r)}},{key:"format",value:function(n,r,a,i){var o=this,s=r.split(this.formatSeparator),l=s.reduce(function(u,c){var d=hj(c),f=d.formatName,h=d.formatOptions;if(o.formats[f]){var p=u;try{var w=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},D=w.locale||w.lng||i.locale||i.lng||a;p=o.formats[f](u,D,ts(ts(ts({},h),i),w))}catch(E){o.logger.warn(E)}return p}else o.logger.warn("there was no format function for ".concat(f));return u},n);return l}}]),e}();function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mj(e){var t=gj();return function(){var r=Ga(e),a;if(t){var i=Ga(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Ku(this,a)}}function gj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vj(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var yj=function(e){Xd(n,e);var t=mj(n);function n(r,a,i){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return rr(this,n),o=t.call(this),Rm&&Ds.call(Bi(o)),o.backend=r,o.store=a,o.services=i,o.languageUtils=i.languageUtils,o.options=s,o.logger=uo.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,s.backend,s),o}return Or(n,[{key:"queueLoad",value:function(a,i,o,s){var l=this,u={},c={},d={},f={};return a.forEach(function(h){var p=!0;i.forEach(function(w){var D="".concat(h,"|").concat(w);!o.reload&&l.store.hasResourceBundle(h,w)?l.state[D]=2:l.state[D]<0||(l.state[D]===1?c[D]===void 0&&(c[D]=!0):(l.state[D]=1,p=!1,c[D]===void 0&&(c[D]=!0),u[D]===void 0&&(u[D]=!0),f[w]===void 0&&(f[w]=!0)))}),p||(d[h]=!0)}),(Object.keys(u).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(u),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function(a,i,o){var s=a.split("|"),l=s[0],u=s[1];i&&this.emit("failedLoading",l,u,i),o&&this.store.addResourceBundle(l,u,o),this.state[a]=i?-1:2;var c={};this.queue.forEach(function(d){ZB(d.loaded,[l],u),vj(d,a),i&&d.errors.push(i),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(function(f){c[f]||(c[f]={});var h=d.loaded[f];h.length&&h.forEach(function(p){c[f][p]===void 0&&(c[f][p]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(d){return!d.done})}},{key:"read",value:function(a,i,o){var s=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!a.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:i,fcName:o,tried:l,wait:u,callback:c});return}return this.readingCalls++,this.backend[o](a,i,function(d,f){if(s.readingCalls--,s.waitingReads.length>0){var h=s.waitingReads.shift();s.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&f&&l<s.maxRetries){setTimeout(function(){s.read.call(s,a,i,o,l+1,u*2,c)},u);return}c(d,f)})}},{key:"prepareLoading",value:function(a,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof a=="string"&&(a=this.languageUtils.toResolveHierarchy(a)),typeof i=="string"&&(i=[i]);var u=this.queueLoad(a,i,s,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(a,i,o){this.prepareLoading(a,i,{},o)}},{key:"reload",value:function(a,i,o){this.prepareLoading(a,i,{reload:!0},o)}},{key:"loadOne",value:function(a){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=a.split("|"),l=s[0],u=s[1];this.read(l,u,"read",void 0,void 0,function(c,d){c&&i.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),c),!c&&d&&i.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),d),i.loaded(a,c,d)})}},{key:"saveMissing",value:function(a,i,o,s,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}o==null||o===""||(this.backend&&this.backend.create&&this.backend.create(a,i,o,s,null,_w(_w({},u),{},{isUpdate:l})),!(!a||!a[0])&&this.store.addResource(a[0],i,o,s))}}]),n}(Ds);function _j(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if(Sr(t[1])==="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),Sr(t[2])==="object"||Sr(t[3])==="object"){var r=t[3]||t[2];Object.keys(r).forEach(function(a){n[a]=r[a]})}return n},interpolation:{escapeValue:!0,format:function(t,n,r,a){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function bw(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(n),!0).forEach(function(r){be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bj(e){var t=wj();return function(){var r=Ga(e),a;if(t){var i=Ga(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Ku(this,a)}}function wj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function If(){}function Ej(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(n){typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}var op=function(e){Xd(n,e);var t=bj(n);function n(){var r,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(rr(this,n),r=t.call(this),Rm&&Ds.call(Bi(r)),r.options=bw(a),r.services={},r.logger=uo,r.modules={external:[]},Ej(Bi(r)),i&&!r.isInitialized&&!a.isClone){if(!r.options.initImmediate)return r.init(a,i),Ku(r,Bi(r));setTimeout(function(){r.init(a,i)},0)}return r}return Or(n,[{key:"init",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof i=="function"&&(o=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));var s=_j();this.options=Gi(Gi(Gi({},s),this.options),bw(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Gi(Gi({},s.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function l(E){return E?typeof E=="function"?new E:E:null}if(!this.options.isClone){this.modules.logger?uo.init(l(this.modules.logger),this.options):uo.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=pj);var c=new oj(this.options);this.store=new rj(this.options.resources,this.options);var d=this.services;d.logger=uo,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new dj(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=l(u),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new fj(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new yj(l(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(E){for(var g=arguments.length,C=new Array(g>1?g-1:0),M=1;M<g;M++)C[M-1]=arguments[M];a.emit.apply(a,[E].concat(C))}),this.modules.languageDetector&&(d.languageDetector=l(this.modules.languageDetector),d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=l(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new pw(this.services,this.options),this.translator.on("*",function(E){for(var g=arguments.length,C=new Array(g>1?g-1:0),M=1;M<g;M++)C[M-1]=arguments[M];a.emit.apply(a,[E].concat(C))}),this.modules.external.forEach(function(E){E.init&&E.init(a)})}if(this.format=this.options.interpolation.format,o||(o=If),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var h=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];h.forEach(function(E){a[E]=function(){var g;return(g=a.store)[E].apply(g,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(E){a[E]=function(){var g;return(g=a.store)[E].apply(g,arguments),a}});var w=Dc(),D=function(){var g=function(M,m){a.isInitialized&&!a.initializedStoreOnce&&a.logger.warn("init: i18next is already initialized. You should call init just once!"),a.isInitialized=!0,a.options.isClone||a.logger.log("initialized",a.options),a.emit("initialized",a.options),w.resolve(m),o(M,m)};if(a.languages&&a.options.compatibilityAPI!=="v1"&&!a.isInitialized)return g(null,a.t.bind(a));a.changeLanguage(a.options.lng,g)};return this.options.resources||!this.options.initImmediate?D():setTimeout(D,0),w}},{key:"loadResources",value:function(a){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:If,s=o,l=typeof a=="string"?a:this.language;if(typeof a=="function"&&(s=a),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return s();var u=[],c=function(h){if(h){var p=i.services.languageUtils.toResolveHierarchy(h);p.forEach(function(w){u.indexOf(w)<0&&u.push(w)})}};if(l)c(l);else{var d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.forEach(function(f){return c(f)})}this.options.preload&&this.options.preload.forEach(function(f){return c(f)}),this.services.backendConnector.load(u,this.options.ns,function(f){!f&&!i.resolvedLanguage&&i.language&&i.setResolvedLanguage(i.language),s(f)})}else s(null)}},{key:"reloadResources",value:function(a,i,o){var s=Dc();return a||(a=this.languages),i||(i=this.options.ns),o||(o=If),this.services.backendConnector.reload(a,i,function(l){s.resolve(),o(l)}),s}},{key:"use",value:function(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&f6.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}},{key:"setResolvedLanguage",value:function(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1))for(var i=0;i<this.languages.length;i++){var o=this.languages[i];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(a,i){var o=this;this.isLanguageChangingTo=a;var s=Dc();this.emit("languageChanging",a);var l=function(f){o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.resolvedLanguage=void 0,o.setResolvedLanguage(f)},u=function(f,h){h?(l(h),o.translator.changeLanguage(h),o.isLanguageChangingTo=void 0,o.emit("languageChanged",h),o.logger.log("languageChanged",h)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),i&&i(f,function(){return o.t.apply(o,arguments)})},c=function(f){!a&&!f&&o.services.languageDetector&&(f=[]);var h=typeof f=="string"?f:o.services.languageUtils.getBestMatchFromCodes(f);h&&(o.language||l(h),o.translator.language||o.translator.changeLanguage(h),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(h)),o.loadResources(h,function(p){u(p,h)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(c):c(a),s}},{key:"getFixedT",value:function(a,i,o){var s=this,l=function u(c,d){var f;if(Sr(d)!=="object"){for(var h=arguments.length,p=new Array(h>2?h-2:0),w=2;w<h;w++)p[w-2]=arguments[w];f=s.options.overloadTranslationOptionHandler([c,d].concat(p))}else f=Gi({},d);f.lng=f.lng||u.lng,f.lngs=f.lngs||u.lngs,f.ns=f.ns||u.ns,f.keyPrefix=f.keyPrefix||o||u.keyPrefix;var D=s.options.keySeparator||".",E=f.keyPrefix?"".concat(f.keyPrefix).concat(D).concat(c):c;return s.t(E,f)};return typeof a=="string"?l.lng=a:l.lngs=a,l.ns=i,l.keyPrefix=o,l}},{key:"t",value:function(){var a;return this.translator&&(a=this.translator).translate.apply(a,arguments)}},{key:"exists",value:function(){var a;return this.translator&&(a=this.translator).exists.apply(a,arguments)}},{key:"setDefaultNamespace",value:function(a){this.options.defaultNS=a}},{key:"hasLoadedNamespace",value:function(a){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var c=function(h,p){var w=i.services.backendConnector.state["".concat(h,"|").concat(p)];return w===-1||w===2};if(o.precheck){var d=o.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,a)&&(!l||c(u,a)))}},{key:"loadNamespaces",value:function(a,i){var o=this,s=Dc();return this.options.ns?(typeof a=="string"&&(a=[a]),a.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){s.resolve(),i&&i(l)}),s):(i&&i(),Promise.resolve())}},{key:"loadLanguages",value:function(a,i){var o=Dc();typeof a=="string"&&(a=[a]);var s=this.options.preload||[],l=a.filter(function(u){return s.indexOf(u)<0});return l.length?(this.options.preload=s.concat(l),this.loadResources(function(u){o.resolve(),i&&i(u)}),o):(i&&i(),Promise.resolve())}},{key:"dir",value:function(a){if(a||(a=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!a)return"rtl";var i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return i.indexOf(this.services.languageUtils.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:If,s=Gi(Gi(Gi({},this.options),i),{isClone:!0}),l=new n(s);(i.debug!==void 0||i.prefix!==void 0)&&(l.logger=l.logger.clone(i));var u=["store","services","language"];return u.forEach(function(c){l[c]=a[c]}),l.services=Gi({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new pw(l.services,l.options),l.translator.on("*",function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];l.emit.apply(l,[c].concat(f))}),l.init(s,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Ds);be(op,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new op(e,t)});var Ea=op.createInstance();Ea.createInstance=op.createInstance;Ea.createInstance;Ea.init;Ea.loadResources;Ea.reloadResources;Ea.use;Ea.changeLanguage;Ea.getFixedT;Ea.t;Ea.exists;Ea.setDefaultNamespace;Ea.hasLoadedNamespace;Ea.loadNamespaces;Ea.loadLanguages;const Cj=Ea;var h6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){return function(n,r,a){a.updateLocale=function(i,o){var s=a.Ls[i];if(s)return(o?Object.keys(o):[]).forEach(function(l){s[l]=o[l]}),s}}})})(h6);var Sj=h6.exports;const Dj=Wn(Sj);var p6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){return function(n,r,a){var i=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},s=function(d,f,h,p,w){var D=d.name?d:d.$locale(),E=o(D[f]),g=o(D[h]),C=E||g.map(function(m){return m.slice(0,p)});if(!w)return C;var M=D.weekStart;return C.map(function(m,b){return C[(b+(M||0))%7]})},l=function(){return a.Ls[a.locale()]},u=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,w,D){return w||D.slice(1)})}(d.formats[f.toUpperCase()])},c=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):s(d,"months")},monthsShort:function(f){return f?f.format("MMM"):s(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):s(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):s(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):s(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return u(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return c.bind(this)()},a.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(f){return u(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},a.months=function(){return s(l(),"months")},a.monthsShort=function(){return s(l(),"monthsShort","months",3)},a.weekdays=function(d){return s(l(),"weekdays",null,null,d)},a.weekdaysShort=function(d){return s(l(),"weekdaysShort","weekdays",3,d)},a.weekdaysMin=function(d){return s(l(),"weekdaysMin","weekdays",2,d)}}})})(p6);var kj=p6.exports;const Mj=Wn(kj);var m6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){return function(n,r,a){n=n||{};var i=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(u,c,d,f){return i.fromToBase(u,c,d,f)}a.en.relativeTime=o,i.fromToBase=function(u,c,d,f,h){for(var p,w,D,E=d.$locale().relativeTime||o,g=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=g.length,M=0;M<C;M+=1){var m=g[M];m.d&&(p=f?a(u).diff(d,m.d,!0):d.diff(u,m.d,!0));var b=(n.rounding||Math.round)(Math.abs(p));if(D=p>0,b<=m.r||!m.r){b<=1&&M>0&&(m=g[M-1]);var S=E[m.l];h&&(b=h(""+b)),w=typeof S=="string"?S.replace("%d",b):S(b,c,m.l,D);break}}if(c)return w;var y=D?E.future:E.past;return typeof y=="function"?y(w):y.replace("%s",w)},i.to=function(u,c){return s(u,c,this,!0)},i.from=function(u,c){return s(u,c,this)};var l=function(u){return u.$u?a.utc():a()};i.toNow=function(u){return this.to(l(this),u)},i.fromNow=function(u){return this.from(l(this),u)}}})})(m6);var Tj=m6.exports;const xj=Wn(Tj);var g6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,s){var l=o.prototype;s.utc=function(w){var D={date:w,utc:!0,args:arguments};return new o(D)},l.utc=function(w){var D=s(this.toDate(),{locale:this.$L,utc:!0});return w?D.add(this.utcOffset(),n):D},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(w){w.utc&&(this.$u=!0),this.$utils().u(w.$offset)||(this.$offset=w.$offset),u.call(this,w)};var c=l.init;l.init=function(){if(this.$u){var w=this.$d;this.$y=w.getUTCFullYear(),this.$M=w.getUTCMonth(),this.$D=w.getUTCDate(),this.$W=w.getUTCDay(),this.$H=w.getUTCHours(),this.$m=w.getUTCMinutes(),this.$s=w.getUTCSeconds(),this.$ms=w.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(w,D){var E=this.$utils().u;if(E(w))return this.$u?0:E(this.$offset)?d.call(this):this.$offset;if(typeof w=="string"&&(w=function(m){m===void 0&&(m="");var b=m.match(r);if(!b)return null;var S=(""+b[0]).match(a)||["-",0,0],y=S[0],k=60*+S[1]+ +S[2];return k===0?0:y==="+"?k:-k}(w),w===null))return this;var g=Math.abs(w)<=16?60*w:w,C=this;if(D)return C.$offset=g,C.$u=w===0,C;if(w!==0){var M=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(g+M,n)).$offset=g,C.$x.$localOffset=M}else C=this.utc();return C};var f=l.format;l.format=function(w){var D=w||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,D)},l.valueOf=function(){var w=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*w},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(w){return w==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(w,D,E){if(w&&this.$u===w.$u)return p.call(this,w,D,E);var g=this.local(),C=s(w).local();return p.call(g,C,D,E)}}})})(g6);var Rj=g6.exports;const Pj=Wn(Rj);var v6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(a,i,o){var s,l=function(f,h,p){p===void 0&&(p={});var w=new Date(f),D=function(E,g){g===void 0&&(g={});var C=g.timeZoneName||"short",M=E+"|"+C,m=r[M];return m||(m=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:E,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:C}),r[M]=m),m}(h,p);return D.formatToParts(w)},u=function(f,h){for(var p=l(f,h),w=[],D=0;D<p.length;D+=1){var E=p[D],g=E.type,C=E.value,M=n[g];M>=0&&(w[M]=parseInt(C,10))}var m=w[3],b=m===24?0:m,S=w[0]+"-"+w[1]+"-"+w[2]+" "+b+":"+w[4]+":"+w[5]+":000",y=+f;return(o.utc(S).valueOf()-(y-=y%1e3))/6e4},c=i.prototype;c.tz=function(f,h){f===void 0&&(f=s);var p=this.utcOffset(),w=this.toDate(),D=w.toLocaleString("en-US",{timeZone:f}),E=Math.round((w-new Date(D))/1e3/60),g=o(D,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(w.getTimezoneOffset()/15)-E,!0);if(h){var C=g.utcOffset();g=g.add(p-C,"minute")}return g.$x.$timezone=f,g},c.offsetName=function(f){var h=this.$x.$timezone||o.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:f}).find(function(w){return w.type.toLowerCase()==="timezonename"});return p&&p.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var p=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(p,f,h).tz(this.$x.$timezone,!0)},o.tz=function(f,h,p){var w=p&&h,D=p||h||s,E=u(+o(),D);if(typeof f!="string")return o(f).tz(D);var g=function(b,S,y){var k=b-60*S*1e3,_=u(k,y);if(S===_)return[k,S];var P=u(k-=60*(_-S)*1e3,y);return _===P?[k,_]:[b-60*Math.min(_,P)*1e3,Math.max(_,P)]}(o.utc(f,w).valueOf(),E,D),C=g[0],M=g[1],m=o(C).utcOffset(M);return m.$x.$timezone=D,m},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(f){s=f}}})})(v6);var Oj=v6.exports;const Aj=Wn(Oj);var Lj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var a=r(n),i={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(l,u,c){var d=i[c];return Array.isArray(d)&&(d=d[u?0:1]),d.replace("%d",l)}var s={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return a.default.locale(s,null,!0),s})})(Lj);var Ij={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(o){return o+""}};return a.default.locale(i,null,!0),i})})(Ij);var Fj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return""+o+(o===1?"er":"")}};return a.default.locale(i,null,!0),i})})(Fj);var Nj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"hi",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdaysMin:"______".split("_"),ordinal:function(o){return o},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return a.default.locale(i,null,!0),i})})(Nj);var Uj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"it",weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(o){return o+""}};return a.default.locale(i,null,!0),i})})(Uj);var Bj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"ja",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(o){return o+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiem:function(o){return o<12?"":""},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}};return a.default.locale(i,null,!0),i})})(Bj);var jj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"ko",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(o){return o+""},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},meridiem:function(o){return o<12?"":""},relativeTime:{future:"%s ",past:"%s ",s:" ",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"}};return a.default.locale(i,null,!0),i})})(jj);var zj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(o){return"["+o+(o===1||o===8||o>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return a.default.locale(i,null,!0),i})})(zj);var $j={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"pt",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2_3_4_5_6_Sa".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(o){return o+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return a.default.locale(i,null,!0),i})})($j);var Hj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var a=r(n),i="___________".split("_"),o="___________".split("_"),s="._._._.____._._._._.".split("_"),l="._.__.____._._._._.".split("_"),u=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function c(p,w,D){var E,g;return D==="m"?w?"":"":p+" "+(E=+p,g={mm:w?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[D].split("_"),E%10==1&&E%100!=11?g[0]:E%10>=2&&E%10<=4&&(E%100<10||E%100>=20)?g[1]:g[2])}var d=function(p,w){return u.test(w)?i[p.month()]:o[p.month()]};d.s=o,d.f=i;var f=function(p,w){return u.test(w)?s[p.month()]:l[p.month()]};f.s=l,f.f=s;var h={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:d,monthsShort:f,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:c,mm:c,h:"",hh:c,d:"",dd:c,M:"",MM:c,y:"",yy:c},ordinal:function(p){return p},meridiem:function(p){return p<4?"":p<12?"":p<17?"":""}};return a.default.locale(h,null,!0),h})})(Hj);var Vj={exports:{}};(function(e,t){(function(n,r){e.exports=r(Di)})(jt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"tr",weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(o){return o+"."}};return a.default.locale(i,null,!0),i})})(Vj);var Wj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})})(Wj);var Mr="translation",Ew="en";gr.extend(Dj);gr.extend(Pj);gr.extend(Aj);gr.updateLocale("de",{calendar:{lastDay:"[gestern um] LT",lastWeek:"[letzten] dddd [um] LT",nextDay:"[morgen um] LT",nextWeek:"dddd [um] LT",sameDay:"[heute um] LT",sameElse:"L"}});gr.updateLocale("es",{calendar:{lastDay:"[ayer a las] LT",lastWeek:"[pasado] dddd [a] LT",nextDay:"[maana a] LT",nextWeek:"dddd [a] LT",sameDay:"[hoy a las] LT",sameElse:"L"}});gr.updateLocale("fr",{calendar:{lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",sameDay:"[Aujourdhui ] LT",sameElse:"L"}});gr.updateLocale("hi",{calendar:{lastDay:"[] LT",lastWeek:"[] dddd, LT",nextDay:"[] LT",nextWeek:"dddd, LT",sameDay:"[] LT",sameElse:"L"},meridiem:function(e){return e<4?"":e<10?"":e<17?"":e<20?"":""},meridiemHour:function(e,t){return e===12&&(e=0),t===""?e<4?e:e+12:t===""?e:t===""?e>=10?e:e+12:t===""?e+12:e},meridiemParse:/|||/});gr.updateLocale("it",{calendar:{lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",sameDay:"[Oggi alle] LT",sameElse:"L"}});gr.updateLocale("ja",{calendar:{lastDay:"[] LT",lastWeek:"dddd LT",nextDay:"[] LT",nextWeek:"[] dddd LT",sameDay:"[] LT",sameElse:"L"}});gr.updateLocale("ko",{calendar:{lastDay:"[] LT",lastWeek:"[] dddd LT",nextDay:"[] LT",nextWeek:"dddd LT",sameDay:"[] LT",sameElse:"L"}});gr.updateLocale("nl",{calendar:{lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",sameDay:"[vandaag om] LT",sameElse:"L"}});gr.updateLocale("pt",{calendar:{lastDay:"[ontem s] LT",lastWeek:"dddd [passada s] LT",nextDay:"[amanh s] LT",nextWeek:"dddd [s] LT",sameDay:"[hoje s] LT",sameElse:"L"}});gr.updateLocale("ru",{calendar:{lastDay:"[, ] LT",nextDay:"[, ] LT",sameDay:"[, ] LT"}});gr.updateLocale("tr",{calendar:{lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",sameDay:"[bugn saat] LT",sameElse:"L"}});var qj={formats:{},months:["January","February","March","April","May","June","July","August","September","October","November","December"],relativeTime:{},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cw=function(e){return e.extend!==void 0},Sw=function(e){return e.tz!==void 0},Yj={DateTimeParser:gr,dayjsLocaleConfigForLanguage:null,debug:!1,disableDateTimeTranslations:!1,language:"en",logger:function(e){return console.warn(e)}},l2=function(e){return e},Kj=function(){function e(t){var n,r,a,i,o,s,l,u,c,d,f,h,p,w;t===void 0&&(t={});var D=this;this.i18nInstance=Cj.createInstance(),this.Dayjs=null,this.setLanguageCallback=function(){return null},this.initialized=!1,this.t=l2,this.translations={de:(n={},n[Mr]=hL,n),en:(r={},r[Mr]=BL,r),es:(a={},a[Mr]=pI,a),fr:(i={},i[Mr]=HI,i),hi:(o={},o[Mr]=mF,o),it:(s={},s[Mr]=VF,s),ja:(l={},l[Mr]=mN,l),ko:(u={},u[Mr]=jN,u),nl:(c={},c[Mr]=fU,c),pt:(d={},d[Mr]=zU,d),ru:(f={},f[Mr]=_B,f),tr:(h={},h[Mr]=WB,h)},this.dayjsLocales={},this.localeExists=function(M){return D.isCustomDateTimeParser?!0:Object.keys(gr.Ls).indexOf(M)>-1},this.validateCurrentLanguage=function(){var M=Object.keys(D.translations);M.indexOf(D.currentLanguage)===-1&&(D.logger("Streami18n: '".concat(D.currentLanguage,"' language is not registered.")+" Please make sure to call streami18n.registerTranslation('".concat(D.currentLanguage,"', {...}) or ")+"use one the built-in supported languages - ".concat(D.getAvailableLanguages())),D.currentLanguage=Ew)},this.geti18Instance=function(){return D.i18nInstance},this.getAvailableLanguages=function(){return Object.keys(D.translations)},this.getTranslations=function(){return D.translations};var E=ne(ne({},Yj),t);this.logger=E.logger,this.currentLanguage=E.language,this.DateTimeParser=E.DateTimeParser,this.timezone=E.timezone;try{this.DateTimeParser&&Cw(this.DateTimeParser)&&(this.DateTimeParser.extend(u6),this.DateTimeParser.extend(s6),this.DateTimeParser.extend(Mj),this.DateTimeParser.extend(xj))}catch(M){throw Error("Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins ".concat(M))}this.isCustomDateTimeParser=!!t.DateTimeParser;var g=E.translationsForLanguage;g&&(this.translations[this.currentLanguage]=(p={},p[Mr]=this.translations[this.currentLanguage]&&this.translations[this.currentLanguage][Mr]?ne(ne({},this.translations[this.currentLanguage][Mr]),g):g,p)),this.translations[this.currentLanguage]||(this.translations[this.currentLanguage]=(w={},w[Mr]={},w)),this.i18nextConfig={debug:E.debug,fallbackLng:!1,interpolation:{escapeValue:!1},keySeparator:!1,lng:this.currentLanguage,nsSeparator:!1},E.parseMissingKeyHandler&&(this.i18nextConfig.parseMissingKeyHandler=E.parseMissingKeyHandler),this.validateCurrentLanguage();var C=E.dayjsLocaleConfigForLanguage;C?this.addOrUpdateLocale(this.currentLanguage,ne({},C)):this.localeExists(this.currentLanguage)||this.logger("Streami18n: Streami18n(...) - Locale config for ".concat(this.currentLanguage," does not exist in momentjs.")+`Please import the locale file using "import 'moment/locale/`.concat(this.currentLanguage,`';" in your app or `)+"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)"),this.tDateTimeParser=function(M){var m=E.disableDateTimeTranslations||!D.localeExists(D.currentLanguage)?Ew:D.currentLanguage;return Cw(D.DateTimeParser)?Sw(D.DateTimeParser)?D.DateTimeParser(M).tz(D.timezone).locale(m):D.DateTimeParser(M).locale(m):Sw(D.DateTimeParser)&&D.timezone?D.DateTimeParser(M).tz(D.timezone).locale(m):D.DateTimeParser(M).locale(m)}}return e.prototype.init=function(){return St(this,void 0,void 0,function(){var t,n;return Dt(this,function(r){switch(r.label){case 0:this.validateCurrentLanguage(),r.label=1;case 1:return r.trys.push([1,3,,4]),t=this,[4,this.i18nInstance.init(ne(ne({},this.i18nextConfig),{lng:this.currentLanguage,resources:this.translations}))];case 2:return t.t=r.sent(),this.initialized=!0,[3,4];case 3:return n=r.sent(),this.logger("Something went wrong with init: ".concat(JSON.stringify(n))),[3,4];case 4:return[2,{t:this.t,tDateTimeParser:this.tDateTimeParser}]}})})},e.prototype.getTranslators=function(){return St(this,void 0,void 0,function(){return Dt(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(this.dayjsLocales[this.currentLanguage]&&this.addOrUpdateLocale(this.currentLanguage,this.dayjsLocales[this.currentLanguage]),[4,this.init()]);case 1:return[2,t.sent()];case 2:return[2,{t:this.t,tDateTimeParser:this.tDateTimeParser}]}})})},e.prototype.registerTranslation=function(t,n,r){var a;if(!n){this.logger("Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation");return}this.translations[t]?this.translations[t][Mr]=n:this.translations[t]=(a={},a[Mr]=n,a),r?this.dayjsLocales[t]=ne({},r):this.localeExists(t)||this.logger("Streami18n: registerTranslation(language, translation, customDayjsLocale) - "+"Locale config for ".concat(t," does not exist in Dayjs.")+`Please import the locale file using "import 'dayjs/locale/`.concat(t,`';" in your app or `)+"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)"),this.initialized&&this.i18nInstance.addResources(t,Mr,n)},e.prototype.addOrUpdateLocale=function(t,n){this.localeExists(t)?gr.updateLocale(t,ne({},n)):gr.locale(ne(ne({name:t},qj),n),void 0,!0)},e.prototype.setLanguage=function(t){return St(this,void 0,void 0,function(){var n,r;return Dt(this,function(a){switch(a.label){case 0:if(this.currentLanguage=t,!this.initialized)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.i18nInstance.changeLanguage(t)];case 2:return n=a.sent(),this.dayjsLocales[t]&&this.addOrUpdateLocale(this.currentLanguage,this.dayjsLocales[this.currentLanguage]),this.setLanguageCallback(n),[2,n];case 3:return r=a.sent(),this.logger("Failed to set language: ".concat(JSON.stringify(r))),[2,this.t];case 4:return[2]}})})},e.prototype.registerSetLanguageCallback=function(t){this.setLanguageCallback=t},e}();gr.extend(s6);gr.extend(u6);var Gj=function(e){var t=["de","en","es","fr","hi","it","ja","ko","nl","pt","ru","tr"];return t.some(function(n){return e===n})},h0=function(e){return!!(e!=null&&e.isSame)},Bo=function(e){return!!(e!=null&&e.getMonth)},Zj=function(e){return typeof e=="string"||typeof e=="number"},y6=function(e){return gr(e)},_6=v.createContext({t:l2,tDateTimeParser:y6,userLanguage:"en"}),Xj=function(e){var t=e.children,n=e.value;return v.createElement(_6.Provider,{value:n},t)},Et=function(e){var t=$.useContext(_6);return t||(console.warn("The useTranslationContext hook was called outside of the TranslationContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ".concat(e," component.")),{})},b6=v.createContext(void 0),Qj=function(e){var t=e.children,n=e.value;return v.createElement(b6.Provider,{value:n},t)},Jj=function(e){var t=$.useContext(b6);return t||(console.warn("The useTypingContext hook was called outside of the TypingContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ".concat(e," component.")),{})},ez=function(e){var t=e.actionHandler,n=e.actions,r=e.id,a=e.text,i=Et("UnMemoizedAttachmentActions").t,o=function(s,l,u){return t==null?void 0:t(l,u,s)};return v.createElement("div",{className:"str-chat__message-attachment-actions"},v.createElement("div",{className:"str-chat__message-attachment-actions-form"},v.createElement("span",null,a),n.map(function(s){return v.createElement("button",{className:"str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--".concat(s.style),"data-testid":"".concat(s.name),"data-value":s.value,key:"".concat(r,"-").concat(s.value),onClick:function(l){return o(l,s.name,s.value)}},s.text?i(s.text):null)})))},tz=v.memo(ez),nz=function(e){var t=e.className;return v.createElement("svg",{className:t,"data-testid":"download",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z",fill:"black"}))},rz=function(){return v.createElement("svg",{fill:"none",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0.5 0V14L11.5 7L0.5 0Z",fill:"#080707"}))},az=function(){return v.createElement("svg",{fill:"none",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0 14H4V0H0V14ZM8 0V14H12V0H8Z",fill:"#080707"}))},Pm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,r=/&(newline|tab);/gi,a=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,i=/^.+(:|&colon;)/gim,o=[".","/"];e.BLANK_URL="about:blank";function s(c){return o.indexOf(c[0])>-1}function l(c){var d=c.replace(a,"");return d.replace(n,function(f,h){return String.fromCharCode(h)})}function u(c){if(!c)return e.BLANK_URL;var d=l(c).replace(r,"").replace(a,"").trim();if(!d)return e.BLANK_URL;if(s(d))return d;var f=d.match(i);if(!f)return d;var h=f[0];return t.test(h)?e.BLANK_URL:d}e.sanitizeUrl=u})(Pm);var iz=function(e){var t=e.children,n=e.className,r=e.download,a=e.href,i=e.rel,o=e.target,s=Et("SafeAnchor").t;if(!a)return null;var l=Pm.sanitizeUrl(a);return v.createElement("a",{"aria-label":s("aria/Attachment"),className:n,download:r,href:l,rel:i,target:o},t)},Om=v.memo(iz),u2=function(e){var t=e.assetUrl;return v.createElement(Om,{className:"str-chat__message-attachment-file--item-download",download:!0,href:t,target:"_blank"},v.createElement(nz,{className:"str-chat__message-attachment-download-icon"}))};const oz="modulepreload",sz=function(e){return"/"+e},Dw={},w6=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.all(n.map(s=>{if(s=sz(s),s in Dw)return;Dw[s]=!0;const l=s.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":oz,l||(c.as="script",c.crossOrigin=""),c.href=s,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}return a.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var E6=25,gu=100,kw=100,lz=50,C6=250,uz=100*1024*1024,Mw={a:"|||||||",c:"|",e:"|||||",i:"|||||",n:"|",o:"||||||||",u:"|||||||"},h1=function(e){return e?Object.keys(Mw).reduce(function(t,n){return t.replace(new RegExp(Mw[n],"g"),n)},e):""},Tw=function(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var n=[],r;for(r=0;r<=t.length;r++)n[r]=[r];var a;for(a=0;a<=e.length;a++)n[0][a]=a;for(r=1;r<=t.length;r++)for(a=1;a<=e.length;a++)t.charAt(r-1)===e.charAt(a-1)?n[r][a]=n[r-1][a-1]:n[r][a]=Math.min(n[r-1][a-1]+1,Math.min(n[r][a-1]+1,n[r-1][a]+1));return n[t.length][e.length]},cz=function(e){var t=e.ownUserId,n=e.query,r=e.text,a=e.useMentionsTransliteration,i=e.users,o=i.filter(function(s){if(s.id===t)return!1;if(!n)return!0;var l=h1(s.id).toLowerCase(),u=h1(s.name).toLowerCase(),c=h1(n).toLowerCase();a&&function(){return St(void 0,void 0,void 0,function(){var w;return Dt(this,function(D){switch(D.label){case 0:return[4,w6(()=>import("./index.modern-DdIVEBjs.js"),[])];case 1:return w=D.sent().default,u=w(s.name||"").toLowerCase(),c=w(n).toLowerCase(),l=w(s.id).toLowerCase(),[2]}})})}();var d=3,f=r.slice(-(d+1)).includes("@");if(u){var h=Tw(c,u);if(u.includes(c)||h<=d&&f)return!0}var p=Tw(c,l);return l.includes(c)||p<=d&&f});return o},c2=function(e){return St(void 0,void 0,void 0,function(){var t,n,r,a,i,o,s,l,u,c,d,f,h,p,w,p,w,D,E,g;return Dt(this,function(C){switch(C.label){case 0:return t=e.addNotification,n=e.file,r=e.getAppSettings,a=e.t,i=e.uploadType,o=null,[4,r()];case 1:return o=C.sent(),s=(i==="image"?(E=o==null?void 0:o.app)===null||E===void 0?void 0:E.image_upload_config:(g=o==null?void 0:o.app)===null||g===void 0?void 0:g.file_upload_config)||{},l=s.allowed_file_extensions,u=s.allowed_mime_types,c=s.blocked_file_extensions,d=s.blocked_mime_types,f=s.size_limit,h=function(){return t(a('Upload type: "{{ type }}" is not allowed',{type:n.type||"unknown type"}),"error")},l!=null&&l.length&&(p=l.some(function(M){return n.name.toLowerCase().endsWith(M.toLowerCase())}),!p)?(h(),[2,!1]):c!=null&&c.length&&(w=c.some(function(M){return n.name.toLowerCase().endsWith(M.toLowerCase())}),w)?(h(),[2,!1]):u!=null&&u.length&&(p=u.some(function(M){var m;return M.toLowerCase()===((m=n.type)===null||m===void 0?void 0:m.toLowerCase())}),!p)?(h(),[2,!1]):d!=null&&d.length&&(w=d.some(function(M){var m;return M.toLowerCase()===((m=n.type)===null||m===void 0?void 0:m.toLowerCase())}),w)?(h(),[2,!1]):(D=f||uz,n.size&&n.size>D?(t(a("File is too large: {{ size }}, maximum upload size is {{ limit }}",{limit:p0(D),size:p0(n.size)}),"error"),[2,!1]):[2,!0])}})})};function p0(e,t){t===void 0&&(t=3);var n=["B","kB","MB","GB"],r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1),a=e/Math.pow(1024,r),i=t===0?Math.round(a).toString():a.toPrecision(t);return"".concat(i," ").concat(n[r])}var Qd=function(e){var t=e.fileSize,n=e.maximumFractionDigits;return t&&Number.isFinite(Number(t))?v.createElement("span",{className:"str-chat__message-attachment-file--item-size","data-testid":"file-size-indicator"},p0(t,n)):null},S6=function(e){var t=e.onClick,n=e.progress;return v.createElement("div",{className:"str-chat__message-attachment-audio-widget--progress-track","data-progress":n,"data-testid":"audio-progress",onClick:t,role:"progressbar",style:{"--str-chat__message-attachment-audio-widget-progress":n+"%"}},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--progress-slider",style:{left:"".concat(n,"px")}}))},dz=function(e){var t=e.children,n=e.onClick;return v.createElement("button",{className:"str-chat__message_attachment__playback-rate-button","data-testid":"playback-rate-button",onClick:n},t)},Am=function(e){var t=e.isPlaying,n=e.onClick;return v.createElement("button",{className:"str-chat__message-attachment-audio-widget--play-button","data-testid":t?"pause-audio":"play-audio",onClick:n},t?v.createElement(az,null):v.createElement(rz,null))},D6=function(e,t){return e.length===t?e:e.length>t?fz(e,t):mz(e,t)};function fz(e,t){if(e.length<=t||t===0)return e;if(t===1)return[k6(e)];var n=[],r=(e.length-2)/(t-2),a=0;n.push(e[a]);for(var i,o,s,l=1;l<t-1;l++){var u=e[a],c=pz(e,l,r),d=Math.floor((l-1)*r)+1,f=Math.floor(l*r)+1,h=1+f-d;o=s=-1;for(var p=d;p<f;p++){var w=Math.abs(p-d)+1,D=h-w,E=e[p];s=hz(p1(Math.abs(u-E),w),p1(Math.abs(E-c),D),p1(Math.abs(u-c),h)),s>o&&(o=s,i=e[p],a=p)}typeof i<"u"&&n.push(i)}return n.push(e[e.length-1]),n}var hz=function(e,t,n){var r=(e+t+n)/2;return Math.sqrt(r*(r-e)*(r-t)*(r-n))},p1=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},k6=function(e){return e.reduce(function(t,n){return t+n},0)/e.length},pz=function(e,t,n){var r=Math.floor(t*n)+1,a=Math.floor((t+1)*n)+1;return a=a<e.length?a:e.length,k6(e.slice(r,a))},mz=function(e,t){if(!e.length)return console.warn("Cannot extend empty array of amplitudes."),e;if(e.length>t)return console.warn("Requested to extend the waveformData that is longer than the target list size"),e;if(t===e.length)return e;for(var n=S0(t,e.length),r=n[0],a=n[1],i=[],o=0;o<e.length;o++){var s=a&&a--?1:0;i.push.apply(i,Array(r+s).fill(e[o]))}return i},M6=function(e){var t=e.amplitudesCount,n=t===void 0?40:t,r=e.progress,a=r===void 0?0:r,i=e.seek,o=e.waveformData,s=$.useState(null),l=s[0],u=s[1],c=$.useRef(!1),d=$.useRef(null),f=function(D){D.preventDefault(),l&&(c.current=!0,l.style.cursor="grabbing")},h=function(D){c.current&&i(ne({},D))},p=$.useCallback(function(){l&&(c.current=!1,l.style.removeProperty("cursor"))},[l]),w=$.useMemo(function(){return D6(o,n)},[n,o]);return $.useEffect(function(){return document.addEventListener("pointerup",p),function(){document.removeEventListener("pointerup",p)}},[p]),o.length?v.createElement("div",{className:"str-chat__wave-progress-bar__track","data-testid":"wave-progress-bar-track",onClick:i,onPointerDown:f,onPointerMove:h,onPointerUp:p,ref:d,role:"progressbar"},w.map(function(D,E){var g;return v.createElement("div",{className:Yt("str-chat__wave-progress-bar__amplitude-bar",(g={},g["str-chat__wave-progress-bar__amplitude-bar--active"]=a>E/w.length*100,g)),"data-testid":"amplitude-bar",key:"amplitude-".concat(E),style:{"--str-chat__wave-progress-bar__amplitude-bar-height":D?D*100+"%":"0%"}})}),v.createElement("div",{className:"str-chat__wave-progress-bar__progress-indicator","data-testid":"wave-progress-bar-progress-indicator",ref:u,style:{left:"".concat(a<0?0:a>100?100:a,"%")}})):null},T6="Expected a function",xw=NaN,gz="[object Symbol]",vz=/^\s+|\s+$/g,yz=/^[-+]0x[0-9a-f]+$/i,_z=/^0b[01]+$/i,bz=/^0o[0-7]+$/i,wz=parseInt,Ez=typeof jt=="object"&&jt&&jt.Object===Object&&jt,Cz=typeof self=="object"&&self&&self.Object===Object&&self,Sz=Ez||Cz||Function("return this")(),Dz=Object.prototype,kz=Dz.toString,Mz=Math.max,Tz=Math.min,m1=function(){return Sz.Date.now()};function xz(e,t,n){var r,a,i,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(T6);t=Rw(t)||0,sp(n)&&(c=!!n.leading,d="maxWait"in n,i=d?Mz(Rw(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function h(b){var S=r,y=a;return r=a=void 0,u=b,o=e.apply(y,S),o}function p(b){return u=b,s=setTimeout(E,t),c?h(b):o}function w(b){var S=b-l,y=b-u,k=t-S;return d?Tz(k,i-y):k}function D(b){var S=b-l,y=b-u;return l===void 0||S>=t||S<0||d&&y>=i}function E(){var b=m1();if(D(b))return g(b);s=setTimeout(E,w(b))}function g(b){return s=void 0,f&&r?h(b):(r=a=void 0,o)}function C(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function M(){return s===void 0?o:g(m1())}function m(){var b=m1(),S=D(b);if(r=arguments,a=this,l=b,S){if(s===void 0)return p(l);if(d)return s=setTimeout(E,t),h(l)}return s===void 0&&(s=setTimeout(E,t)),o}return m.cancel=C,m.flush=M,m}function Rz(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(T6);return sp(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),xz(e,t,{leading:r,maxWait:t,trailing:a})}function sp(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Pz(e){return!!e&&typeof e=="object"}function Oz(e){return typeof e=="symbol"||Pz(e)&&kz.call(e)==gz}function Rw(e){if(typeof e=="number")return e;if(Oz(e))return xw;if(sp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(vz,"");var n=_z.test(e);return n||bz.test(e)?wz(e.slice(2),n?2:8):yz.test(e)?xw:+e}var Az=Rz;const Ao=Wn(Az);var Lz=function(e){return!(e.duration===1/0||isNaN(e.duration))},Iz=function(e){return e&&!(e.paused||e.ended)},Fz=function(e){return console.error("[AUDIO PLAYER]",e)},Nz=[1,1.5,2],Gu=function(e){var t=e===void 0?{}:e,n=t.durationSeconds,r=t.mimeType,a=t.playbackRates,i=a===void 0?Nz:a,o=qn("useAudioController").addNotification,s=Et("useAudioController").t,l=$.useState(!1),u=l[0],c=l[1],d=$.useState(),f=d[0],h=d[1],p=$.useState(!0),w=p[0],D=p[1],E=$.useState(0),g=E[0],C=E[1],M=$.useState(0),m=M[0],b=M[1],S=$.useRef(),y=$.useRef(null),k=$.useCallback(function(N){Fz(N),h(N),o(N.message,"error")},[o]),_=$.useCallback(function(){return St(void 0,void 0,void 0,function(){var N;return Dt(this,function(T){switch(T.label){case 0:return y.current?(clearTimeout(S.current),S.current=void 0,r&&!y.current.canPlayType(r)?(k(new Error(s("Recording format is not supported and cannot be reproduced"))),D(!1),[2]):Iz(y.current)?(y.current.pause(),c(!1),[3,6]):[3,1]):[2];case 1:S.current=setTimeout(function(){if(y.current)try{y.current.pause(),c(!1)}catch{k(new Error(s("Failed to play the recording")))}},2e3),T.label=2;case 2:return T.trys.push([2,4,5,6]),[4,y.current.play()];case 3:return T.sent(),c(!0),[3,6];case 4:return N=T.sent(),k(N),c(!1),[3,6];case 5:return clearTimeout(S.current),S.current=void 0,[7];case 6:return[2]}})})},[r,k,s]),P=function(){b(function(N){if(!y.current)return N;var T=N===i.length-1?0:N+1;return y.current.playbackRate=i[T],T})},z=$.useMemo(function(){return Ao(function(N){var T=N.clientX,L=N.currentTarget;if(L&&y.current){if(!Lz(y.current)){k(new Error(s("Cannot seek in the recording")));return}var I=L.getBoundingClientRect(),B=I.width,F=I.x,U=(T-F)/B;if(!(U>1||U<0)){var R=U*y.current.duration;C(R),y.current.currentTime=R}}},16)},[k,s]);return $.useEffect(function(){if(y.current){var N=y.current,T=function(){var B,F;C((F=(B=N==null?void 0:N.duration)!==null&&B!==void 0?B:n)!==null&&F!==void 0?F:0),c(!1)};N.addEventListener("ended",T);var L=function(){o(s("Error reproducing the recording"),"error"),c(!1)};N.addEventListener("error",L);var I=function(){C(N==null?void 0:N.currentTime)};return N.addEventListener("timeupdate",I),function(){N.pause(),N.removeEventListener("ended",T),N.removeEventListener("error",L),N.removeEventListener("timeupdate",I)}}},[o,n,s]),{audioRef:y,canPlayRecord:w,increasePlaybackRate:P,isPlaying:u,playbackError:f,playbackRate:i[m],progress:y.current&&g?g/y.current.duration*100:0,secondsElapsed:g,seek:z,togglePlay:_}},Uz=function(e){var t=e.og,n=t.asset_url,r=t.description,a=t.image_url,i=t.mime_type,o=t.text,s=t.title,l=Gu({mimeType:i}),u=l.audioRef,c=l.isPlaying,d=l.progress,f=l.togglePlay;return v.createElement("div",{className:"str-chat__audio"},v.createElement("div",{className:"str-chat__audio__wrapper"},v.createElement("audio",{ref:u},v.createElement("source",{"data-testid":"audio-source",src:n,type:"audio/mp3"})),v.createElement("div",{className:"str-chat__audio__image"},v.createElement("div",{className:"str-chat__audio__image--overlay"},c?v.createElement("button",{className:"str-chat__audio__image--button","data-testid":"pause-audio",onClick:f},v.createElement("svg",{height:"40",viewBox:"0 0 64 64",width:"40",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z",fillRule:"nonzero"}))):v.createElement("button",{className:"str-chat__audio__image--button","data-testid":"play-audio",onClick:f},v.createElement("svg",{height:"40",viewBox:"0 0 64 64",width:"40",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z",fillRule:"nonzero"})))),a&&v.createElement("img",{alt:"".concat(r),src:a})),v.createElement("div",{className:"str-chat__audio__content"},v.createElement("span",{className:"str-chat__audio__content--title"},v.createElement("strong",null,s)),v.createElement("span",{className:"str-chat__audio__content--subtitle"},o),v.createElement("div",{className:"str-chat__audio__content--progress"},v.createElement("div",{"data-progress":d,"data-testid":"audio-progress",role:"progressbar",style:{width:"".concat(d,"%")}})))))},Bz=function(e){var t=e.og,n=t.asset_url,r=t.file_size,a=t.mime_type,i=t.title,o=Gu({mimeType:a}),s=o.audioRef,l=o.isPlaying,u=o.progress,c=o.seek,d=o.togglePlay;if(!n)return null;var f="audio-widget",h="str-chat__message-attachment-audio-widget";return v.createElement("div",{className:h,"data-testid":f},v.createElement("audio",{ref:s},v.createElement("source",{"data-testid":"audio-source",src:n,type:"audio/mp3"})),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--play-controls"},v.createElement(Am,{isPlaying:l,onClick:d})),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--text"},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--text-first-row"},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--title"},i),v.createElement(u2,{assetUrl:n})),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--text-second-row"},v.createElement(Qd,{fileSize:r}),v.createElement(S6,{onClick:c,progress:u}))))},jz=function(e){var t=kt("Audio").themeVersion;return t==="1"?v.createElement(Uz,ne({},e)):v.createElement(Bz,ne({},e))},zz=v.memo(jz),Lm=$.forwardRef(function(t,n){var r=Bt(t,[]),a=r.className,i=r.onError,o=$.useState(!1),s=o[0],l=o[1];return $.useEffect(function(){return function(){l(!1)}},[r.src]),v.createElement(v.Fragment,null,v.createElement("img",ne({"data-testid":"str-chat__base-image"},r,{className:Yt(a,"str-chat__base-image",{"str-chat__base-image--load-failed":s}),onError:function(u){l(!0),i==null||i(u)},ref:n})),s&&v.createElement(u2,{assetUrl:r.src}))});const co=typeof document<"u"?v.useLayoutEffect:()=>{},Qr=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},lp=e=>e&&"window"in e&&e.window===e?e:Qr(e).defaultView||window;function Pw(e){if($z())e.focus({preventScroll:!0});else{let t=Hz(e);e.focus(),Vz(t)}}let Ff=null;function $z(){if(Ff==null){Ff=!1;try{document.createElement("div").focus({get preventScroll(){return Ff=!0,!0}})}catch{}}return Ff}function Hz(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Vz(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function Wz(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function qz(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Yz(){return qz(/^Mac/i)}function Kz(){return Wz(/Android/i)}let Jl=new Map,m0=new Set;function Ow(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let a=Jl.get(r.target);a||(a=new Set,Jl.set(r.target,a),r.target.addEventListener("transitioncancel",n,{once:!0})),a.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let a=Jl.get(r.target);if(a&&(a.delete(r.propertyName),a.size===0&&(r.target.removeEventListener("transitioncancel",n),Jl.delete(r.target)),Jl.size===0)){for(let i of m0)i();m0.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?Ow():document.addEventListener("DOMContentLoaded",Ow));function Gz(e){requestAnimationFrame(()=>{Jl.size===0?e():m0.add(e)})}function Zz(e){return e.mozInputSource===0&&e.isTrusted?!0:Kz()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}let Jd=null,Xz=new Set,Qc=new Map,bl=!1,g0=!1;function d2(e,t){for(let n of Xz)n(e,t)}function Qz(e){return!(e.metaKey||!Yz()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function up(e){bl=!0,Qz(e)&&(Jd="keyboard",d2("keyboard",e))}function fi(e){Jd="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(bl=!0,d2("pointer",e))}function x6(e){Zz(e)&&(bl=!0,Jd="virtual")}function R6(e){e.target===window||e.target===document||(!bl&&!g0&&(Jd="virtual",d2("virtual",e)),bl=!1,g0=!1)}function P6(){bl=!1,g0=!0}function Aw(e){if(typeof window>"u"||Qc.get(lp(e)))return;const t=lp(e),n=Qr(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){bl=!0,r.apply(this,arguments)},n.addEventListener("keydown",up,!0),n.addEventListener("keyup",up,!0),n.addEventListener("click",x6,!0),t.addEventListener("focus",R6,!0),t.addEventListener("blur",P6,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",fi,!0),n.addEventListener("pointermove",fi,!0),n.addEventListener("pointerup",fi,!0)):(n.addEventListener("mousedown",fi,!0),n.addEventListener("mousemove",fi,!0),n.addEventListener("mouseup",fi,!0)),t.addEventListener("beforeunload",()=>{O6(e)},{once:!0}),Qc.set(t,{focus:r})}const O6=(e,t)=>{const n=lp(e),r=Qr(e);t&&r.removeEventListener("DOMContentLoaded",t),Qc.has(n)&&(n.HTMLElement.prototype.focus=Qc.get(n).focus,r.removeEventListener("keydown",up,!0),r.removeEventListener("keyup",up,!0),r.removeEventListener("click",x6,!0),n.removeEventListener("focus",R6,!0),n.removeEventListener("blur",P6,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",fi,!0),r.removeEventListener("pointermove",fi,!0),r.removeEventListener("pointerup",fi,!0)):(r.removeEventListener("mousedown",fi,!0),r.removeEventListener("mousemove",fi,!0),r.removeEventListener("mouseup",fi,!0)),Qc.delete(n))};function Jz(e){const t=Qr(e);let n;return t.readyState!=="loading"?Aw(e):(n=()=>{Aw(e)},t.addEventListener("DOMContentLoaded",n)),()=>O6(e,n)}typeof document<"u"&&Jz();function e$(){return Jd}function t$(e){const t=Qr(e);if(e$()==="virtual"){let n=t.activeElement;Gz(()=>{t.activeElement===n&&e.isConnected&&Pw(e)})}else Pw(e)}function n$(e){const t=lp(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,a=n!=="none"&&r!=="hidden"&&r!=="collapse";if(a){const{getComputedStyle:i}=e.ownerDocument.defaultView;let{display:o,visibility:s}=i(e);a=o!=="none"&&s!=="hidden"&&s!=="collapse"}return a}function r$(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function A6(e,t){return e.nodeName!=="#comment"&&n$(e)&&r$(e,t)&&(!e.parentElement||A6(e.parentElement,e))}const Lw=v.createContext(null);let $n=null;function a$(e){let{children:t,contain:n,restoreFocus:r,autoFocus:a}=e,i=$.useRef(null),o=$.useRef(null),s=$.useRef([]),{parentNode:l}=$.useContext(Lw)||{},u=$.useMemo(()=>new y0({scopeRef:s}),[s]);co(()=>{let f=l||Er.root;if(Er.getTreeNode(f.scopeRef)&&$n&&!cp($n,f.scopeRef)){let h=Er.getTreeNode($n);h&&(f=h)}f.addChild(u),Er.addNode(u)},[u,l]),co(()=>{let f=Er.getTreeNode(s);f&&(f.contain=!!n)},[n]),co(()=>{var f;let h=(f=i.current)===null||f===void 0?void 0:f.nextSibling,p=[];for(;h&&h!==o.current;)p.push(h),h=h.nextSibling;s.current=p},[t]),c$(s,r,n),l$(s,n),f$(s,r,n),u$(s,a),$.useEffect(()=>{const f=Qr(s.current?s.current[0]:void 0).activeElement;let h=null;if(Zr(f,s.current)){for(let p of Er.traverse())p.scopeRef&&Zr(f,p.scopeRef.current)&&(h=p);h===Er.getTreeNode(s)&&($n=h.scopeRef)}},[s]),co(()=>()=>{var f,h,p;let w=(p=(h=Er.getTreeNode(s))===null||h===void 0||(f=h.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&p!==void 0?p:null;(s===$n||cp(s,$n))&&(!w||Er.getTreeNode(w))&&($n=w),Er.removeTreeNode(s)},[s]);let c=$.useMemo(()=>i$(s),[]),d=$.useMemo(()=>({focusManager:c,parentNode:u}),[u,c]);return v.createElement(Lw.Provider,{value:d},v.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),t,v.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function i$(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:a,wrap:i,accept:o}=t,s=r||Qr(n[0]).activeElement,l=n[0].previousElementSibling,u=il(n),c=ps(u,{tabbable:a,accept:o},n);c.currentNode=Zr(s,n)?s:l;let d=c.nextNode();return!d&&i&&(c.currentNode=l,d=c.nextNode()),d&&Ro(d,!0),d},focusPrevious(t={}){let n=e.current,{from:r,tabbable:a,wrap:i,accept:o}=t,s=r||Qr(n[0]).activeElement,l=n[n.length-1].nextElementSibling,u=il(n),c=ps(u,{tabbable:a,accept:o},n);c.currentNode=Zr(s,n)?s:l;let d=c.previousNode();return!d&&i&&(c.currentNode=l,d=c.previousNode()),d&&Ro(d,!0),d},focusFirst(t={}){let n=e.current,{tabbable:r,accept:a}=t,i=il(n),o=ps(i,{tabbable:r,accept:a},n);o.currentNode=n[0].previousElementSibling;let s=o.nextNode();return s&&Ro(s,!0),s},focusLast(t={}){let n=e.current,{tabbable:r,accept:a}=t,i=il(n),o=ps(i,{tabbable:r,accept:a},n);o.currentNode=n[n.length-1].nextElementSibling;let s=o.previousNode();return s&&Ro(s,!0),s}}}const f2=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],o$=f2.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";f2.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const s$=f2.join(':not([hidden]):not([tabindex="-1"]),');function il(e){return e[0].parentElement}function jc(e){let t=Er.getTreeNode($n);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function l$(e,t){let n=$.useRef(),r=$.useRef();co(()=>{let a=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const i=Qr(a?a[0]:void 0);let o=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!jc(e)||u.isComposing)return;let c=i.activeElement,d=e.current;if(!d||!Zr(c,d))return;let f=il(d),h=ps(f,{tabbable:!0},d);if(!c)return;h.currentNode=c;let p=u.shiftKey?h.previousNode():h.nextNode();p||(h.currentNode=u.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,p=u.shiftKey?h.previousNode():h.nextNode()),u.preventDefault(),p&&Ro(p,!0)},s=u=>{(!$n||cp($n,e))&&Zr(u.target,e.current)?($n=e,n.current=u.target):jc(e)&&!v0(u.target,e)?n.current?n.current.focus():$n&&$n.current&&dp($n.current):jc(e)&&(n.current=u.target)},l=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(i.activeElement&&jc(e)&&!v0(i.activeElement,e))if($n=e,i.body.contains(u.target)){var c;n.current=u.target,(c=n.current)===null||c===void 0||c.focus()}else $n.current&&dp($n.current)})};return i.addEventListener("keydown",o,!1),i.addEventListener("focusin",s,!1),a==null||a.forEach(u=>u.addEventListener("focusin",s,!1)),a==null||a.forEach(u=>u.addEventListener("focusout",l,!1)),()=>{i.removeEventListener("keydown",o,!1),i.removeEventListener("focusin",s,!1),a==null||a.forEach(u=>u.removeEventListener("focusin",s,!1)),a==null||a.forEach(u=>u.removeEventListener("focusout",l,!1))}},[e,t]),co(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function L6(e){return v0(e)}function Zr(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function v0(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of Er.traverse(Er.getTreeNode(t)))if(n&&Zr(e,n.current))return!0;return!1}function cp(e,t){var n;let r=(n=Er.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Ro(e,t=!1){if(e!=null&&!t)try{t$(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function dp(e,t=!0){let n=e[0].previousElementSibling,r=il(e),a=ps(r,{tabbable:t},e);a.currentNode=n;let i=a.nextNode();t&&!i&&(r=il(e),a=ps(r,{tabbable:!1},e),a.currentNode=n,i=a.nextNode()),Ro(i)}function u$(e,t){const n=v.useRef(t);$.useEffect(()=>{if(n.current){$n=e;const r=Qr(e.current?e.current[0]:void 0);!Zr(r.activeElement,$n.current)&&e.current&&dp(e.current)}n.current=!1},[e])}function c$(e,t,n){co(()=>{if(t||n)return;let r=e.current;const a=Qr(r?r[0]:void 0);let i=o=>{let s=o.target;Zr(s,e.current)?$n=e:L6(s)||($n=null)};return a.addEventListener("focusin",i,!1),r==null||r.forEach(o=>o.addEventListener("focusin",i,!1)),()=>{a.removeEventListener("focusin",i,!1),r==null||r.forEach(o=>o.removeEventListener("focusin",i,!1))}},[e,t,n])}function d$(e){let t=Er.getTreeNode($n);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function f$(e,t,n){const r=$.useRef(typeof document<"u"?Qr(e.current?e.current[0]:void 0).activeElement:null);co(()=>{let a=e.current;const i=Qr(a?a[0]:void 0);if(!t||n)return;let o=()=>{(!$n||cp($n,e))&&Zr(i.activeElement,e.current)&&($n=e)};return i.addEventListener("focusin",o,!1),a==null||a.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{i.removeEventListener("focusin",o,!1),a==null||a.forEach(s=>s.removeEventListener("focusin",o,!1))}},[e,n]),co(()=>{const a=Qr(e.current?e.current[0]:void 0);if(!t)return;let i=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!jc(e)||o.isComposing)return;let s=a.activeElement;if(!Zr(s,e.current))return;let l=Er.getTreeNode(e);if(!l)return;let u=l.nodeToRestore,c=ps(a.body,{tabbable:!0});c.currentNode=s;let d=o.shiftKey?c.previousNode():c.nextNode();if((!u||!a.body.contains(u)||u===a.body)&&(u=void 0,l.nodeToRestore=void 0),(!d||!Zr(d,e.current))&&u){c.currentNode=u;do d=o.shiftKey?c.previousNode():c.nextNode();while(Zr(d,e.current));o.preventDefault(),o.stopPropagation(),d?Ro(d,!0):L6(u)?Ro(u,!0):s.blur()}};return n||a.addEventListener("keydown",i,!0),()=>{n||a.removeEventListener("keydown",i,!0)}},[e,t,n]),co(()=>{const a=Qr(e.current?e.current[0]:void 0);if(!t)return;let i=Er.getTreeNode(e);if(i){var o;return i.nodeToRestore=(o=r.current)!==null&&o!==void 0?o:void 0,()=>{let s=Er.getTreeNode(e);if(!s)return;let l=s.nodeToRestore;if(t&&l&&(Zr(a.activeElement,e.current)||a.activeElement===a.body&&d$(e))){let u=Er.clone();requestAnimationFrame(()=>{if(a.activeElement===a.body){let c=u.getTreeNode(e);for(;c;){if(c.nodeToRestore&&c.nodeToRestore.isConnected){Ro(c.nodeToRestore);return}c=c.parent}for(c=u.getTreeNode(e);c;){if(c.scopeRef&&c.scopeRef.current&&Er.getTreeNode(c.scopeRef)){dp(c.scopeRef.current,!0);return}c=c.parent}}})}}}},[e,t])}function ps(e,t,n){let r=t!=null&&t.tabbable?s$:o$,a=Qr(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var o;return!(t==null||(o=t.from)===null||o===void 0)&&o.contains(i)?NodeFilter.FILTER_REJECT:i.matches(r)&&A6(i)&&(!n||Zr(i,n))&&(!(t!=null&&t.accept)||t.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(a.currentNode=t.from),a}class h2{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let a=this.fastMap.get(n??null);if(!a)return;let i=new y0({scopeRef:t});a.addChild(i),i.parent=a,this.fastMap.set(t,i),r&&(i.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let i of this.traverse())i!==n&&n.nodeToRestore&&i.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Zr(i.nodeToRestore,n.scopeRef.current)&&(i.nodeToRestore=n.nodeToRestore);let a=n.children;r&&(r.removeChild(n),a.size>0&&a.forEach(i=>r&&r.addChild(i))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new h2;var r;for(let a of this.traverse())n.addTreeNode(a.scopeRef,(r=(t=a.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,a.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new y0({scopeRef:null}),this.fastMap.set(null,this.root)}}class y0{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let Er=new h2;var h$=function(){return v.createElement("svg",{"data-testid":"close-icon-round",fill:"none",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},v.createElement("rect",{fill:"#72767E",height:"28",rx:"14",width:"28"}),v.createElement("circle",{cx:"14",cy:"14",fill:"#72767E",r:"12"}),v.createElement("path",{clipRule:"evenodd",d:"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14ZM26 14C26 20.6274 20.6274 26 14 26C7.37258 26 2 20.6274 2 14C2 7.37258 7.37258 2 14 2C20.6274 2 26 7.37258 26 14ZM19.59 7L21 8.41L15.41 14L21 19.59L19.59 21L14 15.41L8.41 21L7 19.59L12.59 14L7 8.41L8.41 7L14 12.59L19.59 7Z",fill:"white",fillRule:"evenodd"}))},ef=function(e){var t=e.children,n=e.onClose,r=e.open,a=Et("Modal").t,i=kt("Modal").themeVersion,o=$.useRef(null),s=$.useRef(null),l=function(u){var c=u.target;!o.current||!s.current||(!o.current.contains(c)||s.current.contains(c))&&(n==null||n(u))};return $.useEffect(function(){if(r){var u=function(c){c.key==="Escape"&&(n==null||n(c))};return document.addEventListener("keydown",u),function(){return document.removeEventListener("keydown",u)}}},[n,r]),r?v.createElement("div",{className:"str-chat__modal str-chat__modal--open",onClick:l},v.createElement(a$,{autoFocus:!0,contain:!0},v.createElement("button",{className:"str-chat__modal__close-button",ref:s,title:a("Close")},i==="2"&&v.createElement(h$,null),i==="1"&&v.createElement(v.Fragment,null,a("Close"),v.createElement("svg",{height:"10",width:"10",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M9.916 1.027L8.973.084 5 4.058 1.027.084l-.943.943L4.058 5 .084 8.973l.943.943L5 5.942l3.973 3.974.943-.943L5.942 5z",fillRule:"evenodd"})))),v.createElement("div",{className:"str-chat__modal__inner str-chat-react__modal__inner",ref:o},t))):null},I6={exports:{}};(function(e,t){(function(n,r){e.exports=r($)})(jt,function(n){return(()=>{var r={703:(s,l,u)=>{var c=u(414);function d(){}function f(){}f.resetWarningCache=d,s.exports=function(){function h(D,E,g,C,M,m){if(m!==c){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}function p(){return h}h.isRequired=h;var w={array:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:p,element:h,elementType:h,instanceOf:p,node:h,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:f,resetWarningCache:d};return w.PropTypes=w,w}},697:(s,l,u)=>{s.exports=u(703)()},414:s=>{s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:s=>{var l=typeof Element<"u",u=typeof Map=="function",c=typeof Set=="function",d=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function f(h,p){if(h===p)return!0;if(h&&p&&typeof h=="object"&&typeof p=="object"){if(h.constructor!==p.constructor)return!1;var w,D,E,g;if(Array.isArray(h)){if((w=h.length)!=p.length)return!1;for(D=w;D--!=0;)if(!f(h[D],p[D]))return!1;return!0}if(u&&h instanceof Map&&p instanceof Map){if(h.size!==p.size)return!1;for(g=h.entries();!(D=g.next()).done;)if(!p.has(D.value[0]))return!1;for(g=h.entries();!(D=g.next()).done;)if(!f(D.value[1],p.get(D.value[0])))return!1;return!0}if(c&&h instanceof Set&&p instanceof Set){if(h.size!==p.size)return!1;for(g=h.entries();!(D=g.next()).done;)if(!p.has(D.value[0]))return!1;return!0}if(d&&ArrayBuffer.isView(h)&&ArrayBuffer.isView(p)){if((w=h.length)!=p.length)return!1;for(D=w;D--!=0;)if(h[D]!==p[D])return!1;return!0}if(h.constructor===RegExp)return h.source===p.source&&h.flags===p.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===p.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===p.toString();if((w=(E=Object.keys(h)).length)!==Object.keys(p).length)return!1;for(D=w;D--!=0;)if(!Object.prototype.hasOwnProperty.call(p,E[D]))return!1;if(l&&h instanceof Element)return!1;for(D=w;D--!=0;)if((E[D]!=="_owner"&&E[D]!=="__v"&&E[D]!=="__o"||!h.$$typeof)&&!f(h[E[D]],p[E[D]]))return!1;return!0}return h!=h&&p!=p}s.exports=function(h,p){try{return f(h,p)}catch(w){if((w.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw w}}},37:function(s,l,u){(function(c,d){function f(){return f=Object.assign||function(b){for(var S=1;S<arguments.length;S++){var y=arguments[S];for(var k in y)Object.prototype.hasOwnProperty.call(y,k)&&(b[k]=y[k])}return b},f.apply(this,arguments)}var h="Left",p="Right",w="Down",D={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},E={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},g="mousemove",C="mouseup";function M(b,S){if(S===0)return b;var y=Math.PI/180*S;return[b[0]*Math.cos(y)+b[1]*Math.sin(y),b[1]*Math.cos(y)-b[0]*Math.sin(y)]}function m(b,S){var y=function(T){T&&"touches"in T&&T.touches.length>1||b(function(L,I){I.trackMouse&&(document.addEventListener(g,k),document.addEventListener(C,P));var B="touches"in T?T.touches[0]:T,F=M([B.clientX,B.clientY],I.rotationAngle);return f({},L,E,{initial:[].concat(F),xy:F,start:T.timeStamp||0})})},k=function(T){b(function(L,I){if("touches"in T&&T.touches.length>1)return L;var B="touches"in T?T.touches[0]:T,F=M([B.clientX,B.clientY],I.rotationAngle),U=F[0],R=F[1],O=U-L.xy[0],A=R-L.xy[1],x=Math.abs(O),j=Math.abs(A),V=(T.timeStamp||0)-L.start,X=Math.sqrt(x*x+j*j)/(V||1),re=[O/(V||1),A/(V||1)];if(x<I.delta&&j<I.delta&&!L.swiping)return L;var W=function(he,Oe,$e,Ie){return he>Oe?$e>0?p:h:Ie>0?w:"Up"}(x,j,O,A),J={absX:x,absY:j,deltaX:O,deltaY:A,dir:W,event:T,first:L.first,initial:L.initial,velocity:X,vxvy:re};I.onSwiping&&I.onSwiping(J);var oe=!1;return(I.onSwiping||I.onSwiped||"onSwiped"+W in I)&&(oe=!0),oe&&I.preventDefaultTouchmoveEvent&&I.trackTouch&&T.cancelable&&T.preventDefault(),f({},L,{first:!1,eventData:J,swiping:!0})})},_=function(T){b(function(L,I){var B;if(L.swiping&&L.eventData){B=f({},L.eventData,{event:T}),I.onSwiped&&I.onSwiped(B);var F="onSwiped"+B.dir;F in I&&I[F](B)}else I.onTap&&I.onTap({event:T});return f({},L,E,{eventData:B})})},P=function(T){document.removeEventListener(g,k),document.removeEventListener(C,P),_(T)},z=function(T,L){var I=function(){};if(T&&T.addEventListener){var B=[["touchstart",y],["touchmove",k],["touchend",_]];B.forEach(function(F){var U=F[0],R=F[1];return T.addEventListener(U,R,{passive:L})}),I=function(){return B.forEach(function(F){var U=F[0],R=F[1];return T.removeEventListener(U,R)})}}return I},N={ref:function(T){T!==null&&b(function(L,I){if(L.el===T)return L;var B={};return L.el&&L.el!==T&&L.cleanUpTouch&&(L.cleanUpTouch(),B.cleanUpTouch=void 0),I.trackTouch&&T&&(B.cleanUpTouch=z(T,!I.preventDefaultTouchmoveEvent)),f({},L,{el:T},B)})}};return S.trackMouse&&(N.onMouseDown=y),[N,z]}c.DOWN=w,c.LEFT=h,c.RIGHT=p,c.UP="Up",c.useSwipeable=function(b){var S=b.trackMouse,y=d.useRef(f({},E)),k=d.useRef(f({},D));k.current=f({},D,b);var _=d.useMemo(function(){return m(function(N){return y.current=N(y.current,k.current)},{trackMouse:S})},[S]),P=_[0],z=_[1];return y.current=function(N,T,L){var I={};return!T.trackTouch&&N.cleanUpTouch?(N.cleanUpTouch(),I.cleanUpTouch=void 0):T.trackTouch&&!N.cleanUpTouch&&N.el&&(I.cleanUpTouch=L(N.el,!T.preventDefaultTouchmoveEvent)),f({},N,I)}(y.current,k.current,z),P}})(l,u(888))},888:s=>{s.exports=n}},a={};function i(s){var l=a[s];if(l!==void 0)return l.exports;var u=a[s]={exports:{}};return r[s].call(u.exports,u,u.exports,i),u.exports}i.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return i.d(l,{a:l}),l},i.d=(s,l)=>{for(var u in l)i.o(l,u)&&!i.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:l[u]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{function s(me){var ue,Ce,Le="";if(typeof me=="string"||typeof me=="number")Le+=me;else if(typeof me=="object")if(Array.isArray(me))for(ue=0;ue<me.length;ue++)me[ue]&&(Ce=s(me[ue]))&&(Le&&(Le+=" "),Le+=Ce);else for(ue in me)me[ue]&&(Le&&(Le+=" "),Le+=ue);return Le}function l(){for(var me,ue,Ce=0,Le="";Ce<arguments.length;)(me=arguments[Ce++])&&(ue=s(me))&&(Le&&(Le+=" "),Le+=ue);return Le}i.r(o),i.d(o,{default:()=>xt});var u=i(888),c=i.n(u);const d=function(me){var ue=typeof me;return me!=null&&(ue=="object"||ue=="function")},f=typeof jt=="object"&&jt&&jt.Object===Object&&jt;var h=typeof self=="object"&&self&&self.Object===Object&&self;const p=f||h||Function("return this")(),w=function(){return p.Date.now()};var D=/\s/,E=/^\s+/;const g=function(me){return me&&me.slice(0,function(ue){for(var Ce=ue.length;Ce--&&D.test(ue.charAt(Ce)););return Ce}(me)+1).replace(E,"")},C=p.Symbol;var M=Object.prototype,m=M.hasOwnProperty,b=M.toString,S=C?C.toStringTag:void 0,y=Object.prototype.toString,k=C?C.toStringTag:void 0;const _=function(me){return me==null?me===void 0?"[object Undefined]":"[object Null]":k&&k in Object(me)?function(ue){var Ce=m.call(ue,S),Le=ue[S];try{ue[S]=void 0;var _e=!0}catch{}var Ge=b.call(ue);return _e&&(Ce?ue[S]=Le:delete ue[S]),Ge}(me):function(ue){return y.call(ue)}(me)};var P=/^[-+]0x[0-9a-f]+$/i,z=/^0b[01]+$/i,N=/^0o[0-7]+$/i,T=parseInt;const L=function(me){if(typeof me=="number")return me;if(function(Le){return typeof Le=="symbol"||function(_e){return _e!=null&&typeof _e=="object"}(Le)&&_(Le)=="[object Symbol]"}(me))return NaN;if(d(me)){var ue=typeof me.valueOf=="function"?me.valueOf():me;me=d(ue)?ue+"":ue}if(typeof me!="string")return me===0?me:+me;me=g(me);var Ce=z.test(me);return Ce||N.test(me)?T(me.slice(2),Ce?2:8):P.test(me)?NaN:+me};var I=Math.max,B=Math.min;const F=function(me,ue,Ce){var Le,_e,Ge,Ze,ee,ae,Re=0,je=!1,He=!1,Ve=!0;if(typeof me!="function")throw new TypeError("Expected a function");function st(Nt){var Ct=Le,Gt=_e;return Le=_e=void 0,Re=Nt,Ze=me.apply(Gt,Ct)}function mt(Nt){return Re=Nt,ee=setTimeout(wt,ue),je?st(Nt):Ze}function gt(Nt){var Ct=Nt-ae;return ae===void 0||Ct>=ue||Ct<0||He&&Nt-Re>=Ge}function wt(){var Nt=w();if(gt(Nt))return Tt(Nt);ee=setTimeout(wt,function(Ct){var Gt=ue-(Ct-ae);return He?B(Gt,Ge-(Ct-Re)):Gt}(Nt))}function Tt(Nt){return ee=void 0,Ve&&Le?st(Nt):(Le=_e=void 0,Ze)}function Ot(){var Nt=w(),Ct=gt(Nt);if(Le=arguments,_e=this,ae=Nt,Ct){if(ee===void 0)return mt(ae);if(He)return clearTimeout(ee),ee=setTimeout(wt,ue),st(ae)}return ee===void 0&&(ee=setTimeout(wt,ue)),Ze}return ue=L(ue)||0,d(Ce)&&(je=!!Ce.leading,Ge=(He="maxWait"in Ce)?I(L(Ce.maxWait)||0,ue):Ge,Ve="trailing"in Ce?!!Ce.trailing:Ve),Ot.cancel=function(){ee!==void 0&&clearTimeout(ee),Re=0,Le=ae=_e=ee=void 0},Ot.flush=function(){return ee===void 0?Ze:Tt(w())},Ot},U=function(me,ue,Ce){var Le=!0,_e=!0;if(typeof me!="function")throw new TypeError("Expected a function");return d(Ce)&&(Le="leading"in Ce?!!Ce.leading:Le,_e="trailing"in Ce?!!Ce.trailing:_e),F(me,ue,{leading:Le,maxWait:ue,trailing:_e})};var R=i(590),O=i.n(R),A=function(){if(typeof Map<"u")return Map;function me(ue,Ce){var Le=-1;return ue.some(function(_e,Ge){return _e[0]===Ce&&(Le=Ge,!0)}),Le}return function(){function ue(){this.__entries__=[]}return Object.defineProperty(ue.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),ue.prototype.get=function(Ce){var Le=me(this.__entries__,Ce),_e=this.__entries__[Le];return _e&&_e[1]},ue.prototype.set=function(Ce,Le){var _e=me(this.__entries__,Ce);~_e?this.__entries__[_e][1]=Le:this.__entries__.push([Ce,Le])},ue.prototype.delete=function(Ce){var Le=this.__entries__,_e=me(Le,Ce);~_e&&Le.splice(_e,1)},ue.prototype.has=function(Ce){return!!~me(this.__entries__,Ce)},ue.prototype.clear=function(){this.__entries__.splice(0)},ue.prototype.forEach=function(Ce,Le){Le===void 0&&(Le=null);for(var _e=0,Ge=this.__entries__;_e<Ge.length;_e++){var Ze=Ge[_e];Ce.call(Le,Ze[1],Ze[0])}},ue}()}(),x=typeof window<"u"&&typeof document<"u"&&window.document===document,j=i.g!==void 0&&i.g.Math===Math?i.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),V=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(j):function(me){return setTimeout(function(){return me(Date.now())},1e3/60)},X=["top","right","bottom","left","width","height","size","weight"],re=typeof MutationObserver<"u",W=function(){function me(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(ue,Ce){var Le=!1,_e=!1,Ge=0;function Ze(){Le&&(Le=!1,ue()),_e&&ae()}function ee(){V(Ze)}function ae(){var Re=Date.now();if(Le){if(Re-Ge<2)return;_e=!0}else Le=!0,_e=!1,setTimeout(ee,20);Ge=Re}return ae}(this.refresh.bind(this))}return me.prototype.addObserver=function(ue){~this.observers_.indexOf(ue)||this.observers_.push(ue),this.connected_||this.connect_()},me.prototype.removeObserver=function(ue){var Ce=this.observers_,Le=Ce.indexOf(ue);~Le&&Ce.splice(Le,1),!Ce.length&&this.connected_&&this.disconnect_()},me.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},me.prototype.updateObservers_=function(){var ue=this.observers_.filter(function(Ce){return Ce.gatherActive(),Ce.hasActive()});return ue.forEach(function(Ce){return Ce.broadcastActive()}),ue.length>0},me.prototype.connect_=function(){x&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),re?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},me.prototype.disconnect_=function(){x&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},me.prototype.onTransitionEnd_=function(ue){var Ce=ue.propertyName,Le=Ce===void 0?"":Ce;X.some(function(_e){return!!~Le.indexOf(_e)})&&this.refresh()},me.getInstance=function(){return this.instance_||(this.instance_=new me),this.instance_},me.instance_=null,me}(),J=function(me,ue){for(var Ce=0,Le=Object.keys(ue);Ce<Le.length;Ce++){var _e=Le[Ce];Object.defineProperty(me,_e,{value:ue[_e],enumerable:!1,writable:!1,configurable:!0})}return me},oe=function(me){return me&&me.ownerDocument&&me.ownerDocument.defaultView||j},he=We(0,0,0,0);function Oe(me){return parseFloat(me)||0}function $e(me){for(var ue=[],Ce=1;Ce<arguments.length;Ce++)ue[Ce-1]=arguments[Ce];return ue.reduce(function(Le,_e){return Le+Oe(me["border-"+_e+"-width"])},0)}var Ie=typeof SVGGraphicsElement<"u"?function(me){return me instanceof oe(me).SVGGraphicsElement}:function(me){return me instanceof oe(me).SVGElement&&typeof me.getBBox=="function"};function ze(me){return x?Ie(me)?function(ue){var Ce=ue.getBBox();return We(0,0,Ce.width,Ce.height)}(me):function(ue){var Ce=ue.clientWidth,Le=ue.clientHeight;if(!Ce&&!Le)return he;var _e=oe(ue).getComputedStyle(ue),Ge=function(Ve){for(var st={},mt=0,gt=["top","right","bottom","left"];mt<gt.length;mt++){var wt=gt[mt],Tt=Ve["padding-"+wt];st[wt]=Oe(Tt)}return st}(_e),Ze=Ge.left+Ge.right,ee=Ge.top+Ge.bottom,ae=Oe(_e.width),Re=Oe(_e.height);if(_e.boxSizing==="border-box"&&(Math.round(ae+Ze)!==Ce&&(ae-=$e(_e,"left","right")+Ze),Math.round(Re+ee)!==Le&&(Re-=$e(_e,"top","bottom")+ee)),!function(Ve){return Ve===oe(Ve).document.documentElement}(ue)){var je=Math.round(ae+Ze)-Ce,He=Math.round(Re+ee)-Le;Math.abs(je)!==1&&(ae-=je),Math.abs(He)!==1&&(Re-=He)}return We(Ge.left,Ge.top,ae,Re)}(me):he}function We(me,ue,Ce,Le){return{x:me,y:ue,width:Ce,height:Le}}var at=function(){function me(ue){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=We(0,0,0,0),this.target=ue}return me.prototype.isActive=function(){var ue=ze(this.target);return this.contentRect_=ue,ue.width!==this.broadcastWidth||ue.height!==this.broadcastHeight},me.prototype.broadcastRect=function(){var ue=this.contentRect_;return this.broadcastWidth=ue.width,this.broadcastHeight=ue.height,ue},me}(),bt=function(me,ue){var Ce,Le,_e,Ge,Ze,ee,ae,Re=(Le=(Ce=ue).x,_e=Ce.y,Ge=Ce.width,Ze=Ce.height,ee=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,ae=Object.create(ee.prototype),J(ae,{x:Le,y:_e,width:Ge,height:Ze,top:_e,right:Le+Ge,bottom:Ze+_e,left:Le}),ae);J(this,{target:me,contentRect:Re})},H=function(){function me(ue,Ce,Le){if(this.activeObservations_=[],this.observations_=new A,typeof ue!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=ue,this.controller_=Ce,this.callbackCtx_=Le}return me.prototype.observe=function(ue){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(ue instanceof oe(ue).Element))throw new TypeError('parameter 1 is not of type "Element".');var Ce=this.observations_;Ce.has(ue)||(Ce.set(ue,new at(ue)),this.controller_.addObserver(this),this.controller_.refresh())}},me.prototype.unobserve=function(ue){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(ue instanceof oe(ue).Element))throw new TypeError('parameter 1 is not of type "Element".');var Ce=this.observations_;Ce.has(ue)&&(Ce.delete(ue),Ce.size||this.controller_.removeObserver(this))}},me.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},me.prototype.gatherActive=function(){var ue=this;this.clearActive(),this.observations_.forEach(function(Ce){Ce.isActive()&&ue.activeObservations_.push(Ce)})},me.prototype.broadcastActive=function(){if(this.hasActive()){var ue=this.callbackCtx_,Ce=this.activeObservations_.map(function(Le){return new bt(Le.target,Le.broadcastRect())});this.callback_.call(ue,Ce,ue),this.clearActive()}},me.prototype.clearActive=function(){this.activeObservations_.splice(0)},me.prototype.hasActive=function(){return this.activeObservations_.length>0},me}(),q=typeof WeakMap<"u"?new WeakMap:new A,De=function me(ue){if(!(this instanceof me))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var Ce=W.getInstance(),Le=new H(ue,Ce,this);q.set(this,Le)};["observe","unobserve","disconnect"].forEach(function(me){De.prototype[me]=function(){var ue;return(ue=q.get(this))[me].apply(ue,arguments)}});const Fe=j.ResizeObserver!==void 0?j.ResizeObserver:De;var Qe=i(37),le=i(697),Ne=c().memo(function(me){var ue=me.description,Ce=me.fullscreen,Le=me.handleImageLoaded,_e=me.isFullscreen,Ge=me.onImageError,Ze=me.original,ee=me.originalAlt,ae=me.originalHeight,Re=me.originalWidth,je=me.originalTitle,He=me.sizes,Ve=me.srcSet,st=me.loading,mt=_e&&Ce||Ze;return c().createElement(c().Fragment,null,c().createElement("img",{className:"image-gallery-image",src:mt,alt:ee,srcSet:Ve,height:ae,width:Re,sizes:He,title:je,onLoad:function(gt){return Le(gt,Ze)},onError:Ge,loading:st}),ue&&c().createElement("span",{className:"image-gallery-description"},ue))});Ne.displayName="Item",Ne.propTypes={description:le.string,fullscreen:le.string,handleImageLoaded:le.func.isRequired,isFullscreen:le.bool,onImageError:le.func.isRequired,original:le.string.isRequired,originalAlt:le.string,originalHeight:le.string,originalWidth:le.string,originalTitle:le.string,sizes:le.string,srcSet:le.string,loading:le.string},Ne.defaultProps={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"};const pe=Ne;var Te={left:c().createElement("polyline",{points:"15 18 9 12 15 6"}),right:c().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:c().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:c().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:c().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:c().createElement(c().Fragment,null,c().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),c().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},Ue=function(me){var ue=me.strokeWidth,Ce=me.viewBox,Le=me.icon;return c().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:Ce,fill:"none",stroke:"currentColor",strokeWidth:ue,strokeLinecap:"round",strokeLinejoin:"round"},Te[Le])};Ue.propTypes={strokeWidth:le.number,viewBox:le.string,icon:(0,le.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired},Ue.defaultProps={strokeWidth:1,viewBox:"0 0 24 24"};const Be=Ue;var ut=c().memo(function(me){var ue=me.isFullscreen,Ce=me.onClick;return c().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:Ce,"aria-label":"Open Fullscreen"},c().createElement(Be,{strokeWidth:2,icon:ue?"minimize":"maximize"}))});ut.displayName="Fullscreen",ut.propTypes={isFullscreen:le.bool.isRequired,onClick:le.func.isRequired};const Mt=ut;var K=c().memo(function(me){var ue=me.disabled,Ce=me.onClick;return c().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:ue,onClick:Ce,"aria-label":"Previous Slide"},c().createElement(Be,{icon:"left",viewBox:"6 0 12 24"}))});K.displayName="LeftNav",K.propTypes={disabled:le.bool.isRequired,onClick:le.func.isRequired};const G=K;var ie=c().memo(function(me){var ue=me.disabled,Ce=me.onClick;return c().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:ue,onClick:Ce,"aria-label":"Next Slide"},c().createElement(Be,{icon:"right",viewBox:"6 0 12 24"}))});ie.displayName="RightNav",ie.propTypes={disabled:le.bool.isRequired,onClick:le.func.isRequired};const se=ie;var fe=c().memo(function(me){var ue=me.isPlaying,Ce=me.onClick;return c().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:Ce,"aria-label":"Play or Pause Slideshow"},c().createElement(Be,{strokeWidth:2,icon:ue?"pause":"play"}))});fe.displayName="PlayPause",fe.propTypes={isPlaying:le.bool.isRequired,onClick:le.func.isRequired};const te=fe;function ge(){return ge=Object.assign||function(me){for(var ue=1;ue<arguments.length;ue++){var Ce=arguments[ue];for(var Le in Ce)Object.prototype.hasOwnProperty.call(Ce,Le)&&(me[Le]=Ce[Le])}return me},ge.apply(this,arguments)}var Ee=function(me){var ue=me.children,Ce=me.className,Le=me.delta,_e=me.onSwiping,Ge=me.onSwiped,Ze=(0,Qe.useSwipeable)({delta:Le,onSwiping:_e,onSwiped:Ge});return c().createElement("div",ge({},Ze,{className:Ce}),ue)};Ee.propTypes={children:le.node.isRequired,className:le.string,delta:le.number,onSwiped:le.func,onSwiping:le.func},Ee.defaultProps={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}};const ye=Ee;function Ae(me){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},Ae(me)}function we(me,ue){var Ce=Object.keys(me);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(me);ue&&(Le=Le.filter(function(_e){return Object.getOwnPropertyDescriptor(me,_e).enumerable})),Ce.push.apply(Ce,Le)}return Ce}function xe(me){for(var ue=1;ue<arguments.length;ue++){var Ce=arguments[ue]!=null?arguments[ue]:{};ue%2?we(Object(Ce),!0).forEach(function(Le){nt(me,Le,Ce[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Ce)):we(Object(Ce)).forEach(function(Le){Object.defineProperty(me,Le,Object.getOwnPropertyDescriptor(Ce,Le))})}return me}function nt(me,ue,Ce){return ue in me?Object.defineProperty(me,ue,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):me[ue]=Ce,me}function lt(me,ue){for(var Ce=0;Ce<ue.length;Ce++){var Le=ue[Ce];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(me,Le.key,Le)}}function Ke(me,ue){return Ke=Object.setPrototypeOf||function(Ce,Le){return Ce.__proto__=Le,Ce},Ke(me,ue)}function yt(me,ue){return!ue||Ae(ue)!=="object"&&typeof ue!="function"?ke(me):ue}function ke(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function rt(me){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},rt(me)}var Pt=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],Ye=(0,le.arrayOf)((0,le.shape)({srcSet:le.string,media:le.string}));function ht(me){var ue=parseInt(me.keyCode||me.which||0,10);return ue===66||ue===62}var Je=function(me){(function(ee,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ae&&ae.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),ae&&Ke(ee,ae)})(Ze,me);var ue,Ce,Le,_e,Ge=(Le=Ze,_e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ee,ae=rt(Le);if(_e){var Re=rt(this).constructor;ee=Reflect.construct(ae,arguments,Re)}else ee=ae.apply(this,arguments);return yt(this,ee)});function Ze(ee){var ae;return function(Re,je){if(!(Re instanceof je))throw new TypeError("Cannot call a class as a function")}(this,Ze),(ae=Ge.call(this,ee)).state={currentIndex:ee.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(ee.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},ae.loadedImages={},ae.imageGallery=c().createRef(),ae.thumbnailsWrapper=c().createRef(),ae.thumbnails=c().createRef(),ae.imageGallerySlideWrapper=c().createRef(),ae.handleImageLoaded=ae.handleImageLoaded.bind(ke(ae)),ae.handleKeyDown=ae.handleKeyDown.bind(ke(ae)),ae.handleMouseDown=ae.handleMouseDown.bind(ke(ae)),ae.handleResize=ae.handleResize.bind(ke(ae)),ae.handleTouchMove=ae.handleTouchMove.bind(ke(ae)),ae.handleOnSwiped=ae.handleOnSwiped.bind(ke(ae)),ae.handleScreenChange=ae.handleScreenChange.bind(ke(ae)),ae.handleSwiping=ae.handleSwiping.bind(ke(ae)),ae.handleThumbnailSwiping=ae.handleThumbnailSwiping.bind(ke(ae)),ae.handleOnThumbnailSwiped=ae.handleOnThumbnailSwiped.bind(ke(ae)),ae.onThumbnailMouseLeave=ae.onThumbnailMouseLeave.bind(ke(ae)),ae.handleImageError=ae.handleImageError.bind(ke(ae)),ae.pauseOrPlay=ae.pauseOrPlay.bind(ke(ae)),ae.renderThumbInner=ae.renderThumbInner.bind(ke(ae)),ae.renderItem=ae.renderItem.bind(ke(ae)),ae.slideLeft=ae.slideLeft.bind(ke(ae)),ae.slideRight=ae.slideRight.bind(ke(ae)),ae.toggleFullScreen=ae.toggleFullScreen.bind(ke(ae)),ae.togglePlay=ae.togglePlay.bind(ke(ae)),ae.unthrottledSlideToIndex=ae.slideToIndex,ae.slideToIndex=U(ae.unthrottledSlideToIndex,ee.slideDuration,{trailing:!1}),ee.lazyLoad&&(ae.lazyLoaded=[]),ae}return ue=Ze,Ce=[{key:"componentDidMount",value:function(){var ee=this.props,ae=ee.autoPlay,Re=ee.useWindowKeyDown;ae&&this.play(),Re?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(ee,ae){var Re=this.props,je=Re.items,He=Re.lazyLoad,Ve=Re.slideDuration,st=Re.slideInterval,mt=Re.startIndex,gt=Re.thumbnailPosition,wt=Re.showThumbnails,Tt=Re.useWindowKeyDown,Ot=this.state,Nt=Ot.currentIndex,Ct=Ot.isPlaying,Gt=ee.items.length!==je.length,Cn=!O()(ee.items,je),an=ee.startIndex!==mt,Tn=ee.thumbnailPosition!==gt,In=ee.showThumbnails!==wt;st===ee.slideInterval&&Ve===ee.slideDuration||Ct&&(this.pause(),this.play()),Tn&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),In&&wt&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),In&&!wt&&this.removeThumbnailsResizeObserver(),(Gt||In)&&this.handleResize(),ae.currentIndex!==Nt&&this.slideThumbnailBar(),ee.slideDuration!==Ve&&(this.slideToIndex=U(this.unthrottledSlideToIndex,Ve,{trailing:!1})),!He||ee.lazyLoad&&!Cn||(this.lazyLoaded=[]),Tt!==ee.useWindowKeyDown&&(Tt?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(an||Cn)&&this.setState({currentIndex:mt,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var ee=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),ee?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var ee=this,ae=this.state,Re=ae.currentIndex,je=ae.isTransitioning,He=this.props,Ve=He.onSlide,st=He.slideDuration;this.transitionTimer=window.setTimeout(function(){je&&(ee.setState({isTransitioning:!je,isSwipingThumbnail:!1}),Ve&&Ve(Re))},st+50)}},{key:"onThumbnailClick",value:function(ee,ae){var Re=this.props.onThumbnailClick;ee.target.parentNode.parentNode.blur(),this.slideToIndex(ae,ee),Re&&Re(ee,ae)}},{key:"onThumbnailMouseOver",value:function(ee,ae){var Re=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout(function(){Re.slideToIndex(ae),Re.pause()},300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var ee=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,ee&&this.play()}}},{key:"setThumbsTranslate",value:function(ee){this.setState({thumbsTranslate:ee})}},{key:"setModalFullscreen",value:function(ee){var ae=this.props.onScreenChange;this.setState({modalFullscreen:ee}),ae&&ae(ee)}},{key:"getThumbsTranslate",value:function(ee){var ae,Re=this.props,je=Re.disableThumbnailScroll,He=Re.items,Ve=this.state,st=Ve.thumbnailsWrapperWidth,mt=Ve.thumbnailsWrapperHeight,gt=this.thumbnails&&this.thumbnails.current;if(je)return 0;if(gt){if(this.isThumbnailVertical()){if(gt.scrollHeight<=mt)return 0;ae=gt.scrollHeight-mt}else{if(gt.scrollWidth<=st||st<=0)return 0;ae=gt.scrollWidth-st}return ee*(ae/(He.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(ee){switch(ee){case"left":ee=" ".concat("image-gallery-thumbnails-left");break;case"right":ee=" ".concat("image-gallery-thumbnails-right");break;case"bottom":ee=" ".concat("image-gallery-thumbnails-bottom");break;case"top":ee=" ".concat("image-gallery-thumbnails-top")}return ee}},{key:"getAlignmentClassName",value:function(ee){var ae=this.state.currentIndex,Re=this.props,je=Re.infinite,He=Re.items,Ve="",st="image-gallery-left",mt="image-gallery-right";switch(ee){case ae-1:Ve=" ".concat(st);break;case ae:Ve=" ".concat("image-gallery-center");break;case ae+1:Ve=" ".concat(mt)}return He.length>=3&&je&&(ee===0&&ae===He.length-1?Ve=" ".concat(mt):ee===He.length-1&&ae===0&&(Ve=" ".concat(st))),Ve}},{key:"getTranslateXForTwoSlide",value:function(ee){var ae=this.state,Re=ae.currentIndex,je=ae.currentSlideOffset,He=ae.previousIndex,Ve=Re!==He,st=ee===0&&He===0,mt=ee===1&&He===1,gt=ee===0&&Re===1,wt=ee===1&&Re===0,Tt=je===0,Ot=-100*Re+100*ee+je;return je>0?this.direction="left":je<0&&(this.direction="right"),wt&&je>0&&(Ot=-100+je),gt&&je<0&&(Ot=100+je),Ve?st&&Tt&&this.direction==="left"?Ot=100:mt&&Tt&&this.direction==="right"&&(Ot=-100):(wt&&Tt&&this.direction==="left"&&(Ot=-100),gt&&Tt&&this.direction==="right"&&(Ot=100)),Ot}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(ee){var ae=this.state,Re=ae.currentIndex,je=ae.currentSlideOffset,He=ae.slideStyle,Ve=this.props,st=Ve.infinite,mt=Ve.items,gt=Ve.useTranslate3D,wt=Ve.isRTL,Tt=-100*Re,Ot=mt.length-1,Nt=(Tt+100*ee)*(wt?-1:1)+je;st&&mt.length>2&&(Re===0&&ee===Ot?Nt=-100*(wt?-1:1)+je:Re===Ot&&ee===0&&(Nt=100*(wt?-1:1)+je)),st&&mt.length===2&&(Nt=this.getTranslateXForTwoSlide(ee));var Ct="translate(".concat(Nt,"%, 0)");return gt&&(Ct="translate3d(".concat(Nt,"%, 0, 0)")),xe({display:this.isSlideVisible(ee)?"inherit":"none",WebkitTransform:Ct,MozTransform:Ct,msTransform:Ct,OTransform:Ct,transform:Ct},He)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var ee,ae=this.props,Re=ae.useTranslate3D,je=ae.isRTL,He=this.state,Ve=He.thumbsTranslate,st=He.thumbsStyle,mt=je?-1*Ve:Ve;return this.isThumbnailVertical()?(ee="translate(0, ".concat(Ve,"px)"),Re&&(ee="translate3d(0, ".concat(Ve,"px, 0)"))):(ee="translate(".concat(mt,"px, 0)"),Re&&(ee="translate3d(".concat(mt,"px, 0, 0)"))),xe({WebkitTransform:ee,MozTransform:ee,msTransform:ee,OTransform:ee,transform:ee},st)}},{key:"getSlideItems",value:function(){var ee=this,ae=this.state.currentIndex,Re=this.props,je=Re.items,He=Re.slideOnThumbnailOver,Ve=Re.onClick,st=Re.lazyLoad,mt=Re.onTouchMove,gt=Re.onTouchEnd,wt=Re.onTouchStart,Tt=Re.onMouseOver,Ot=Re.onMouseLeave,Nt=Re.renderItem,Ct=Re.renderThumbInner,Gt=Re.showThumbnails,Cn=Re.showBullets,an=[],Tn=[],In=[];return je.forEach(function(en,sn){var Sn=ee.getAlignmentClassName(sn),aa=en.originalClass?" ".concat(en.originalClass):"",Ua=en.thumbnailClass?" ".concat(en.thumbnailClass):"",ia=en.renderItem||Nt||ee.renderItem,Un=en.renderThumbInner||Ct||ee.renderThumbInner,vr=!st||Sn||ee.lazyLoaded[sn];vr&&st&&!ee.lazyLoaded[sn]&&(ee.lazyLoaded[sn]=!0);var ar=ee.getSlideStyle(sn),Ar=c().createElement("div",{"aria-label":"Go to Slide ".concat(sn+1),key:"slide-".concat(sn),tabIndex:"-1",className:"image-gallery-slide ".concat(Sn," ").concat(aa),style:ar,onClick:Ve,onKeyUp:ee.handleSlideKeyUp,onTouchMove:mt,onTouchEnd:gt,onTouchStart:wt,onMouseOver:Tt,onFocus:Tt,onMouseLeave:Ot,role:"button"},vr?ia(en):c().createElement("div",{style:{height:"100%"}}));if(an.push(Ar),Gt&&en.thumbnail){var yr=l("image-gallery-thumbnail",Ua,{active:ae===sn});Tn.push(c().createElement("button",{key:"thumbnail-".concat(sn),type:"button",tabIndex:"0","aria-pressed":ae===sn?"true":"false","aria-label":"Go to Slide ".concat(sn+1),className:yr,onMouseLeave:He?ee.onThumbnailMouseLeave:null,onMouseOver:function(Bn){return ee.handleThumbnailMouseOver(Bn,sn)},onFocus:function(Bn){return ee.handleThumbnailMouseOver(Bn,sn)},onKeyUp:function(Bn){return ee.handleThumbnailKeyUp(Bn,sn)},onClick:function(Bn){return ee.onThumbnailClick(Bn,sn)}},Un(en)))}if(Cn){var oa=l("image-gallery-bullet",en.bulletClass,{active:ae===sn});In.push(c().createElement("button",{type:"button",key:"bullet-".concat(sn),className:oa,onClick:function(Bn){return en.bulletOnClick&&en.bulletOnClick({item:en,itemIndex:sn,currentIndex:ae}),Bn.target.blur(),ee.slideToIndex.call(ee,sn,Bn)},"aria-pressed":ae===sn?"true":"false","aria-label":"Go to Slide ".concat(sn+1)}))}}),{slides:an,thumbnails:Tn,bullets:In}}},{key:"ignoreIsTransitioning",value:function(){var ee=this.props.items,ae=this.state,Re=ae.previousIndex,je=ae.currentIndex,He=ee.length-1;return Math.abs(Re-je)>1&&!(Re===0&&je===He)&&!(Re===He&&je===0)}},{key:"isFirstOrLastSlide",value:function(ee){return ee===this.props.items.length-1||ee===0}},{key:"slideIsTransitioning",value:function(ee){var ae=this.state,Re=ae.isTransitioning,je=ae.previousIndex,He=ae.currentIndex;return Re&&!(ee===je||ee===He)}},{key:"isSlideVisible",value:function(ee){return!this.slideIsTransitioning(ee)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(ee)}},{key:"slideThumbnailBar",value:function(){var ee=this.state,ae=ee.currentIndex,Re=ee.isSwipingThumbnail,je=-this.getThumbsTranslate(ae);Re||(ae===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:je,thumbsSwipedTranslate:je}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var ee=this.props,ae=ee.infinite,Re=ee.isRTL;return ae||(Re?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var ee=this.props,ae=ee.infinite,Re=ee.isRTL;return ae||(Re?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(ee){var ae=ee.event,Re=ee.absX,je=ee.dir,He=this.props,Ve=He.disableSwipe,st=He.stopPropagation,mt=this.state,gt=mt.galleryWidth,wt=mt.isTransitioning,Tt=mt.swipingUpDown,Ot=mt.swipingLeftRight;if(je!==Qe.UP&&je!==Qe.DOWN&&!Tt||Ot){if(je!==Qe.LEFT&&je!==Qe.RIGHT||Ot||this.setState({swipingLeftRight:!0}),!Ve){var Nt=this.props.swipingTransitionDuration;if(st&&ae.preventDefault(),wt)this.setState({currentSlideOffset:0});else{var Ct=je===Qe.RIGHT?1:-1,Gt=Re/gt*100;Math.abs(Gt)>=100&&(Gt=100);var Cn={transition:"transform ".concat(Nt,"ms ease-out")};this.setState({currentSlideOffset:Ct*Gt,slideStyle:Cn})}}}else Tt||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(ee){var ae=ee.event,Re=ee.absX,je=ee.absY,He=ee.dir,Ve=this.props,st=Ve.stopPropagation,mt=Ve.swipingThumbnailTransitionDuration,gt=this.state,wt=gt.thumbsSwipedTranslate,Tt=gt.thumbnailsWrapperHeight,Ot=gt.thumbnailsWrapperWidth,Nt=gt.swipingUpDown,Ct=gt.swipingLeftRight;if(this.isThumbnailVertical()){if((He===Qe.LEFT||He===Qe.RIGHT||Ct)&&!Nt)return void(Ct||this.setState({swipingLeftRight:!0}));He!==Qe.UP&&He!==Qe.DOWN||Nt||this.setState({swipingUpDown:!0})}else{if((He===Qe.UP||He===Qe.DOWN||Nt)&&!Ct)return void(Nt||this.setState({swipingUpDown:!0}));He!==Qe.LEFT&&He!==Qe.RIGHT||Ct||this.setState({swipingLeftRight:!0})}var Gt,Cn,an,Tn,In,en=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(Gt=wt+(He===Qe.DOWN?je:-je),Cn=en.scrollHeight-Tt+20,an=Math.abs(Gt)>Cn,Tn=Gt>20,In=en.scrollHeight<=Tt):(Gt=wt+(He===Qe.RIGHT?Re:-Re),Cn=en.scrollWidth-Ot+20,an=Math.abs(Gt)>Cn,Tn=Gt>20,In=en.scrollWidth<=Ot),!In&&(He!==Qe.LEFT&&He!==Qe.UP||!an)&&(He!==Qe.RIGHT&&He!==Qe.DOWN||!Tn)){st&&ae.stopPropagation();var sn={transition:"transform ".concat(mt,"ms ease-out")};this.setState({thumbsTranslate:Gt,thumbsStyle:sn})}}},{key:"handleOnThumbnailSwiped",value:function(){var ee=this.state.thumbsTranslate,ae=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:ee,thumbsStyle:{transition:"all ".concat(ae,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var ee=this.state.currentSlideOffset,ae=this.props.swipeThreshold;return Math.abs(ee)>ae}},{key:"resetSwipingDirection",value:function(){var ee=this.state,ae=ee.swipingUpDown,Re=ee.swipingLeftRight;ae&&this.setState({swipingUpDown:!1}),Re&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(ee){var ae=ee.event,Re=ee.dir,je=ee.velocity,He=this.props,Ve=He.disableSwipe,st=He.stopPropagation,mt=He.flickThreshold;if(!Ve){var gt=this.props.isRTL;st&&ae.stopPropagation(),this.resetSwipingDirection();var wt=(Re===Qe.LEFT?1:-1)*(gt?-1:1),Tt=Re===Qe.UP||Re===Qe.DOWN,Ot=je>mt&&!Tt;this.handleOnSwipedTo(wt,Ot)}}},{key:"handleOnSwipedTo",value:function(ee,ae){var Re=this.state,je=Re.currentIndex,He=Re.isTransitioning,Ve=je;!this.sufficientSwipe()&&!ae||He||(Ve+=ee),(ee===-1&&!this.canSlideLeft()||ee===1&&!this.canSlideRight())&&(Ve=je),this.unthrottledSlideToIndex(Ve)}},{key:"handleTouchMove",value:function(ee){this.state.swipingLeftRight&&ee.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(ee){var ae=this.props,Re=ae.disableKeyDown,je=ae.useBrowserFullscreen,He=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!Re)switch(parseInt(ee.keyCode||ee.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(ee);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(ee);break;case 27:He&&!je&&this.exitFullScreen()}}},{key:"handleImageError",value:function(ee){var ae=this.props.onErrorImageURL;ae&&ee.target.src.indexOf(ae)===-1&&(ee.target.src=ae)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var ee=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(ee)))}},{key:"initSlideWrapperResizeObserver",value:function(ee){var ae=this;ee&&!ee.current||(this.resizeSlideWrapperObserver=new Fe(F(function(Re){Re&&Re.forEach(function(je){ae.setState({thumbnailsWrapperWidth:je.contentRect.width},ae.handleResize)})},50)),this.resizeSlideWrapperObserver.observe(ee.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(ee){var ae=this;ee&&!ee.current||(this.resizeThumbnailWrapperObserver=new Fe(F(function(Re){Re&&Re.forEach(function(je){ae.setState({thumbnailsWrapperHeight:je.contentRect.height},ae.handleResize)})},50)),this.resizeThumbnailWrapperObserver.observe(ee.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var ee=this.props,ae=ee.onScreenChange,Re=ee.useBrowserFullscreen,je=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,He=this.imageGallery.current===je;ae&&ae(He),Re&&this.setState({isFullscreen:He})}},{key:"slideToIndex",value:function(ee,ae){var Re=this.state,je=Re.currentIndex,He=Re.isTransitioning,Ve=this.props,st=Ve.items,mt=Ve.slideDuration,gt=Ve.onBeforeSlide;if(!He){ae&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var wt=st.length-1,Tt=ee;ee<0?Tt=wt:ee>wt&&(Tt=0),gt&&Tt!==je&&gt(Tt),this.setState({previousIndex:je,currentIndex:Tt,isTransitioning:Tt!==je,currentSlideOffset:0,slideStyle:{transition:"all ".concat(mt,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(ee){var ae=this.props.isRTL;this.slideTo(ee,ae?"right":"left")}},{key:"slideRight",value:function(ee){var ae=this.props.isRTL;this.slideTo(ee,ae?"left":"right")}},{key:"slideTo",value:function(ee,ae){var Re=this,je=this.state,He=je.currentIndex,Ve=je.currentSlideOffset,st=je.isTransitioning,mt=this.props.items,gt=He+(ae==="left"?-1:1);st||(mt.length===2?this.setState({currentSlideOffset:Ve+(ae==="left"?.001:-.001),slideStyle:{transition:"none"}},function(){window.setTimeout(function(){return Re.slideToIndex(gt,ee)},25)}):this.slideToIndex(gt,ee))}},{key:"handleThumbnailMouseOver",value:function(ee,ae){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(ee,ae)}},{key:"handleThumbnailKeyUp",value:function(ee,ae){ht(ee)&&this.onThumbnailClick(ee,ae)}},{key:"handleSlideKeyUp",value:function(ee){ht(ee)&&(0,this.props.onClick)(ee)}},{key:"isThumbnailVertical",value:function(){var ee=this.props.thumbnailPosition;return ee==="left"||ee==="right"}},{key:"addScreenChangeEvent",value:function(){var ee=this;Pt.forEach(function(ae){document.addEventListener(ae,ee.handleScreenChange)})}},{key:"removeScreenChangeEvent",value:function(){var ee=this;Pt.forEach(function(ae){document.removeEventListener(ae,ee.handleScreenChange)})}},{key:"fullScreen",value:function(){var ee=this.props.useBrowserFullscreen,ae=this.imageGallery.current;ee?ae.requestFullscreen?ae.requestFullscreen():ae.msRequestFullscreen?ae.msRequestFullscreen():ae.mozRequestFullScreen?ae.mozRequestFullScreen():ae.webkitRequestFullscreen?ae.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var ee=this.state.isFullscreen,ae=this.props.useBrowserFullscreen;ee&&(ae?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var ee=this.props.infinite,ae=this.state.currentIndex;ee||this.canSlideRight()?this.slideToIndex(ae+1):this.pause()}},{key:"play",value:function(){var ee=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ae=this.props,Re=ae.onPlay,je=ae.slideInterval,He=ae.slideDuration,Ve=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(je,He)),Re&&ee&&Re(Ve))}},{key:"pause",value:function(){var ee=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],ae=this.props.onPause,Re=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),ae&&ee&&ae(Re))}},{key:"isImageLoaded",value:function(ee){return!!this.loadedImages[ee.original]||(this.loadedImages[ee.original]=!0,!1)}},{key:"handleImageLoaded",value:function(ee,ae){var Re=this.props.onImageLoad;!this.loadedImages[ae]&&Re&&(this.loadedImages[ae]=!0,Re(ee))}},{key:"renderItem",value:function(ee){var ae=this.state.isFullscreen,Re=this.props.onImageError||this.handleImageError;return c().createElement(pe,{description:ee.description,fullscreen:ee.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:ae,onImageError:Re,original:ee.original,originalAlt:ee.originalAlt,originalHeight:ee.originalHeight,originalWidth:ee.originalWidth,originalTitle:ee.originalTitle,sizes:ee.sizes,loading:ee.loading,srcSet:ee.srcSet})}},{key:"renderThumbInner",value:function(ee){var ae=this.props.onThumbnailError||this.handleImageError;return c().createElement("span",{className:"image-gallery-thumbnail-inner"},c().createElement("img",{className:"image-gallery-thumbnail-image",src:ee.thumbnail,height:ee.thumbnailHeight,width:ee.thumbnailWidth,alt:ee.thumbnailAlt,title:ee.thumbnailTitle,loading:ee.thumbnailLoading,onError:ae}),ee.thumbnailLabel&&c().createElement("div",{className:"image-gallery-thumbnail-label"},ee.thumbnailLabel))}},{key:"render",value:function(){var ee=this.state,ae=ee.currentIndex,Re=ee.isFullscreen,je=ee.modalFullscreen,He=ee.isPlaying,Ve=this.props,st=Ve.additionalClass,mt=Ve.disableThumbnailSwipe,gt=Ve.indexSeparator,wt=Ve.isRTL,Tt=Ve.items,Ot=Ve.thumbnailPosition,Nt=Ve.renderFullscreenButton,Ct=Ve.renderCustomControls,Gt=Ve.renderLeftNav,Cn=Ve.renderRightNav,an=Ve.showBullets,Tn=Ve.showFullscreenButton,In=Ve.showIndex,en=Ve.showThumbnails,sn=Ve.showNav,Sn=Ve.showPlayButton,aa=Ve.renderPlayPauseButton,Ua=this.getThumbnailStyle(),ia=this.getSlideItems(),Un=ia.slides,vr=ia.thumbnails,ar=ia.bullets,Ar=l("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(Ot),{"image-gallery-rtl":wt}),yr=c().createElement("div",{ref:this.imageGallerySlideWrapper,className:Ar},Ct&&Ct(),this.canSlide()?c().createElement(c().Fragment,null,sn&&c().createElement(c().Fragment,null,Gt(this.slideLeft,!this.canSlideLeft()),Cn(this.slideRight,!this.canSlideRight())),c().createElement(ye,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},c().createElement("div",{className:"image-gallery-slides"},Un))):c().createElement("div",{className:"image-gallery-slides"},Un),Sn&&aa(this.togglePlay,He),an&&c().createElement("div",{className:"image-gallery-bullets"},c().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},ar)),Tn&&Nt(this.toggleFullScreen,Re),In&&c().createElement("div",{className:"image-gallery-index"},c().createElement("span",{className:"image-gallery-index-current"},ae+1),c().createElement("span",{className:"image-gallery-index-separator"},gt),c().createElement("span",{className:"image-gallery-index-total"},Tt.length))),oa=l("image-gallery",st,{"fullscreen-modal":je}),Bn=l("image-gallery-content",this.getThumbnailPositionClassName(Ot),{fullscreen:Re}),Ca=l("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(Ot),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&wt},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!mt},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!mt});return c().createElement("div",{ref:this.imageGallery,className:oa,"aria-live":"polite"},c().createElement("div",{className:Bn},(Ot==="bottom"||Ot==="right")&&yr,en&&vr.length>0?c().createElement(ye,{className:Ca,delta:0,onSwiping:!mt&&this.handleThumbnailSwiping,onSwiped:!mt&&this.handleOnThumbnailSwiped},c().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},c().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:Ua,"aria-label":"Thumbnail Navigation"},vr))):null,(Ot==="top"||Ot==="left")&&yr))}}],Ce&&lt(ue.prototype,Ce),Ze}(c().Component);Je.propTypes={flickThreshold:le.number,items:(0,le.arrayOf)((0,le.shape)({bulletClass:le.string,bulletOnClick:le.func,description:le.string,original:le.string,originalHeight:le.number,originalWidth:le.number,loading:le.string,thumbnailHeight:le.number,thumbnailWidth:le.number,thumbnailLoading:le.string,fullscreen:le.string,originalAlt:le.string,originalTitle:le.string,thumbnail:le.string,thumbnailAlt:le.string,thumbnailLabel:le.string,thumbnailTitle:le.string,originalClass:le.string,thumbnailClass:le.string,renderItem:le.func,renderThumbInner:le.func,imageSet:Ye,srcSet:le.string,sizes:le.string})).isRequired,showNav:le.bool,autoPlay:le.bool,lazyLoad:le.bool,infinite:le.bool,showIndex:le.bool,showBullets:le.bool,showThumbnails:le.bool,showPlayButton:le.bool,showFullscreenButton:le.bool,disableThumbnailScroll:le.bool,disableKeyDown:le.bool,disableSwipe:le.bool,disableThumbnailSwipe:le.bool,useBrowserFullscreen:le.bool,onErrorImageURL:le.string,indexSeparator:le.string,thumbnailPosition:(0,le.oneOf)(["top","bottom","left","right"]),startIndex:le.number,slideDuration:le.number,slideInterval:le.number,slideOnThumbnailOver:le.bool,swipeThreshold:le.number,swipingTransitionDuration:le.number,swipingThumbnailTransitionDuration:le.number,onSlide:le.func,onBeforeSlide:le.func,onScreenChange:le.func,onPause:le.func,onPlay:le.func,onClick:le.func,onImageLoad:le.func,onImageError:le.func,onTouchMove:le.func,onTouchEnd:le.func,onTouchStart:le.func,onMouseOver:le.func,onMouseLeave:le.func,onThumbnailError:le.func,onThumbnailClick:le.func,renderCustomControls:le.func,renderLeftNav:le.func,renderRightNav:le.func,renderPlayPauseButton:le.func,renderFullscreenButton:le.func,renderItem:le.func,renderThumbInner:le.func,stopPropagation:le.bool,additionalClass:le.string,useTranslate3D:le.bool,isRTL:le.bool,useWindowKeyDown:le.bool},Je.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(me,ue){return c().createElement(G,{onClick:me,disabled:ue})},renderRightNav:function(me,ue){return c().createElement(se,{onClick:me,disabled:ue})},renderPlayPauseButton:function(me,ue){return c().createElement(te,{onClick:me,isPlaying:ue})},renderFullscreenButton:function(me,ue){return c().createElement(Mt,{onClick:me,isFullscreen:ue})},useWindowKeyDown:!0};const xt=Je})(),o})()})})(I6);var p$=I6.exports;const m$=Wn(p$);var g$=function(e){e.target.alt=""},v$=function(e){var t=e.original,n=e.originalAlt;return v.createElement(Lm,{alt:n,className:"image-gallery-image",onError:g$,src:t})},F6=function(e){var t=e.images,n=e.index,r=Et("ModalGallery").t,a=$.useMemo(function(){return t.map(function(i){var o=i.image_url||i.thumb_url||"";return{original:o,originalAlt:r("User uploaded content"),source:o}})},[t]);return v.createElement(m$,{items:a,renderItem:v$,showIndex:!0,showPlayButton:!1,showThumbnails:!1,startIndex:n})},y$=function(e){var t=e.images,n=e.innerRefs,r=$.useState(0),a=r[0],i=r[1],o=$.useState(!1),s=o[0],l=o[1],u=En("Gallery"),c=u.BaseImage,d=c===void 0?Lm:c,f=u.ModalGallery,h=f===void 0?F6:f,p=Et("Gallery").t,w=p("User uploaded content"),D=4,E=D-1,g=function(m){s?l(!1):(i(m),l(!0))},C=t.slice(0,D).map(function(m,b){return b===E&&t.length>D?v.createElement("button",ne({className:"str-chat__gallery-placeholder","data-testid":"gallery-image-last",key:"gallery-image-".concat(b),onClick:function(){return g(b)},style:ne({backgroundImage:"url(".concat(t[E].previewUrl||t[E].image_url||t[E].thumb_url,")")},m.style)},(n==null?void 0:n.current)&&{ref:function(S){return n.current[b]=S}}),v.createElement("p",null,p("{{ imageCount }} more",{imageCount:t.length-D}))):v.createElement("button",{className:"str-chat__gallery-image","data-testid":"gallery-image",key:"gallery-image-".concat(b),onClick:function(){return g(b)}},v.createElement(d,ne({alt:(m==null?void 0:m.fallback)||w,src:Pm.sanitizeUrl(m.previewUrl||m.image_url||m.thumb_url),style:m.style,title:(m==null?void 0:m.fallback)||w},(n==null?void 0:n.current)&&{ref:function(S){return n.current[b]=S}})))}),M=Yt("str-chat__gallery",{"str-chat__gallery--square":t.length>E,"str-chat__gallery-two-rows":t.length>2});return v.createElement("div",{className:M},C,v.createElement(ef,{onClose:function(){return l(function(m){return!m})},open:s},v.createElement(h,{images:t,index:a})))},_$=v.memo(y$),N6=function(e){var t=e.dimensions,n=t===void 0?{}:t,r=e.fallback,a=e.image_url,i=e.thumb_url,o=e.innerRef,s=e.previewUrl,l=e.style,u=$.useState(!1),c=u[0],d=u[1],f=En("ImageComponent"),h=f.BaseImage,p=h===void 0?Lm:h,w=f.ModalGallery,D=w===void 0?F6:w,E=Pm.sanitizeUrl(s||a||i),g=function(){return d(function(C){return!C})};return v.createElement(v.Fragment,null,v.createElement(p,ne({alt:r,className:"str-chat__message-attachment--img","data-testid":"image-test",onClick:g,src:E,style:l,tabIndex:0,title:r},n,o&&{ref:o})),v.createElement(ef,{onClose:g,open:c},v.createElement(D,{images:[e],index:0})))},U6=function(e){if(e!=null){var t=e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0];return t}return null},B6=function(e){var t,n=e.type,r=Et("Card").t;return v.createElement("div",{className:Yt("str-chat__message-attachment-card",(t={},t["str-chat__message-attachment-card--".concat(n)]=n,t))},v.createElement("div",{className:"str-chat__message-attachment-card--content"},v.createElement("div",{className:"str-chat__message-attachment-card--text"},r("this content could not be displayed"))))},b$=function(e){var t=e.asset_url,n=e.giphy,r=e.image_url,a=e.og_scrape_url,i=e.text,o=e.thumb_url,s=e.title,l=e.title_link,u=e.type,c=tn("Card").giphyVersion,d=o||r,f={};if(u==="giphy"&&typeof n<"u"){var h=n[c];d=h.url,f.height=h.height,f.width=h.width}return!s&&!l&&!t&&!d?v.createElement(B6,{type:u}):!l&&!a?null:v.createElement("div",{className:"str-chat__message-attachment-card str-chat__message-attachment-card--".concat(u)},v.createElement(z6,ne({},e,{dimensions:f,image:d})),u!=="video"&&v.createElement("div",{className:"str-chat__message-attachment-card--content"},v.createElement("div",{className:"str-chat__message-attachment-card--flex"},s&&v.createElement("div",{className:"str-chat__message-attachment-card--title"},s),i&&v.createElement("div",{className:"str-chat__message-attachment-card--text"},i),(l||a)&&v.createElement(Om,{className:"str-chat__message-attachment-card--url",href:l||a,rel:"noopener noreferrer",target:"_blank"},U6(l||a)))))},j6=function(e){var t=e.author_name,n=e.url;return v.createElement("div",{className:"str-chat__message-attachment-card--source-link","data-testid":"card-source-link"},v.createElement(Om,{className:"str-chat__message-attachment-card--url",href:n,rel:"noopener noreferrer",target:"_blank"},t||U6(n)))},z6=function(e){var t=e.asset_url,n=e.dimensions,r=e.image,a=e.image_url,i=e.thumb_url,o=e.title,s=e.type,l=null;return t&&s==="video"?l=v.createElement(ZD,{className:"react-player",controls:!0,height:"100%",url:t,width:"100%"}):r&&(l=v.createElement(N6,{dimensions:n,fallback:o||r,image_url:a,thumb_url:i})),l?v.createElement("div",{className:"str-chat__message-attachment-card--header str-chat__message-attachment-card-react--header","data-testid":"card-header"},l):null},w$=function(e){var t=e.author_name,n=e.og_scrape_url,r=e.text,a=e.title,i=e.title_link,o=e.type,s=i||n;return v.createElement("div",{className:"str-chat__message-attachment-card--content"},o==="audio"?v.createElement(C$,{og:e}):v.createElement("div",{className:"str-chat__message-attachment-card--flex"},s&&v.createElement(j6,{author_name:t,url:s}),a&&v.createElement("div",{className:"str-chat__message-attachment-card--title"},a),r&&v.createElement("div",{className:"str-chat__message-attachment-card--text"},r)))},E$=function(e){var t=e.asset_url,n=e.giphy,r=e.image_url,a=e.thumb_url,i=e.title,o=e.title_link,s=e.type,l=tn("CardHeader").giphyVersion,u=a||r,c={};if(s==="giphy"&&typeof n<"u"){var d=n[l];u=d.url,c.height=d.height,c.width=d.width}return!i&&!o&&!t&&!u?v.createElement(B6,null):v.createElement("div",{className:"str-chat__message-attachment-card str-chat__message-attachment-card--".concat(s)},v.createElement(z6,ne({},e,{dimensions:c,image:u})),v.createElement(w$,ne({},e)))},C$=function(e){var t=e.og,n=t.asset_url,r=t.author_name,a=t.mime_type,i=t.og_scrape_url,o=t.text,s=t.title,l=t.title_link,u=Gu({mimeType:a}),c=u.audioRef,d=u.isPlaying,f=u.progress,h=u.seek,p=u.togglePlay,w=l||i,D="card-audio-widget",E="str-chat__message-attachment-card-audio-widget";return v.createElement("div",{className:E,"data-testid":D},n&&v.createElement(v.Fragment,null,v.createElement("audio",{ref:c},v.createElement("source",{"data-testid":"audio-source",src:n,type:"audio/mp3"})),v.createElement("div",{className:"str-chat__message-attachment-card-audio-widget--first-row"},v.createElement("div",{className:"str-chat__message-attachment-audio-widget--play-controls"},v.createElement(Am,{isPlaying:d,onClick:p})),v.createElement(S6,{onClick:h,progress:f}))),v.createElement("div",{className:"str-chat__message-attachment-audio-widget--second-row"},w&&v.createElement(j6,{author_name:r,url:w}),s&&v.createElement("div",{className:"str-chat__message-attachment-audio-widget--title"},s),o&&v.createElement("div",{className:"str-chat__message-attachment-audio-widget--description"},o)))},S$=function(e){var t=kt("Card").themeVersion;return t==="2"?v.createElement(E$,ne({},e)):v.createElement(b$,ne({},e))},D$=v.memo(S$),Vi=20,k$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-pdf",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z",fill:"#f82903"}))},M$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-word",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z",fill:"#2c599d"}))},T$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-powerpoint",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z",fill:"#cb4a32"}))},x$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-excel",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z",fill:"#207245"}))},R$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-archive",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M128.3 160v32h32v-32zm64-96h-32v32h32zm-64 32v32h32V96zm64 32h-32v32h32zm177.6-30.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h79.7v16h32V48H208v104c0 13.3 10.7 24 24 24h104zM194.2 265.7c-1.1-5.6-6-9.7-11.8-9.7h-22.1v-32h-32v32l-19.7 97.1C102 385.6 126.8 416 160 416c33.1 0 57.9-30.2 51.5-62.6zm-33.9 124.4c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zm32-198.1h-32v32h32z",fill:"#414D54"}))},P$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-code",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M149.9 349.1l-.2-.2-32.8-28.9 32.8-28.9c3.6-3.2 4-8.8.8-12.4l-.2-.2-17.4-18.6c-3.4-3.6-9-3.7-12.4-.4l-57.7 54.1c-3.7 3.5-3.7 9.4 0 12.8l57.7 54.1c1.6 1.5 3.8 2.4 6 2.4 2.4 0 4.8-1 6.4-2.8l17.4-18.6c3.3-3.5 3.1-9.1-.4-12.4zm220-251.2L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 51.9l76.1 76.1H256zM336 464H48V48h160v104c0 13.3 10.7 24 24 24h104zM209.6 214c-4.7-1.4-9.5 1.3-10.9 6L144 408.1c-1.4 4.7 1.3 9.6 6 10.9l24.4 7.1c4.7 1.4 9.6-1.4 10.9-6L240 231.9c1.4-4.7-1.3-9.6-6-10.9zm24.5 76.9l.2.2 32.8 28.9-32.8 28.9c-3.6 3.2-4 8.8-.8 12.4l.2.2 17.4 18.6c3.3 3.5 8.9 3.7 12.4.4l57.7-54.1c3.7-3.5 3.7-9.4 0-12.8l-57.7-54.1c-3.5-3.3-9.1-3.2-12.4.4l-17.4 18.6c-3.3 3.5-3.1 9.1.4 12.4z",fill:"#414D54"}))},O$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-audio",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm144-76.024c0 10.691-12.926 16.045-20.485 8.485L136 360.486h-28c-6.627 0-12-5.373-12-12v-56c0-6.627 5.373-12 12-12h28l35.515-36.947c7.56-7.56 20.485-2.206 20.485 8.485v135.952zm41.201-47.13c9.051-9.297 9.06-24.133.001-33.439-22.149-22.752 12.235-56.246 34.395-33.481 27.198 27.94 27.212 72.444.001 100.401-21.793 22.386-56.947-10.315-34.397-33.481z",fill:"#414D54"}))},A$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-video",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM332.118 128H256V51.882L332.118 128zM48 464V48h160v104c0 13.255 10.745 24 24 24h104v288H48zm228.687-211.303L224 305.374V268c0-11.046-8.954-20-20-20H100c-11.046 0-20 8.954-20 20v104c0 11.046 8.954 20 20 20h104c11.046 0 20-8.954 20-20v-37.374l52.687 52.674C286.704 397.318 304 390.28 304 375.986V264.011c0-14.311-17.309-21.319-27.313-11.314z",fill:"#414D54"}))},L$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-image",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",fill:"#414D54"}))},I$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-alt",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z",fill:"#414D54"}))},F$=function(e){var t=e.size,n=t===void 0?Vi:t,r=Bt(e,["size"]);return v.createElement("svg",ne({className:"rfu-file-icon--small fa-file-fallback",height:n,viewBox:"0 0 384 512",width:n,xmlns:"http://www.w3.org/2000/svg"},r),v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z",fill:"#414D54"}))},Hr=40,Iw=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-pdf ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#E71A01"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M16.39 8.90641C16.215 8.27341 15.787 7.95841 15.426 8.00441C14.99 8.06141 14.526 8.32041 14.34 8.72941C13.854 9.82141 14.768 12.8934 15.028 13.7674L15.073 13.9194C14.015 17.1134 10.394 23.4264 8.62002 23.8534C8.58302 23.4364 8.80602 22.2294 11.146 20.7244C11.266 20.5944 11.406 20.4374 11.471 20.3344C9.49302 21.3004 6.93108 22.8514 8.47102 24.0114C8.55602 24.0774 8.68502 24.1314 8.83402 24.1874C10.014 24.6244 11.666 23.1954 13.327 19.9544C15.157 19.3504 16.633 18.8964 18.722 18.5804C21.005 20.1304 22.538 20.4464 23.578 20.0474C23.866 19.9354 24.32 19.5734 24.45 19.1004C24.515 18.8774 24.608 18.5154 24.432 18.2274C23.842 17.2664 21.452 17.5954 20.032 17.7904C19.779 17.8254 19.557 17.8564 19.381 17.8744C17.552 16.7704 16.289 14.8014 15.778 13.3804C15.857 13.0784 15.936 12.7894 16.012 12.5124C16.397 11.1124 16.701 10.0064 16.392 8.90641H16.39ZM24.45 19.1004C23.605 20.1404 21.628 19.4164 20.05 18.4224C21.507 18.2644 23.01 18.1724 23.661 18.3764C24.488 18.6364 24.459 19.0444 24.451 19.1004H24.45ZM15.601 12.7404C15.296 11.6544 14.868 9.24041 15.555 8.46041C16.701 9.11641 16.266 10.5384 15.825 11.9834C15.748 12.2364 15.671 12.4894 15.601 12.7404ZM13.439 19.5834C15.156 18.9054 16.354 18.4494 18.118 18.1254C16.818 16.9554 16.028 15.6834 15.378 14.3834C14.915 16.0554 13.948 18.5894 13.438 19.5834H13.439Z",fill:"#E71A01",fillRule:"evenodd"}),v.createElement("path",{d:"M13.1719 33.0127V37.4219H12.1875V32.3018H13.1001L13.1719 33.0127ZM15.5132 34.1099V34.1816C15.5132 34.4505 15.4813 34.7 15.4175 34.9302C15.356 35.1603 15.2648 35.3608 15.144 35.5317C15.0233 35.7004 14.8729 35.8325 14.6929 35.9282C14.5151 36.0216 14.3101 36.0684 14.0776 36.0684C13.8521 36.0684 13.6561 36.0228 13.4897 35.9316C13.3234 35.8405 13.1833 35.7129 13.0693 35.5488C12.9577 35.3825 12.8677 35.1899 12.7993 34.9712C12.731 34.7524 12.6785 34.5177 12.6421 34.2671V34.0791C12.6785 33.8102 12.731 33.5641 12.7993 33.3408C12.8677 33.1152 12.9577 32.9204 13.0693 32.7563C13.1833 32.59 13.3223 32.4613 13.4863 32.3701C13.6527 32.279 13.8475 32.2334 14.0708 32.2334C14.3055 32.2334 14.5117 32.2778 14.6895 32.3667C14.8695 32.4556 15.0199 32.5832 15.1406 32.7495C15.2637 32.9159 15.356 33.1141 15.4175 33.3442C15.4813 33.5744 15.5132 33.8296 15.5132 34.1099ZM14.5254 34.1816V34.1099C14.5254 33.9526 14.5117 33.8079 14.4844 33.6758C14.4593 33.5413 14.4183 33.424 14.3613 33.3237C14.3066 33.2235 14.2337 33.146 14.1426 33.0913C14.0537 33.0343 13.9455 33.0059 13.8179 33.0059C13.6834 33.0059 13.5684 33.0275 13.4727 33.0708C13.3792 33.1141 13.3029 33.1768 13.2437 33.2588C13.1844 33.3408 13.14 33.4388 13.1104 33.5527C13.0807 33.6667 13.0625 33.7954 13.0557 33.939V34.4141C13.0671 34.5827 13.099 34.7342 13.1514 34.8687C13.2038 35.0008 13.2847 35.1056 13.394 35.1831C13.5034 35.2606 13.647 35.2993 13.8247 35.2993C13.9546 35.2993 14.064 35.2708 14.1528 35.2139C14.2417 35.1546 14.3135 35.0737 14.3682 34.9712C14.4251 34.8687 14.465 34.7502 14.4878 34.6157C14.5129 34.4813 14.5254 34.3366 14.5254 34.1816ZM18.3091 35.1934V30.75H19.3003V36H18.4082L18.3091 35.1934ZM15.9712 34.1953V34.1235C15.9712 33.841 16.0031 33.5846 16.0669 33.3545C16.1307 33.1221 16.2241 32.9227 16.3472 32.7563C16.4702 32.59 16.6217 32.4613 16.8018 32.3701C16.9818 32.279 17.1868 32.2334 17.417 32.2334C17.6335 32.2334 17.8226 32.279 17.9844 32.3701C18.1484 32.4613 18.2874 32.5911 18.4014 32.7598C18.5176 32.9261 18.611 33.1232 18.6816 33.3511C18.7523 33.5767 18.8035 33.8239 18.8354 34.0928V34.25C18.8035 34.5075 18.7523 34.7467 18.6816 34.9678C18.611 35.1888 18.5176 35.3825 18.4014 35.5488C18.2874 35.7129 18.1484 35.8405 17.9844 35.9316C17.8203 36.0228 17.6289 36.0684 17.4102 36.0684C17.18 36.0684 16.9749 36.0216 16.7949 35.9282C16.6172 35.8348 16.4668 35.7038 16.3438 35.5352C16.223 35.3665 16.1307 35.1683 16.0669 34.9404C16.0031 34.7126 15.9712 34.4642 15.9712 34.1953ZM16.9556 34.1235V34.1953C16.9556 34.348 16.967 34.4904 16.9897 34.6226C17.0148 34.7547 17.0547 34.8721 17.1094 34.9746C17.1663 35.0749 17.2393 35.1535 17.3281 35.2104C17.4193 35.2651 17.5298 35.2925 17.6597 35.2925C17.8283 35.2925 17.9673 35.2549 18.0767 35.1797C18.186 35.1022 18.2692 34.9963 18.3262 34.8618C18.3854 34.7274 18.4196 34.5724 18.4287 34.397V33.9492C18.4219 33.8057 18.4014 33.6769 18.3672 33.563C18.3353 33.4468 18.2874 33.3477 18.2236 33.2656C18.1621 33.1836 18.0846 33.1198 17.9912 33.0742C17.9001 33.0286 17.7918 33.0059 17.6665 33.0059C17.5389 33.0059 17.4295 33.0355 17.3384 33.0947C17.2472 33.1517 17.1732 33.2303 17.1162 33.3306C17.0615 33.4308 17.0205 33.5493 16.9932 33.686C16.9681 33.8205 16.9556 33.9663 16.9556 34.1235ZM21.3237 36H20.3325V31.9736C20.3325 31.6934 20.3872 31.4575 20.4966 31.2661C20.6082 31.0724 20.7643 30.9266 20.9648 30.8286C21.1676 30.7284 21.408 30.6782 21.686 30.6782C21.7772 30.6782 21.8649 30.6851 21.9492 30.6987C22.0335 30.7101 22.1156 30.7249 22.1953 30.7432L22.1851 31.4849C22.1418 31.4735 22.0962 31.4655 22.0483 31.4609C22.0005 31.4564 21.9447 31.4541 21.8809 31.4541C21.7624 31.4541 21.661 31.4746 21.5767 31.5156C21.4946 31.5544 21.432 31.6125 21.3887 31.6899C21.3454 31.7674 21.3237 31.862 21.3237 31.9736V36ZM22.062 32.3018V32.999H19.7822V32.3018H22.062Z",fill:"white"}))},N$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-word ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#4285F4"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#4285F4",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#4285F4",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#4285F4",fillRule:"evenodd"}))},U$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-word-alt ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_64)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#3670D3"}),v.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#C1D8FF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#C1D8FF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#C1D8FF",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_64",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#79A4F2"}),v.createElement("stop",{offset:"1",stopColor:"#3375E2"}))))},B$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-powerpoint ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#D65537"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M7 12C7 10.8954 7.89543 10 9 10H19C20.1046 10 21 10.8954 21 12V18C21 19.1046 20.1046 20 19 20H9C7.89543 20 7 19.1046 7 18V12ZM9 12H19V18H9V12ZM25 22C25 23.1046 24.1046 24 23 24H11V22H23V15H25V22Z",fill:"#D65537",fillRule:"evenodd"}))},j$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-powerpoint-alt ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_76)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#AB381D"}),v.createElement("path",{clipRule:"evenodd",d:"M7 12C7 10.8954 7.89543 10 9 10H19C20.1046 10 21 10.8954 21 12V18C21 19.1046 20.1046 20 19 20H9C7.89543 20 7 19.1046 7 18V12ZM9 12H19V18H9V12ZM25 22C25 23.1046 24.1046 24 23 24H11V22H23V15H25V22Z",fill:"#FFB3A0",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_76",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#DC7259"}),v.createElement("stop",{offset:"1",stopColor:"#D14423"}))))},z$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-excel ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#0F9D58"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M12 13H7V15H12V13ZM12 17H7V19H12V17ZM7 21H12V23H7V21ZM23 13H14V15H23V13ZM14 17H23V19H14V17ZM23 21H14V23H23V21Z",fill:"#0F9D58",fillRule:"evenodd"}))},$$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-excel-alt ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_326)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#0C864B"}),v.createElement("path",{clipRule:"evenodd",d:"M12 13H7V15H12V13ZM12 17H7V19H12V17ZM7 21H12V23H7V21ZM23 13H14V15H23V13ZM14 17H23V19H14V17ZM23 21H14V23H23V21Z",fill:"#A8E7C9",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_326",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#64AD8A"}),v.createElement("stop",{offset:"1",stopColor:"#0C864B"}))))},H$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-archive ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#F8B859"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M10 0H8V2H10V4H8V6H10V8H8V10H10V12H8V14H10V12H12V10H10V8H12V6H10V4H12V2H10V0ZM8 17C8 16.4477 8.44771 16 9 16H11C11.5523 16 12 16.4477 12 17V23C12 23.5523 11.5523 24 11 24H9C8.44771 24 8 23.5523 8 23V17ZM9 23V20H11V23H9Z",fill:"#F8B859",fillRule:"evenodd"}))},V$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-archive-alt ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_246)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#B67A24"}),v.createElement("path",{clipRule:"evenodd",d:"M10 0H8V2H10V4H8V6H10V8H8V10H10V12H8V14H10V12H12V10H10V8H12V6H10V4H12V2H10V0ZM8 17C8 16.4477 8.44771 16 9 16H11C11.5523 16 12 16.4477 12 17V23C12 23.5523 11.5523 24 11 24H9C8.44771 24 8 23.5523 8 23V17ZM9 23V20H11V23H9Z",fill:"#FFE9C8",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_246",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#FFC775"}),v.createElement("stop",{offset:"1",stopColor:"#E69E34"}))))},W$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-code ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#00ACA1"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M15 21V18.984L11.5 18L15 17V15L9 17V19L15 21ZM19 15V17.016L22.5 18L19 19V21L25 19V17L19 15Z",fill:"#00ACA1",fillRule:"evenodd"}))},q$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-code-alt ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_611)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#00ACA1"}),v.createElement("path",{clipRule:"evenodd",d:"M15 21V18.984L11.5 18L15 17V15L9 17V19L15 21ZM19 15V17.016L22.5 18L19 19V21L25 19V17L19 15Z",fill:"#A3DCD8",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_611",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#7FC4BD"}),v.createElement("stop",{offset:"1",stopColor:"#00ACA1"}))))},Y$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-audio ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#2727B0"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M8.87912 21.941H12.298L16.9521 24.7493C17.0307 24.8138 17.1293 24.849 17.2311 24.849C17.4738 24.8488 17.6705 24.6519 17.6703 24.4092V12.4399C17.6704 12.3381 17.6352 12.2396 17.5707 12.1609C17.4168 11.9732 17.1398 11.9457 16.9521 12.0996L12.298 14.908H8.87912C8.3936 14.908 8 15.3016 8 15.7871V21.0619C8 21.5474 8.3936 21.941 8.87912 21.941ZM12.9258 16.6664L15.9122 15.2224V21.6268L12.9258 20.1829H9.7583V16.6664H12.9258ZM19.8511 16.3517C19.474 16.4092 19.2397 16.6637 19.3283 16.9191L19.3262 16.92C19.5295 17.4995 19.6305 18.098 19.6284 18.6953C19.6305 19.2975 19.5237 19.9014 19.3196 20.4909C19.229 20.7462 19.4682 20.9996 19.8474 21.06C19.9008 21.0683 19.9542 21.072 20.0076 21.072C20.3259 21.072 20.6156 20.9234 20.6922 20.7057C20.9194 20.0451 21.0337 19.37 21.0374 18.6953C21.0349 18.0251 20.9211 17.3575 20.6955 16.7035C20.6053 16.4477 20.229 16.2908 19.8511 16.3517ZM22.1605 14.6028C22.5252 14.5163 22.9259 14.6454 23.055 14.8938C23.6891 16.1157 24 17.4042 24 18.6923C24.0004 19.9895 23.6796 21.2839 23.0521 22.5153C22.9503 22.7123 22.6763 22.8344 22.3828 22.8344C22.3071 22.8344 22.2301 22.8261 22.1543 22.8092C21.7863 22.7251 21.5914 22.4536 21.7185 22.2077C22.2988 21.0761 22.5922 19.8836 22.5931 18.6919C22.5931 17.5056 22.3054 16.3222 21.7276 15.2025C21.6001 14.9563 21.795 14.686 22.1605 14.6028Z",fill:"#2727B0",fillRule:"evenodd"}))},K$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-audio-alt ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_420)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#1919A5"}),v.createElement("path",{clipRule:"evenodd",d:"M8.87912 21.941H12.298L16.9521 24.7493C17.0307 24.8138 17.1293 24.849 17.2311 24.849C17.4738 24.8488 17.6705 24.6519 17.6703 24.4092V12.4399C17.6704 12.3381 17.6352 12.2396 17.5707 12.1609C17.4168 11.9732 17.1398 11.9457 16.9521 12.0996L12.298 14.908H8.87912C8.3936 14.908 8 15.3016 8 15.7871V21.0619C8 21.5474 8.3936 21.941 8.87912 21.941ZM12.9258 16.6664L15.9122 15.2224V21.6268L12.9258 20.1829H9.7583V16.6664H12.9258ZM19.8511 16.3517C19.474 16.4092 19.2397 16.6637 19.3283 16.9191L19.3262 16.92C19.5295 17.4995 19.6305 18.098 19.6284 18.6953C19.6305 19.2975 19.5237 19.9014 19.3196 20.4909C19.229 20.7462 19.4682 20.9996 19.8474 21.06C19.9008 21.0683 19.9542 21.072 20.0076 21.072C20.3259 21.072 20.6156 20.9234 20.6922 20.7057C20.9194 20.0451 21.0337 19.37 21.0374 18.6953C21.0349 18.0251 20.9211 17.3575 20.6955 16.7035C20.6053 16.4477 20.229 16.2908 19.8511 16.3517ZM22.1605 14.6028C22.5252 14.5163 22.9259 14.6454 23.055 14.8938C23.6891 16.1157 24 17.4042 24 18.6923C24.0004 19.9895 23.6796 21.2839 23.0521 22.5153C22.9503 22.7123 22.6763 22.8344 22.3828 22.8344C22.3071 22.8344 22.2301 22.8261 22.1543 22.8092C21.7863 22.7251 21.5914 22.4536 21.7185 22.2077C22.2988 21.0761 22.5922 19.8836 22.5931 18.6919C22.5931 17.5056 22.3054 16.3222 21.7276 15.2025C21.6001 14.9563 21.795 14.686 22.1605 14.6028Z",fill:"#AAAAFF",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_420",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#4A4AB8"}),v.createElement("stop",{offset:"1",stopColor:"#2727B0"}))))},G$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-video ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),v.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#9D27B0"}),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{d:"M9 17H25V24H9V17ZM27 14C27 12.8954 26.1046 12 25 12H22L24 15H21L19 12H17L19 15H16L14 12H12L14 15H11L9 12C7.9 12 7.01 12.9 7.01 14L7 24C7 25.1 7.9 26 9 26H25C26.1 26 27 25.1 27 24V14Z",fill:"#9D27B0"}))},Z$=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-video-alt ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_18604_164254)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#7A1589"}),v.createElement("path",{d:"M9 17H25V24H9V17ZM27 14C27 12.8954 26.1046 12 25 12H22L24 15H21L19 12H17L19 15H16L14 12H12L14 15H11L9 12C7.9 12 7.01 12.9 7.01 14L7 24C7 25.1 7.9 26 9 26H25C26.1 26 27 25.1 27 24V14Z",fill:"#F3A8FF"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_18604_164254",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"#A94AB8"}),v.createElement("stop",{offset:"1",stopColor:"#9D27B0"}))))},Nf=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-fallback ".concat(n).trim(),fill:"none",height:a,viewBox:"0 0 34 40",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear)"}),v.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),v.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#CFCFCF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#CFCFCF",fillRule:"evenodd"}),v.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#CFCFCF",fillRule:"evenodd"}),v.createElement("defs",null,v.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear",x1:"0",x2:"0",y1:"0",y2:"40"},v.createElement("stop",{stopColor:"white"}),v.createElement("stop",{offset:"1",stopColor:"#DBDBDB"}))))},Fw=function(e){var t=e.className,n=t===void 0?"":t,r=e.size,a=r===void 0?Hr:r,i=Bt(e,["className","size"]);return v.createElement("svg",ne({className:"rfu-file-image  ".concat(n).trim(),height:a,viewBox:"0 0 384 512",width:a,xmlns:"http://www.w3.org/2000/svg"},i),v.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",fill:"#414D54"}))},X$=["application/msword","application/msword-template","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-flat-xml"],Q$=["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.spreadsheet-flat-xml"],J$=["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.presentation-flat-xml"],eH=["application/zip","application/x-7z-compressed","application/x-archive","application/x-tar","application/gzip","application/x-compress","application/x-bzip","application/x-lzip","application/x-lz4","application/x-lzma","application/x-lzop","application/x-xz","application/x-webarchive","application/vnd.rar"],tH=["text/html","text/css","application/x-javascript","text/javascript","application/json","text/x-python","text/x-go","text/x-csrc","text/x-c++src","application/x-ruby","text/rust","text/x-java","application/x-php","text/x-csharp","text/x-scala","text/x-erlang","application/x-shellscript"];function g1(e){for(var t=e.FileArchiveIcon,n=e.FileCodeIcon,r=e.FileExcelIcon,a=e.FilePdfIcon,i=e.FilePowerPointIcon,o=e.FileWordIcon,s={"application/pdf":a},l=0,u=X$;l<u.length;l++){var c=u[l];s[c]=o}for(var d=0,f=Q$;d<f.length;d++){var c=f[d];s[c]=r}for(var h=0,p=J$;h<p.length;h++){var c=p[h];s[c]=i}for(var w=0,D=eH;w<D.length;w++){var c=D[w];s[c]=t}for(var E=0,g=tH;E<g.length;E++){var c=g[E];s[c]=n}return s}function v1(e){var t=e.FileAltIcon,n=e.FileAudioIcon,r=e.FileImageIcon,a=e.FileVideoIcon;return{"audio/":n,"image/":r,"text/":t,"video/":a}}var Nw={1:{alt:{},standard:ne(ne(ne({},g1({FileArchiveIcon:R$,FileCodeIcon:P$,FileExcelIcon:x$,FilePdfIcon:k$,FilePowerPointIcon:T$,FileWordIcon:M$})),v1({FileAltIcon:I$,FileAudioIcon:O$,FileImageIcon:L$,FileVideoIcon:A$})),{fallback:F$})},2:{alt:ne(ne(ne({},g1({FileArchiveIcon:V$,FileCodeIcon:q$,FileExcelIcon:$$,FilePdfIcon:Iw,FilePowerPointIcon:j$,FileWordIcon:U$})),v1({FileAltIcon:Nf,FileAudioIcon:K$,FileImageIcon:Fw,FileVideoIcon:Z$})),{fallback:Nf}),standard:ne(ne(ne({},g1({FileArchiveIcon:H$,FileCodeIcon:W$,FileExcelIcon:z$,FilePdfIcon:Iw,FilePowerPointIcon:B$,FileWordIcon:N$})),v1({FileAltIcon:Nf,FileAudioIcon:Y$,FileImageIcon:Fw,FileVideoIcon:G$})),{fallback:Nf})}};function nH(e,t,n){var r;e===void 0&&(e="standard"),t===void 0&&(t="1");var a=((r=Nw[t])===null||r===void 0?void 0:r[e])||Nw[t].standard;if(!n)return a.fallback;var i=a[n];return i||(n.startsWith("audio/")?a["audio/"]:n.startsWith("video/")?a["video/"]:n.startsWith("image/")?a["image/"]:n.startsWith("text/")?a["text/"]:a.fallback)}var Wo=function(e){var t=e.big,n=t===void 0?!1:t,r=e.mimeType,a=e.size,i=a===void 0?50:a,o=e.sizeSmall,s=o===void 0?20:o,l=e.type,u=l===void 0?"standard":l,c=e.version,d=c===void 0?"1":c,f=Bt(e,["big","mimeType","size","sizeSmall","type","version"]),h=nH(u,d,r);return v.createElement(h,ne({},f,{size:n?i:s}))},$6=function(e){var t=e.backgroundColor,n=e.color,r=e.size,a=r===void 0?20:r,i=e.width,o=i===void 0?2:i;return v.createElement("div",{className:"rfu-loading-indicator__spinner",style:{borderColor:t||"",borderTopColor:n||"",borderWidth:o||"",height:a||"",margin:"0 auto",width:a||""}})},rH=function(e){var t=e.fileIconProps,n=t===void 0?{}:t,r=e.uploads,a=e.handleRemove,i=e.handleRetry;return v.createElement("div",{className:"rfu-file-previewer"},v.createElement("ol",null,r==null?void 0:r.map(function(o){return v.createElement("li",{className:"rfu-file-previewer__file ".concat(o.state==="uploading"?"rfu-file-previewer__file--uploading":""," ").concat(o.state==="failed"?"rfu-file-previewer__file--failed":""),key:o.id},v.createElement(Wo,ne({mimeType:o.file.type},n)),v.createElement("a",{download:!0,href:o.url},o.file.name,o.state==="failed"&&v.createElement(v.Fragment,null,v.createElement("div",{className:"rfu-file-previewer__failed",onClick:function(){return i==null?void 0:i(o.id)}},"failed"),v.createElement("div",{className:"rfu-file-previewer__retry",onClick:function(){return i==null?void 0:i(o.id)}},"retry"))),v.createElement("span",{className:"rfu-file-previewer__close-button",onClick:a&&function(){return a(o.id)}},""),o.state==="uploading"&&v.createElement("div",{className:"rfu-file-previewer__loading-indicator"},v.createElement($6,null)))})))},aH=function(){return v.createElement("svg",{height:"20",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),v.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},iH=function(){return v.createElement("svg",{height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},v.createElement("defs",null,v.createElement("path",{d:"M465 5c5.53 0 10 4.47 10 10s-4.47 10-10 10-10-4.47-10-10 4.47-10 10-10zm3.59 5L465 13.59 461.41 10 460 11.41l3.59 3.59-3.59 3.59 1.41 1.41 3.59-3.59 3.59 3.59 1.41-1.41-3.59-3.59 3.59-3.59-1.41-1.41z",id:"b"}),v.createElement("filter",{filterUnits:"objectBoundingBox",height:"160%",id:"a",width:"160%",x:"-30%",y:"-30%"},v.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),v.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"2"}),v.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}))),v.createElement("g",{fill:"none",fillRule:"nonzero",transform:"translate(-451 -1)"},v.createElement("use",{fill:"#000",filter:"url(#a)",xlinkHref:"#b"}),v.createElement("use",{fill:"#FFF",fillRule:"evenodd",xlinkHref:"#b"})))},oH=function(e){return v.createElement("svg",ne({role:"img",viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg"},e),v.createElement("g",null,v.createElement("path",{d:"M0.000 200.000 L 0.000 400.000 200.000 400.000 L 400.000 400.000 400.000 200.000 L 400.000 0.000 200.000 0.000 L 0.000 0.000 0.000 200.000 M243.085 68.180 C 251.168 72.240,252.758 82.164,246.332 88.456 C 242.609 92.102,249.072 91.774,176.600 92.000 L 112.600 92.200 111.000 93.165 C 107.620 95.203,105.382 98.131,104.780 101.304 C 104.548 102.526,104.400 132.258,104.400 177.461 C 104.400 261.065,104.646 254.561,101.340 258.340 C 95.134 265.435,84.540 263.898,80.562 255.326 L 79.600 253.251 79.600 170.356 L 79.600 87.460 80.613 84.526 C 83.246 76.897,91.469 68.511,96.439 68.386 C 96.747 68.378,97.450 68.114,98.000 67.800 C 98.856 67.311,109.214 67.226,170.067 67.214 L 241.134 67.200 243.085 68.180 M230.400 116.002 C 236.845 117.273,237.603 117.566,242.024 120.500 C 243.269 121.327,256.977 134.788,274.002 151.902 C 299.664 177.700,305.143 183.306,307.142 185.815 C 307.838 186.688,309.600 190.497,309.602 191.133 C 309.604 191.500,309.919 192.340,310.302 193.000 C 310.956 194.125,311.007 197.998,311.108 254.600 L 311.215 315.000 310.241 318.000 C 307.327 326.967,302.400 332.072,293.800 335.031 L 291.000 335.994 219.630 335.997 L 148.260 336.000 145.430 335.018 C 140.319 333.244,139.684 332.841,134.862 328.318 C 132.616 326.212,129.907 321.565,129.427 318.997 C 129.263 318.118,128.920 317.147,128.664 316.839 C 128.315 316.416,128.200 294.170,128.200 227.039 L 128.200 137.800 129.067 134.600 C 129.543 132.840,130.393 130.590,130.954 129.600 C 131.515 128.610,132.247 127.320,132.580 126.733 C 134.155 123.961,138.478 120.313,143.000 117.940 C 144.003 117.414,146.644 116.725,151.000 115.853 C 152.661 115.520,228.681 115.664,230.400 116.002 M226.250 137.650 C 225.849 139.656,225.987 187.508,226.403 190.713 C 227.174 196.647,230.700 200.107,237.136 201.245 C 239.519 201.666,290.972 201.562,291.398 201.135 C 291.727 200.807,227.629 136.400,226.974 136.400 C 226.713 136.400,226.388 136.963,226.250 137.650",fill:"#fcfcfc",fillRule:"evenodd",stroke:"none"}),v.createElement("path",{d:"M98.000 67.800 C 97.450 68.114,96.747 68.378,96.439 68.386 C 91.469 68.511,83.246 76.897,80.613 84.526 L 79.600 87.460 79.600 170.356 L 79.600 253.251 80.562 255.326 C 84.540 263.898,95.134 265.435,101.340 258.340 C 104.646 254.561,104.400 261.065,104.400 177.461 C 104.400 132.258,104.548 102.526,104.780 101.304 C 105.382 98.131,107.620 95.203,111.000 93.165 L 112.600 92.200 176.600 92.000 C 249.072 91.774,242.609 92.102,246.332 88.456 C 252.758 82.164,251.168 72.240,243.085 68.180 L 241.134 67.200 170.067 67.214 C 109.214 67.226,98.856 67.311,98.000 67.800 M151.000 115.853 C 146.644 116.725,144.003 117.414,143.000 117.940 C 138.478 120.313,134.155 123.961,132.580 126.733 C 132.247 127.320,131.515 128.610,130.954 129.600 C 130.393 130.590,129.543 132.840,129.067 134.600 L 128.200 137.800 128.200 227.039 C 128.200 294.170,128.315 316.416,128.664 316.839 C 128.920 317.147,129.263 318.118,129.427 318.997 C 129.907 321.565,132.616 326.212,134.862 328.318 C 139.684 332.841,140.319 333.244,145.430 335.018 L 148.260 336.000 219.630 335.997 L 291.000 335.994 293.800 335.031 C 302.400 332.072,307.327 326.967,310.241 318.000 L 311.215 315.000 311.108 254.600 C 311.007 197.998,310.956 194.125,310.302 193.000 C 309.919 192.340,309.604 191.500,309.602 191.133 C 309.600 190.497,307.838 186.688,307.142 185.815 C 305.143 183.306,299.664 177.700,274.002 151.902 C 238.906 116.622,240.594 118.012,230.400 116.002 C 228.681 115.664,152.661 115.520,151.000 115.853 M259.556 168.635 C 277.215 186.364,291.544 200.989,291.398 201.135 C 290.972 201.562,239.519 201.666,237.136 201.245 C 230.700 200.107,227.174 196.647,226.403 190.713 C 225.460 183.450,225.955 136.400,226.974 136.400 C 227.235 136.400,241.897 150.906,259.556 168.635",fill:"#e4e4e4",fillRule:"evenodd",stroke:"none"})))},sH=function(){return v.createElement("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm3 2a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM2 16v2h16v-6l-3-3-6 6-3-3-4 4z",fillRule:"nonzero"}))},lH=function(){return v.createElement("svg",{height:"20",viewBox:"0 0 22 20",width:"22",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M20 5.535V2a1 1 0 0 1 2 0v6a1 1 0 0 1-1 1h-6a1 1 0 0 1 0-2h3.638l-2.975-2.653a8 8 0 1 0 1.884 8.32 1 1 0 1 1 1.886.666A10 10 0 1 1 5.175 1.245c3.901-2.15 8.754-1.462 11.88 1.667L20 5.535z",fill:"#FFF",fillRule:"nonzero"}))},uH=function(e,t){return e===void 0&&(e=!1),$.useCallback(function(n){var r=n.currentTarget,a=r.files;if(a){try{t==null||t(Array.from(a))}catch(i){console.error(i)}e&&(r.value="")}},[t,e])};function cH(e){if(!e||!e.length)return!1;for(var t=0,n=e;t<n.length;t++){var r=n[t];if(r.kind==="file"||r.type==="text/html")return!0}return!1}function dH(e){return St(this,void 0,void 0,function(){var t,n,r,a,i,o,s=this;return Dt(this,function(l){switch(l.label){case 0:if(!e||!e.length)return[2,[]];if(t=fH(e),t.length)return[2,t];for(n=[],r=function(u){u.type==="text/html"&&n.push(new Promise(function(c){u.getAsString(function(d){return St(s,void 0,void 0,function(){var f;return Dt(this,function(h){switch(h.label){case 0:return f=pH(d).map(function(p){return hH(t,p)}),[4,Promise.all(f)];case 1:return h.sent(),c(),[2]}})})})}))},a=0,i=e;a<i.length;a++)o=i[a],r(o);return[4,Promise.all(n)];case 1:return l.sent(),[2,t]}})})}function fH(e){for(var t=[],n=0,r=e;n<r.length;n++){var a=r[n];if(a.kind==="file"){var i=a.getAsFile();i&&t.push(i)}}return t}function hH(e,t){return St(this,void 0,void 0,function(){var n,r,a,i;return Dt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(t)];case 1:return n=o.sent(),[3,3];case 2:return o.sent(),[2];case 3:return r=n.headers.get("Content-type")||"application/octet-stream",[4,n.arrayBuffer()];case 4:return a=o.sent(),i=new Blob([a],{type:r}),e.push(i),[2]}})})}var pH=function(e){var t=new DOMParser().parseFromString(e,"text/html").getElementsByTagName("img");return Array.from(t,function(n){return n.src}).filter(function(n){return n})},H6=function(e){var t=e.blobsArray,n=e.fileName,r=e.mimeType,a=new Blob(t,{type:r});return new File([a],n,{type:a.type})},V6=function(e){var t=e.match(/\/([^/;]+)/);return t&&t[1]},mH=function(e){var t=e.match(/^(audio|video)\/.*$/);return t&&t[1]},gH=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){n(r.error)},r.readAsArrayBuffer(e)})},p2=function(e){var t=e.onFileChange,n=e.resetOnChange,r=n===void 0?!0:n,a=Bt(e,["onFileChange","resetOnChange"]),i=uH(r,t);return v.createElement("input",ne({onChange:i,type:"file"},a))},m2=function(e){var t=e.disabled,n=t===void 0?!1:t,r=e.multiple,a=r===void 0?!1:r,i=e.children,o=i===void 0?v.createElement(aH,null):i,s=e.handleFiles,l=e.accepts,u=e.resetOnChange,c=u===void 0?!0:u,d=Et("FileUploadButton").t,f="rfu-file-upload-button";return n&&(f="".concat(f," rfu-file-upload-button--disabled")),v.createElement("div",{className:f},v.createElement("label",null,v.createElement(p2,{accept:Array.isArray(l)?l.join(","):l,"aria-label":d("aria/File input"),className:"rfu-file-input",disabled:n,multiple:a,onFileChange:s,resetOnChange:c}),o))},vH=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function tf(e,t){var n=yH(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function yH(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=vH.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var _H=[".DS_Store","Thumbs.db"];function bH(e){return St(this,void 0,void 0,function(){return Dt(this,function(t){return fp(e)&&wH(e.dataTransfer)?[2,DH(e.dataTransfer,e.type)]:EH(e)?[2,CH(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,SH(e)]:[2,[]]})})}function wH(e){return fp(e)}function EH(e){return fp(e)&&fp(e.target)}function fp(e){return typeof e=="object"&&e!==null}function CH(e){return _0(e.target.files).map(function(t){return tf(t)})}function SH(e){return St(this,void 0,void 0,function(){var t;return Dt(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return tf(r)})]}})})}function DH(e,t){return St(this,void 0,void 0,function(){var n,r;return Dt(this,function(a){switch(a.label){case 0:return e.items?(n=_0(e.items).filter(function(i){return i.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(kH))]):[3,2];case 1:return r=a.sent(),[2,Uw(W6(r))];case 2:return[2,Uw(_0(e.files).map(function(i){return tf(i)}))]}})})}function Uw(e){return e.filter(function(t){return _H.indexOf(t.name)===-1})}function _0(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function kH(e){if(typeof e.webkitGetAsEntry!="function")return Bw(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?q6(t):Bw(e)}function W6(e){return e.reduce(function(t,n){return Vt(Vt([],Fb(t),!1),Fb(Array.isArray(n)?W6(n):[n]),!1)},[])}function Bw(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=tf(t);return Promise.resolve(n)}function MH(e){return St(this,void 0,void 0,function(){return Dt(this,function(t){return[2,e.isDirectory?q6(e):TH(e)]})})}function q6(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function i(){var o=this;t.readEntries(function(s){return St(o,void 0,void 0,function(){var l,u,c;return Dt(this,function(d){switch(d.label){case 0:if(s.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return l=d.sent(),n(l),[3,4];case 3:return u=d.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(s.map(MH)),a.push(c),i(),d.label=6;case 6:return[2]}})})},function(s){r(s)})}i()})}function TH(e){return St(this,void 0,void 0,function(){return Dt(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var i=tf(a,e.fullPath);n(i)},function(a){r(a)})})]})})}var xH=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):a===s})}return!0};function jw(e){return OH(e)||PH(e)||K6(e)||RH()}function RH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OH(e){if(Array.isArray(e))return b0(e)}function zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(n),!0).forEach(function(r){Y6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Td(e,t){return IH(e)||LH(e,t)||K6(e,t)||AH()}function AH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K6(e,t){if(e){if(typeof e=="string")return b0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b0(e,t)}}function b0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,s;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function IH(e){if(Array.isArray(e))return e}var FH="file-invalid-type",NH="file-too-large",UH="file-too-small",BH="too-many-files",jH=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:FH,message:"File type must be ".concat(n)}},Hw=function(t){return{code:NH,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Vw=function(t){return{code:UH,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},zH={code:BH,message:"Too many files"};function G6(e,t){var n=e.type==="application/x-moz-file"||xH(e,t);return[n,n?null:jH(t)]}function Z6(e,t,n){if(el(e.size))if(el(t)&&el(n)){if(e.size>n)return[!1,Hw(n)];if(e.size<t)return[!1,Vw(t)]}else{if(el(t)&&e.size<t)return[!1,Vw(t)];if(el(n)&&e.size>n)return[!1,Hw(n)]}return[!0,null]}function el(e){return e!=null}function $H(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,s=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(l){var u=G6(l,n),c=Td(u,1),d=c[0],f=Z6(l,r,a),h=Td(f,1),p=h[0],w=s?s(l):null;return d&&p&&!w})}function hp(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Uf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ww(e){e.preventDefault()}function HH(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function VH(e){return e.indexOf("Edge/")!==-1}function WH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return HH(e)||VH(e)}function Zi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.some(function(s){return!hp(r)&&s&&s.apply(void 0,[r].concat(i)),hp(r)})}}function qH(){return"showOpenFilePicker"in window}function YH(e){if(el(e)){var t=Object.entries(e).filter(function(n){var r=Td(n,2),a=r[0],i=r[1],o=!0;return X6(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(Q6))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var a=Td(r,2),i=a[0],o=a[1];return $w($w({},n),{},Y6({},i,o))},{});return[{description:"Files",accept:t}]}return e}function KH(e){if(el(e))return Object.entries(e).reduce(function(t,n){var r=Td(n,2),a=r[0],i=r[1];return[].concat(jw(t),[a],jw(i))},[]).filter(function(t){return X6(t)||Q6(t)}).join(",")}function GH(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ZH(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function X6(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Q6(e){return/^.*\.[\w]+$/.test(e)}var XH=["children"],QH=["open"],JH=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],eV=["refKey","onChange","onClick"];function tV(e){return aV(e)||rV(e)||J6(e)||nV()}function nV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aV(e){if(Array.isArray(e))return w0(e)}function y1(e,t){return sV(e)||oV(e,t)||J6(e,t)||iV()}function iV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J6(e,t){if(e){if(typeof e=="string")return w0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w0(e,t)}}function w0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,s;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function sV(e){if(Array.isArray(e))return e}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){E0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pp(e,t){if(e==null)return{};var n=lV(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lV(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var g2=$.forwardRef(function(e,t){var n=e.children,r=pp(e,XH),a=v2(r),i=a.open,o=pp(a,QH);return $.useImperativeHandle(t,function(){return{open:i}},[i]),v.createElement($.Fragment,null,n(Qn(Qn({},o),{},{open:i})))});g2.displayName="Dropzone";var e8={disabled:!1,getFilesFromEvent:bH,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};g2.defaultProps=e8;g2.propTypes={children:Wt.func,accept:Wt.objectOf(Wt.arrayOf(Wt.string)),multiple:Wt.bool,preventDropOnDocument:Wt.bool,noClick:Wt.bool,noKeyboard:Wt.bool,noDrag:Wt.bool,noDragEventsBubbling:Wt.bool,minSize:Wt.number,maxSize:Wt.number,maxFiles:Wt.number,disabled:Wt.bool,getFilesFromEvent:Wt.func,onFileDialogCancel:Wt.func,onFileDialogOpen:Wt.func,useFsAccessApi:Wt.bool,autoFocus:Wt.bool,onDragEnter:Wt.func,onDragLeave:Wt.func,onDragOver:Wt.func,onDrop:Wt.func,onDropAccepted:Wt.func,onDropRejected:Wt.func,onError:Wt.func,validator:Wt.func};var C0={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function v2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Qn(Qn({},e8),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,s=t.multiple,l=t.maxFiles,u=t.onDragEnter,c=t.onDragLeave,d=t.onDragOver,f=t.onDrop,h=t.onDropAccepted,p=t.onDropRejected,w=t.onFileDialogCancel,D=t.onFileDialogOpen,E=t.useFsAccessApi,g=t.autoFocus,C=t.preventDropOnDocument,M=t.noClick,m=t.noKeyboard,b=t.noDrag,S=t.noDragEventsBubbling,y=t.onError,k=t.validator,_=$.useMemo(function(){return KH(n)},[n]),P=$.useMemo(function(){return YH(n)},[n]),z=$.useMemo(function(){return typeof D=="function"?D:Yw},[D]),N=$.useMemo(function(){return typeof w=="function"?w:Yw},[w]),T=$.useRef(null),L=$.useRef(null),I=$.useReducer(uV,C0),B=y1(I,2),F=B[0],U=B[1],R=F.isFocused,O=F.isFileDialogActive,A=$.useRef(typeof window<"u"&&window.isSecureContext&&E&&qH()),x=function(){!A.current&&O&&setTimeout(function(){if(L.current){var Ne=L.current.files;Ne.length||(U({type:"closeDialog"}),N())}},300)};$.useEffect(function(){return window.addEventListener("focus",x,!1),function(){window.removeEventListener("focus",x,!1)}},[L,O,N,A]);var j=$.useRef([]),V=function(Ne){T.current&&T.current.contains(Ne.target)||(Ne.preventDefault(),j.current=[])};$.useEffect(function(){return C&&(document.addEventListener("dragover",Ww,!1),document.addEventListener("drop",V,!1)),function(){C&&(document.removeEventListener("dragover",Ww),document.removeEventListener("drop",V))}},[T,C]),$.useEffect(function(){return!r&&g&&T.current&&T.current.focus(),function(){}},[T,g,r]);var X=$.useCallback(function(le){y?y(le):console.error(le)},[y]),re=$.useCallback(function(le){le.preventDefault(),le.persist(),q(le),j.current=[].concat(tV(j.current),[le.target]),Uf(le)&&Promise.resolve(a(le)).then(function(Ne){if(!(hp(le)&&!S)){var pe=Ne.length,Te=pe>0&&$H({files:Ne,accept:_,minSize:o,maxSize:i,multiple:s,maxFiles:l,validator:k}),Ue=pe>0&&!Te;U({isDragAccept:Te,isDragReject:Ue,isDragActive:!0,type:"setDraggedFiles"}),u&&u(le)}}).catch(function(Ne){return X(Ne)})},[a,u,X,S,_,o,i,s,l,k]),W=$.useCallback(function(le){le.preventDefault(),le.persist(),q(le);var Ne=Uf(le);if(Ne&&le.dataTransfer)try{le.dataTransfer.dropEffect="copy"}catch{}return Ne&&d&&d(le),!1},[d,S]),J=$.useCallback(function(le){le.preventDefault(),le.persist(),q(le);var Ne=j.current.filter(function(Te){return T.current&&T.current.contains(Te)}),pe=Ne.indexOf(le.target);pe!==-1&&Ne.splice(pe,1),j.current=Ne,!(Ne.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Uf(le)&&c&&c(le))},[T,c,S]),oe=$.useCallback(function(le,Ne){var pe=[],Te=[];le.forEach(function(Ue){var Be=G6(Ue,_),ut=y1(Be,2),Mt=ut[0],K=ut[1],G=Z6(Ue,o,i),ie=y1(G,2),se=ie[0],fe=ie[1],te=k?k(Ue):null;if(Mt&&se&&!te)pe.push(Ue);else{var ge=[K,fe];te&&(ge=ge.concat(te)),Te.push({file:Ue,errors:ge.filter(function(Ee){return Ee})})}}),(!s&&pe.length>1||s&&l>=1&&pe.length>l)&&(pe.forEach(function(Ue){Te.push({file:Ue,errors:[zH]})}),pe.splice(0)),U({acceptedFiles:pe,fileRejections:Te,type:"setFiles"}),f&&f(pe,Te,Ne),Te.length>0&&p&&p(Te,Ne),pe.length>0&&h&&h(pe,Ne)},[U,s,_,o,i,l,f,h,p,k]),he=$.useCallback(function(le){le.preventDefault(),le.persist(),q(le),j.current=[],Uf(le)&&Promise.resolve(a(le)).then(function(Ne){hp(le)&&!S||oe(Ne,le)}).catch(function(Ne){return X(Ne)}),U({type:"reset"})},[a,oe,X,S]),Oe=$.useCallback(function(){if(A.current){U({type:"openDialog"}),z();var le={multiple:s,types:P};window.showOpenFilePicker(le).then(function(Ne){return a(Ne)}).then(function(Ne){oe(Ne,null),U({type:"closeDialog"})}).catch(function(Ne){GH(Ne)?(N(Ne),U({type:"closeDialog"})):ZH(Ne)?(A.current=!1,L.current?(L.current.value=null,L.current.click()):X(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):X(Ne)});return}L.current&&(U({type:"openDialog"}),z(),L.current.value=null,L.current.click())},[U,z,N,E,oe,X,P,s]),$e=$.useCallback(function(le){!T.current||!T.current.isEqualNode(le.target)||(le.key===" "||le.key==="Enter"||le.keyCode===32||le.keyCode===13)&&(le.preventDefault(),Oe())},[T,Oe]),Ie=$.useCallback(function(){U({type:"focus"})},[]),ze=$.useCallback(function(){U({type:"blur"})},[]),We=$.useCallback(function(){M||(WH()?setTimeout(Oe,0):Oe())},[M,Oe]),at=function(Ne){return r?null:Ne},bt=function(Ne){return m?null:at(Ne)},H=function(Ne){return b?null:at(Ne)},q=function(Ne){S&&Ne.stopPropagation()},De=$.useMemo(function(){return function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=le.refKey,pe=Ne===void 0?"ref":Ne,Te=le.role,Ue=le.onKeyDown,Be=le.onFocus,ut=le.onBlur,Mt=le.onClick,K=le.onDragEnter,G=le.onDragOver,ie=le.onDragLeave,se=le.onDrop,fe=pp(le,JH);return Qn(Qn(E0({onKeyDown:bt(Zi(Ue,$e)),onFocus:bt(Zi(Be,Ie)),onBlur:bt(Zi(ut,ze)),onClick:at(Zi(Mt,We)),onDragEnter:H(Zi(K,re)),onDragOver:H(Zi(G,W)),onDragLeave:H(Zi(ie,J)),onDrop:H(Zi(se,he)),role:typeof Te=="string"&&Te!==""?Te:"presentation"},pe,T),!r&&!m?{tabIndex:0}:{}),fe)}},[T,$e,Ie,ze,We,re,W,J,he,m,b,r]),Fe=$.useCallback(function(le){le.stopPropagation()},[]),Qe=$.useMemo(function(){return function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=le.refKey,pe=Ne===void 0?"ref":Ne,Te=le.onChange,Ue=le.onClick,Be=pp(le,eV),ut=E0({accept:_,multiple:s,type:"file",style:{display:"none"},onChange:at(Zi(Te,he)),onClick:at(Zi(Ue,Fe)),tabIndex:-1},pe,L);return Qn(Qn({},ut),Be)}},[L,n,s,he,r]);return Qn(Qn({},F),{},{isFocused:R&&!r,getRootProps:De,getInputProps:Qe,rootRef:T,inputRef:L,open:at(Oe)})}function uV(e,t){switch(t.type){case"focus":return Qn(Qn({},e),{},{isFocused:!0});case"blur":return Qn(Qn({},e),{},{isFocused:!1});case"openDialog":return Qn(Qn({},C0),{},{isFileDialogActive:!0});case"closeDialog":return Qn(Qn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Qn(Qn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Qn(Qn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Qn({},C0);default:return e}}function Yw(){}var Im=function(e){var t=e.accept,n=t===void 0?[]:t,r=e.children,a=e.disabled,i=e.handleFiles,o=e.maxNumberOfFiles,s=e.multiple,l=Et("ImageDropzone").t,u=$.useCallback(function(w){i&&w&&w.length&&i(w)},[i]),c=$.useMemo(function(){return(typeof n=="string"?n.split(","):n).reduce(function(w,D){var E;return(E=w[D])!==null&&E!==void 0||(w[D]=[]),w},{})},[n]),d=v2({accept:c,disabled:a,maxFiles:o,multiple:s,noClick:!0,onDrop:u}),f=d.getRootProps,h=d.isDragAccept,p=d.isDragReject;return v.createElement("div",ne({},f({className:Yt("rfu-dropzone",{"rfu-dropzone--accept":h,"rfu-dropzone--reject":p}),style:{position:"relative"}}),{tabIndex:-1}),v.createElement("div",{className:"rfu-dropzone__notifier"},v.createElement("div",{className:"rfu-dropzone__inner"},v.createElement("svg",{height:"41",viewBox:"0 0 41 41",width:"41",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M40.517 28.002V3.997c0-2.197-1.808-3.992-4.005-3.992H12.507a4.004 4.004 0 0 0-3.992 3.993v24.004a4.004 4.004 0 0 0 3.992 3.993h24.005c2.197 0 4.005-1.795 4.005-3.993zm-22.002-7.997l4.062 5.42 5.937-7.423 7.998 10H12.507l6.008-7.997zM.517 8.003V36c0 2.198 1.795 4.005 3.993 4.005h27.997V36H4.51V8.002H.517z",fill:"#000",fillRule:"nonzero"})),v.createElement("p",null,l("Drag your files here to add to your post")))),r)},cV=function(e){var t=e.children,n=e.onClick,r=Et("IconButton").t;return v.createElement("button",{"aria-label":r("aria/Cancel upload"),className:"rfu-icon-button","data-testid":"cancel-upload-button",onClick:n,type:"button"},t)},dV=function(e){var t=e.alt,n=e.handleClose,r=e.image,a=e.size,i=a===void 0?100:a,o=$.useCallback(function(s){return n==null?void 0:n(s)},[n]);return v.createElement("div",{className:"rfu-thumbnail__wrapper",style:{height:i,width:i}},v.createElement("div",{className:"rfu-thumbnail__overlay"},n?v.createElement(cV,{onClick:o},v.createElement(iH,null)):null),r?v.createElement("img",{alt:t??"",className:"rfu-thumbnail__image",src:r}):v.createElement(oH,{className:"rfu-thumbnail__image",preserveAspectRatio:"xMinYMin slice"}))},fV=function(e){var t=e.multiple,n=t===void 0?!1:t,r=e.disabled,a=r===void 0?!1:r,i=e.handleFiles,o=e.children,s=o===void 0?v.createElement(sH,null):o,l=e.resetOnChange,u=l===void 0?!1:l,c=Et("ImageUploadButton").t;return v.createElement("div",{className:"rfu-image-upload-button"},v.createElement("label",null,v.createElement(p2,{accept:"image/*","aria-label":c("aria/Image input"),className:"rfu-image-input",disabled:a,multiple:n,onFileChange:i,resetOnChange:u}),s))},hV=function(e){var t=e.handleFiles,n=e.multiple,r=n===void 0?!1:n;return v.createElement(fV,{handleFiles:t,multiple:r},v.createElement("div",{className:"rfu-thumbnail-placeholder"},v.createElement("svg",{height:"15",viewBox:"0 0 14 15",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M14 8.998H8v6H6v-6H0v-2h6v-6h2v6h6z",fill:"#A0B2B8",fillRule:"nonzero"}))))},pV=function(e){var t=e.disabled,n=t===void 0?!1:t,r=e.handleFiles,a=e.handleRemove,i=e.handleRetry,o=e.imageUploads,s=e.multiple,l=s===void 0?!0:s,u=Et("ImagePreviewer").t,c=$.useCallback(function(d,f){if(!d)return console.warn(`image.id of closed image was "null", this shouldn't happen`);a==null||a(d,f)},[a]);return v.createElement("div",{className:"rfu-image-previewer"},o==null?void 0:o.map(function(d){var f=d.url||d.previewUri;return v.createElement("div",{className:Yt("rfu-image-previewer__image",d.state==="finished"&&"rfu-image-previewer__image--loaded"),key:d.id},d.state==="failed"&&v.createElement("button",{"aria-label":u("aria/Retry upload"),className:"rfu-image-previewer__retry",onClick:function(h){return i==null?void 0:i(d.id,h)},type:"button"},v.createElement(lH,null)),f&&v.createElement(dV,{handleClose:function(h){return c(d.id,h)},image:f}),d.state==="uploading"&&v.createElement($6,{backgroundColor:"#ffffff19",color:"#ffffffb2"}))}),r&&!n&&v.createElement(hV,{handleFiles:r,multiple:l}))},mV=function(e){var t=e.attachment;return v.createElement("div",{className:"str-chat__message-attachment-file--item","data-testid":"attachment-file"},v.createElement(Wo,{big:!0,mimeType:t.mime_type,size:30}),v.createElement("div",{className:"str-chat__message-attachment-file--item-text"},v.createElement(Om,{download:!0,href:t.asset_url,target:"_blank"},t.title),v.createElement(Qd,{fileSize:t.file_size})))},gV=function(e){var t=e.attachment;return v.createElement("div",{className:"str-chat__message-attachment-file--item","data-testid":"attachment-file"},v.createElement(Wo,{className:"str-chat__file-icon",mimeType:t.mime_type,version:"2"}),v.createElement("div",{className:"str-chat__message-attachment-file--item-text"},v.createElement("div",{className:"str-chat__message-attachment-file--item-first-row"},v.createElement("div",{className:"str-chat__message-attachment-file--item-name","data-testid":"file-title"},t.title),v.createElement(u2,{assetUrl:t.asset_url})),v.createElement(Qd,{fileSize:t.file_size})))},vV=function(e){var t=e.attachment,n=kt("FileAttachment").themeVersion;return n==="2"?v.createElement(gV,{attachment:t}):v.createElement(mV,{attachment:t})},yV=v.memo(vV),t8=["video/mp4","video/ogg","video/webm","video/quicktime"],Ml=function(e){var t;return!!(!((t=e.localMetadata)===null||t===void 0)&&t.id)},y2=function(e){return e.og_scrape_url||e.title_link},mp=function(e){return e.type==="image"&&!y2(e)},n8=function(e){return mp(e)&&Ml(e)},_V=function(e){return Array.isArray(e.images)},r8=function(e){return e.type==="audio"},bV=function(e){return r8(e)&&Ml(e)},a8=function(e){return e.type==="voiceRecording"},wV=function(e){return a8(e)&&Ml(e)},i8=function(e){return e.type==="file"||!!(e.mime_type&&t8.indexOf(e.mime_type)===-1&&e.type!=="video")},EV=function(e){return i8(e)&&Ml(e)},o8=function(e){return e.mime_type&&t8.indexOf(e.mime_type)!==-1||e.type==="video"},CV=function(e){return o8(e)&&Ml(e)},SV=function(e){var t=e.fallback||"";return t.toLowerCase().endsWith(".svg")},S0=function(e,t){return[Math.floor(e/t),e%t]},_2=function(e){if(!e||e<0)return"00:00";var t=S0(e,3600),n=t[0],r=t[1],a=S0(r,60),i=a[0],o=a[1],s=Math.ceil(o),l=n.toString().length===1?"0":"",u=i.toString().length===1?"0":"",c=s.toString().length===1?"0":"",d="".concat(u).concat(i,":").concat(c).concat(s);return n?"".concat(l).concat(n,":")+d:d};const DV="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",kV="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Nu=(e,t)=>{for(const n in t)e[n]=t[n];return e},D0="numeric",k0="ascii",M0="alpha",Ch="asciinumeric",Bf="alphanumeric",T0="domain",s8="emoji",MV="scheme",TV="slashscheme",Kw="whitespace";function xV(e,t){return e in t||(t[e]=[]),t[e]}function ol(e,t,n){t[D0]&&(t[Ch]=!0,t[Bf]=!0),t[k0]&&(t[Ch]=!0,t[M0]=!0),t[Ch]&&(t[Bf]=!0),t[M0]&&(t[Bf]=!0),t[Bf]&&(t[T0]=!0),t[s8]&&(t[T0]=!0);for(const r in t){const a=xV(r,n);a.indexOf(e)<0&&a.push(e)}}function RV(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Ha(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Ha.groups={};Ha.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const a=t.jr[r][0],i=t.jr[r][1];if(i&&a.test(e))return i}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let a=0;a<e.length;a++)this.tt(e[a],t,n,r)},tr(e,t,n,r){r=r||Ha.groups;let a;return t&&t.j?a=t:(a=new Ha(t),n&&r&&ol(t,n,r)),this.jr.push([e,a]),a},ts(e,t,n,r){let a=this;const i=e.length;if(!i)return a;for(let o=0;o<i-1;o++)a=a.tt(e[o]);return a.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||Ha.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const i=t;let o,s=a.go(e);if(s?(o=new Ha,Nu(o.j,s.j),o.jr.push.apply(o.jr,s.jr),o.jd=s.jd,o.t=s.t):o=new Ha,i){if(r)if(o.t&&typeof o.t=="string"){const l=Nu(RV(o.t,r),n);ol(i,l,r)}else n&&ol(i,n,r);o.t=i}return a.j[e]=o,o}};const ln=(e,t,n,r,a)=>e.ta(t,n,r,a),ii=(e,t,n,r,a)=>e.tr(t,n,r,a),Gw=(e,t,n,r,a)=>e.ts(t,n,r,a),_t=(e,t,n,r,a)=>e.tt(t,n,r,a),So="WORD",x0="UWORD",xd="LOCALHOST",R0="TLD",P0="UTLD",Sh="SCHEME",eu="SLASH_SCHEME",b2="NUM",l8="WS",w2="NL",Jc="OPENBRACE",ed="CLOSEBRACE",gp="OPENBRACKET",vp="CLOSEBRACKET",yp="OPENPAREN",_p="CLOSEPAREN",bp="OPENANGLEBRACKET",wp="CLOSEANGLEBRACKET",Ep="FULLWIDTHLEFTPAREN",Cp="FULLWIDTHRIGHTPAREN",Sp="LEFTCORNERBRACKET",Dp="RIGHTCORNERBRACKET",kp="LEFTWHITECORNERBRACKET",Mp="RIGHTWHITECORNERBRACKET",Tp="FULLWIDTHLESSTHAN",xp="FULLWIDTHGREATERTHAN",Rp="AMPERSAND",Pp="APOSTROPHE",Op="ASTERISK",ss="AT",Ap="BACKSLASH",Lp="BACKTICK",Ip="CARET",ds="COLON",E2="COMMA",Fp="DOLLAR",Ji="DOT",Np="EQUALS",C2="EXCLAMATION",eo="HYPHEN",Up="PERCENT",Bp="PIPE",jp="PLUS",zp="POUND",$p="QUERY",S2="QUOTE",D2="SEMI",to="SLASH",td="TILDE",Hp="UNDERSCORE",u8="EMOJI",Vp="SYM";var c8=Object.freeze({__proto__:null,WORD:So,UWORD:x0,LOCALHOST:xd,TLD:R0,UTLD:P0,SCHEME:Sh,SLASH_SCHEME:eu,NUM:b2,WS:l8,NL:w2,OPENBRACE:Jc,CLOSEBRACE:ed,OPENBRACKET:gp,CLOSEBRACKET:vp,OPENPAREN:yp,CLOSEPAREN:_p,OPENANGLEBRACKET:bp,CLOSEANGLEBRACKET:wp,FULLWIDTHLEFTPAREN:Ep,FULLWIDTHRIGHTPAREN:Cp,LEFTCORNERBRACKET:Sp,RIGHTCORNERBRACKET:Dp,LEFTWHITECORNERBRACKET:kp,RIGHTWHITECORNERBRACKET:Mp,FULLWIDTHLESSTHAN:Tp,FULLWIDTHGREATERTHAN:xp,AMPERSAND:Rp,APOSTROPHE:Pp,ASTERISK:Op,AT:ss,BACKSLASH:Ap,BACKTICK:Lp,CARET:Ip,COLON:ds,COMMA:E2,DOLLAR:Fp,DOT:Ji,EQUALS:Np,EXCLAMATION:C2,HYPHEN:eo,PERCENT:Up,PIPE:Bp,PLUS:jp,POUND:zp,QUERY:$p,QUOTE:S2,SEMI:D2,SLASH:to,TILDE:td,UNDERSCORE:Hp,EMOJI:u8,SYM:Vp});const ql=/[a-z]/,_1=new RegExp("\\p{L}","u"),b1=new RegExp("\\p{Emoji}","u"),w1=/\d/,Zw=/\s/,Xw=`
`,PV="",OV="";let jf=null,zf=null;function AV(e){e===void 0&&(e=[]);const t={};Ha.groups=t;const n=new Ha;jf==null&&(jf=Qw(DV)),zf==null&&(zf=Qw(kV)),_t(n,"'",Pp),_t(n,"{",Jc),_t(n,"}",ed),_t(n,"[",gp),_t(n,"]",vp),_t(n,"(",yp),_t(n,")",_p),_t(n,"<",bp),_t(n,">",wp),_t(n,"",Ep),_t(n,"",Cp),_t(n,"",Sp),_t(n,"",Dp),_t(n,"",kp),_t(n,"",Mp),_t(n,"",Tp),_t(n,"",xp),_t(n,"&",Rp),_t(n,"*",Op),_t(n,"@",ss),_t(n,"`",Lp),_t(n,"^",Ip),_t(n,":",ds),_t(n,",",E2),_t(n,"$",Fp),_t(n,".",Ji),_t(n,"=",Np),_t(n,"!",C2),_t(n,"-",eo),_t(n,"%",Up),_t(n,"|",Bp),_t(n,"+",jp),_t(n,"#",zp),_t(n,"?",$p),_t(n,'"',S2),_t(n,"/",to),_t(n,";",D2),_t(n,"~",td),_t(n,"_",Hp),_t(n,"\\",Ap);const r=ii(n,w1,b2,{[D0]:!0});ii(r,w1,r);const a=ii(n,ql,So,{[k0]:!0});ii(a,ql,a);const i=ii(n,_1,x0,{[M0]:!0});ii(i,ql),ii(i,_1,i);const o=ii(n,Zw,l8,{[Kw]:!0});_t(n,Xw,w2,{[Kw]:!0}),_t(o,Xw),ii(o,Zw,o);const s=ii(n,b1,u8,{[s8]:!0});ii(s,b1,s),_t(s,PV,s);const l=_t(s,OV);ii(l,b1,s);const u=[[ql,a]],c=[[ql,null],[_1,i]];for(let d=0;d<jf.length;d++)ns(n,jf[d],R0,So,u);for(let d=0;d<zf.length;d++)ns(n,zf[d],P0,x0,c);ol(R0,{tld:!0,ascii:!0},t),ol(P0,{utld:!0,alpha:!0},t),ns(n,"file",Sh,So,u),ns(n,"mailto",Sh,So,u),ns(n,"http",eu,So,u),ns(n,"https",eu,So,u),ns(n,"ftp",eu,So,u),ns(n,"ftps",eu,So,u),ol(Sh,{scheme:!0,ascii:!0},t),ol(eu,{slashscheme:!0,ascii:!0},t),e=e.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<e.length;d++){const f=e[d][0],p=e[d][1]?{[MV]:!0}:{[TV]:!0};f.indexOf("-")>=0?p[T0]=!0:ql.test(f)?w1.test(f)?p[Ch]=!0:p[k0]=!0:p[D0]=!0,Gw(n,f,f,p)}return Gw(n,"localhost",xd,{ascii:!0}),n.jd=new Ha(Vp),{start:n,tokens:Nu({groups:t},c8)}}function LV(e,t){const n=IV(t.replace(/[A-Z]/g,s=>s.toLowerCase())),r=n.length,a=[];let i=0,o=0;for(;o<r;){let s=e,l=null,u=0,c=null,d=-1,f=-1;for(;o<r&&(l=s.go(n[o]));)s=l,s.accepts()?(d=0,f=0,c=s):d>=0&&(d+=n[o].length,f++),u+=n[o].length,i+=n[o].length,o++;i-=d,o-=f,u-=d,a.push({t:c.t,v:t.slice(i-u,i),s:i-u,e:i})}return a}function IV(e){const t=[],n=e.length;let r=0;for(;r<n;){let a=e.charCodeAt(r),i,o=a<55296||a>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function ns(e,t,n,r,a){let i;const o=t.length;for(let s=0;s<o-1;s++){const l=t[s];e.j[l]?i=e.j[l]:(i=new Ha(r),i.jr=a.slice(),e.j[l]=i),e=i}return i=new Ha(n),i.jr=a.slice(),e.j[t[o-1]]=i,i}function Qw(e){const t=[],n=[];let r=0,a="0123456789";for(;r<e.length;){let i=0;for(;a.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(e[r]),r++}return t}const Rd={defaultProtocol:"http",events:null,format:Jw,formatHref:Jw,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function k2(e,t){t===void 0&&(t=null);let n=Nu({},Rd);e&&(n=Nu(n,e instanceof k2?e.o:e));const r=n.ignoreTags,a=[];for(let i=0;i<r.length;i++)a.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=a}k2.prototype={o:Rd,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=n.t in a?a[n.t]:Rd[e],typeof a=="function"&&r&&(a=a(t,n))):typeof a=="function"&&r&&(a=a(t,n.t,n)),a)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Jw(e){return e}function d8(e,t){this.t="token",this.v=e,this.tk=t}d8.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Rd.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),a=e.get("tagName",n,t),i=this.toFormattedString(e),o={},s=e.get("className",n,t),l=e.get("target",n,t),u=e.get("rel",n,t),c=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return o.href=r,s&&(o.class=s),l&&(o.target=l),u&&(o.rel=u),c&&Nu(o,c),{tagName:a,attributes:o,content:i,eventListeners:d}}};function Fm(e,t){class n extends d8{constructor(a,i){super(a,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const e4=Fm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),t4=Fm("text"),FV=Fm("nl"),$f=Fm("url",{isLink:!0,toHref(e){return e===void 0&&(e=Rd.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==xd&&e[1].t===ds}}),oi=e=>new Ha(e);function NV(e){let{groups:t}=e;const n=t.domain.concat([Rp,Op,ss,Ap,Lp,Ip,Fp,Np,eo,b2,Up,Bp,jp,zp,to,Vp,td,Hp]),r=[Pp,ds,E2,Ji,C2,$p,S2,D2,bp,wp,Jc,ed,vp,gp,yp,_p,Ep,Cp,Sp,Dp,kp,Mp,Tp,xp],a=[Rp,Pp,Op,Ap,Lp,Ip,Fp,Np,eo,Jc,ed,Up,Bp,jp,zp,$p,to,Vp,td,Hp],i=oi(),o=_t(i,td);ln(o,a,o),ln(o,t.domain,o);const s=oi(),l=oi(),u=oi();ln(i,t.domain,s),ln(i,t.scheme,l),ln(i,t.slashscheme,u),ln(s,a,o),ln(s,t.domain,s);const c=_t(s,ss);_t(o,ss,c),_t(l,ss,c),_t(u,ss,c);const d=_t(o,Ji);ln(d,a,o),ln(d,t.domain,o);const f=oi();ln(c,t.domain,f),ln(f,t.domain,f);const h=_t(f,Ji);ln(h,t.domain,f);const p=oi(e4);ln(h,t.tld,p),ln(h,t.utld,p),_t(c,xd,p);const w=_t(f,eo);ln(w,t.domain,f),ln(p,t.domain,f),_t(p,Ji,h),_t(p,eo,w);const D=_t(p,ds);ln(D,t.numeric,e4);const E=_t(s,eo),g=_t(s,Ji);ln(E,t.domain,s),ln(g,a,o),ln(g,t.domain,s);const C=oi($f);ln(g,t.tld,C),ln(g,t.utld,C),ln(C,t.domain,s),ln(C,a,o),_t(C,Ji,g),_t(C,eo,E),_t(C,ss,c);const M=_t(C,ds),m=oi($f);ln(M,t.numeric,m);const b=oi($f),S=oi();ln(b,n,b),ln(b,r,S),ln(S,n,b),ln(S,r,S),_t(C,to,b),_t(m,to,b);const y=_t(l,ds),k=_t(u,ds),_=_t(k,to),P=_t(_,to);ln(l,t.domain,s),_t(l,Ji,g),_t(l,eo,E),ln(u,t.domain,s),_t(u,Ji,g),_t(u,eo,E),ln(y,t.domain,b),_t(y,to,b),ln(P,t.domain,b),ln(P,n,b),_t(P,to,b);const z=[[Jc,ed],[gp,vp],[yp,_p],[bp,wp],[Ep,Cp],[Sp,Dp],[kp,Mp],[Tp,xp]];for(let N=0;N<z.length;N++){const[T,L]=z[N],I=_t(b,T);_t(S,T,I),_t(I,L,b);const B=oi($f);ln(I,n,B);const F=oi();ln(I,r),ln(B,n,B),ln(B,r,F),ln(F,n,B),ln(F,r,F),_t(B,L,b),_t(F,L,b)}return _t(i,xd,C),_t(i,w2,FV),{start:i,tokens:c8}}function UV(e,t,n){let r=n.length,a=0,i=[],o=[];for(;a<r;){let s=e,l=null,u=null,c=0,d=null,f=-1;for(;a<r&&!(l=s.go(n[a].t));)o.push(n[a++]);for(;a<r&&(u=l||s.go(n[a].t));)l=null,s=u,s.accepts()?(f=0,d=s):f>=0&&f++,a++,c++;if(f<0)a-=c,a<r&&(o.push(n[a]),a++);else{o.length>0&&(i.push(E1(t4,t,o)),o=[]),a-=f,c-=f;const h=d.t,p=n.slice(a-c,a);i.push(E1(h,t,p))}}return o.length>0&&i.push(E1(t4,t,o)),i}function E1(e,t,n){const r=n[0].s,a=n[n.length-1].e,i=t.slice(r,a);return new e(i,n)}const da={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function BV(){da.scanner=AV(da.customSchemes);for(let e=0;e<da.tokenQueue.length;e++)da.tokenQueue[e][1]({scanner:da.scanner});da.parser=NV(da.scanner.tokens);for(let e=0;e<da.pluginQueue.length;e++)da.pluginQueue[e][1]({scanner:da.scanner,parser:da.parser});da.initialized=!0}function f8(e){return da.initialized||BV(),UV(da.parser.start,e,LV(da.scanner.start,e))}function O0(e,t,n){if(t===void 0&&(t=null),n===void 0&&(n=null),t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new k2(n),a=f8(e),i=[];for(let o=0;o<a.length;o++){const s=a[o];s.isLink&&(!t||s.t===t)&&r.check(s)&&i.push(s.toFormattedObject(r))}return i}function M2(e,t){const n=f8(e);return n.length===1&&n[0].isLink&&n[0].t===t}var h8="str-chat__message-attachment__voice-recording-widget",jV=function(e){var t=e.attachment,n=e.playbackRates,r=Et("VoiceRecordingPlayer").t,a=t.asset_url,i=t.duration,o=i===void 0?0:i,s=t.mime_type,l=t.title,u=l===void 0?r("Voice message"):l,c=t.waveform_data,d=Gu({durationSeconds:o??0,mimeType:s,playbackRates:n}),f=d.audioRef,h=d.increasePlaybackRate,p=d.isPlaying,w=d.playbackRate,D=d.progress,E=d.secondsElapsed,g=d.seek,C=d.togglePlay;if(!a)return null;var M=E||o;return v.createElement("div",{className:h8,"data-testid":"voice-recording-widget"},v.createElement("audio",{ref:f},v.createElement("source",{"data-testid":"audio-source",src:a,type:s})),v.createElement(Am,{isPlaying:p,onClick:C}),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__metadata"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__title","data-testid":"voice-recording-title",title:u},u),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__audio-state"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__timer"},t.duration?_2(M):v.createElement(Qd,{fileSize:t.file_size,maximumFractionDigits:0})),v.createElement(M6,{progress:D,seek:g,waveformData:c||[]}))),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__right-section"},p?v.createElement(dz,{disabled:!f.current,onClick:h},w.toFixed(1),"x"):v.createElement(Wo,{big:!0,mimeType:s,size:40,version:"2"})))},zV=function(e){var t=e.attachment,n=Et().t,r=t.title||n("Voice message");return v.createElement("div",{className:h8,"data-testid":"quoted-voice-recording-widget"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__metadata"},r&&v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__title","data-testid":"voice-recording-title",title:r},r),v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__audio-state"},v.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__timer"},t.duration?_2(t.duration):v.createElement(Qd,{fileSize:t.file_size,maximumFractionDigits:0})))),v.createElement(Wo,{big:!0,mimeType:t.mime_type,size:34,version:"2"}))},$V=function(e){var t=e.attachment,n=e.isQuoted;return n?v.createElement(zV,{attachment:t}):v.createElement(jV,{attachment:t})},HV=function(e){var t=e.attachment,n=Et("UnsupportedAttachment").t;return v.createElement("div",{className:"str-chat__message-attachment-unsupported","data-testid":"attachment-unsupported"},v.createElement(Wo,{className:"str-chat__file-icon",version:"2"}),v.createElement("div",{className:"str-chat__message-attachment-unsupported__metadata"},v.createElement("div",{className:"str-chat__message-attachment-unsupported__title","data-testid":"unsupported-attachment-title"},t.title||n("Unsupported attachment"))))},go=function(e){var t,n,r=e.attachment,a=e.children,i=e.componentType,o=_V(r),s="";o||(s=i==="card"&&!(r!=null&&r.image_url)&&!(r!=null&&r.thumb_url)?"no-image":!((n=r==null?void 0:r.actions)===null||n===void 0)&&n.length?"actions":"");var l=Yt("str-chat__message-attachment str-chat__message-attachment-dynamic-size",(t={},t["str-chat__message-attachment--".concat(i)]=i,t["str-chat__message-attachment--".concat(r==null?void 0:r.type)]=r==null?void 0:r.type,t["str-chat__message-attachment--".concat(i,"--").concat(s)]=i&&s,t["str-chat__message-attachment--svg-image"]=SV(r),t["str-chat__message-attachment-with-actions"]=s==="actions",t));return v.createElement("div",{className:l},a)},T2=function(e){var t,n=e.actionHandler,r=e.attachment,a=e.AttachmentActions,i=a===void 0?tz:a;return!((t=r.actions)===null||t===void 0)&&t.length?v.createElement(i,ne({},r,{actionHandler:n,actions:r.actions,id:r.id||"",text:r.text||""})):null};function x2(e){var t={"--original-height":1e6,"--original-width":1e6};if(M2(e,"url")){var n=new URL(e).searchParams,r=Number(n.get("oh")),a=Number(n.get("ow")),i=r>1?r:1e6,o=a>1?a:1e6;t["--original-width"]=o,t["--original-height"]=i}return t}var VV=function(e){var t=e.attachment,n=e.Gallery,r=n===void 0?_$:n,a=$.useRef([]),i=tn().imageAttachmentSizeHandler,o=$.useState([]),s=o[0],l=o[1];$.useLayoutEffect(function(){if(a.current&&a.current.every(function(d){return!!d})&&i){var c=[];a.current.forEach(function(d,f){var h=i(t.images[f],d);c.push(h)}),l(c)}},[a,i,t]);var u=t.images.map(function(c,d){var f,h,p;return ne(ne({},c),{previewUrl:((f=s[d])===null||f===void 0?void 0:f.url)||"about:blank",style:x2(((h=t.images[d])===null||h===void 0?void 0:h.image_url)||((p=t.images[d])===null||p===void 0?void 0:p.thumb_url)||"")})});return v.createElement(go,{attachment:t,componentType:"gallery"},v.createElement(r,{images:u||[],innerRefs:a,key:"gallery"}))},WV=function(e){var t=e.attachment,n=e.Image,r=n===void 0?N6:n,a="image",i=$.useRef(null),o=tn().imageAttachmentSizeHandler,s=$.useState(void 0),l=s[0],u=s[1];$.useLayoutEffect(function(){if(i.current&&o){var d=o(t,i.current);u(d)}},[i,o,t]);var c=ne(ne({},t),{previewUrl:(l==null?void 0:l.url)||"about:blank",style:x2(t.image_url||t.thumb_url||"")});return t.actions&&t.actions.length?v.createElement(go,{attachment:t,componentType:a},v.createElement("div",{className:"str-chat__attachment"},v.createElement(r,ne({},c,{innerRef:i})),v.createElement(T2,ne({},e)))):v.createElement(go,{attachment:t,componentType:a},v.createElement(r,ne({},c,{innerRef:i})))},qV=function(e){var t=e.attachment,n=e.Card,r=n===void 0?D$:n,a="card";return t.actions&&t.actions.length?v.createElement(go,{attachment:t,componentType:a},v.createElement("div",{className:"str-chat__attachment"},v.createElement(r,ne({},t)),v.createElement(T2,ne({},e)))):v.createElement(go,{attachment:t,componentType:a},v.createElement(r,ne({},t)))},YV=function(e){var t=e.attachment,n=e.File,r=n===void 0?yV:n;return t.asset_url?v.createElement(go,{attachment:t,componentType:"file"},v.createElement(r,{attachment:t})):null},KV=function(e){var t=e.attachment,n=e.Audio,r=n===void 0?zz:n;return v.createElement(go,{attachment:t,componentType:"audio"},v.createElement("div",{className:"str-chat__attachment"},v.createElement(r,{og:t})))},GV=function(e){var t=e.attachment,n=e.VoiceRecording,r=n===void 0?$V:n,a=e.isQuoted;return v.createElement(go,{attachment:t,componentType:"voiceRecording"},v.createElement("div",{className:"str-chat__attachment"},v.createElement(r,{attachment:t,isQuoted:a})))},ZV=function(e){var t,n=e.attachment,r=e.Media,a=r===void 0?ZD:r,i="media",o=tn(),s=o.shouldGenerateVideoThumbnail,l=o.videoAttachmentSizeHandler,u=$.useRef(null),c=$.useState(),d=c[0],f=c[1];$.useLayoutEffect(function(){if(u.current&&l){var p=l(n,u.current,s);f(p)}},[u,l,n]);var h=v.createElement("div",{className:"str-chat__player-wrapper","data-testid":"video-wrapper",ref:u,style:x2(n.thumb_url||"")},v.createElement(a,{className:"react-player",config:{file:{attributes:{poster:d==null?void 0:d.thumbUrl}}},controls:!0,height:"100%",url:d==null?void 0:d.url,width:"100%"}));return!((t=n.actions)===null||t===void 0)&&t.length?v.createElement(go,{attachment:n,componentType:i},v.createElement("div",{className:"str-chat__attachment str-chat__attachment-media"},h,v.createElement(T2,ne({},e)))):v.createElement(go,{attachment:n,componentType:i},h)},XV=function(e){var t=e.attachment,n=e.UnsupportedAttachment,r=n===void 0?HV:n;return v.createElement(v.Fragment,null,v.createElement(r,{attachment:t}))},QV={audio:KV,card:qV,file:YV,media:ZV,unsupported:XV,voiceRecording:GV},JV=["card","gallery","image","media","audio","voiceRecording","file","unsupported"],eW=function(e){var t=e.attachments,n=$.useMemo(function(){return tW(e)},[t]);return v.createElement("div",{className:"str-chat__attachment-list"},JV.reduce(function(r,a){return Vt(Vt([],r,!0),n[a],!0)},[]))},tW=function(e){var t=e.attachments,n=Bt(e,["attachments"]),r=t.filter(function(i){return mp(i)}),a=t.filter(function(i){return!mp(i)}).reduce(function(i,o){var s=nW(o),l=QV[s];return i[s].push(v.createElement(l,ne({key:"".concat(s,"-").concat(i[s].length)},n,{attachment:o}))),i},{audio:[],card:[],file:[],media:[],unsupported:[],image:[],gallery:[],voiceRecording:[]});return r.length>1?a.gallery=[v.createElement(VV,ne({key:"gallery-container"},n,{attachment:{images:r,type:"gallery"}}))]:r.length===1&&(a.image=[v.createElement(WV,ne({key:"image-container"},n,{attachment:r[0]}))]),a},nW=function(e){return y2(e)?"card":o8(e)?"media":r8(e)?"audio":a8(e)?"voiceRecording":i8(e)?"file":"unsupported"},rW=v.forwardRef(function(t,n){var r=t.className,a=t.component,i=t.item,o=t.onClickHandler,s=t.onSelectHandler,l=t.selected,u=t.style,c=kt("SuggestionItem").themeVersion,d=$.useCallback(function(){return s(i)},[i,s]),f=$.useCallback(function(h){return o(h,i)},[i,o]);return c==="2"?v.createElement("li",{className:Yt(r,{"str-chat__suggestion-item--selected":l}),style:u},v.createElement("a",{href:"",onClick:f,onFocus:d,onMouseEnter:d,ref:n},v.createElement(a,{entity:i,selected:l}))):v.createElement("li",{className:Yt("rta__item",r),style:u},v.createElement("button",{className:Yt("rta__entity",{"rta__entity--selected":l}),onClick:f,onFocus:d,onMouseEnter:d,ref:n},v.createElement("div",{tabIndex:-1},v.createElement(a,{entity:i,selected:l}))))}),aW=function(e){var t=e.currentTrigger,n=e.value,r=Et("DefaultSuggestionListHeader").t,a=n.lastIndexOf(t);return t==="/"?v.createElement(v.Fragment,null,r("Commands matching")," ",v.createElement("strong",null,n.slice(a+1))):t===":"?v.createElement(v.Fragment,null,r("Emoji matching")," ",v.createElement("strong",null,n.slice(a+1))):t==="@"?v.createElement(v.Fragment,null,r("People matching")," ",v.createElement("strong",null,n.slice(a+1))):null};function Wp(e){return e.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}var A0=/(http(s?):\/\/)?(www\.)?/,iW=function(e){var t=/```[a-z]*\n[\s\S]*?\n```|`[a-z]*[\s\S]*?`/gm,n=e.match(t);return n||[]},oW=function(e){var t=/\[([^[]+)\](\(.*\))/gm,n=e.match(t),r=/\[([^[]+)\]\((.*)\)/,a=n?n.map(function(i){var o=r.exec(i);return o&&[o[1],o[2]]}):[];return a.flat()};const Nm=function(e){if(e==null)return cW;if(typeof e=="function")return Um(e);if(typeof e=="object")return Array.isArray(e)?sW(e):lW(e);if(typeof e=="string")return uW(e);throw new Error("Expected function, string, or object as test")};function sW(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Nm(e[n]);return Um(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function lW(e){const t=e;return Um(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function uW(e){return Um(t);function t(n){return n&&n.type===e}}function Um(e){return t;function t(n,r,a){return!!(dW(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function cW(){return!0}function dW(e){return e!==null&&typeof e=="object"&&"type"in e}const p8=[],fW=!0,L0=!1,hW="skip";function R2(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=Nm(a),o=r?-1:1;s(e,void 0,[])();function s(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=p8,p,w,D;if((!t||i(l,u,c[c.length-1]||void 0))&&(h=pW(n(l,c)),h[0]===L0))return h;if("children"in l&&l.children){const E=l;if(E.children&&h[0]!==hW)for(w=(r?E.children.length:-1)+o,D=c.concat(E);w>-1&&w<E.children.length;){const g=E.children[w];if(p=s(g,w,D)(),p[0]===L0)return p;w=typeof p[1]=="number"?p[1]:w+o}}return h}}}function pW(e){return Array.isArray(e)?e:typeof e=="number"?[fW,e]:e==null?p8:[e]}const m8=function(e){if(e==null)return vW;if(typeof e=="string")return gW(e);if(typeof e=="object")return mW(e);if(typeof e=="function")return P2(e);throw new Error("Expected function, string, or array as `test`")};function mW(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=m8(e[n]);return P2(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function gW(e){return P2(t);function t(n){return n.tagName===e}}function P2(e){return t;function t(n,r,a){return!!(yW(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function vW(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function yW(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}function _W(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const bW={},wW=["math","script","style","svg","title"];function g8(e,t,n){const a=m8(bW.ignore||wW),i=EW(t);let o=-1;for(;++o<i.length;)R2(e,"text",s);function s(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(a(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=i[o][0],h=i[o][1];let p=0;const D=d.children.indexOf(u);let E=!1,g=[];f.lastIndex=0;let C=f.exec(u.value);for(;C;){const M=C.index,m={index:C.index,input:C.input,stack:[...c,u]};let b=h(...C,m);if(typeof b=="string"&&(b=b.length>0?{type:"text",value:b}:void 0),b===!1?f.lastIndex=M+1:(p!==M&&g.push({type:"text",value:u.value.slice(p,M)}),Array.isArray(b)?g.push(...b):b&&g.push(b),p=M+C[0].length,E=!0),!f.global)break;C=f.exec(u.value)}return E?(p<u.value.length&&g.push({type:"text",value:u.value.slice(p)}),d.children.splice(D,1,...g)):g=[u],D+g.length}}function EW(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([CW(a[0]),SW(a[1])])}return t}function CW(e){return typeof e=="string"?new RegExp(_W(e),"g"):e}function SW(e){return typeof e=="function"?e:function(){return e}}const sl=function(e,t,n){const r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};var DW=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};const v8=Wn(DW);var kW=function(){var e=function(n){return sl("element",{properties:{},tagName:"emoji"},[sl("text",n)])},t=function(n){return g8(n,[v8(),e])};return t};function Zu(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),R2(e,i,s,a);function s(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}var MW=function(e){return function(){var t=e.map(function(i){return i.name||i.id}).filter(Boolean).map(Wp),n=new RegExp(t.map(function(i){return"@".concat(i)}).join("|"),"g"),r=function(i){var o=i.replace("@",""),s=e.find(function(l){var u=l.id,c=l.name;return c===o||u===o});return sl("element",{mentionedUser:s,properties:{},tagName:"mention"},[sl("text",i)])},a=function(i){t.length&&(Zu(i,function(o,s,l){var u;if(!(typeof s>"u")&&l){var c=l.children.at(s+1),d=(u=c==null?void 0:c.properties)===null||u===void 0?void 0:u.href;if(o.type==="text"&&/.?\s?@$|^@$/.test(o.value)&&(d!=null&&d.startsWith("mailto:"))){var f=o.value.replace(/@$/,""),h=d.replace("mailto:","");l.children[s]=sl("text",f),l.children[s+1]=sl("text","@".concat(h))}}}),g8(i,[n,r]))};return a}},TW=function(e){e.type==="html"&&(e.type="text")},xW=function(e){Zu(e,TW)},RW=function(){return xW},PW=function(e,t,n){if(!(typeof t>"u"||t===0)&&!(typeof n>"u")&&e.position){var r=n.children.at(t-1);if(r!=null&&r.position){if(e.position.start.line===r.position.start.line)return!1;var a=e.position.start.line,i=r.position.end.line,o=a-i-1;if(!(o<1)){var s=Array.from({length:o},function(){return sl("break",{tagName:"br"})});n.children=Vt(Vt(Vt([],n.children.slice(0,t),!0),s,!0),n.children.slice(t),!0)}}}},OW=function(e){Zu(e,PW)},AW=function(){return OW};function LW(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const IW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NW={};function n4(e,t){return(NW.jsx?FW:IW).test(e)}const UW=/[ \t\n\f\r]/g;function BW(e){return typeof e=="object"?e.type==="text"?r4(e.value):!1:r4(e)}function r4(e){return e.replace(UW,"")===""}class nf{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}nf.prototype.property={};nf.prototype.normal={};nf.prototype.space=null;function y8(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new nf(n,r,t)}function I0(e){return e.toLowerCase()}class ki{constructor(t,n){this.property=t,this.attribute=n}}ki.prototype.space=null;ki.prototype.boolean=!1;ki.prototype.booleanish=!1;ki.prototype.overloadedBoolean=!1;ki.prototype.number=!1;ki.prototype.commaSeparated=!1;ki.prototype.spaceSeparated=!1;ki.prototype.commaOrSpaceSeparated=!1;ki.prototype.mustUseProperty=!1;ki.prototype.defined=!1;let jW=0;const on=Tl(),wr=Tl(),_8=Tl(),dt=Tl(),Fn=Tl(),Du=Tl(),za=Tl();function Tl(){return 2**++jW}const F0=Object.freeze(Object.defineProperty({__proto__:null,boolean:on,booleanish:wr,commaOrSpaceSeparated:za,commaSeparated:Du,number:dt,overloadedBoolean:_8,spaceSeparated:Fn},Symbol.toStringTag,{value:"Module"})),C1=Object.keys(F0);class O2 extends ki{constructor(t,n,r,a){let i=-1;if(super(t,n),a4(this,"space",a),typeof r=="number")for(;++i<C1.length;){const o=C1[i];a4(this,C1[i],(r&F0[o])===F0[o])}}}O2.prototype.defined=!0;function a4(e,t,n){n&&(e[t]=n)}const zW={}.hasOwnProperty;function Xu(e){const t={},n={};let r;for(r in e.properties)if(zW.call(e.properties,r)){const a=e.properties[r],i=new O2(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[I0(r)]=r,n[I0(i.attribute)]=r}return new nf(t,n,e.space)}const b8=Xu({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),w8=Xu({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function E8(e,t){return t in e?e[t]:t}function C8(e,t){return E8(e,t.toLowerCase())}const S8=Xu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:C8,properties:{xmlns:null,xmlnsXLink:null}}),D8=Xu({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:wr,ariaAutoComplete:null,ariaBusy:wr,ariaChecked:wr,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:Fn,ariaCurrent:null,ariaDescribedBy:Fn,ariaDetails:null,ariaDisabled:wr,ariaDropEffect:Fn,ariaErrorMessage:null,ariaExpanded:wr,ariaFlowTo:Fn,ariaGrabbed:wr,ariaHasPopup:null,ariaHidden:wr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Fn,ariaLevel:dt,ariaLive:null,ariaModal:wr,ariaMultiLine:wr,ariaMultiSelectable:wr,ariaOrientation:null,ariaOwns:Fn,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:wr,ariaReadOnly:wr,ariaRelevant:null,ariaRequired:wr,ariaRoleDescription:Fn,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:wr,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null}}),$W=Xu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:C8,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Du,acceptCharset:Fn,accessKey:Fn,action:null,allow:null,allowFullScreen:on,allowPaymentRequest:on,allowUserMedia:on,alt:null,as:null,async:on,autoCapitalize:null,autoComplete:Fn,autoFocus:on,autoPlay:on,blocking:Fn,capture:null,charSet:null,checked:on,cite:null,className:Fn,cols:dt,colSpan:null,content:null,contentEditable:wr,controls:on,controlsList:Fn,coords:dt|Du,crossOrigin:null,data:null,dateTime:null,decoding:null,default:on,defer:on,dir:null,dirName:null,disabled:on,download:_8,draggable:wr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:on,formTarget:null,headers:Fn,height:dt,hidden:on,high:dt,href:null,hrefLang:null,htmlFor:Fn,httpEquiv:Fn,id:null,imageSizes:null,imageSrcSet:null,inert:on,inputMode:null,integrity:null,is:null,isMap:on,itemId:null,itemProp:Fn,itemRef:Fn,itemScope:on,itemType:Fn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:on,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:on,muted:on,name:null,nonce:null,noModule:on,noValidate:on,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:on,optimum:dt,pattern:null,ping:Fn,placeholder:null,playsInline:on,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:on,referrerPolicy:null,rel:Fn,required:on,reversed:on,rows:dt,rowSpan:dt,sandbox:Fn,scope:null,scoped:on,seamless:on,selected:on,shadowRootClonable:on,shadowRootDelegatesFocus:on,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:wr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:on,useMap:null,value:wr,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Fn,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:on,declare:on,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:on,noHref:on,noShade:on,noWrap:on,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:wr,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:on,disableRemotePlayback:on,prefix:null,property:null,results:dt,security:null,unselectable:null}}),HW=Xu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:E8,properties:{about:za,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:Fn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:on,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Du,g2:Du,glyphName:Du,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:za,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Fn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:za,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:za,rev:za,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:za,requiredFeatures:za,requiredFonts:za,requiredFormats:za,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:za,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:za,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:za,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),VW=/^data[-\w.:]+$/i,i4=/-[a-z]/g,WW=/[A-Z]/g;function qW(e,t){const n=I0(t);let r=t,a=ki;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&VW.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(i4,KW);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!i4.test(i)){let o=i.replace(WW,YW);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=O2}return new a(r,t)}function YW(e){return"-"+e.toLowerCase()}function KW(e){return e.charAt(1).toUpperCase()}const GW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ZW=y8([w8,b8,S8,D8,$W],"html"),A2=y8([w8,b8,S8,D8,HW],"svg");function XW(e){return e.join(" ").trim()}var k8={},o4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,QW=/\n/g,JW=/^\s*/,eq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,tq=/^:\s*/,nq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,rq=/^[;\s]*/,aq=/^\s+|\s+$/g,iq=`
`,s4="/",l4="*",tl="",oq="comment",sq="declaration",lq=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(p){var w=p.match(QW);w&&(n+=w.length);var D=p.lastIndexOf(iq);r=~D?p.length-D:r+p.length}function i(){var p={line:n,column:r};return function(w){return w.position=new o(p),u(),w}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(p){var w=new Error(t.source+":"+n+":"+r+": "+p);if(w.reason=p,w.filename=t.source,w.line=n,w.column=r,w.source=e,!t.silent)throw w}function l(p){var w=p.exec(e);if(w){var D=w[0];return a(D),e=e.slice(D.length),w}}function u(){l(JW)}function c(p){var w;for(p=p||[];w=d();)w!==!1&&p.push(w);return p}function d(){var p=i();if(!(s4!=e.charAt(0)||l4!=e.charAt(1))){for(var w=2;tl!=e.charAt(w)&&(l4!=e.charAt(w)||s4!=e.charAt(w+1));)++w;if(w+=2,tl===e.charAt(w-1))return s("End of comment missing");var D=e.slice(2,w-2);return r+=2,a(D),e=e.slice(w),r+=2,p({type:oq,comment:D})}}function f(){var p=i(),w=l(eq);if(w){if(d(),!l(tq))return s("property missing ':'");var D=l(nq),E=p({type:sq,property:u4(w[0].replace(o4,tl)),value:D?u4(D[0].replace(o4,tl)):tl});return l(rq),E}}function h(){var p=[];c(p);for(var w;w=f();)w!==!1&&(p.push(w),c(p));return p}return u(),h()};function u4(e){return e?e.replace(aq,tl):tl}var uq=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k8,"__esModule",{value:!0});var cq=uq(lq);function dq(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,cq.default)(e),a=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,s=i.value;a?t(o,s,i):s&&(n=n||{},n[o]=s)}}),n}var c4=k8.default=dq;const fq=c4.default||c4,M8=T8("end"),L2=T8("start");function T8(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function hq(e){const t=L2(e),n=M8(e);if(t&&n)return{start:t,end:n}}function nd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?d4(e.position):"start"in e||"end"in e?d4(e):"line"in e||"column"in e?N0(e):""}function N0(e){return f4(e&&e.line)+":"+f4(e&&e.column)}function d4(e){return N0(e&&e.start)+"-"+N0(e&&e.end)}function f4(e){return e&&typeof e=="number"?e:1}class na extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=s?s.line:void 0,this.name=nd(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}na.prototype.file="";na.prototype.name="";na.prototype.reason="";na.prototype.message="";na.prototype.stack="";na.prototype.column=void 0;na.prototype.line=void 0;na.prototype.ancestors=void 0;na.prototype.cause=void 0;na.prototype.fatal=void 0;na.prototype.place=void 0;na.prototype.ruleId=void 0;na.prototype.source=void 0;const I2={}.hasOwnProperty,pq=new Map,mq=/[A-Z]/g,gq=/-([a-z])/g,vq=new Set(["table","tbody","thead","tfoot","tr"]),yq=new Set(["td","th"]),x8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _q(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Mq(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=kq(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?A2:ZW,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=R8(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function R8(e,t,n){if(t.type==="element")return bq(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return wq(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Cq(e,t,n);if(t.type==="mdxjsEsm")return Eq(e,t);if(t.type==="root")return Sq(e,t,n);if(t.type==="text")return Dq(e,t)}function bq(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=A2,e.schema=a),e.ancestors.push(t);const i=O8(e,t.tagName,!1),o=Tq(e,t);let s=N2(e,t);return vq.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!BW(l):!0})),P8(e,o,i,t),F2(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function wq(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Pd(e,t.position)}function Eq(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Pd(e,t.position)}function Cq(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=A2,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:O8(e,t.name,!0),o=xq(e,t),s=N2(e,t);return P8(e,o,i,t),F2(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Sq(e,t,n){const r={};return F2(r,N2(e,t)),e.create(t,e.Fragment,r,n)}function Dq(e,t){return t.value}function P8(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function F2(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function kq(e,t,n){return r;function r(a,i,o,s){const u=Array.isArray(o.children)?n:t;return s?u(i,o,s):u(i,o)}}function Mq(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=L2(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Tq(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&I2.call(t.properties,a)){const i=Rq(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&yq.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function xq(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Pd(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,i=e.evaluater.evaluateExpression(s.expression)}else Pd(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function N2(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:pq;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}const s=R8(e,i,o);s!==void 0&&n.push(s)}return n}function Rq(e,t,n){const r=qW(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?LW(n):XW(n)),r.property==="style"){let a=typeof n=="object"?n:Pq(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Oq(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?GW[r.property]||r.property:r.attribute,n]}}function Pq(e,t){const n={};try{fq(t,r)}catch(a){if(!e.ignoreInvalidStyle){const i=a,o=new na("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=x8+"#cannot-parse-style-attribute",o}}return n;function r(a,i){let o=a;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(gq,Lq)),n[o]=i}}function O8(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=n4(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=n4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return I2.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Pd(e)}function Pd(e,t){const n=new na("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=x8+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Oq(e){const t={};let n;for(n in e)I2.call(e,n)&&(t[Aq(n)]=e[n]);return t}function Aq(e){let t=e.replace(mq,Iq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Lq(e,t){return t.toUpperCase()}function Iq(e){return"-"+e.toLowerCase()}const S1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Fq={};function U2(e,t){const n=Fq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return A8(e,r,a)}function A8(e,t,n){if(Nq(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return h4(e.children,t,n)}return Array.isArray(e)?h4(e,t,n):""}function h4(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=A8(e[a],t,n);return r.join("")}function Nq(e){return!!(e&&typeof e=="object")}const p4=document.createElement("i");function B2(e){const t="&"+e+";";p4.innerHTML=t;const n=p4.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function _i(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function hi(e,t){return e.length>0?(_i(e,e.length,0,t),e):t}const m4={}.hasOwnProperty;function L8(e){const t={};let n=-1;for(;++n<e.length;)Uq(t,e[n]);return t}function Uq(e,t){let n;for(n in t){const a=(m4.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){m4.call(a,o)||(a[o]=[]);const s=i[o];Bq(a[o],Array.isArray(s)?s:s?[s]:[])}}}function Bq(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);_i(e,0,0,r)}function I8(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ji(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ma=Rs(/[A-Za-z]/),Jr=Rs(/[\dA-Za-z]/),jq=Rs(/[#-'*+\--9=?A-Z^-~]/);function qp(e){return e!==null&&(e<32||e===127)}const U0=Rs(/\d/),zq=Rs(/[\dA-Fa-f]/),$q=Rs(/[!-/:-@[-`{-~]/);function Ht(e){return e!==null&&e<-2}function Ln(e){return e!==null&&(e<0||e===32)}function cn(e){return e===-2||e===-1||e===32}const Bm=Rs(new RegExp("\\p{P}|\\p{S}","u")),wl=Rs(/\s/);function Rs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Qu(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Jr(e.charCodeAt(n+1))&&Jr(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function _n(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return cn(l)?(e.enter(n),s(l)):t(l)}function s(l){return cn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const Hq={tokenize:Vq};function Vq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),_n(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Ht(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const Wq={tokenize:qq},g4={tokenize:Yq};function qq(e){const t=this,n=[];let r=0,a,i,o;return s;function s(C){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,l,u)(C)}return u(C)}function l(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&g();const M=t.events.length;let m=M,b;for(;m--;)if(t.events[m][0]==="exit"&&t.events[m][1].type==="chunkFlow"){b=t.events[m][1].end;break}E(r);let S=M;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},b),S++;return _i(t.events,m+1,0,t.events.slice(M)),t.events.length=S,u(C)}return s(C)}function u(C){if(r===n.length){if(!a)return f(C);if(a.currentConstruct&&a.currentConstruct.concrete)return p(C);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(g4,c,d)(C)}function c(C){return a&&g(),E(r),f(C)}function d(C){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(C)}function f(C){return t.containerState={},e.attempt(g4,h,p)(C)}function h(C){return r++,n.push([t.currentConstruct,t.containerState]),f(C)}function p(C){if(C===null){a&&g(),E(0),e.consume(C);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:a}),w(C)}function w(C){if(C===null){D(e.exit("chunkFlow"),!0),E(0),e.consume(C);return}return Ht(C)?(e.consume(C),D(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(C),w)}function D(C,M){const m=t.sliceStream(C);if(M&&m.push(null),C.previous=i,i&&(i.next=C),i=C,a.defineSkip(C.start),a.write(m),t.parser.lazy[C.start.line]){let b=a.events.length;for(;b--;)if(a.events[b][1].start.offset<o&&(!a.events[b][1].end||a.events[b][1].end.offset>o))return;const S=t.events.length;let y=S,k,_;for(;y--;)if(t.events[y][0]==="exit"&&t.events[y][1].type==="chunkFlow"){if(k){_=t.events[y][1].end;break}k=!0}for(E(r),b=S;b<t.events.length;)t.events[b][1].end=Object.assign({},_),b++;_i(t.events,y+1,0,t.events.slice(S)),t.events.length=b}}function E(C){let M=n.length;for(;M-- >C;){const m=n[M];t.containerState=m[1],m[0].exit.call(t,e)}n.length=C}function g(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Yq(e,t,n){return _n(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Yp(e){if(e===null||Ln(e)||wl(e))return 1;if(Bm(e))return 2}function jm(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const B0={name:"attention",tokenize:Gq,resolveAll:Kq};function Kq(e,t){let n=-1,r,a,i,o,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);v4(d,-l),v4(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},i={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},a={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},s.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=hi(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=hi(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=hi(u,jm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=hi(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=hi(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,_i(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Gq(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Yp(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),c=Yp(l),d=!c||c===2&&a||n.includes(l),f=!a||a===2&&c||n.includes(r);return u._open=!!(i===42?d:d&&(a||!f)),u._close=!!(i===42?f:f&&(c||!d)),t(l)}}function v4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Zq={name:"autolink",tokenize:Xq};function Xq(e,t,n){let r=0;return a;function a(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(h){return ma(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||Jr(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Jr(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||qp(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):jq(h)?(e.consume(h),u):n(h)}function c(h){return Jr(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Jr(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}const rf={tokenize:Qq,partial:!0};function Qq(e,t,n){return r;function r(i){return cn(i)?_n(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Ht(i)?t(i):n(i)}}const F8={name:"blockQuote",tokenize:Jq,continuation:{tokenize:eY},exit:tY};function Jq(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return cn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function eY(e,t,n){const r=this;return a;function a(o){return cn(o)?_n(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(F8,t,n)(o)}}function tY(e){e.exit("blockQuote")}const N8={name:"characterEscape",tokenize:nY};function nY(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return $q(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const U8={name:"characterReference",tokenize:rY};function rY(e,t,n){const r=this;let a=0,i,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Jr,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=zq,c):(e.enter("characterReferenceValue"),i=7,o=U0,c(d))}function c(d){if(d===59&&a){const f=e.exit("characterReferenceValue");return o===Jr&&!B2(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&a++<i?(e.consume(d),c):n(d)}}const y4={tokenize:iY,partial:!0},_4={name:"codeFenced",tokenize:aY,concrete:!0};function aY(e,t,n){const r=this,a={tokenize:m,partial:!0};let i=0,o=0,s;return l;function l(b){return u(b)}function u(b){const S=r.events[r.events.length-1];return i=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,s=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(b)}function c(b){return b===s?(o++,e.consume(b),c):o<3?n(b):(e.exit("codeFencedFenceSequence"),cn(b)?_n(e,d,"whitespace")(b):d(b))}function d(b){return b===null||Ht(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(y4,w,M)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===null||Ht(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(b)):cn(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_n(e,h,"whitespace")(b)):b===96&&b===s?n(b):(e.consume(b),f)}function h(b){return b===null||Ht(b)?d(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||Ht(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(b)):b===96&&b===s?n(b):(e.consume(b),p)}function w(b){return e.attempt(a,M,D)(b)}function D(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),E}function E(b){return i>0&&cn(b)?_n(e,g,"linePrefix",i+1)(b):g(b)}function g(b){return b===null||Ht(b)?e.check(y4,w,M)(b):(e.enter("codeFlowValue"),C(b))}function C(b){return b===null||Ht(b)?(e.exit("codeFlowValue"),g(b)):(e.consume(b),C)}function M(b){return e.exit("codeFenced"),t(b)}function m(b,S,y){let k=0;return _;function _(L){return b.enter("lineEnding"),b.consume(L),b.exit("lineEnding"),P}function P(L){return b.enter("codeFencedFence"),cn(L)?_n(b,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):z(L)}function z(L){return L===s?(b.enter("codeFencedFenceSequence"),N(L)):y(L)}function N(L){return L===s?(k++,b.consume(L),N):k>=o?(b.exit("codeFencedFenceSequence"),cn(L)?_n(b,T,"whitespace")(L):T(L)):y(L)}function T(L){return L===null||Ht(L)?(b.exit("codeFencedFence"),S(L)):y(L)}}}function iY(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const D1={name:"codeIndented",tokenize:sY},oY={tokenize:lY,partial:!0};function sY(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),_n(e,i,"linePrefix",5)(u)}function i(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Ht(u)?e.attempt(oY,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Ht(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function lY(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):_n(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Ht(o)?a(o):n(o)}}const uY={name:"codeText",tokenize:fY,resolve:cY,previous:dY};function cY(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function dY(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fY(e,t,n){let r=0,a,i;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(i=e.enter("codeTextSequence"),a=0,c(d)):Ht(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Ht(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),a++,c):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",u(d))}}class hY{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&kc(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),kc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),kc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);kc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);kc(this.left,n.reverse())}}}function kc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function B8(e){const t={};let n=-1,r,a,i,o,s,l,u;const c=new hY(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,pY(c,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--&&(o=c.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(a&&(c.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);a&&(r[1].end=Object.assign({},c.get(a)[1].start),s=c.slice(a,n),s.unshift(r),c.splice(a,n-a+1,s))}}return _i(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function pY(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,w=0;const D=[w];for(;h;){for(;e.get(++a)[1]!==h;);i.push(a),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<s.length;)s[f][0]==="exit"&&s[f-1][0]==="enter"&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(w=f+1,D.push(w),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):D.pop(),f=D.length;f--;){const E=s.slice(D[f],D[f+1]),g=i.pop();l.push([g,g+E.length-1]),e.splice(g,2,E)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const mY={tokenize:yY,resolve:vY},gY={tokenize:_Y,partial:!0};function vY(e){return B8(e),e}function yY(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Ht(s)?e.check(gY,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function _Y(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),_n(e,i,"linePrefix")}function i(o){if(o===null||Ht(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function j8(e,t,n,r,a,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(E){return E===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(E),e.exit(i),f):E===null||E===32||E===41||qp(E)?n(E):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),w(E))}function f(E){return E===62?(e.enter(i),e.consume(E),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===62?(e.exit("chunkString"),e.exit(s),f(E)):E===null||E===60||Ht(E)?n(E):(e.consume(E),E===92?p:h)}function p(E){return E===60||E===62||E===92?(e.consume(E),h):h(E)}function w(E){return!c&&(E===null||E===41||Ln(E))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(E)):c<u&&E===40?(e.consume(E),c++,w):E===41?(e.consume(E),c--,w):E===null||E===32||E===40||qp(E)?n(E):(e.consume(E),E===92?D:w)}function D(E){return E===40||E===41||E===92?(e.consume(E),w):w(E)}}function z8(e,t,n,r,a,i){const o=this;let s=0,l;return u;function u(h){return e.enter(r),e.enter(a),e.consume(h),e.exit(a),e.enter(i),c}function c(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(i),e.enter(a),e.consume(h),e.exit(a),e.exit(r),t):Ht(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Ht(h)||s++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!cn(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),s++,d):d(h)}}function $8(e,t,n,r,a,i){let o;return s;function s(f){return f===34||f===39||f===40?(e.enter(r),e.enter(a),e.consume(f),e.exit(a),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(a),e.consume(f),e.exit(a),e.exit(r),t):(e.enter(i),u(f))}function u(f){return f===o?(e.exit(i),l(o)):f===null?n(f):Ht(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),_n(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||Ht(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function rd(e,t){let n;return r;function r(a){return Ht(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):cn(a)?_n(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const bY={name:"definition",tokenize:EY},wY={tokenize:CY,partial:!0};function EY(e,t,n){const r=this;let a;return i;function i(h){return e.enter("definition"),o(h)}function o(h){return z8.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return a=ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ln(h)?rd(e,u)(h):u(h)}function u(h){return j8(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(wY,d,d)(h)}function d(h){return cn(h)?_n(e,f,"whitespace")(h):f(h)}function f(h){return h===null||Ht(h)?(e.exit("definition"),r.parser.defined.push(a),t(h)):n(h)}}function CY(e,t,n){return r;function r(s){return Ln(s)?rd(e,a)(s):n(s)}function a(s){return $8(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return cn(s)?_n(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Ht(s)?t(s):n(s)}}const SY={name:"hardBreakEscape",tokenize:DY};function DY(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Ht(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const kY={name:"headingAtx",tokenize:TY,resolve:MY};function MY(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},_i(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function TY(e,t,n){let r=0;return a;function a(c){return e.enter("atxHeading"),i(c)}function i(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Ln(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Ht(c)?(e.exit("atxHeading"),t(c)):cn(c)?_n(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||Ln(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const xY=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],b4=["pre","script","style","textarea"],RY={name:"htmlFlow",tokenize:LY,resolveTo:AY,concrete:!0},PY={tokenize:FY,partial:!0},OY={tokenize:IY,partial:!0};function AY(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function LY(e,t,n){const r=this;let a,i,o,s,l;return u;function u(x){return c(x)}function c(x){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(x),d}function d(x){return x===33?(e.consume(x),f):x===47?(e.consume(x),i=!0,w):x===63?(e.consume(x),a=3,r.interrupt?t:R):ma(x)?(e.consume(x),o=String.fromCharCode(x),D):n(x)}function f(x){return x===45?(e.consume(x),a=2,h):x===91?(e.consume(x),a=5,s=0,p):ma(x)?(e.consume(x),a=4,r.interrupt?t:R):n(x)}function h(x){return x===45?(e.consume(x),r.interrupt?t:R):n(x)}function p(x){const j="CDATA[";return x===j.charCodeAt(s++)?(e.consume(x),s===j.length?r.interrupt?t:z:p):n(x)}function w(x){return ma(x)?(e.consume(x),o=String.fromCharCode(x),D):n(x)}function D(x){if(x===null||x===47||x===62||Ln(x)){const j=x===47,V=o.toLowerCase();return!j&&!i&&b4.includes(V)?(a=1,r.interrupt?t(x):z(x)):xY.includes(o.toLowerCase())?(a=6,j?(e.consume(x),E):r.interrupt?t(x):z(x)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(x):i?g(x):C(x))}return x===45||Jr(x)?(e.consume(x),o+=String.fromCharCode(x),D):n(x)}function E(x){return x===62?(e.consume(x),r.interrupt?t:z):n(x)}function g(x){return cn(x)?(e.consume(x),g):_(x)}function C(x){return x===47?(e.consume(x),_):x===58||x===95||ma(x)?(e.consume(x),M):cn(x)?(e.consume(x),C):_(x)}function M(x){return x===45||x===46||x===58||x===95||Jr(x)?(e.consume(x),M):m(x)}function m(x){return x===61?(e.consume(x),b):cn(x)?(e.consume(x),m):C(x)}function b(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),l=x,S):cn(x)?(e.consume(x),b):y(x)}function S(x){return x===l?(e.consume(x),l=null,k):x===null||Ht(x)?n(x):(e.consume(x),S)}function y(x){return x===null||x===34||x===39||x===47||x===60||x===61||x===62||x===96||Ln(x)?m(x):(e.consume(x),y)}function k(x){return x===47||x===62||cn(x)?C(x):n(x)}function _(x){return x===62?(e.consume(x),P):n(x)}function P(x){return x===null||Ht(x)?z(x):cn(x)?(e.consume(x),P):n(x)}function z(x){return x===45&&a===2?(e.consume(x),I):x===60&&a===1?(e.consume(x),B):x===62&&a===4?(e.consume(x),O):x===63&&a===3?(e.consume(x),R):x===93&&a===5?(e.consume(x),U):Ht(x)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(PY,A,N)(x)):x===null||Ht(x)?(e.exit("htmlFlowData"),N(x)):(e.consume(x),z)}function N(x){return e.check(OY,T,A)(x)}function T(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),L}function L(x){return x===null||Ht(x)?N(x):(e.enter("htmlFlowData"),z(x))}function I(x){return x===45?(e.consume(x),R):z(x)}function B(x){return x===47?(e.consume(x),o="",F):z(x)}function F(x){if(x===62){const j=o.toLowerCase();return b4.includes(j)?(e.consume(x),O):z(x)}return ma(x)&&o.length<8?(e.consume(x),o+=String.fromCharCode(x),F):z(x)}function U(x){return x===93?(e.consume(x),R):z(x)}function R(x){return x===62?(e.consume(x),O):x===45&&a===2?(e.consume(x),R):z(x)}function O(x){return x===null||Ht(x)?(e.exit("htmlFlowData"),A(x)):(e.consume(x),O)}function A(x){return e.exit("htmlFlow"),t(x)}}function IY(e,t,n){const r=this;return a;function a(o){return Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function FY(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(rf,t,n)}}const NY={name:"htmlText",tokenize:UY};function UY(e,t,n){const r=this;let a,i,o;return s;function s(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),l}function l(R){return R===33?(e.consume(R),u):R===47?(e.consume(R),m):R===63?(e.consume(R),C):ma(R)?(e.consume(R),y):n(R)}function u(R){return R===45?(e.consume(R),c):R===91?(e.consume(R),i=0,p):ma(R)?(e.consume(R),g):n(R)}function c(R){return R===45?(e.consume(R),h):n(R)}function d(R){return R===null?n(R):R===45?(e.consume(R),f):Ht(R)?(o=d,B(R)):(e.consume(R),d)}function f(R){return R===45?(e.consume(R),h):d(R)}function h(R){return R===62?I(R):R===45?f(R):d(R)}function p(R){const O="CDATA[";return R===O.charCodeAt(i++)?(e.consume(R),i===O.length?w:p):n(R)}function w(R){return R===null?n(R):R===93?(e.consume(R),D):Ht(R)?(o=w,B(R)):(e.consume(R),w)}function D(R){return R===93?(e.consume(R),E):w(R)}function E(R){return R===62?I(R):R===93?(e.consume(R),E):w(R)}function g(R){return R===null||R===62?I(R):Ht(R)?(o=g,B(R)):(e.consume(R),g)}function C(R){return R===null?n(R):R===63?(e.consume(R),M):Ht(R)?(o=C,B(R)):(e.consume(R),C)}function M(R){return R===62?I(R):C(R)}function m(R){return ma(R)?(e.consume(R),b):n(R)}function b(R){return R===45||Jr(R)?(e.consume(R),b):S(R)}function S(R){return Ht(R)?(o=S,B(R)):cn(R)?(e.consume(R),S):I(R)}function y(R){return R===45||Jr(R)?(e.consume(R),y):R===47||R===62||Ln(R)?k(R):n(R)}function k(R){return R===47?(e.consume(R),I):R===58||R===95||ma(R)?(e.consume(R),_):Ht(R)?(o=k,B(R)):cn(R)?(e.consume(R),k):I(R)}function _(R){return R===45||R===46||R===58||R===95||Jr(R)?(e.consume(R),_):P(R)}function P(R){return R===61?(e.consume(R),z):Ht(R)?(o=P,B(R)):cn(R)?(e.consume(R),P):k(R)}function z(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),a=R,N):Ht(R)?(o=z,B(R)):cn(R)?(e.consume(R),z):(e.consume(R),T)}function N(R){return R===a?(e.consume(R),a=void 0,L):R===null?n(R):Ht(R)?(o=N,B(R)):(e.consume(R),N)}function T(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Ln(R)?k(R):(e.consume(R),T)}function L(R){return R===47||R===62||Ln(R)?k(R):n(R)}function I(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function B(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),F}function F(R){return cn(R)?_n(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):U(R)}function U(R){return e.enter("htmlTextData"),o(R)}}const j2={name:"labelEnd",tokenize:VY,resolveTo:HY,resolveAll:$Y},BY={tokenize:WY},jY={tokenize:qY},zY={tokenize:YY};function $Y(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function HY(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[i+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return s=[["enter",l,t],["enter",u,t]],s=hi(s,e.slice(i+1,i+r+3)),s=hi(s,[["enter",c,t]]),s=hi(s,jm(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=hi(s,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),s=hi(s,e.slice(o+1)),s=hi(s,[["exit",l,t]]),_i(e,i,e.length,s),e}function VY(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(f){return i?i._inactive?d(f):(o=r.parser.defined.includes(ji(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(BY,c,o?c:d)(f):f===91?e.attempt(jY,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(zY,c,d)(f)}function c(f){return t(f)}function d(f){return i._balanced=!0,n(f)}}function WY(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),a}function a(d){return Ln(d)?rd(e,i)(d):i(d)}function i(d){return d===41?c(d):j8(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ln(d)?rd(e,l)(d):c(d)}function s(d){return n(d)}function l(d){return d===34||d===39||d===40?$8(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ln(d)?rd(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function qY(e,t,n){const r=this;return a;function a(s){return z8.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function YY(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const KY={name:"labelStartImage",tokenize:GY,resolveAll:j2.resolveAll};function GY(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const ZY={name:"labelStartLink",tokenize:XY,resolveAll:j2.resolveAll};function XY(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const k1={name:"lineEnding",tokenize:QY};function QY(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),_n(e,t,"linePrefix")}}const Dh={name:"thematicBreak",tokenize:JY};function JY(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ht(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),cn(u)?_n(e,s,"whitespace")(u):s(u))}}const Ta={name:"list",tokenize:nK,continuation:{tokenize:rK},exit:iK},eK={tokenize:oK,partial:!0},tK={tokenize:aK,partial:!0};function nK(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:U0(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Dh,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return U0(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(rf,r.interrupt?n:c,e.attempt(eK,f,d))}function c(h){return r.containerState.initialBlankLine=!0,i++,f(h)}function d(h){return cn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function rK(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rf,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_n(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!cn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tK,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,_n(e,e.attempt(Ta,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function aK(e,t,n){const r=this;return _n(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function iK(e){e.exit(this.containerState.type)}function oK(e,t,n){const r=this;return _n(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!cn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const w4={name:"setextUnderline",tokenize:lK,resolveTo:sK};function sK(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[i][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function lK(e,t,n){const r=this;let a;return i;function i(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),cn(u)?_n(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ht(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const uK={tokenize:cK};function cK(e){const t=this,n=e.attempt(rf,r,e.attempt(this.parser.constructs.flowInitial,a,_n(e,e.attempt(this.parser.constructs.flow,a,e.attempt(mY,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dK={resolveAll:V8()},fK=H8("string"),hK=H8("text");function H8(e){return{tokenize:t,resolveAll:V8(e==="text"?pK:void 0)};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(c){return u(c)?i(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),i(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=a[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function V8(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function pK(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+i,_bufferIndex:i?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function mK(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},i=[];let o=[],s=[];const l={consume:g,enter:C,exit:M,attempt:S(m),check:S(b),interrupt:S(b,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:p,defineSkip:w,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function d(P){return o=hi(o,P),D(),o[o.length-1]!==null?[]:(y(t,0),u.events=jm(i,u.events,u),u.events)}function f(P,z){return vK(h(P),z)}function h(P){return gK(o,P)}function p(){const{line:P,column:z,offset:N,_index:T,_bufferIndex:L}=r;return{line:P,column:z,offset:N,_index:T,_bufferIndex:L}}function w(P){a[P.line]=P.column,_()}function D(){let P;for(;r._index<o.length;){const z=o[r._index];if(typeof z=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<z.length;)E(z.charCodeAt(r._bufferIndex));else E(z)}}function E(P){c=c(P)}function g(P){Ht(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,_()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function C(P,z){const N=z||{};return N.type=P,N.start=p(),u.events.push(["enter",N,u]),s.push(N),N}function M(P){const z=s.pop();return z.end=p(),u.events.push(["exit",z,u]),z}function m(P,z){y(P,z.from)}function b(P,z){z.restore()}function S(P,z){return N;function N(T,L,I){let B,F,U,R;return Array.isArray(T)?A(T):"tokenize"in T?A([T]):O(T);function O(X){return re;function re(W){const J=W!==null&&X[W],oe=W!==null&&X.null,he=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return A(he)(W)}}function A(X){return B=X,F=0,X.length===0?I:x(X[F])}function x(X){return re;function re(W){return R=k(),U=X,X.partial||(u.currentConstruct=X),X.name&&u.parser.constructs.disable.null.includes(X.name)?V():X.tokenize.call(z?Object.assign(Object.create(u),z):u,l,j,V)(W)}}function j(X){return P(U,R),L}function V(X){return R.restore(),++F<B.length?x(B[F]):I}}}function y(P,z){P.resolveAll&&!i.includes(P)&&i.push(P),P.resolve&&_i(u.events,z,u.events.length-z,P.resolve(u.events.slice(z),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function k(){const P=p(),z=u.previous,N=u.currentConstruct,T=u.events.length,L=Array.from(s);return{restore:I,from:T};function I(){r=P,u.previous=z,u.currentConstruct=N,u.events.length=T,s=L,_()}}function _(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function gK(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function vK(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}const yK={42:Ta,43:Ta,45:Ta,48:Ta,49:Ta,50:Ta,51:Ta,52:Ta,53:Ta,54:Ta,55:Ta,56:Ta,57:Ta,62:F8},_K={91:bY},bK={[-2]:D1,[-1]:D1,32:D1},wK={35:kY,42:Dh,45:[w4,Dh],60:RY,61:w4,95:Dh,96:_4,126:_4},EK={38:U8,92:N8},CK={[-5]:k1,[-4]:k1,[-3]:k1,33:KY,38:U8,42:B0,60:[Zq,NY],91:ZY,92:[SY,N8],93:j2,95:B0,96:uY},SK={null:[B0,dK]},DK={null:[42,95]},kK={null:[]},MK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:DK,contentInitial:_K,disable:kK,document:yK,flow:wK,flowInitial:bK,insideSpan:SK,string:EK,text:CK},Symbol.toStringTag,{value:"Module"}));function TK(e){const n=L8([MK,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:a(Hq),document:a(Wq),flow:a(uK),string:a(fK),text:a(hK)};return r;function a(i){return o;function o(s){return mK(r,i,s)}}}function xK(e){for(;!B8(e););return e}const E4=/[\0\t\n\r]/g;function RK(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let u,c,d,f,h;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),d=0,t="",n&&(i.charCodeAt(0)===65279&&d++,n=void 0);d<i.length;){if(E4.lastIndex=d,u=E4.exec(i),f=u&&u.index!==void 0?u.index:i.length,h=i.charCodeAt(f),!u){t=i.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(i.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const PK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OK(e){return e.replace(PK,AK)}function AK(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return I8(n.slice(i?2:1),i?16:10)}return B2(n)||e}const W8={}.hasOwnProperty;function LK(e,t,n){return typeof t!="string"&&(n=t,t=void 0),IK(n)(xK(TK(n).document().write(RK()(e,t,!0))))}function IK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(H),autolinkProtocol:k,autolinkEmail:k,atxHeading:i(ze),blockQuote:i(oe),characterEscape:k,characterReference:k,codeFenced:i(he),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(he,o),codeText:i(Oe,o),codeTextData:k,data:k,codeFlowValue:k,definition:i($e),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Ie),hardBreakEscape:i(We),hardBreakTrailing:i(We),htmlFlow:i(at,o),htmlFlowData:k,htmlText:i(at,o),htmlTextData:k,image:i(bt),label:o,link:i(H),listItem:i(De),listItemValue:f,listOrdered:i(q,d),listUnordered:i(q),paragraph:i(Fe),reference:x,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(ze),strong:i(Qe),thematicBreak:i(Ne)},exit:{atxHeading:l(),atxHeadingSequence:m,autolink:l(),autolinkEmail:J,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:X,characterReference:re,codeFenced:l(D),codeFencedFence:w,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:_,codeIndented:l(E),codeText:l(L),codeTextData:_,data:_,definition:l(),definitionDestinationString:M,definitionLabelString:g,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(z),hardBreakTrailing:l(z),htmlFlow:l(N),htmlFlowData:_,htmlText:l(T),htmlTextData:_,image:l(B),label:U,labelText:F,lineEnding:P,link:l(I),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:j,resourceDestinationString:R,resourceTitleString:O,resource:A,setextHeading:l(y),setextHeadingLineSequence:S,setextHeadingText:b,strong:l(),thematicBreak:l()}};q8(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(pe){let Te={type:"root",children:[]};const Ue={stack:[Te],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:c,data:n},Be=[];let ut=-1;for(;++ut<pe.length;)if(pe[ut][1].type==="listOrdered"||pe[ut][1].type==="listUnordered")if(pe[ut][0]==="enter")Be.push(ut);else{const Mt=Be.pop();ut=a(pe,Mt,ut)}for(ut=-1;++ut<pe.length;){const Mt=t[pe[ut][0]];W8.call(Mt,pe[ut][1].type)&&Mt[pe[ut][1].type].call(Object.assign({sliceSerialize:pe[ut][2].sliceSerialize},Ue),pe[ut][1])}if(Ue.tokenStack.length>0){const Mt=Ue.tokenStack[Ue.tokenStack.length-1];(Mt[1]||C4).call(Ue,void 0,Mt[0])}for(Te.position={start:rs(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:rs(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},ut=-1;++ut<t.transforms.length;)Te=t.transforms[ut](Te)||Te;return Te}function a(pe,Te,Ue){let Be=Te-1,ut=-1,Mt=!1,K,G,ie,se;for(;++Be<=Ue;){const fe=pe[Be];switch(fe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{fe[0]==="enter"?ut++:ut--,se=void 0;break}case"lineEndingBlank":{fe[0]==="enter"&&(K&&!se&&!ut&&!ie&&(ie=Be),se=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:se=void 0}if(!ut&&fe[0]==="enter"&&fe[1].type==="listItemPrefix"||ut===-1&&fe[0]==="exit"&&(fe[1].type==="listUnordered"||fe[1].type==="listOrdered")){if(K){let te=Be;for(G=void 0;te--;){const ge=pe[te];if(ge[1].type==="lineEnding"||ge[1].type==="lineEndingBlank"){if(ge[0]==="exit")continue;G&&(pe[G][1].type="lineEndingBlank",Mt=!0),ge[1].type="lineEnding",G=te}else if(!(ge[1].type==="linePrefix"||ge[1].type==="blockQuotePrefix"||ge[1].type==="blockQuotePrefixWhitespace"||ge[1].type==="blockQuoteMarker"||ge[1].type==="listItemIndent"))break}ie&&(!G||ie<G)&&(K._spread=!0),K.end=Object.assign({},G?pe[G][1].start:fe[1].end),pe.splice(G||Be,0,["exit",K,fe[2]]),Be++,Ue++}if(fe[1].type==="listItemPrefix"){const te={type:"listItem",_spread:!1,start:Object.assign({},fe[1].start),end:void 0};K=te,pe.splice(Be,0,["enter",te,fe[2]]),Be++,Ue++,ie=void 0,se=!0}}}return pe[Te][1]._spread=Mt,Ue}function i(pe,Te){return Ue;function Ue(Be){s.call(this,pe(Be),Be),Te&&Te.call(this,Be)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(pe,Te,Ue){this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([Te,Ue]),pe.position={start:rs(Te.start),end:void 0}}function l(pe){return Te;function Te(Ue){pe&&pe.call(this,Ue),u.call(this,Ue)}}function u(pe,Te){const Ue=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==pe.type&&(Te?Te.call(this,pe,Be[0]):(Be[1]||C4).call(this,pe,Be[0]));else throw new Error("Cannot close `"+pe.type+"` ("+nd({start:pe.start,end:pe.end})+"): its not open");Ue.position.end=rs(pe.end)}function c(){return U2(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(pe){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(pe),10),this.data.expectingFirstListItemValue=void 0}}function h(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=pe}function p(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=pe}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe.replace(/(\r?\n|\r)$/g,"")}function g(pe){const Te=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Te,Ue.identifier=ji(this.sliceSerialize(pe)).toLowerCase()}function C(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=pe}function M(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=pe}function m(pe){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ue=this.sliceSerialize(pe).length;Te.depth=Ue}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function S(pe){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(pe).codePointAt(0)===61?1:2}function y(){this.data.setextHeadingSlurpLineEnding=void 0}function k(pe){const Ue=this.stack[this.stack.length-1].children;let Be=Ue[Ue.length-1];(!Be||Be.type!=="text")&&(Be=le(),Be.position={start:rs(pe.start),end:void 0},Ue.push(Be)),this.stack.push(Be)}function _(pe){const Te=this.stack.pop();Te.value+=this.sliceSerialize(pe),Te.position.end=rs(pe.end)}function P(pe){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ue=Te.children[Te.children.length-1];Ue.position.end=rs(pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(k.call(this,pe),_.call(this,pe))}function z(){this.data.atHardBreak=!0}function N(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe}function T(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe}function L(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe}function I(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Te,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function B(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Te,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function F(pe){const Te=this.sliceSerialize(pe),Ue=this.stack[this.stack.length-2];Ue.label=OK(Te),Ue.identifier=ji(Te).toLowerCase()}function U(){const pe=this.stack[this.stack.length-1],Te=this.resume(),Ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ue.type==="link"){const Be=pe.children;Ue.children=Be}else Ue.alt=Te}function R(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=pe}function O(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=pe}function A(){this.data.inReference=void 0}function x(){this.data.referenceType="collapsed"}function j(pe){const Te=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Te,Ue.identifier=ji(this.sliceSerialize(pe)).toLowerCase(),this.data.referenceType="full"}function V(pe){this.data.characterReferenceType=pe.type}function X(pe){const Te=this.sliceSerialize(pe),Ue=this.data.characterReferenceType;let Be;Ue?(Be=I8(Te,Ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=B2(Te);const ut=this.stack[this.stack.length-1];ut.value+=Be}function re(pe){const Te=this.stack.pop();Te.position.end=rs(pe.end)}function W(pe){_.call(this,pe);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(pe)}function J(pe){_.call(this,pe);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(pe)}function oe(){return{type:"blockquote",children:[]}}function he(){return{type:"code",lang:null,meta:null,value:""}}function Oe(){return{type:"inlineCode",value:""}}function $e(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ie(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function at(){return{type:"html",value:""}}function bt(){return{type:"image",title:null,url:"",alt:null}}function H(){return{type:"link",title:null,url:"",children:[]}}function q(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function De(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Fe(){return{type:"paragraph",children:[]}}function Qe(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function Ne(){return{type:"thematicBreak"}}}function rs(e){return{line:e.line,column:e.column,offset:e.offset}}function q8(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?q8(e,r):FK(e,r)}}function FK(e,t){let n;for(n in t)if(W8.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function C4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+nd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+nd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+nd({start:t.start,end:t.end})+") is still open")}function NK(e){const t=this;t.parser=n;function n(r){return LK(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UK(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function BK(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function jK(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function zK(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $K(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HK(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Qu(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function VK(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WK(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Y8(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function qK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Y8(e,t);const a={src:Qu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function YK(e,t){const n={src:Qu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function KK(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function GK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Y8(e,t);const a={href:Qu(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ZK(e,t){const n={href:Qu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function XK(e,t,n){const r=e.all(t),a=n?QK(n):K8(t),i={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(a||s!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!a?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function QK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=K8(n[r])}return t}function K8(e){const t=e.spread;return t??e.children.length>1}function JK(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function eG(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tG(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function nG(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rG(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=L2(t.children[1]),l=M8(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function aG(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:i,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function iG(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const S4=9,D4=32;function oG(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(k4(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(k4(t.slice(a),a>0,!1)),i.join("")}function k4(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===S4||i===D4;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===S4||i===D4;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function sG(e,t){const n={type:"text",value:oG(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lG(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const uG={blockquote:UK,break:BK,code:jK,delete:zK,emphasis:$K,footnoteReference:HK,heading:VK,html:WK,imageReference:qK,image:YK,inlineCode:KK,linkReference:GK,link:ZK,listItem:XK,list:JK,paragraph:eG,root:tG,strong:nG,table:rG,tableCell:iG,tableRow:aG,text:sG,thematicBreak:lG,toml:Hf,yaml:Hf,definition:Hf,footnoteDefinition:Hf};function Hf(){}const G8=-1,zm=0,Kp=1,Gp=2,z2=3,$2=4,H2=5,V2=6,Z8=7,X8=8,M4=typeof self=="object"?self:globalThis,cG=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case zm:case G8:return n(o,a);case Kp:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Gp:{const s=n({},a);for(const[l,u]of o)s[r(l)]=r(u);return s}case z2:return n(new Date(o),a);case $2:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case H2:{const s=n(new Map,a);for(const[l,u]of o)s.set(r(l),r(u));return s}case V2:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case Z8:{const{name:s,message:l}=o;return n(new M4[s](l),a)}case X8:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a)}return n(new M4[i](o),a)};return r},T4=e=>cG(new Map,e)(0),Yl="",{toString:dG}={},{keys:fG}=Object,Mc=e=>{const t=typeof e;if(t!=="object"||!e)return[zm,t];const n=dG.call(e).slice(8,-1);switch(n){case"Array":return[Kp,Yl];case"Object":return[Gp,Yl];case"Date":return[z2,Yl];case"RegExp":return[$2,Yl];case"Map":return[H2,Yl];case"Set":return[V2,Yl]}return n.includes("Array")?[Kp,n]:n.includes("Error")?[Z8,n]:[Gp,n]},Vf=([e,t])=>e===zm&&(t==="function"||t==="symbol"),hG=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Mc(o);switch(s){case zm:{let c=o;switch(l){case"bigint":s=X8,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return a([G8],o)}return a([s,c],o)}case Kp:{if(l)return a([l,[...o]],o);const c=[],d=a([s,c],o);for(const f of o)c.push(i(f));return d}case Gp:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const c=[],d=a([s,c],o);for(const f of fG(o))(e||!Vf(Mc(o[f])))&&c.push([i(f),i(o[f])]);return d}case z2:return a([s,o.toISOString()],o);case $2:{const{source:c,flags:d}=o;return a([s,{source:c,flags:d}],o)}case H2:{const c=[],d=a([s,c],o);for(const[f,h]of o)(e||!(Vf(Mc(f))||Vf(Mc(h))))&&c.push([i(f),i(h)]);return d}case V2:{const c=[],d=a([s,c],o);for(const f of o)(e||!Vf(Mc(f)))&&c.push(i(f));return d}}const{message:u}=o;return a([s,{name:l,message:u}],o)};return i},x4=(e,{json:t,lossy:n}={})=>{const r=[];return hG(!(t||n),!!t,new Map,r)(e),r},Zp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?T4(x4(e,t)):structuredClone(e):(e,t)=>T4(x4(e,t));function pG(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function mG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function gG(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pG,r=e.options.footnoteBackLabel||mG,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=Qu(d.toLowerCase());let h=0;const p=[],w=e.footnoteCounts.get(d);for(;w!==void 0&&++h<=w;){p.length>0&&p.push({type:"text",value:" "});let g=typeof n=="string"?n:n(l,h);typeof g=="string"&&(g={type:"text",value:g}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const D=c[c.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const g=D.children[D.children.length-1];g&&g.type==="text"?g.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...p)}else c.push(...p);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,E),s.push(E)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Zp(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const j0={}.hasOwnProperty,vG={};function yG(e,t){const n=t||vG,r=new Map,a=new Map,i=new Map,o={...uG,...n.handlers},s={all:u,applyData:bG,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:_G,wrap:EG};return Zu(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:a,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),s;function l(c,d){const f=c.type,h=s.handlers[f];if(j0.call(s.handlers,f)&&h)return h(s,c,d);if(s.options.passThrough&&s.options.passThrough.includes(f)){if("children"in c){const{children:w,...D}=c,E=Zp(D);return E.children=s.all(c),E}return Zp(c)}return(s.options.unknownHandler||wG)(s,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=s.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=R4(p.value)),!Array.isArray(p)&&p.type==="element")){const w=p.children[0];w&&w.type==="text"&&(w.value=R4(w.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function _G(e,t){e.position&&(t.position=hq(e))}function bG(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Zp(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function wG(e,t){const n=t.data||{},r="value"in t&&!(j0.call(n,"hProperties")||j0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function EG(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function R4(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function P4(e,t){const n=yG(e,t),r=n.one(e,void 0),a=gG(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function CG(e,t){return e&&"run"in e?async function(n,r){const a=P4(n,{file:r,...t});await e.run(a,r)}:function(n,r){return P4(n,{file:r,...t||e})}}function O4(e){if(e)throw e}var kh=Object.prototype.hasOwnProperty,Q8=Object.prototype.toString,A4=Object.defineProperty,L4=Object.getOwnPropertyDescriptor,I4=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Q8.call(t)==="[object Array]"},F4=function(t){if(!t||Q8.call(t)!=="[object Object]")return!1;var n=kh.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&kh.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||kh.call(t,a)},N4=function(t,n){A4&&n.name==="__proto__"?A4(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},U4=function(t,n){if(n==="__proto__")if(kh.call(t,n)){if(L4)return L4(t,n).value}else return;return t[n]},SG=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=U4(s,n),a=U4(t,n),s!==a&&(c&&a&&(F4(a)||(i=I4(a)))?(i?(i=!1,o=r&&I4(r)?r:[]):o=r&&F4(r)?r:{},N4(s,{name:n,newValue:e(c,o,a)})):typeof a<"u"&&N4(s,{name:n,newValue:a}));return s};const M1=Wn(SG);function z0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function DG(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){const c=e[++i];let d=-1;if(l){o(l);return}for(;++d<a.length;)(u[d]===null||u[d]===void 0)&&(u[d]=a[d]);a=u,c?kG(c,s)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function kG(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){const c=u;if(s&&n)throw c;return a(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const no={basename:MG,dirname:TG,extname:xG,join:RG,sep:"/"};function MG(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');af(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function TG(e){if(af(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function xG(e){af(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function RG(...e){let t=-1,n;for(;++t<e.length;)af(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":PG(n)}function PG(e){af(e);const t=e.codePointAt(0)===47;let n=OG(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function OG(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function af(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const AG={cwd:LG};function LG(){return"/"}function $0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function IG(e){if(typeof e=="string")e=new URL(e);else if(!$0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return FG(e)}function FG(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const T1=["history","path","basename","stem","extname","dirname"];class J8{constructor(t){let n;t?$0(t)?n={path:t}:typeof t=="string"||NG(t)?n={value:t}:n=t:n={},this.cwd=AG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<T1.length;){const i=T1[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)T1.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?no.basename(this.path):void 0}set basename(t){R1(t,"basename"),x1(t,"basename"),this.path=no.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?no.dirname(this.path):void 0}set dirname(t){B4(this.basename,"dirname"),this.path=no.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?no.extname(this.path):void 0}set extname(t){if(x1(t,"extname"),B4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=no.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){$0(t)&&(t=IG(t)),R1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?no.basename(this.path,this.extname):void 0}set stem(t){R1(t,"stem"),x1(t,"stem"),this.path=no.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new na(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function x1(e,t){if(e&&e.includes(no.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+no.sep+"`")}function R1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function B4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function NG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const UG=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};Object.setPrototypeOf(i,r);const o=Object.getOwnPropertyNames(a);for(const s of o){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(i,s,l)}return i},BG={}.hasOwnProperty;class W2 extends UG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=DG()}copy(){const t=new W2;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(M1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(A1("data",this.frozen),this.namespace[t]=n,this):BG.call(this.namespace,t)&&this.namespace[t]||void 0:t?(A1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Wf(t),r=this.parser||this.Parser;return P1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),P1("process",this.parser||this.Parser),O1("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Wf(t),l=r.parse(s);r.run(l,s,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);$G(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?o(c):i?i(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),P1("processSync",this.parser||this.Parser),O1("processSync",this.compiler||this.Compiler),this.process(t,a),z4("processSync","process",n),r;function a(i,o){n=!0,O4(i),r=o}}run(t,n,r){j4(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Wf(n);a.run(t,l,u);function u(c,d,f){const h=d||t;c?s(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),z4("runSync","run",r),a;function i(o,s){O4(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Wf(n),a=this.compiler||this.Compiler;return O1("stringify",a),j4(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(A1("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=M1(!0,a.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];i(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const w=r[f][1];z0(w)&&z0(h)&&(h=M1(!0,w,h)),r[f]=[u,h,...p]}}}}const jG=new W2().freeze();function P1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function O1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function A1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function j4(e){if(!z0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function z4(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wf(e){return zG(e)?e:new J8(e)}function zG(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $G(e){return typeof e=="string"||HG(e)}function HG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const VG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$4=[],H4={allowDangerousHtml:!0},WG=/^(https?|ircs?|mailto|xmpp)$/i,qG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ek(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",a=e.className,i=e.components,o=e.disallowedElements,s=e.rehypePlugins||$4,l=e.remarkPlugins||$4,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...H4}:H4,c=e.skipHtml,d=e.unwrapDisallowed,f=e.urlTransform||tk,h=jG().use(NK).use(l).use(CG,u).use(s),p=new J8;typeof r=="string"&&(p.value=r);for(const g of qG)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+VG+g.id,void 0);const w=h.parse(p);let D=h.runSync(w,p);return a&&(D={type:"element",tagName:"div",properties:{className:a},children:D.type==="root"?D.children:[D]}),Zu(D,E),_q(D,{Fragment:et.Fragment,components:i,ignoreInvalidStyle:!0,jsx:et.jsx,jsxs:et.jsxs,passKeys:!0,passNode:!0});function E(g,C,M){if(g.type==="raw"&&M&&typeof C=="number")return c?M.children.splice(C,1):M.children[C]={type:"text",value:g.value},C;if(g.type==="element"){let m;for(m in S1)if(Object.hasOwn(S1,m)&&Object.hasOwn(g.properties,m)){const b=g.properties[m],S=S1[m];(S===null||S.includes(g.tagName))&&(g.properties[m]=f(String(b||""),m,g))}}if(g.type==="element"){let m=t?!t.includes(g.tagName):o?o.includes(g.tagName):!1;if(!m&&n&&typeof C=="number"&&(m=!n(g,C,M)),m&&M&&typeof C=="number")return d&&g.children?M.children.splice(C,1,...g.children):M.children.splice(C,1),C}}}function tk(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t<0||a>-1&&t>a||n>-1&&t>n||r>-1&&t>r||WG.test(e.slice(0,t))?e:""}var Xp={exports:{}};Xp.exports;(function(e,t){var n=200,r="Expected a function",a="__lodash_hash_undefined__",i=1,o=2,s=1/0,l=9007199254740991,u="[object Arguments]",c="[object Array]",d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",w="[object GeneratorFunction]",D="[object Map]",E="[object Number]",g="[object Object]",C="[object Promise]",M="[object RegExp]",m="[object Set]",b="[object String]",S="[object Symbol]",y="[object WeakMap]",k="[object ArrayBuffer]",_="[object DataView]",P="[object Float32Array]",z="[object Float64Array]",N="[object Int8Array]",T="[object Int16Array]",L="[object Int32Array]",I="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",U="[object Uint32Array]",R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/,A=/^\./,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/[\\^$.*+?()[\]{}|]/g,V=/\\(\\)?/g,X=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,W={};W[P]=W[z]=W[N]=W[T]=W[L]=W[I]=W[B]=W[F]=W[U]=!0,W[u]=W[c]=W[k]=W[d]=W[_]=W[f]=W[h]=W[p]=W[D]=W[E]=W[g]=W[M]=W[m]=W[b]=W[y]=!1;var J=typeof jt=="object"&&jt&&jt.Object===Object&&jt,oe=typeof self=="object"&&self&&self.Object===Object&&self,he=J||oe||Function("return this")(),Oe=t&&!t.nodeType&&t,$e=Oe&&!0&&e&&!e.nodeType&&e,Ie=$e&&$e.exports===Oe,ze=Ie&&J.process,We=function(){try{return ze&&ze.binding("util")}catch{}}(),at=We&&We.isTypedArray;function bt(Z,ve){var Xe=Z?Z.length:0;return!!Xe&&De(Z,ve,0)>-1}function H(Z,ve){for(var Xe=-1,pt=Z?Z.length:0;++Xe<pt;)if(ve(Z[Xe],Xe,Z))return!0;return!1}function q(Z,ve,Xe,pt){for(var Qt=Z.length,Ut=Xe+-1;++Ut<Qt;)if(ve(Z[Ut],Ut,Z))return Ut;return-1}function De(Z,ve,Xe){if(ve!==ve)return q(Z,Fe,Xe);for(var pt=Xe-1,Qt=Z.length;++pt<Qt;)if(Z[pt]===ve)return pt;return-1}function Fe(Z){return Z!==Z}function Qe(Z){return function(ve){return ve==null?void 0:ve[Z]}}function le(Z,ve){for(var Xe=-1,pt=Array(Z);++Xe<Z;)pt[Xe]=ve(Xe);return pt}function Ne(Z){return function(ve){return Z(ve)}}function pe(Z,ve){return Z.has(ve)}function Te(Z,ve){return Z==null?void 0:Z[ve]}function Ue(Z){var ve=!1;if(Z!=null&&typeof Z.toString!="function")try{ve=!!(Z+"")}catch{}return ve}function Be(Z){var ve=-1,Xe=Array(Z.size);return Z.forEach(function(pt,Qt){Xe[++ve]=[Qt,pt]}),Xe}function ut(Z,ve){return function(Xe){return Z(ve(Xe))}}function Mt(Z){var ve=-1,Xe=Array(Z.size);return Z.forEach(function(pt){Xe[++ve]=pt}),Xe}var K=Array.prototype,G=Function.prototype,ie=Object.prototype,se=he["__core-js_shared__"],fe=function(){var Z=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),te=G.toString,ge=ie.hasOwnProperty,Ee=ie.toString,ye=RegExp("^"+te.call(ge).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=he.Symbol,we=he.Uint8Array,xe=ie.propertyIsEnumerable,nt=K.splice,lt=ut(Object.keys,Object),Ke=Ba(he,"DataView"),yt=Ba(he,"Map"),ke=Ba(he,"Promise"),rt=Ba(he,"Set"),Pt=Ba(he,"WeakMap"),Ye=Ba(Object,"create"),ht=ce(Ke),Je=ce(yt),xt=ce(ke),me=ce(rt),ue=ce(Pt),Ce=Ae?Ae.prototype:void 0,Le=Ce?Ce.valueOf:void 0,_e=Ce?Ce.toString:void 0;function Ge(Z){var ve=-1,Xe=Z?Z.length:0;for(this.clear();++ve<Xe;){var pt=Z[ve];this.set(pt[0],pt[1])}}function Ze(){this.__data__=Ye?Ye(null):{}}function ee(Z){return this.has(Z)&&delete this.__data__[Z]}function ae(Z){var ve=this.__data__;if(Ye){var Xe=ve[Z];return Xe===a?void 0:Xe}return ge.call(ve,Z)?ve[Z]:void 0}function Re(Z){var ve=this.__data__;return Ye?ve[Z]!==void 0:ge.call(ve,Z)}function je(Z,ve){var Xe=this.__data__;return Xe[Z]=Ye&&ve===void 0?a:ve,this}Ge.prototype.clear=Ze,Ge.prototype.delete=ee,Ge.prototype.get=ae,Ge.prototype.has=Re,Ge.prototype.set=je;function He(Z){var ve=-1,Xe=Z?Z.length:0;for(this.clear();++ve<Xe;){var pt=Z[ve];this.set(pt[0],pt[1])}}function Ve(){this.__data__=[]}function st(Z){var ve=this.__data__,Xe=vr(ve,Z);if(Xe<0)return!1;var pt=ve.length-1;return Xe==pt?ve.pop():nt.call(ve,Xe,1),!0}function mt(Z){var ve=this.__data__,Xe=vr(ve,Z);return Xe<0?void 0:ve[Xe][1]}function gt(Z){return vr(this.__data__,Z)>-1}function wt(Z,ve){var Xe=this.__data__,pt=vr(Xe,Z);return pt<0?Xe.push([Z,ve]):Xe[pt][1]=ve,this}He.prototype.clear=Ve,He.prototype.delete=st,He.prototype.get=mt,He.prototype.has=gt,He.prototype.set=wt;function Tt(Z){var ve=-1,Xe=Z?Z.length:0;for(this.clear();++ve<Xe;){var pt=Z[ve];this.set(pt[0],pt[1])}}function Ot(){this.__data__={hash:new Ge,map:new(yt||He),string:new Ge}}function Nt(Z){return Yi(this,Z).delete(Z)}function Ct(Z){return Yi(this,Z).get(Z)}function Gt(Z){return Yi(this,Z).has(Z)}function Cn(Z,ve){return Yi(this,Z).set(Z,ve),this}Tt.prototype.clear=Ot,Tt.prototype.delete=Nt,Tt.prototype.get=Ct,Tt.prototype.has=Gt,Tt.prototype.set=Cn;function an(Z){var ve=-1,Xe=Z?Z.length:0;for(this.__data__=new Tt;++ve<Xe;)this.add(Z[ve])}function Tn(Z){return this.__data__.set(Z,a),this}function In(Z){return this.__data__.has(Z)}an.prototype.add=an.prototype.push=Tn,an.prototype.has=In;function en(Z){this.__data__=new He(Z)}function sn(){this.__data__=new He}function Sn(Z){return this.__data__.delete(Z)}function aa(Z){return this.__data__.get(Z)}function Ua(Z){return this.__data__.has(Z)}function ia(Z,ve){var Xe=this.__data__;if(Xe instanceof He){var pt=Xe.__data__;if(!yt||pt.length<n-1)return pt.push([Z,ve]),this;Xe=this.__data__=new Tt(pt)}return Xe.set(Z,ve),this}en.prototype.clear=sn,en.prototype.delete=Sn,en.prototype.get=aa,en.prototype.has=Ua,en.prototype.set=ia;function Un(Z,ve){var Xe=ot(Z)||Pe(Z)?le(Z.length,String):[],pt=Xe.length,Qt=!!pt;for(var Ut in Z)ge.call(Z,Ut)&&!(Qt&&(Ut=="length"||Lr(Ut,pt)))&&Xe.push(Ut);return Xe}function vr(Z,ve){for(var Xe=Z.length;Xe--;)if(de(Z[Xe][0],ve))return Xe;return-1}function ar(Z,ve){ve=ti(ve,Z)?[ve]:Al(ve);for(var Xe=0,pt=ve.length;Z!=null&&Xe<pt;)Z=Z[Zo(ve[Xe++])];return Xe&&Xe==pt?Z:void 0}function Ar(Z){return Ee.call(Z)}function yr(Z,ve){return Z!=null&&ve in Object(Z)}function oa(Z,ve,Xe,pt,Qt){return Z===ve?!0:Z==null||ve==null||!nn(Z)&&!ir(ve)?Z!==Z&&ve!==ve:Bn(Z,ve,oa,Xe,pt,Qt)}function Bn(Z,ve,Xe,pt,Qt,Ut){var fn=ot(Z),Yn=ot(ve),On=c,kr=c;fn||(On=sa(Z),On=On==u?g:On),Yn||(kr=sa(ve),kr=kr==u?g:kr);var or=On==g&&!Ue(Z),fr=kr==g&&!Ue(ve),Ir=On==kr;if(Ir&&!or)return Ut||(Ut=new en),fn||xi(Z)?Ti(Z,ve,Xe,pt,Qt,Ut):wo(Z,ve,On,Xe,pt,Qt,Ut);if(!(Qt&o)){var ni=or&&ge.call(Z,"__wrapped__"),ri=fr&&ge.call(ve,"__wrapped__");if(ni||ri){var Qo=ni?Z.value():Z,Co=ri?ve.value():ve;return Ut||(Ut=new en),Xe(Qo,Co,pt,Qt,Ut)}}return Ir?(Ut||(Ut=new en),Eo(Z,ve,Xe,pt,Qt,Ut)):!1}function Ca(Z,ve,Xe,pt){var Qt=Xe.length,Ut=Qt;if(Z==null)return!Ut;for(Z=Object(Z);Qt--;){var fn=Xe[Qt];if(fn[2]?fn[1]!==Z[fn[0]]:!(fn[0]in Z))return!1}for(;++Qt<Ut;){fn=Xe[Qt];var Yn=fn[0],On=Z[Yn],kr=fn[1];if(fn[2]){if(On===void 0&&!(Yn in Z))return!1}else{var or=new en,fr;if(!(fr===void 0?oa(kr,On,pt,i|o,or):fr))return!1}}return!0}function Wi(Z){if(!nn(Z)||Fl(Z))return!1;var ve=zt(Z)||Ue(Z)?ye:X;return ve.test(ce(Z))}function qi(Z){return ir(Z)&&Xt(Z.length)&&!!W[Ee.call(Z)]}function Pl(Z){return typeof Z=="function"?Z:Z==null?U7:typeof Z=="object"?ot(Z)?uc(Z[0],Z[1]):lc(Z):j7(Z)}function Ol(Z){if(!Nl(Z))return lt(Z);var ve=[];for(var Xe in Object(Z))ge.call(Z,Xe)&&Xe!="constructor"&&ve.push(Xe);return ve}function lc(Z){var ve=Ll(Z);return ve.length==1&&ve[0][2]?Ns(ve[0][0],ve[0][1]):function(Xe){return Xe===Z||Ca(Xe,Z,ve)}}function uc(Z,ve){return ti(Z)&&Ul(ve)?Ns(Zo(Z),ve):function(Xe){var pt=dc(Xe,Z);return pt===void 0&&pt===ve?hf(Xe,Z):oa(ve,pt,void 0,i|o)}}function Is(Z){return function(ve){return ar(ve,Z)}}function Fs(Z){if(typeof Z=="string")return Z;if(dr(Z))return _e?_e.call(Z):"";var ve=Z+"";return ve=="0"&&1/Z==-s?"-0":ve}function cc(Z,ve,Xe){var pt=-1,Qt=bt,Ut=Z.length,fn=!0,Yn=[],On=Yn;if(Ut>=n){var kr=ve?null:Go(Z);if(kr)return Mt(kr);fn=!1,Qt=pe,On=new an}else On=ve?[]:Yn;e:for(;++pt<Ut;){var or=Z[pt],fr=ve?ve(or):or;if(or=or!==0?or:0,fn&&fr===fr){for(var Ir=On.length;Ir--;)if(On[Ir]===fr)continue e;ve&&On.push(fr),Yn.push(or)}else Qt(On,fr,Xe)||(On!==Yn&&On.push(fr),Yn.push(or))}return Yn}function Al(Z){return ot(Z)?Z:Bl(Z)}var Go=rt&&1/Mt(new rt([,-0]))[1]==s?function(Z){return new rt(Z)}:B7;function Ti(Z,ve,Xe,pt,Qt,Ut){var fn=Qt&o,Yn=Z.length,On=ve.length;if(Yn!=On&&!(fn&&On>Yn))return!1;var kr=Ut.get(Z);if(kr&&Ut.get(ve))return kr==ve;var or=-1,fr=!0,Ir=Qt&i?new an:void 0;for(Ut.set(Z,ve),Ut.set(ve,Z);++or<Yn;){var ni=Z[or],ri=ve[or];if(pt)var Qo=fn?pt(ri,ni,or,ve,Z,Ut):pt(ni,ri,or,Z,ve,Ut);if(Qo!==void 0){if(Qo)continue;fr=!1;break}if(Ir){if(!H(ve,function(Co,Us){if(!Ir.has(Us)&&(ni===Co||Xe(ni,Co,pt,Qt,Ut)))return Ir.add(Us)})){fr=!1;break}}else if(!(ni===ri||Xe(ni,ri,pt,Qt,Ut))){fr=!1;break}}return Ut.delete(Z),Ut.delete(ve),fr}function wo(Z,ve,Xe,pt,Qt,Ut,fn){switch(Xe){case _:if(Z.byteLength!=ve.byteLength||Z.byteOffset!=ve.byteOffset)return!1;Z=Z.buffer,ve=ve.buffer;case k:return!(Z.byteLength!=ve.byteLength||!pt(new we(Z),new we(ve)));case d:case f:case E:return de(+Z,+ve);case h:return Z.name==ve.name&&Z.message==ve.message;case M:case b:return Z==ve+"";case D:var Yn=Be;case m:var On=Ut&o;if(Yn||(Yn=Mt),Z.size!=ve.size&&!On)return!1;var kr=fn.get(Z);if(kr)return kr==ve;Ut|=i,fn.set(Z,ve);var or=Ti(Yn(Z),Yn(ve),pt,Qt,Ut,fn);return fn.delete(Z),or;case S:if(Le)return Le.call(Z)==Le.call(ve)}return!1}function Eo(Z,ve,Xe,pt,Qt,Ut){var fn=Qt&o,Yn=pg(Z),On=Yn.length,kr=pg(ve),or=kr.length;if(On!=or&&!fn)return!1;for(var fr=On;fr--;){var Ir=Yn[fr];if(!(fn?Ir in ve:ge.call(ve,Ir)))return!1}var ni=Ut.get(Z);if(ni&&Ut.get(ve))return ni==ve;var ri=!0;Ut.set(Z,ve),Ut.set(ve,Z);for(var Qo=fn;++fr<On;){Ir=Yn[fr];var Co=Z[Ir],Us=ve[Ir];if(pt)var j_=fn?pt(Us,Co,Ir,ve,Z,Ut):pt(Co,Us,Ir,Z,ve,Ut);if(!(j_===void 0?Co===Us||Xe(Co,Us,pt,Qt,Ut):j_)){ri=!1;break}Qo||(Qo=Ir=="constructor")}if(ri&&!Qo){var pf=Z.constructor,mf=ve.constructor;pf!=mf&&"constructor"in Z&&"constructor"in ve&&!(typeof pf=="function"&&pf instanceof pf&&typeof mf=="function"&&mf instanceof mf)&&(ri=!1)}return Ut.delete(Z),Ut.delete(ve),ri}function Yi(Z,ve){var Xe=Z.__data__;return Il(ve)?Xe[typeof ve=="string"?"string":"hash"]:Xe.map}function Ll(Z){for(var ve=pg(Z),Xe=ve.length;Xe--;){var pt=ve[Xe],Qt=Z[pt];ve[Xe]=[pt,Qt,Ul(Qt)]}return ve}function Ba(Z,ve){var Xe=Te(Z,ve);return Wi(Xe)?Xe:void 0}var sa=Ar;(Ke&&sa(new Ke(new ArrayBuffer(1)))!=_||yt&&sa(new yt)!=D||ke&&sa(ke.resolve())!=C||rt&&sa(new rt)!=m||Pt&&sa(new Pt)!=y)&&(sa=function(Z){var ve=Ee.call(Z),Xe=ve==g?Z.constructor:void 0,pt=Xe?ce(Xe):void 0;if(pt)switch(pt){case ht:return _;case Je:return D;case xt:return C;case me:return m;case ue:return y}return ve});function ei(Z,ve,Xe){ve=ti(ve,Z)?[ve]:Al(ve);for(var pt,Qt=-1,fn=ve.length;++Qt<fn;){var Ut=Zo(ve[Qt]);if(!(pt=Z!=null&&Xe(Z,Ut)))break;Z=Z[Ut]}if(pt)return pt;var fn=Z?Z.length:0;return!!fn&&Xt(fn)&&Lr(Ut,fn)&&(ot(Z)||Pe(Z))}function Lr(Z,ve){return ve=ve??l,!!ve&&(typeof Z=="number"||re.test(Z))&&Z>-1&&Z%1==0&&Z<ve}function ti(Z,ve){if(ot(Z))return!1;var Xe=typeof Z;return Xe=="number"||Xe=="symbol"||Xe=="boolean"||Z==null||dr(Z)?!0:O.test(Z)||!R.test(Z)||ve!=null&&Z in Object(ve)}function Il(Z){var ve=typeof Z;return ve=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?Z!=="__proto__":Z===null}function Fl(Z){return!!fe&&fe in Z}function Nl(Z){var ve=Z&&Z.constructor,Xe=typeof ve=="function"&&ve.prototype||ie;return Z===Xe}function Ul(Z){return Z===Z&&!nn(Z)}function Ns(Z,ve){return function(Xe){return Xe==null?!1:Xe[Z]===ve&&(ve!==void 0||Z in Object(Xe))}}var Bl=Y(function(Z){Z=Xo(Z);var ve=[];return A.test(Z)&&ve.push(""),Z.replace(x,function(Xe,pt,Qt,Ut){ve.push(Qt?Ut.replace(V,"$1"):pt||Xe)}),ve});function Zo(Z){if(typeof Z=="string"||dr(Z))return Z;var ve=Z+"";return ve=="0"&&1/Z==-s?"-0":ve}function ce(Z){if(Z!=null){try{return te.call(Z)}catch{}try{return Z+""}catch{}}return""}function Se(Z,ve){return Z&&Z.length?cc(Z,Pl(ve)):[]}function Y(Z,ve){if(typeof Z!="function"||ve&&typeof ve!="function")throw new TypeError(r);var Xe=function(){var pt=arguments,Qt=ve?ve.apply(this,pt):pt[0],Ut=Xe.cache;if(Ut.has(Qt))return Ut.get(Qt);var fn=Z.apply(this,pt);return Xe.cache=Ut.set(Qt,fn),fn};return Xe.cache=new(Y.Cache||Tt),Xe}Y.Cache=Tt;function de(Z,ve){return Z===ve||Z!==Z&&ve!==ve}function Pe(Z){return Lt(Z)&&ge.call(Z,"callee")&&(!xe.call(Z,"callee")||Ee.call(Z)==u)}var ot=Array.isArray;function It(Z){return Z!=null&&Xt(Z.length)&&!zt(Z)}function Lt(Z){return ir(Z)&&It(Z)}function zt(Z){var ve=nn(Z)?Ee.call(Z):"";return ve==p||ve==w}function Xt(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=l}function nn(Z){var ve=typeof Z;return!!Z&&(ve=="object"||ve=="function")}function ir(Z){return!!Z&&typeof Z=="object"}function dr(Z){return typeof Z=="symbol"||ir(Z)&&Ee.call(Z)==S}var xi=at?Ne(at):qi;function Xo(Z){return Z==null?"":Fs(Z)}function dc(Z,ve,Xe){var pt=Z==null?void 0:ar(Z,ve);return pt===void 0?Xe:pt}function hf(Z,ve){return Z!=null&&ei(Z,ve,yr)}function pg(Z){return It(Z)?Un(Z):Ol(Z)}function U7(Z){return Z}function B7(){}function j7(Z){return ti(Z)?Qe(Zo(Z)):Is(Z)}e.exports=Se})(Xp,Xp.exports);var YG=Xp.exports;const Ps=Wn(YG);function V4(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function KG(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function GG(e,t,n){const a=Nm((n||{}).ignore||[]),i=ZG(t);let o=-1;for(;++o<i.length;)R2(e,"text",s);function s(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(a(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=i[o][0],h=i[o][1];let p=0;const D=d.children.indexOf(u);let E=!1,g=[];f.lastIndex=0;let C=f.exec(u.value);for(;C;){const M=C.index,m={index:C.index,input:C.input,stack:[...c,u]};let b=h(...C,m);if(typeof b=="string"&&(b=b.length>0?{type:"text",value:b}:void 0),b===!1?f.lastIndex=M+1:(p!==M&&g.push({type:"text",value:u.value.slice(p,M)}),Array.isArray(b)?g.push(...b):b&&g.push(b),p=M+C[0].length,E=!0),!f.global)break;C=f.exec(u.value)}return E?(p<u.value.length&&g.push({type:"text",value:u.value.slice(p)}),d.children.splice(D,1,...g)):g=[u],D+g.length}}function ZG(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([XG(a[0]),QG(a[1])])}return t}function XG(e){return typeof e=="string"?new RegExp(KG(e),"g"):e}function QG(e){return typeof e=="function"?e:function(){return e}}const L1="phrasing",I1=["autolink","link","image","label"];function JG(){return{transforms:[oZ],enter:{literalAutolink:tZ,literalAutolinkEmail:F1,literalAutolinkHttp:F1,literalAutolinkWww:F1},exit:{literalAutolink:iZ,literalAutolinkEmail:aZ,literalAutolinkHttp:nZ,literalAutolinkWww:rZ}}}function eZ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:L1,notInConstruct:I1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:L1,notInConstruct:I1},{character:":",before:"[ps]",after:"\\/",inConstruct:L1,notInConstruct:I1}]}}function tZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function F1(e){this.config.enter.autolinkProtocol.call(this,e)}function nZ(e){this.config.exit.autolinkProtocol.call(this,e)}function rZ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function aZ(e){this.config.exit.autolinkEmail.call(this,e)}function iZ(e){this.exit(e)}function oZ(e){GG(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,sZ],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,lZ]],{ignore:["link","linkReference"]})}function sZ(e,t,n,r,a){let i="";if(!nk(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!uZ(n)))return!1;const o=cZ(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function lZ(e,t,n,r){return!nk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function uZ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function cZ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=V4(e,"(");let i=V4(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function nk(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||wl(n)||Bm(n))&&(!t||n!==47)}rk.peek=wZ;function dZ(){return{enter:{gfmFootnoteDefinition:hZ,gfmFootnoteDefinitionLabelString:pZ,gfmFootnoteCall:vZ,gfmFootnoteCallString:yZ},exit:{gfmFootnoteDefinition:gZ,gfmFootnoteDefinitionLabelString:mZ,gfmFootnoteCall:bZ,gfmFootnoteCallString:_Z}}}function fZ(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:EZ,footnoteReference:rk}}}function hZ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function pZ(){this.buffer()}function mZ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=ji(this.sliceSerialize(e)).toLowerCase()}function gZ(e){this.exit(e)}function vZ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function yZ(){this.buffer()}function _Z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=ji(this.sliceSerialize(e)).toLowerCase()}function bZ(e){this.exit(e)}function rk(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{...a.current(),before:i,after:"]"})),s(),o(),i+=a.move("]"),i}function wZ(){return"["}function EZ(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteDefinition"),s=n.enter("label");return i+=a.move(n.safe(n.associationId(e),{...a.current(),before:i,after:"]"})),s(),i+=a.move("]:"+(e.children&&e.children.length>0?" ":"")),a.shift(4),i+=a.move(n.indentLines(n.containerFlow(e,a.current()),CZ)),o(),i}function CZ(e,t,n){return t===0?e:(n?"":"    ")+e}const SZ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ak.peek=xZ;function DZ(){return{canContainEols:["delete"],enter:{strikethrough:MZ},exit:{strikethrough:TZ}}}function kZ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:SZ}],handlers:{delete:ak}}}function MZ(e){this.enter({type:"delete",children:[]},e)}function TZ(e){this.exit(e)}function ak(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function xZ(){return"~"}function RZ(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||OZ,a=[],i=[],o=[],s=[];let l=0,u=-1;for(;++u<e.length;){const p=[],w=[];let D=-1;for(e[u].length>l&&(l=e[u].length);++D<e[u].length;){const E=PZ(e[u][D]);if(t.alignDelimiters!==!1){const g=r(E);w[D]=g,(s[D]===void 0||g>s[D])&&(s[D]=g)}p.push(E)}i[u]=p,o[u]=w}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)a[c]=W4(n[c]);else{const p=W4(n);for(;++c<l;)a[c]=p}c=-1;const d=[],f=[];for(;++c<l;){const p=a[c];let w="",D="";p===99?(w=":",D=":"):p===108?w=":":p===114&&(D=":");let E=t.alignDelimiters===!1?1:Math.max(1,s[c]-w.length-D.length);const g=w+"-".repeat(E)+D;t.alignDelimiters!==!1&&(E=w.length+E+D.length,E>s[c]&&(s[c]=E),f[c]=E),d[c]=g}i.splice(1,0,d),o.splice(1,0,f),u=-1;const h=[];for(;++u<i.length;){const p=i[u],w=o[u];c=-1;const D=[];for(;++c<l;){const E=p[c]||"";let g="",C="";if(t.alignDelimiters!==!1){const M=s[c]-(w[c]||0),m=a[c];m===114?g=" ".repeat(M):m===99?M%2?(g=" ".repeat(M/2+.5),C=" ".repeat(M/2-.5)):(g=" ".repeat(M/2),C=g):C=" ".repeat(M)}t.delimiterStart!==!1&&!c&&D.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&E==="")&&(t.delimiterStart!==!1||c)&&D.push(" "),t.alignDelimiters!==!1&&D.push(g),D.push(E),t.alignDelimiters!==!1&&D.push(C),t.padding!==!1&&D.push(" "),(t.delimiterEnd!==!1||c!==l-1)&&D.push("|")}h.push(t.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return h.join(`
`)}function PZ(e){return e==null?"":String(e)}function OZ(e){return e.length}function W4(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function AZ(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),LZ);return a(),o}function LZ(e,t,n){return">"+(n?"":" ")+e}function IZ(e,t){return q4(e,t.inConstruct,!0)&&!q4(e,t.notInConstruct,!1)}function q4(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Y4(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&IZ(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function FZ(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function NZ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function UZ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function BZ(e,t,n,r){const a=UZ(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(NZ(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(i,jZ);return d(),f}const s=n.createTracker(r),l=a.repeat(Math.max(FZ(i,a)+1,3)),u=n.enter("codeFenced");let c=s.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=s.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=s.move(" "),c+=s.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...s.current()})),d()}return c+=s.move(`
`),i&&(c+=s.move(i+`
`)),c+=s.move(l),u(),c}function jZ(e,t,n){return(n?"":"    ")+e}function q2(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function zZ(e,t,n,r){const a=q2(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),o(),u}function $Z(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}ik.peek=HZ;function ik(e,t,n,r){const a=$Z(n),i=n.enter("emphasis"),o=n.createTracker(r);let s=o.move(a);return s+=o.move(n.containerPhrasing(e,{before:s,after:a,...o.current()})),s+=o.move(a),i(),s}function HZ(e,t,n){return n.options.emphasis||"*"}function VZ(e,t){let n=!1;return Zu(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,L0}),!!((!e.depth||e.depth<3)&&U2(e)&&(t.options.setext||n))}function WZ(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(VZ(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(a===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}ok.peek=qZ;function ok(e){return e.value||""}function qZ(){return"<"}sk.peek=YZ;function sk(e,t,n,r){const a=q2(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),u+=l.move(")"),o(),u}function YZ(){return"!"}lk.peek=KZ;function lk(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=c,i(),a==="full"||!u||u!==d?l+=s.move(d+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function KZ(){return"!"}uk.peek=GZ;function uk(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function GZ(){return"`"}function ck(e,t){const n=U2(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}dk.peek=ZZ;function dk(e,t,n,r){const a=q2(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(ck(e,n)){const c=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=c,d}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+a),u+=o.move(n.safe(e.title,{before:u,after:a,...o.current()})),u+=o.move(a),l()),u+=o.move(")"),s(),u}function ZZ(e,t,n){return ck(e,n)?"<":"["}fk.peek=XZ;function fk(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=c,i(),a==="full"||!u||u!==d?l+=s.move(d+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function XZ(){return"["}function Y2(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function QZ(e){const t=Y2(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function JZ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function hk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function eX(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?JZ(n):Y2(n);const s=e.ordered?o==="."?")":".":QZ(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),hk(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),u}function tX(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function nX(e,t,n,r){const a=tX(n);let i=n.bulletCurrent||Y2(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?i:i+" ".repeat(o-i.length))+d}}function rX(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const aX=Nm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function iX(e,t,n,r){return(e.children.some(function(o){return aX(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function oX(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}pk.peek=sX;function pk(e,t,n,r){const a=oX(n),i=n.enter("strong"),o=n.createTracker(r);let s=o.move(a+a);return s+=o.move(n.containerPhrasing(e,{before:s,after:a,...o.current()})),s+=o.move(a+a),i(),s}function sX(e,t,n){return n.options.strong||"*"}function lX(e,t,n,r){return n.safe(e.value,r)}function uX(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function cX(e,t,n){const r=(hk(n)+(n.options.ruleSpaces?" ":"")).repeat(uX(n));return n.options.ruleSpaces?r.slice(0,-1):r}const mk={blockquote:AZ,break:Y4,code:BZ,definition:zZ,emphasis:ik,hardBreak:Y4,heading:WZ,html:ok,image:sk,imageReference:lk,inlineCode:uk,link:dk,linkReference:fk,list:eX,listItem:nX,paragraph:rX,root:iX,strong:pk,text:lX,thematicBreak:cX};function dX(){return{enter:{table:fX,tableData:K4,tableHeader:K4,tableRow:pX},exit:{codeText:mX,table:hX,tableData:N1,tableHeader:N1,tableRow:N1}}}function fX(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function hX(e){this.exit(e),this.data.inTable=void 0}function pX(e){this.enter({type:"tableRow",children:[]},e)}function N1(e){this.exit(e)}function K4(e){this.enter({type:"tableCell",children:[]},e)}function mX(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,gX));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function gX(e,t){return t==="|"?t:e}function vX(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:s}};function o(h,p,w,D){return u(c(h,w,D),h.align)}function s(h,p,w,D){const E=d(h,w,D),g=u([E]);return g.slice(0,g.indexOf(`
`))}function l(h,p,w,D){const E=w.enter("tableCell"),g=w.enter("phrasing"),C=w.containerPhrasing(h,{...D,before:i,after:i});return g(),E(),C}function u(h,p){return RZ(h,{align:p,alignDelimiters:r,padding:n,stringLength:a})}function c(h,p,w){const D=h.children;let E=-1;const g=[],C=p.enter("table");for(;++E<D.length;)g[E]=d(D[E],p,w);return C(),g}function d(h,p,w){const D=h.children;let E=-1;const g=[],C=p.enter("tableRow");for(;++E<D.length;)g[E]=l(D[E],h,p,w);return C(),g}function f(h,p,w){let D=mk.inlineCode(h,p,w);return w.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function yX(){return{exit:{taskListCheckValueChecked:G4,taskListCheckValueUnchecked:G4,paragraph:bX}}}function _X(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:wX}}}function G4(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function bX(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function wX(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=mk.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function EX(){return[JG(),dZ(),DZ(),dX(),yX()]}function CX(e){return{extensions:[eZ(),fZ(),kZ(),vX(e),_X()]}}const SX={tokenize:RX,partial:!0},gk={tokenize:PX,partial:!0},vk={tokenize:OX,partial:!0},yk={tokenize:AX,partial:!0},DX={tokenize:LX,partial:!0},_k={tokenize:TX,previous:wk},bk={tokenize:xX,previous:Ek},qo={tokenize:MX,previous:Ck},bo={};function kX(){return{text:bo}}let js=48;for(;js<123;)bo[js]=qo,js++,js===58?js=65:js===91&&(js=97);bo[43]=qo;bo[45]=qo;bo[46]=qo;bo[95]=qo;bo[72]=[qo,bk];bo[104]=[qo,bk];bo[87]=[qo,_k];bo[119]=[qo,_k];function MX(e,t,n){const r=this;let a,i;return o;function o(d){return!H0(d)||!Ck.call(r,r.previous)||K2(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return H0(d)?(e.consume(d),s):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(DX,c,u)(d):d===45||d===95||Jr(d)?(i=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),a=!0,l}function c(d){return i&&a&&ma(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function TX(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!wk.call(r,r.previous)||K2(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(SX,e.attempt(gk,e.attempt(vk,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function xX(e,t,n){const r=this;let a="",i=!1;return o;function o(d){return(d===72||d===104)&&Ek.call(r,r.previous)&&!K2(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(ma(d)&&a.length<5)return a+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const f=a.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),i?u:(i=!0,l)):n(d)}function u(d){return d===null||qp(d)||Ln(d)||wl(d)||Bm(d)?n(d):e.attempt(gk,e.attempt(vk,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function RX(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function PX(e,t,n){let r,a,i;return o;function o(u){return u===46||u===95?e.check(yk,l,s)(u):u===null||Ln(u)||wl(u)||u!==45&&Bm(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),o}function l(u){return a||r||!i?n(u):t(u)}}function OX(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(yk,t,i)(o):o===null||Ln(o)||wl(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function AX(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Ln(s)||wl(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Ln(s)||wl(s)?t(s):r(s)}function i(s){return ma(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):ma(s)?(e.consume(s),o):n(s)}}function LX(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Jr(i)?n(i):t(i)}}function wk(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ln(e)}function Ek(e){return!ma(e)}function Ck(e){return!(e===47||H0(e))}function H0(e){return e===43||e===45||e===46||e===95||Jr(e)}function K2(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const IX={tokenize:HX,partial:!0};function FX(){return{document:{91:{tokenize:jX,continuation:{tokenize:zX},exit:$X}},text:{91:{tokenize:BX},93:{add:"after",tokenize:NX,resolveTo:UX}}}}function NX(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=ji(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function UX(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function BX(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(i>999||d===93&&!o||d===null||d===91||Ln(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return a.includes(ji(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ln(d)||(o=!0),i++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),i++,u):u(d)}}function jX(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(o>999||p===93&&!s||p===null||p===91||Ln(p))return n(p);if(p===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return i=ji(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Ln(p)||(s=!0),o++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),o++,c):c(p)}function f(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),a.includes(i)||a.push(i),_n(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function zX(e,t,n){return e.check(rf,t,e.attempt(IX,t,n))}function $X(e){e.exit("gfmFootnoteDefinition")}function HX(e,t,n){const r=this;return _n(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function VX(e){let n=(e||{}).singleTilde;const r={tokenize:i,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",c,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],h=s.parser.constructs.insideSpan.null;h&&_i(f,f.length,0,jm(h,o.slice(u+1,l),s)),_i(f,f.length,0,[["exit",d,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",c,s]]),_i(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function i(o,s,l){const u=this.previous,c=this.events;let d=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(o.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const w=Yp(u);if(p===126)return d>1?l(p):(o.consume(p),d++,h);if(d<2&&!n)return l(p);const D=o.exit("strikethroughSequenceTemporary"),E=Yp(p);return D._open=!E||E===2&&!!w,D._close=!w||w===2&&!!E,s(p)}}}class WX{constructor(){this.map=[]}add(t,n,r){qX(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let a=r.pop();for(;a;)t.push(...a),a=r.pop();this.map.length=0}}function qX(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function YX(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function KX(){return{flow:{null:{tokenize:GX,resolveAll:ZX}}}}function GX(e,t,n){const r=this;let a=0,i=0,o;return s;function s(_){let P=r.events.length-1;for(;P>-1;){const T=r.events[P][1].type;if(T==="lineEnding"||T==="linePrefix")P--;else break}const z=P>-1?r.events[P][1].type:null,N=z==="tableHead"||z==="tableRow"?b:l;return N===b&&r.parser.lazy[r.now().line]?n(_):N(_)}function l(_){return e.enter("tableHead"),e.enter("tableRow"),u(_)}function u(_){return _===124||(o=!0,i+=1),c(_)}function c(_){return _===null?n(_):Ht(_)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),h):n(_):cn(_)?_n(e,c,"whitespace")(_):(i+=1,o&&(o=!1,a+=1),_===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),d(_)))}function d(_){return _===null||_===124||Ln(_)?(e.exit("data"),c(_)):(e.consume(_),_===92?f:d)}function f(_){return _===92||_===124?(e.consume(_),d):d(_)}function h(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(_):(e.enter("tableDelimiterRow"),o=!1,cn(_)?_n(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):p(_))}function p(_){return _===45||_===58?D(_):_===124?(o=!0,e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),w):m(_)}function w(_){return cn(_)?_n(e,D,"whitespace")(_):D(_)}function D(_){return _===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),E):_===45?(i+=1,E(_)):_===null||Ht(_)?M(_):m(_)}function E(_){return _===45?(e.enter("tableDelimiterFiller"),g(_)):m(_)}function g(_){return _===45?(e.consume(_),g):_===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(_))}function C(_){return cn(_)?_n(e,M,"whitespace")(_):M(_)}function M(_){return _===124?p(_):_===null||Ht(_)?!o||a!==i?m(_):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(_)):m(_)}function m(_){return n(_)}function b(_){return e.enter("tableRow"),S(_)}function S(_){return _===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),S):_===null||Ht(_)?(e.exit("tableRow"),t(_)):cn(_)?_n(e,S,"whitespace")(_):(e.enter("data"),y(_))}function y(_){return _===null||_===124||Ln(_)?(e.exit("data"),S(_)):(e.consume(_),_===92?k:y)}function k(_){return _===92||_===124?(e.consume(_),y):y(_)}}function ZX(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,c,d;const f=new WX;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(s=!1,l!==0&&(Z4(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,t]])),a=p.type==="tableDelimiterRow"?2:c?3:1):a&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],d=qf(f,t,i,a,void 0,d),i=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],d=qf(f,t,i,a,void 0,d)),i=o,o=[i[1],n,0,0])):p.type==="tableHead"?(s=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],d=qf(f,t,i,a,n,d)):o[1]!==0&&(d=qf(f,t,o,a,n,d)),a=0):a&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Z4(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=YX(t.events,n))}return e}function qf(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},tu(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=tu(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=tu(t.events,n[2]),c=tu(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,w=n[3]-n[2]-1;e.add(p,w,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return a!==void 0&&(i.end=Object.assign({},tu(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function Z4(e,t,n,r,a){const i=[],o=tu(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function tu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const XX={tokenize:JX};function QX(){return{text:{91:XX}}}function JX(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Ln(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Ht(l)?t(l):cn(l)?e.check({tokenize:eQ},t,n)(l):n(l)}}function eQ(e,t,n){return _n(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function tQ(e){return L8([kX(),FX(),VX(e),KX(),QX()])}const nQ={};function rQ(e){const t=this,n=e||nQ,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(tQ(n)),i.push(EX()),o.push(CX(n))}var aQ=function(e){var t=e.children,n=e.href,r=n==null?void 0:n.startsWith("mailto:"),a=n==null?void 0:n.startsWith("http");return!n||!r&&!a?v.createElement(v.Fragment,null,t):v.createElement("a",{className:Yt({"str-chat__message-url-link":a}),href:n,rel:"nofollow noreferrer noopener",target:"_blank"},t)},iQ=function(e){var t=e.children;return v.createElement("span",{className:"inline-text-emoji","data-testid":"inline-text-emoji"},t)},oQ=function(e){var t=e.children,n=e.node.mentionedUser;return v.createElement("span",{className:"str-chat__message-mention","data-user-id":n.id},t)},sQ=["html","text","br","p","em","strong","a","ol","ul","li","code","pre","blockquote","del","emoji","mention"];function lQ(e){try{return decodeURIComponent(e).replace(A0,"")}catch{return e}}function X4(e){try{return encodeURI(decodeURIComponent(e))}catch{return e}}var uQ=function(e){return e.startsWith("app://")?e:tk(e)},Q4=function(e){return e},cQ={a:aQ,emoji:iQ,mention:oQ},dQ=function(e,t,n){var r=n===void 0?{}:n,a=r.allowedTagNames,i=a===void 0?sQ:a,o=r.customMarkDownRenderers,s=r.getRehypePlugins,l=s===void 0?Q4:s,u=r.getRemarkPlugins,c=u===void 0?Q4:u;if(!e)return null;if(e.trim().length===1)return v.createElement(v.Fragment,null,e);var d=e,f=oW(d),h=iW(d);Ps(Vt(Vt([],O0(d,"email"),!0),O0(d,"url"),!0),"value").forEach(function(D){var E=D.href,g=D.type,C=D.value,M=h.some(function(y){return y==null?void 0:y.includes(C)}),m=f&&f.filter(function(y){var k=E==null?void 0:E.replace(A0,""),_=y==null?void 0:y.replace(A0,"");return!k||!_?!1:k.includes(_)||_.includes(k)});if(!(m.length>0||M))try{if(g==="email"&&t){var b=t.some(function(y){return y.name===C});if(b){d=d.replace(new RegExp(Wp(C),"g"),function(y,k){var _=d.charAt(k-1)==="@";return _?y:"[".concat(y,"](").concat(X4(E),")")});return}}var S=g==="email"?C:lQ(E);d=d.replace(new RegExp(Wp(C),"g"),"[".concat(S,"](").concat(X4(E),")"))}catch{}});var p=[RW,AW,[rQ,{singleTilde:!1}]],w=[kW];return t!=null&&t.length&&w.push(MW(t)),v.createElement(ek,{allowedElements:i,components:ne(ne({},cQ),o),rehypePlugins:l(w),remarkPlugins:c(p),skipHtml:!0,unwrapDisallowed:!0,urlTransform:uQ},d)},fQ=function(e){var t=e.className,n=e.component,r=e.currentTrigger,a=e.dropdownScroll,i=e.getSelectedItem,o=e.getTextToReplace,s=e.Header,l=e.itemClassName,u=e.itemStyle,c=e.onSelect,d=e.selectionEnd,f=e.style,h=e.SuggestionItem,p=e.value,w=e.values,D=En("SuggestionList"),E=D.AutocompleteSuggestionHeader,g=D.AutocompleteSuggestionItem,C=kt("SuggestionList").themeVersion,M=h||g||rW,m=s||E||aW,b=$.useState(void 0),S=b[0],y=b[1],k=[],_=function(U){return S===w.findIndex(function(R){return P(R)===P(U)})},P=function(U){var R=o(U);return R.key?R.key:typeof U=="string"||!U.key?R.text:U.key},z=$.useCallback(function(U){return w.findIndex(function(R){return R.id?R.id===U.id:R.name===U.name})},[w]),N=function(U){U&&(c(o(U)),i&&i(U))},T=$.useCallback(function(U,R){U==null||U.preventDefault();var O=z(R);N(w[O])},[N,z]),L=$.useCallback(function(U){var R=z(U);y(R)},[z]),I=$.useCallback(function(U){return U.key==="ArrowUp"&&y(function(R){if(R===void 0)return 0;var O=R===0?w.length-1:R-1;return a(k[O]),O}),U.key==="ArrowDown"&&y(function(R){if(R===void 0)return 0;var O=R===w.length-1?0:R+1;return a(k[O]),O}),(U.key==="Enter"||U.key==="Tab")&&S!==void 0&&T(U,w[S]),null},[S,w]);$.useEffect(function(){return document.addEventListener("keydown",I,!1),function(){return document.removeEventListener("keydown",I)}},[I]),$.useEffect(function(){w!=null&&w.length&&L(w[0])},[w]);var B=$.useCallback(function(U){var R=U.name||U.id,O=p.slice(0,d),A=O.lastIndexOf(r),x=Wp(O.slice(A+1)),j=R.split(new RegExp("(".concat(x,")"),"gi")),V={match:x,parts:j};return ne(ne({},U),{itemNameParts:V})},[p,d,r]),F=$.useMemo(function(){return w.map(B)},[w,B]);return v.createElement("ul",{className:Yt("rta__list",t),style:f},C==="1"&&v.createElement("li",{className:"rta__list-header"},v.createElement(m,{currentTrigger:r,value:p})),F.map(function(U,R){return v.createElement(M,{className:l,component:n,item:U,key:P(U),onClickHandler:T,onSelectHandler:L,ref:function(O){k[R]=O},selected:_(U),style:u,value:p})}))},hQ=$.useLayoutEffect,pQ=function(t){var n=$.useRef(t);return hQ(function(){n.current=t}),n},J4=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},mQ=function(t,n){var r=$.useRef();return $.useCallback(function(a){t.current=a,r.current&&J4(r.current,null),r.current=n,n&&J4(n,a)},[n])},eE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},gQ=function(t){Object.keys(eE).forEach(function(n){t.style.setProperty(n,eE[n],"important")})},tE=gQ,ca=null,nE=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function vQ(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ca||(ca=document.createElement("textarea"),ca.setAttribute("tabindex","-1"),ca.setAttribute("aria-hidden","true"),tE(ca)),ca.parentNode===null&&document.body.appendChild(ca);var a=e.paddingSize,i=e.borderSize,o=e.sizingStyle,s=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;ca.style[h]=o[h]}),tE(ca),ca.value=t;var l=nE(ca,e);ca.value=t,l=nE(ca,e),ca.value="x";var u=ca.scrollHeight-a,c=u*n;s==="border-box"&&(c=c+a+i),l=Math.max(c,l);var d=u*r;return s==="border-box"&&(d=d+a+i),l=Math.min(d,l),[l,u]}var rE=function(){},yQ=function(t,n){return t.reduce(function(r,a){return r[a]=n[a],r},{})},_Q=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],bQ=!!document.documentElement.currentStyle,wQ=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=yQ(_Q,n),a=r.boxSizing;if(a==="")return null;bQ&&a==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:o}},CQ=wQ;function Sk(e,t,n){var r=pQ(n);$.useLayoutEffect(function(){var a=function(o){return r.current(o)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var SQ=function(t){Sk(window,"resize",t)},DQ=function(t){Sk(document.fonts,"loadingdone",t)},kQ=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],MQ=function(t,n){var r=t.cacheMeasurements,a=t.maxRows,i=t.minRows,o=t.onChange,s=o===void 0?rE:o,l=t.onHeightChange,u=l===void 0?rE:l,c=US(t,kQ),d=c.value!==void 0,f=$.useRef(null),h=mQ(f,n),p=$.useRef(0),w=$.useRef(),D=function(){var C=f.current,M=r&&w.current?w.current:CQ(C);if(M){w.current=M;var m=vQ(M,C.value||C.placeholder||"x",i,a),b=m[0],S=m[1];p.current!==b&&(p.current=b,C.style.setProperty("height",b+"px","important"),u(b,{rowHeight:S}))}},E=function(C){d||D(),s(C)};return $.useLayoutEffect(D),SQ(D),DQ(D),$.createElement("textarea",Lu({},c,{onChange:E,ref:h}))},TQ=$.forwardRef(MQ),Dk={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function a(i,o,s){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var l=s&&s.debug||!1;if(l){var u=document.querySelector("#input-textarea-caret-position-mirror-div");u&&u.parentNode.removeChild(u)}var c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);var d=c.style,f=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,h=i.nodeName==="INPUT";d.whiteSpace="pre-wrap",h||(d.wordWrap="break-word"),d.position="absolute",l||(d.visibility="hidden"),t.forEach(function(D){h&&D==="lineHeight"?d.lineHeight=f.height:d[D]=f[D]}),r?i.scrollHeight>parseInt(f.height)&&(d.overflowY="scroll"):d.overflow="hidden",c.textContent=i.value.substring(0,o),h&&(c.textContent=c.textContent.replace(/\s/g,""));var p=document.createElement("span");p.textContent=i.value.substring(o)||".",c.appendChild(p);var w={top:p.offsetTop+parseInt(f.borderTopWidth),left:p.offsetLeft+parseInt(f.borderLeftWidth),height:parseInt(f.lineHeight)};return l?p.style.backgroundColor="#aaa":document.body.removeChild(c),w}e.exports=a})()})(Dk);var xQ=Dk.exports;const RQ=Wn(xQ);var kk={exports:{}},Pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2=Symbol.for("react.element"),Z2=Symbol.for("react.portal"),$m=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),qm=Symbol.for("react.context"),PQ=Symbol.for("react.server_context"),Ym=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),Xm=Symbol.for("react.lazy"),OQ=Symbol.for("react.offscreen"),Mk;Mk=Symbol.for("react.module.reference");function Mi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case G2:switch(e=e.type,e){case $m:case Vm:case Hm:case Km:case Gm:return e;default:switch(e=e&&e.$$typeof,e){case PQ:case qm:case Ym:case Xm:case Zm:case Wm:return e;default:return t}}case Z2:return t}}}Pn.ContextConsumer=qm;Pn.ContextProvider=Wm;Pn.Element=G2;Pn.ForwardRef=Ym;Pn.Fragment=$m;Pn.Lazy=Xm;Pn.Memo=Zm;Pn.Portal=Z2;Pn.Profiler=Vm;Pn.StrictMode=Hm;Pn.Suspense=Km;Pn.SuspenseList=Gm;Pn.isAsyncMode=function(){return!1};Pn.isConcurrentMode=function(){return!1};Pn.isContextConsumer=function(e){return Mi(e)===qm};Pn.isContextProvider=function(e){return Mi(e)===Wm};Pn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===G2};Pn.isForwardRef=function(e){return Mi(e)===Ym};Pn.isFragment=function(e){return Mi(e)===$m};Pn.isLazy=function(e){return Mi(e)===Xm};Pn.isMemo=function(e){return Mi(e)===Zm};Pn.isPortal=function(e){return Mi(e)===Z2};Pn.isProfiler=function(e){return Mi(e)===Vm};Pn.isStrictMode=function(e){return Mi(e)===Hm};Pn.isSuspense=function(e){return Mi(e)===Km};Pn.isSuspenseList=function(e){return Mi(e)===Gm};Pn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$m||e===Vm||e===Hm||e===Km||e===Gm||e===OQ||typeof e=="object"&&e!==null&&(e.$$typeof===Xm||e.$$typeof===Zm||e.$$typeof===Wm||e.$$typeof===qm||e.$$typeof===Ym||e.$$typeof===Mk||e.getModuleId!==void 0)};Pn.typeOf=Mi;kk.exports=Pn;var Tk=kk.exports,aE="next";function AQ(e,t){if(t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,a=e.scrollTop,i=t.offsetTop;i<a+r&&a<i||(e.scrollTop=i)}}var LQ=function(e){return console.error("RTA: dataProvider fails: ".concat(e,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},IQ=function(e){var t=e.trigger;if(!t)return Error("Invalid prop trigger. Prop missing.");for(var n=Object.entries(t),r=0;r<n.length;r+=1){var a=n[r],i=a[0],o=a[1];if(typeof i!="string"||i.length!==1)return Error("Invalid prop trigger. Keys of the object has to be string / one character.");var s=o,l=s.callback,u=s.component,c=s.dataProvider,d=s.output;if(!Tk.isValidElementType(u))return Error("Invalid prop trigger: component should be defined.");if(!c||typeof c!="function")return Error("Invalid prop trigger: dataProvider should be defined.");if(d&&typeof d!="function")return Error("Invalid prop trigger: output should be a function.");if(l&&typeof l!="function")return Error("Invalid prop trigger: callback should be a function.")}return null},FQ=function(e){var t=e.entity;return v.createElement("div",{className:"str-chat__slash-command"},v.createElement("span",{className:"str-chat__slash-command-header"},v.createElement("strong",null,t.name)," ",t.args),v.createElement("br",null),v.createElement("span",{className:"str-chat__slash-command-description"},t.description))},xk=v.memo(FQ),NQ=function(e,t){var n=e.charCodeAt(t);if(Number.isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}throw"Low surrogate without preceding high surrogate"},Fa=function(e){var t=e.image,n=e.name,r=e.onClick,a=r===void 0?function(){}:r,i=e.onMouseOver,o=i===void 0?function(){}:i,s=e.shape,l=s===void 0?"circle":s,u=e.size,c=u===void 0?32:u,d=$.useState(!1),f=d[0],h=d[1],p=$.useState(!1),w=p[0],D=p[1];$.useEffect(function(){h(!1),D(!1)},[t]);var E=(n==null?void 0:n.toString())||"",g=NQ(E,0);return v.createElement("div",{className:"str-chat__avatar str-chat__avatar--".concat(l," str-chat__message-sender-avatar"),"data-testid":"avatar",onClick:a,onMouseOver:o,style:{flexBasis:"".concat(c,"px"),fontSize:"".concat(c/2,"px"),height:"".concat(c,"px"),lineHeight:"".concat(c,"px"),width:"".concat(c,"px")},title:n},t&&!f?v.createElement("img",{alt:g,className:"str-chat__avatar-image".concat(w?" str-chat__avatar-image--loaded":""),"data-testid":"avatar-img",onError:function(){return h(!0)},onLoad:function(){return D(!0)},src:t,style:{flexBasis:"".concat(c,"px"),height:"".concat(c,"px"),objectFit:"cover",width:"".concat(c,"px")}}):v.createElement("div",{className:"str-chat__avatar-fallback","data-testid":"avatar-fallback"},g))},UQ=function(e){var t=e.Avatar,n=t===void 0?Fa:t,r=e.entity,a=kt("UserItem").themeVersion,i=!!Object.keys(r).length,o=r==null?void 0:r.itemNameParts,s=function(){return i?o.parts.map(function(l,u){var c=l.toLowerCase()===o.match.toLowerCase();return v.createElement("span",{className:Yt({"str-chat__emoji-item--highlight":c,"str-chat__emoji-item--part":!c}),key:"part-".concat(u)},l)}):null};return v.createElement("div",{className:"str-chat__user-item"},v.createElement(n,{image:r.image,name:r.name||r.id,size:20}),v.createElement("span",{className:"str-chat__user-item--name","data-testid":"user-item-name"},s()),a==="2"&&v.createElement("div",{className:"str-chat__user-item-at"},"@"))},Rk=v.memo(UQ),Pk=function(){return typeof navigator>"u"?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent||"")},Ok=function(e){t2(t,e);function t(n){var r=e.call(this,n)||this;r.getSelectionPosition=function(){return r.textareaRef?{selectionEnd:r.textareaRef.selectionEnd,selectionStart:r.textareaRef.selectionStart}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var l=r.textareaRef,u=l.selectionEnd,c=l.selectionStart;return c===u?null:r.state.value.substr(c,u-c)},r.setCaretPosition=function(l){l===void 0&&(l=0),r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(l,l))},r.getCaretPosition=function(){return r.textareaRef?r.textareaRef.selectionEnd:0},r._defaultShouldSubmit=function(l){return l.key==="Enter"&&!l.shiftKey&&!l.nativeEvent.isComposing},r._handleKeyDown=function(l){var u=r.props.shouldSubmit,c=u===void 0?r._defaultShouldSubmit:u;if((l.key==="ArrowUp"||l.key==="ArrowDown")&&r.dropdownRef&&l.preventDefault(),c!=null&&c(l))return r._onEnter(l);if(l.key===" ")return r._onSpace(l);if(l.key==="Escape")return r._closeAutocomplete()},r._onEnter=function(l){return St(r,void 0,void 0,function(){var u;return Dt(this,function(c){switch(c.label){case 0:return this.textareaRef?(u=this.state.currentTrigger,!u||!this.state.data?(l.persist(),[4,this._replaceWord()]):[3,2]):[2];case 1:c.sent(),this.textareaRef&&(this.textareaRef.selectionEnd=0),this.props.handleSubmit(l),this._closeAutocomplete(),c.label=2;case 2:return[2]}})})},r._onSpace=function(){if(!(!r.props.replaceWord||!r.textareaRef)){var l=r.textareaRef.matches(":focus");l&&r._replaceWord()}},r._replaceWord=function(){return St(r,void 0,void 0,function(){var l,u,c,d,f,h,p,w,D,E=this;return Dt(this,function(g){switch(g.label){case 0:return l=this.state.value,u=/([^\s]+)(\s*)$/,c=u.exec(l.slice(0,this.getCaretPosition())),d=c&&c[1],d?(f=c[2],[4,this.props.replaceWord(d)]):[2];case 1:return h=g.sent(),h==null?[2]:(p=l.slice(0,this.getCaretPosition()-c[0].length),w=l.slice(this.getCaretPosition(),-1),D=p+h+f+w,this.setState({value:D},function(){var C=new CustomEvent("change",{bubbles:!0});E.textareaRef.dispatchEvent(C),E.props.onChange&&E.props.onChange(C)}),[2])}})})},r._onSelect=function(l){var u=r.props,c=u.closeCommandsList,d=u.closeMentionsList,f=u.onChange,h=u.showCommandsList,p=u.showMentionsList,w=r.state,D=w.currentTrigger,E=w.selectionEnd,g=w.value,C=h?"/":p?"@":D;if(C){var M=function(P,z,N){switch(P){case"start":return N;case"next":case"end":return N+z.length;default:if(!Number.isInteger(P))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return P}},m=h?"/":p?"@":g.slice(0,E),b=m.lastIndexOf(C),S=l.caretPosition==="next"?"".concat(l.text," "):l.text,y=M(l.caretPosition,S,b),k=m.substring(0,b)+S,_=g.replace(m,k);r.setState({dataLoading:!1,value:_},function(){var P=new CustomEvent("change",{bubbles:!0});r.textareaRef.dispatchEvent(P),f&&f(P),r.setCaretPosition(y)}),r._closeAutocomplete(),h&&c(),p&&d()}},r._getItemOnSelect=function(l){var u=r.state.currentTrigger,c=r._getCurrentTriggerSettings(l),d=l||u;if(!d||!c)return null;var f=c.callback;return f?function(h){if(typeof f!="function")throw new Error('Output functor is not defined! You have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');return f?f(h,d):null}:null},r._getTextToReplace=function(l){var u=r.state,c=u.actualToken,d=u.currentTrigger,f=r._getCurrentTriggerSettings(l),h=l||d;if(!h||!f)return null;var p=f.output;return function(w){if(typeof w=="object"&&(!p||typeof p!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(p){var D=p(w,h);if(!D||typeof D=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(D),'". Check the implementation for trigger "').concat(h,'" and its token "').concat(c,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more informations.
`));if(typeof D=="string")return{caretPosition:aE,text:D};if(!D.text&&h!==":")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(h,'" and its token "').concat(c,`"
`));if(!D.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(h,'" and its token "').concat(c,`"
`));return D}if(typeof w!="string")throw new Error(`Output item should be string
`);return{caretPosition:aE,text:"".concat(h).concat(w).concat(h)}}},r._getCurrentTriggerSettings=function(l){var u=r.state.currentTrigger,c=l||u;return c?r.props.trigger[c]:null},r._getValuesFromProvider=function(){var l=r.state,u=l.actualToken,c=l.currentTrigger,d=r._getCurrentTriggerSettings();if(!(!c||!d)){var f=d.component,h=d.dataProvider;if(typeof h!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0}),h(u,r.state.value,function(p,w){if(w===r.state.actualToken){if(!Array.isArray(p))throw new Error("Trigger provider has to provide an array!");if(!Tk.isValidElementType(f))throw new Error("Component should be defined!");if(c===r.state.currentTrigger){if(!p.length){r._closeAutocomplete();return}r.setState({component:f,data:p,dataLoading:!1})}}})}},r._getSuggestions=function(l){var u=r.state,c=u.currentTrigger,d=u.data,f=l||c;return!f||!d||d&&!d.length?null:d},r._closeAutocomplete=function(){r.setState({currentTrigger:null,data:null,dataLoading:!1,left:null,top:null})},r._cleanUpProps=function(){var l=ne({},r.props),u=["additionalTextareaProps","className","closeCommandsList","closeMentionsList","closeOnClickOutside","containerClassName","containerStyle","disableMentions","dropdownClassName","dropdownStyle","grow","handleSubmit","innerRef","itemClassName","itemStyle","listClassName","listStyle","loaderClassName","loaderStyle","loadingComponent","minChar","movePopupAsYouType","onCaretPositionChange","onChange","ref","replaceWord","scrollToItem","shouldSubmit","showCommandsList","showMentionsList","SuggestionItem","SuggestionList","trigger","value"];for(var c in l)u.includes(c)&&delete l[c];return l},r._isCommand=function(l){if(l[0]!=="/")return!1;var u=l.split(" ");return u.length<=1},r._changeHandler=function(l){var u=r.props,c=u.minChar,d=u.movePopupAsYouType,f=u.onCaretPositionChange,h=u.onChange,p=u.trigger,w=r.state,D=w.left,E=w.top,g=l.target,C=g.selectionEnd,M=g.selectionStart,m=g.value;h&&(l.persist(),h(l)),f&&f(r.getCaretPosition()),r.setState({value:m});var b,S;if(r._isCommand(m))b="/",S=m;else{var y=Object.keys(p).join().replace("/",""),k="[^\\s".concat(y,"]*"),_=new RegExp("(?!^|\\W)?[".concat(y,"]").concat(k,"\\s?").concat(k,"$"),"g"),P=m.slice(0,C).match(_);S=P&&P[P.length-1].trim(),b=S&&Object.keys(p).find(function(I){return I===S[0]})||null}if(!S||S.length<=c){r._closeAutocomplete();return}var z=S.slice(1);if(b){if(d||E===null&&D===null||S.length===1){var N=RQ(g,C),T=N.left,L=N.top;r.setState({left:T,top:L-r.textareaRef.scrollTop||0})}r.setState({actualToken:z,currentTrigger:b,selectionEnd:C,selectionStart:M},function(){try{r._getValuesFromProvider()}catch(I){LQ(I.message)}})}},r._selectHandler=function(l){var u=r.props,c=u.onCaretPositionChange,d=u.onSelect;c&&c(r.getCaretPosition()),d&&(l.persist(),d(l))},r._onClickAndBlurHandler=function(l){var u=r.props,c=u.closeOnClickOutside,d=u.onBlur,f=l.relatedTarget,h=Pk()&&l.type==="blur";r.dropdownRef&&f instanceof Node&&r.dropdownRef.contains(f)||h||(c&&r._closeAutocomplete(),d&&(l.persist(),d(l)))},r._onScrollHandler=function(){return r._closeAutocomplete()},r._dropdownScroll=function(l){var u=r.props.scrollToItem;if(u){if(u===!0){AQ(r.dropdownRef,l);return}if(typeof u!="function"||u.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");u(r.dropdownRef,l)}},r.getTriggerProps=function(){var l=r.props,u=l.showCommandsList,c=l.showMentionsList,d=l.trigger,f=r.state,h=f.component,p=f.currentTrigger,w=f.selectionEnd,D=f.value,E=r._getItemOnSelect(),g=r._getSuggestions(),C=r._getTextToReplace(),M={component:h,currentTrigger:p,getSelectedItem:E,getTextToReplace:C,selectionEnd:w,value:D,values:g};if(u&&d["/"]||c&&d["@"]){var m,b=d[u?"/":"@"].dataProvider;b==null||b("",u?"/":"@",function(S){m=S}),M.component=u?xk:Rk,M.currentTrigger=u?"/":"@",M.getTextToReplace=r._getTextToReplace(u?"/":"@"),M.getSelectedItem=r._getItemOnSelect(u?"/":"@"),M.selectionEnd=1,M.value=u?"/":"@",M.values=m}return M},r.setDropdownRef=function(l){r.dropdownRef=l};var a=r.props,i=a.loadingComponent,o=a.trigger,s=a.value;if(!i)throw new Error("RTA: loadingComponent is not defined");if(!o)throw new Error("RTA: trigger is not defined");return r.state={actualToken:"",component:null,currentTrigger:null,data:null,dataLoading:!1,isComposing:!1,left:null,selectionEnd:0,selectionStart:0,top:null,value:s||""},r}return t.getDerivedStateFromProps=function(n,r){return n.value!==r.propsValue||!r.value?{propsValue:n.value,value:n.value}:null},t.prototype.renderSuggestionListContainer=function(){var n=this.props,r=n.disableMentions,a=n.dropdownClassName,i=n.dropdownStyle,o=n.itemClassName,s=n.itemStyle,l=n.listClassName,u=n.SuggestionItem,c=n.SuggestionList,d=c===void 0?fQ:c,f=this.state.isComposing,h=this.getTriggerProps();return f||!h.values||!h.currentTrigger||r&&h.currentTrigger==="@"?null:v.createElement("div",{className:Yt("rta__autocomplete","str-chat__suggestion-list-container",a),ref:this.setDropdownRef,style:i},v.createElement(d,ne({className:Yt("str-chat__suggestion-list",l),dropdownScroll:this._dropdownScroll,itemClassName:Yt("str-chat__suggestion-list-item",o),itemStyle:s,onSelect:this._onSelect,SuggestionItem:u},h)))},t.prototype.render=function(){var n=this,r=this.props,a=r.className,i=r.containerClassName,o=r.containerStyle,s=r.style,l=this.props.additionalTextareaProps||{},u=l.onBlur,c=l.onChange,d=l.onClick,f=l.onFocus,h=l.onKeyDown,p=l.onScroll,w=l.onSelect,D=Bt(l,["onBlur","onChange","onClick","onFocus","onKeyDown","onScroll","onSelect"]),E=this.props.maxRows,g=this.state,C=g.dataLoading,M=g.value;return this.props.grow||(E=1),v.createElement("div",{className:Yt("rta",i,{"rta--loading":C}),style:o},this.renderSuggestionListContainer(),v.createElement(TQ,ne({"data-testid":"message-input"},this._cleanUpProps(),{className:Yt("rta__textarea",a),maxRows:E,onBlur:function(m){n._onClickAndBlurHandler(m),u==null||u(m)},onChange:function(m){n._changeHandler(m),c==null||c(m)},onClick:function(m){n._onClickAndBlurHandler(m),d==null||d(m)},onCompositionEnd:function(){return n.setState(function(m){return ne(ne({},m),{isComposing:!1})})},onCompositionStart:function(){return n.setState(function(m){return ne(ne({},m),{isComposing:!0})})},onFocus:function(m){var b,S;(S=(b=n.props).onFocus)===null||S===void 0||S.call(b,m),f==null||f(m)},onKeyDown:function(m){n._handleKeyDown(m),h==null||h(m)},onScroll:function(m){n._onScrollHandler(m),p==null||p(m)},onSelect:function(m){n._selectHandler(m),w==null||w(m)},ref:function(m){var b;(b=n.props)===null||b===void 0||b.innerRef(m),n.textareaRef=m},style:s,value:M},D,{defaultValue:void 0})))},t.defaultProps={closeOnClickOutside:!0,maxRows:10,minChar:1,movePopupAsYouType:!1,scrollToItem:!0,value:""},t}(v.Component);Ok.propTypes={className:Wt.string,closeOnClickOutside:Wt.bool,containerClassName:Wt.string,containerStyle:Wt.object,disableMentions:Wt.bool,dropdownClassName:Wt.string,dropdownStyle:Wt.object,itemClassName:Wt.string,itemStyle:Wt.object,listClassName:Wt.string,listStyle:Wt.object,loaderClassName:Wt.string,loaderStyle:Wt.object,loadingComponent:Wt.elementType,minChar:Wt.number,onBlur:Wt.func,onCaretPositionChange:Wt.func,onChange:Wt.func,onSelect:Wt.func,shouldSubmit:Wt.func,style:Wt.object,SuggestionList:Wt.elementType,trigger:IQ,value:Wt.string};var BQ="Expected a function",iE=NaN,jQ="[object Symbol]",zQ=/^\s+|\s+$/g,$Q=/^[-+]0x[0-9a-f]+$/i,HQ=/^0b[01]+$/i,VQ=/^0o[0-7]+$/i,WQ=parseInt,qQ=typeof jt=="object"&&jt&&jt.Object===Object&&jt,YQ=typeof self=="object"&&self&&self.Object===Object&&self,KQ=qQ||YQ||Function("return this")(),GQ=Object.prototype,ZQ=GQ.toString,XQ=Math.max,QQ=Math.min,U1=function(){return KQ.Date.now()};function JQ(e,t,n){var r,a,i,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(BQ);t=oE(t)||0,V0(n)&&(c=!!n.leading,d="maxWait"in n,i=d?XQ(oE(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function h(b){var S=r,y=a;return r=a=void 0,u=b,o=e.apply(y,S),o}function p(b){return u=b,s=setTimeout(E,t),c?h(b):o}function w(b){var S=b-l,y=b-u,k=t-S;return d?QQ(k,i-y):k}function D(b){var S=b-l,y=b-u;return l===void 0||S>=t||S<0||d&&y>=i}function E(){var b=U1();if(D(b))return g(b);s=setTimeout(E,w(b))}function g(b){return s=void 0,f&&r?h(b):(r=a=void 0,o)}function C(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function M(){return s===void 0?o:g(U1())}function m(){var b=U1(),S=D(b);if(r=arguments,a=this,l=b,S){if(s===void 0)return p(l);if(d)return s=setTimeout(E,t),h(l)}return s===void 0&&(s=setTimeout(E,t)),o}return m.cancel=C,m.flush=M,m}function V0(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function eJ(e){return!!e&&typeof e=="object"}function tJ(e){return typeof e=="symbol"||eJ(e)&&ZQ.call(e)==jQ}function oE(e){if(typeof e=="number")return e;if(tJ(e))return iE;if(V0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=V0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(zQ,"");var n=HQ.test(e);return n||VQ.test(e)?WQ(e.slice(2),n?2:8):$Q.test(e)?iE:+e}var nJ=JQ;const Qp=Wn(nJ);var Jp={exports:{}};Jp.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",a=800,i=16,o=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",w="[object Map]",D="[object Number]",E="[object Null]",g="[object Object]",C="[object Proxy]",M="[object RegExp]",m="[object Set]",b="[object String]",S="[object Undefined]",y="[object WeakMap]",k="[object ArrayBuffer]",_="[object DataView]",P="[object Float32Array]",z="[object Float64Array]",N="[object Int8Array]",T="[object Int16Array]",L="[object Int32Array]",I="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",U="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,x={};x[P]=x[z]=x[N]=x[T]=x[L]=x[I]=x[B]=x[F]=x[U]=!0,x[s]=x[l]=x[k]=x[c]=x[_]=x[d]=x[f]=x[h]=x[w]=x[D]=x[g]=x[M]=x[m]=x[b]=x[y]=!1;var j=typeof jt=="object"&&jt&&jt.Object===Object&&jt,V=typeof self=="object"&&self&&self.Object===Object&&self,X=j||V||Function("return this")(),re=t&&!t.nodeType&&t,W=re&&!0&&e&&!e.nodeType&&e,J=W&&W.exports===re,oe=J&&j.process,he=function(){try{var Y=W&&W.require&&W.require("util").types;return Y||oe&&oe.binding&&oe.binding("util")}catch{}}(),Oe=he&&he.isTypedArray;function $e(Y,de,Pe){switch(Pe.length){case 0:return Y.call(de);case 1:return Y.call(de,Pe[0]);case 2:return Y.call(de,Pe[0],Pe[1]);case 3:return Y.call(de,Pe[0],Pe[1],Pe[2])}return Y.apply(de,Pe)}function Ie(Y,de){for(var Pe=-1,ot=Array(Y);++Pe<Y;)ot[Pe]=de(Pe);return ot}function ze(Y){return function(de){return Y(de)}}function We(Y,de){return Y==null?void 0:Y[de]}function at(Y,de){return function(Pe){return Y(de(Pe))}}var bt=Array.prototype,H=Function.prototype,q=Object.prototype,De=X["__core-js_shared__"],Fe=H.toString,Qe=q.hasOwnProperty,le=function(){var Y=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return Y?"Symbol(src)_1."+Y:""}(),Ne=q.toString,pe=Fe.call(Object),Te=RegExp("^"+Fe.call(Qe).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=J?X.Buffer:void 0,Be=X.Symbol,ut=X.Uint8Array;Ue&&Ue.allocUnsafe;var Mt=at(Object.getPrototypeOf,Object),K=Object.create,G=q.propertyIsEnumerable,ie=bt.splice,se=Be?Be.toStringTag:void 0,fe=function(){try{var Y=yr(Object,"defineProperty");return Y({},"",{}),Y}catch{}}(),te=Ue?Ue.isBuffer:void 0,ge=Math.max,Ee=Date.now,ye=yr(X,"Map"),Ae=yr(Object,"create"),we=function(){function Y(){}return function(de){if(!Lr(de))return{};if(K)return K(de);Y.prototype=de;var Pe=new Y;return Y.prototype=void 0,Pe}}();function xe(Y){var de=-1,Pe=Y==null?0:Y.length;for(this.clear();++de<Pe;){var ot=Y[de];this.set(ot[0],ot[1])}}function nt(){this.__data__=Ae?Ae(null):{},this.size=0}function lt(Y){var de=this.has(Y)&&delete this.__data__[Y];return this.size-=de?1:0,de}function Ke(Y){var de=this.__data__;if(Ae){var Pe=de[Y];return Pe===r?void 0:Pe}return Qe.call(de,Y)?de[Y]:void 0}function yt(Y){var de=this.__data__;return Ae?de[Y]!==void 0:Qe.call(de,Y)}function ke(Y,de){var Pe=this.__data__;return this.size+=this.has(Y)?0:1,Pe[Y]=Ae&&de===void 0?r:de,this}xe.prototype.clear=nt,xe.prototype.delete=lt,xe.prototype.get=Ke,xe.prototype.has=yt,xe.prototype.set=ke;function rt(Y){var de=-1,Pe=Y==null?0:Y.length;for(this.clear();++de<Pe;){var ot=Y[de];this.set(ot[0],ot[1])}}function Pt(){this.__data__=[],this.size=0}function Ye(Y){var de=this.__data__,Pe=gt(de,Y);if(Pe<0)return!1;var ot=de.length-1;return Pe==ot?de.pop():ie.call(de,Pe,1),--this.size,!0}function ht(Y){var de=this.__data__,Pe=gt(de,Y);return Pe<0?void 0:de[Pe][1]}function Je(Y){return gt(this.__data__,Y)>-1}function xt(Y,de){var Pe=this.__data__,ot=gt(Pe,Y);return ot<0?(++this.size,Pe.push([Y,de])):Pe[ot][1]=de,this}rt.prototype.clear=Pt,rt.prototype.delete=Ye,rt.prototype.get=ht,rt.prototype.has=Je,rt.prototype.set=xt;function me(Y){var de=-1,Pe=Y==null?0:Y.length;for(this.clear();++de<Pe;){var ot=Y[de];this.set(ot[0],ot[1])}}function ue(){this.size=0,this.__data__={hash:new xe,map:new(ye||rt),string:new xe}}function Ce(Y){var de=Ar(this,Y).delete(Y);return this.size-=de?1:0,de}function Le(Y){return Ar(this,Y).get(Y)}function _e(Y){return Ar(this,Y).has(Y)}function Ge(Y,de){var Pe=Ar(this,Y),ot=Pe.size;return Pe.set(Y,de),this.size+=Pe.size==ot?0:1,this}me.prototype.clear=ue,me.prototype.delete=Ce,me.prototype.get=Le,me.prototype.has=_e,me.prototype.set=Ge;function Ze(Y){var de=this.__data__=new rt(Y);this.size=de.size}function ee(){this.__data__=new rt,this.size=0}function ae(Y){var de=this.__data__,Pe=de.delete(Y);return this.size=de.size,Pe}function Re(Y){return this.__data__.get(Y)}function je(Y){return this.__data__.has(Y)}function He(Y,de){var Pe=this.__data__;if(Pe instanceof rt){var ot=Pe.__data__;if(!ye||ot.length<n-1)return ot.push([Y,de]),this.size=++Pe.size,this;Pe=this.__data__=new me(ot)}return Pe.set(Y,de),this.size=Pe.size,this}Ze.prototype.clear=ee,Ze.prototype.delete=ae,Ze.prototype.get=Re,Ze.prototype.has=je,Ze.prototype.set=He;function Ve(Y,de){var Pe=Eo(Y),ot=!Pe&&wo(Y),It=!Pe&&!ot&&Ba(Y),Lt=!Pe&&!ot&&!It&&Fl(Y),zt=Pe||ot||It||Lt,Xt=zt?Ie(Y.length,String):[],nn=Xt.length;for(var ir in Y)zt&&(ir=="length"||It&&(ir=="offset"||ir=="parent")||Lt&&(ir=="buffer"||ir=="byteLength"||ir=="byteOffset")||Ca(ir,nn))||Xt.push(ir);return Xt}function st(Y,de,Pe){(Pe!==void 0&&!Ti(Y[de],Pe)||Pe===void 0&&!(de in Y))&&wt(Y,de,Pe)}function mt(Y,de,Pe){var ot=Y[de];(!(Qe.call(Y,de)&&Ti(ot,Pe))||Pe===void 0&&!(de in Y))&&wt(Y,de,Pe)}function gt(Y,de){for(var Pe=Y.length;Pe--;)if(Ti(Y[Pe][0],de))return Pe;return-1}function wt(Y,de,Pe){de=="__proto__"&&fe?fe(Y,de,{configurable:!0,enumerable:!0,value:Pe,writable:!0}):Y[de]=Pe}var Tt=vr();function Ot(Y){return Y==null?Y===void 0?S:E:se&&se in Object(Y)?oa(Y):uc(Y)}function Nt(Y){return ti(Y)&&Ot(Y)==s}function Ct(Y){if(!Lr(Y)||Pl(Y))return!1;var de=sa(Y)?Te:O;return de.test(Go(Y))}function Gt(Y){return ti(Y)&&ei(Y.length)&&!!x[Ot(Y)]}function Cn(Y){if(!Lr(Y))return lc(Y);var de=Ol(Y),Pe=[];for(var ot in Y)ot=="constructor"&&(de||!Qe.call(Y,ot))||Pe.push(ot);return Pe}function an(Y,de,Pe,ot,It){Y!==de&&Tt(de,function(Lt,zt){if(It||(It=new Ze),Lr(Lt))Tn(Y,de,zt,Pe,an,ot,It);else{var Xt=ot?ot(Fs(Y,zt),Lt,zt+"",Y,de,It):void 0;Xt===void 0&&(Xt=Lt),st(Y,zt,Xt)}},Ns)}function Tn(Y,de,Pe,ot,It,Lt,zt){var Xt=Fs(Y,Pe),nn=Fs(de,Pe),ir=zt.get(nn);if(ir){st(Y,Pe,ir);return}var dr=Lt?Lt(Xt,nn,Pe+"",Y,de,zt):void 0,xi=dr===void 0;if(xi){var Xo=Eo(nn),dc=!Xo&&Ba(nn),hf=!Xo&&!dc&&Fl(nn);dr=nn,Xo||dc||hf?Eo(Xt)?dr=Xt:Ll(Xt)?dr=Ua(Xt):dc?(xi=!1,dr=sn(nn)):hf?(xi=!1,dr=aa(nn)):dr=[]:Il(nn)||wo(nn)?(dr=Xt,wo(Xt)?dr=Nl(Xt):(!Lr(Xt)||sa(Xt))&&(dr=Bn(nn))):xi=!1}xi&&(zt.set(nn,dr),It(dr,nn,ot,Lt,zt),zt.delete(nn)),st(Y,Pe,dr)}function In(Y,de){return cc(Is(Y,de,ce),Y+"")}var en=fe?function(Y,de){return fe(Y,"toString",{configurable:!0,enumerable:!1,value:Zo(de),writable:!0})}:ce;function sn(Y,de){return Y.slice()}function Sn(Y){var de=new Y.constructor(Y.byteLength);return new ut(de).set(new ut(Y)),de}function aa(Y,de){var Pe=Sn(Y.buffer);return new Y.constructor(Pe,Y.byteOffset,Y.length)}function Ua(Y,de){var Pe=-1,ot=Y.length;for(de||(de=Array(ot));++Pe<ot;)de[Pe]=Y[Pe];return de}function ia(Y,de,Pe,ot){var It=!Pe;Pe||(Pe={});for(var Lt=-1,zt=de.length;++Lt<zt;){var Xt=de[Lt],nn=void 0;nn===void 0&&(nn=Y[Xt]),It?wt(Pe,Xt,nn):mt(Pe,Xt,nn)}return Pe}function Un(Y){return In(function(de,Pe){var ot=-1,It=Pe.length,Lt=It>1?Pe[It-1]:void 0,zt=It>2?Pe[2]:void 0;for(Lt=Y.length>3&&typeof Lt=="function"?(It--,Lt):void 0,zt&&Wi(Pe[0],Pe[1],zt)&&(Lt=It<3?void 0:Lt,It=1),de=Object(de);++ot<It;){var Xt=Pe[ot];Xt&&Y(de,Xt,ot,Lt)}return de})}function vr(Y){return function(de,Pe,ot){for(var It=-1,Lt=Object(de),zt=ot(de),Xt=zt.length;Xt--;){var nn=zt[++It];if(Pe(Lt[nn],nn,Lt)===!1)break}return de}}function ar(Y,de,Pe,ot,It,Lt){return Lr(Y)&&Lr(de)&&(Lt.set(de,Y),an(Y,de,void 0,ar,Lt),Lt.delete(de)),Y}function Ar(Y,de){var Pe=Y.__data__;return qi(de)?Pe[typeof de=="string"?"string":"hash"]:Pe.map}function yr(Y,de){var Pe=We(Y,de);return Ct(Pe)?Pe:void 0}function oa(Y){var de=Qe.call(Y,se),Pe=Y[se];try{Y[se]=void 0;var ot=!0}catch{}var It=Ne.call(Y);return ot&&(de?Y[se]=Pe:delete Y[se]),It}function Bn(Y){return typeof Y.constructor=="function"&&!Ol(Y)?we(Mt(Y)):{}}function Ca(Y,de){var Pe=typeof Y;return de=de??o,!!de&&(Pe=="number"||Pe!="symbol"&&A.test(Y))&&Y>-1&&Y%1==0&&Y<de}function Wi(Y,de,Pe){if(!Lr(Pe))return!1;var ot=typeof de;return(ot=="number"?Yi(Pe)&&Ca(de,Pe.length):ot=="string"&&de in Pe)?Ti(Pe[de],Y):!1}function qi(Y){var de=typeof Y;return de=="string"||de=="number"||de=="symbol"||de=="boolean"?Y!=="__proto__":Y===null}function Pl(Y){return!!le&&le in Y}function Ol(Y){var de=Y&&Y.constructor,Pe=typeof de=="function"&&de.prototype||q;return Y===Pe}function lc(Y){var de=[];if(Y!=null)for(var Pe in Object(Y))de.push(Pe);return de}function uc(Y){return Ne.call(Y)}function Is(Y,de,Pe){return de=ge(de===void 0?Y.length-1:de,0),function(){for(var ot=arguments,It=-1,Lt=ge(ot.length-de,0),zt=Array(Lt);++It<Lt;)zt[It]=ot[de+It];It=-1;for(var Xt=Array(de+1);++It<de;)Xt[It]=ot[It];return Xt[de]=Pe(zt),$e(Y,this,Xt)}}function Fs(Y,de){if(!(de==="constructor"&&typeof Y[de]=="function")&&de!="__proto__")return Y[de]}var cc=Al(en);function Al(Y){var de=0,Pe=0;return function(){var ot=Ee(),It=i-(ot-Pe);if(Pe=ot,It>0){if(++de>=a)return arguments[0]}else de=0;return Y.apply(void 0,arguments)}}function Go(Y){if(Y!=null){try{return Fe.call(Y)}catch{}try{return Y+""}catch{}}return""}function Ti(Y,de){return Y===de||Y!==Y&&de!==de}var wo=Nt(function(){return arguments}())?Nt:function(Y){return ti(Y)&&Qe.call(Y,"callee")&&!G.call(Y,"callee")},Eo=Array.isArray;function Yi(Y){return Y!=null&&ei(Y.length)&&!sa(Y)}function Ll(Y){return ti(Y)&&Yi(Y)}var Ba=te||Se;function sa(Y){if(!Lr(Y))return!1;var de=Ot(Y);return de==h||de==p||de==u||de==C}function ei(Y){return typeof Y=="number"&&Y>-1&&Y%1==0&&Y<=o}function Lr(Y){var de=typeof Y;return Y!=null&&(de=="object"||de=="function")}function ti(Y){return Y!=null&&typeof Y=="object"}function Il(Y){if(!ti(Y)||Ot(Y)!=g)return!1;var de=Mt(Y);if(de===null)return!0;var Pe=Qe.call(de,"constructor")&&de.constructor;return typeof Pe=="function"&&Pe instanceof Pe&&Fe.call(Pe)==pe}var Fl=Oe?ze(Oe):Gt;function Nl(Y){return ia(Y,Ns(Y))}var Ul=In(function(Y){return Y.push(void 0,ar),$e(Bl,void 0,Y)});function Ns(Y){return Yi(Y)?Ve(Y):Cn(Y)}var Bl=Un(function(Y,de,Pe,ot){an(Y,de,Pe,ot)});function Zo(Y){return function(){return Y}}function ce(Y){return Y}function Se(){return!1}e.exports=Ul})(Jp,Jp.exports);var rJ=Jp.exports;const aJ=Wn(rJ);let qa=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var iJ=function(e,t){var n;switch(t.type){case"closeThread":return ne(ne({},e),{thread:null,threadLoadingMore:!1,threadMessages:[]});case"copyMessagesFromChannel":{var r=t.channel,a=t.parentId;return ne(ne({},e),{messages:Vt([],r.state.messages,!0),pinnedMessages:Vt([],r.state.pinnedMessages,!0),suppressAutoscroll:!1,threadMessages:a?ne({},r.state.threads)[a]||[]:e.threadMessages})}case"copyStateFromChannelOnEvent":{var r=t.channel;return ne(ne({},e),{members:ne({},r.state.members),messages:Vt([],r.state.messages,!0),pinnedMessages:Vt([],r.state.pinnedMessages,!0),read:ne({},r.state.read),watcherCount:r.state.watcher_count,watchers:ne({},r.state.watchers)})}case"initStateFromChannel":{var r=t.channel,i=t.hasMore;return ne(ne({},e),{hasMore:i,loading:!1,members:ne({},r.state.members),messages:Vt([],r.state.messages,!0),pinnedMessages:Vt([],r.state.pinnedMessages,!0),read:ne({},r.state.read),watcherCount:r.state.watcher_count,watchers:ne({},r.state.watchers)})}case"jumpToLatestMessage":return ne(ne({},e),{hasMoreNewer:!1,highlightedMessageId:void 0,loading:!1,suppressAutoscroll:!1});case"jumpToMessageFinished":return ne(ne({},e),{hasMoreNewer:t.hasMoreNewer,highlightedMessageId:t.highlightedMessageId});case"clearHighlightedMessage":return ne(ne({},e),{highlightedMessageId:void 0});case"loadMoreFinished":{var i=t.hasMore,o=t.messages;return ne(ne({},e),{hasMore:i,loadingMore:!1,messages:o,suppressAutoscroll:!1})}case"loadMoreNewerFinished":{var s=t.hasMoreNewer,o=t.messages;return ne(ne({},e),{hasMoreNewer:s,loadingMoreNewer:!1,messages:o})}case"loadMoreThreadFinished":{var l=t.threadHasMore,u=t.threadMessages;return ne(ne({},e),{threadHasMore:l,threadLoadingMore:!1,threadMessages:u})}case"openThread":{var r=t.channel,c=t.message;return ne(ne({},e),{thread:c,threadMessages:c.id?ne({},r.state.threads)[c.id]||[]:[],threadSuppressAutoscroll:!1})}case"setError":{var d=t.error;return ne(ne({},e),{error:d})}case"setLoadingMore":{var f=t.loadingMore;return ne(ne({},e),{loadingMore:f,suppressAutoscroll:f})}case"setLoadingMoreNewer":{var h=t.loadingMoreNewer;return ne(ne({},e),{loadingMoreNewer:h})}case"setThread":{var c=t.message;return ne(ne({},e),{thread:c})}case"setTyping":{var r=t.channel;return ne(ne({},e),{typing:ne({},r.state.typing)})}case"startLoadingThread":return ne(ne({},e),{threadLoadingMore:!0,threadSuppressAutoscroll:!0});case"updateThreadOnEvent":{var r=t.channel,c=t.message;return e.thread?ne(ne({},e),{thread:(c==null?void 0:c.id)===e.thread.id?r.state.formatMessage(c):e.thread,threadMessages:!((n=e.thread)===null||n===void 0)&&n.id?ne({},r.state.threads)[e.thread.id]||[]:[]}):e}default:return e}},oJ={error:null,hasMore:!0,hasMoreNewer:!1,loading:!0,loadingMore:!1,members:{},messages:[],pinnedMessages:[],read:{},suppressAutoscroll:!1,thread:null,threadHasMore:!0,threadLoadingMore:!1,threadMessages:[],threadSuppressAutoscroll:!1,typing:{},watcherCount:0,watchers:{}},sJ=function(e){var t,n=e.acceptedFiles,r=e.channel,a=e.channelCapabilitiesArray,i=a===void 0?[]:a,o=e.channelConfig,s=e.debounceURLEnrichmentMs,l=e.dragAndDropWindow,u=e.enrichURLForPreview,c=e.giphyVersion,d=e.error,f=e.findURLFn,h=e.hasMore,p=e.hasMoreNewer,w=e.imageAttachmentSizeHandler,D=e.suppressAutoscroll,E=e.highlightedMessageId,g=e.loading,C=e.loadingMore,M=e.maxNumberOfFiles,m=e.members,b=e.messages,S=b===void 0?[]:b,y=e.multipleUploads,k=e.mutes,_=e.notifications,P=e.onLinkPreviewDismissed,z=e.pinnedMessages,N=e.quotedMessage,T=e.read,L=T===void 0?{}:T,I=e.shouldGenerateVideoThumbnail,B=e.skipMessageDataMemoization,F=e.thread,U=e.threadHasMore,R=e.threadLoadingMore,O=e.threadMessages,A=O===void 0?[]:O,x=e.channelUnreadUiState,j=e.videoAttachmentSizeHandler,V=e.watcherCount,X=e.watcher_count,re=e.watchers,W=r.cid,J=r.initialized&&((t=r.lastRead())===null||t===void 0?void 0:t.getTime()),oe=Object.keys(m||[]).length,he=_.length,Oe=Object.values(L),$e=Oe.length,Ie=Oe.map(function(q){var De=q.last_read;return De.toISOString()}).join(),ze=A==null?void 0:A.length,We={};i.forEach(function(q){We[q]=!0});var at=B?S:S.map(function(q){var De=q.deleted_at,Fe=q.latest_reactions,Qe=q.pinned,le=q.reply_count,Ne=q.status,pe=q.updated_at,Te=q.user;return"".concat(De).concat(Fe?Fe.map(function(Ue){var Be=Ue.type;return Be}).join():"").concat(Qe).concat(le).concat(Ne).concat(pe&&(h0(pe)||Bo(pe))?pe.toISOString():pe||"").concat(Te==null?void 0:Te.updated_at)}).join(),bt=A.map(function(q){var De=q.deleted_at,Fe=q.latest_reactions,Qe=q.pinned,le=q.status,Ne=q.updated_at,pe=q.user;return"".concat(De).concat(Fe?Fe.map(function(Te){var Ue=Te.type;return Ue}).join():"").concat(Qe).concat(le).concat(Ne&&(h0(Ne)||Bo(Ne))?Ne.toISOString():Ne||"").concat(pe==null?void 0:pe.updated_at)}).join(),H=$.useMemo(function(){return{acceptedFiles:n,channel:r,channelCapabilities:We,channelConfig:o,channelUnreadUiState:x,debounceURLEnrichmentMs:s,dragAndDropWindow:l,enrichURLForPreview:u,error:d,findURLFn:f,giphyVersion:c,hasMore:h,hasMoreNewer:p,highlightedMessageId:E,imageAttachmentSizeHandler:w,loading:g,loadingMore:C,maxNumberOfFiles:M,members:m,messages:S,multipleUploads:y,mutes:k,notifications:_,onLinkPreviewDismissed:P,pinnedMessages:z,quotedMessage:N,read:L,shouldGenerateVideoThumbnail:I,suppressAutoscroll:D,thread:F,threadHasMore:U,threadLoadingMore:R,threadMessages:A,videoAttachmentSizeHandler:j,watcher_count:X,watcherCount:V,watchers:re}},[W,x,s,u,d,f,h,p,E,J,g,C,oe,at,bt,he,P,N,$e,Ie,I,B,D,F,U,R,ze,V]);return H},lJ=function(e){var t=e.typing,n=Object.keys(t||{}).join(),r=$.useMemo(function(){return{typing:t}},[n]);return r},uJ=function(e){var t=kt("useEditMessageHandler"),n=t.channel,r=t.client;return function(a,i){return e&&n?Promise.resolve(e(n.cid,a,i)):r.updateMessage(a,void 0,i)}},cJ=function(){var e=$.useRef(!1);return $.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},dJ=function(e,t){return $.useCallback(function(n,r){if(!(!e&&!t||!(n.target instanceof HTMLElement))){var a=n.target,i=a.innerHTML.replace("*","");if(i[0]==="@"){var o=i.replace("@",""),s=r==null?void 0:r.find(function(l){var u=l.id,c=l.name;return c===o||u===o});e&&typeof e=="function"&&n.type==="mouseover"&&e(n,s),t&&n.type==="click"&&typeof t=="function"&&t(n,s)}}},[t,e])},B1=function(){return v.createElement("div",{className:"str-chat__loading-channels-item str-chat__channel-preview-loading"},v.createElement("div",{className:"str-chat__loading-channels-avatar"}),v.createElement("div",{className:"str-chat__loading-channels-meta str-chat__channel-preview-end-loading"},v.createElement("div",{className:"str-chat__loading-channels-username"}),v.createElement("div",{className:"str-chat__loading-channels-status"})))},fJ=function(){return v.createElement("div",{className:"str-chat__loading-channels"},v.createElement(B1,null),v.createElement(B1,null),v.createElement(B1,null))},Ak=v.memo(fJ),hJ=function(e){var t=e.error,n=Et("LoadingErrorIndicator").t;return t?v.createElement("div",null,n("Error: {{ errorMessage }}",{errorMessage:t.message})):null},pJ=v.memo(hJ,function(e,t){var n,r;return((n=e.error)===null||n===void 0?void 0:n.message)===((r=t.error)===null||r===void 0?void 0:r.message)}),mJ=function(e){var t=e.color,n=t===void 0?"#006CFF":t,r=e.size,a=r===void 0?15:r;return v.createElement("div",{className:"str-chat__loading-indicator","data-testid":"loading-indicator-wrapper",style:{height:a,width:a}},v.createElement("svg",{height:a,viewBox:"0 0 30 30",width:a,xmlns:"http://www.w3.org/2000/svg"},v.createElement("defs",null,v.createElement("linearGradient",{id:"a",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},v.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0"}),v.createElement("stop",{"data-testid":"loading-indicator-circle",offset:"100%",stopColor:n,stopOpacity:"1",style:{stopColor:n}}))),v.createElement("path",{d:"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z",fill:"url(#a)",fillRule:"evenodd"})))},Ju=v.memo(mJ,function(e,t){return e.color===t.color&&e.size===t.size}),gJ=function(){return v.createElement("div",{className:"str-chat__loading-channel-message"},v.createElement("div",{className:"str-chat__loading-channel-message-avatar"}),v.createElement("div",{className:"str-chat__loading-channel-message-end"},v.createElement("div",{className:"str-chat__loading-channel-message-sender"}),v.createElement("div",{className:"str-chat__loading-channel-message-last-row"},v.createElement("div",{className:"str-chat__loading-channel-message-text"}),v.createElement("div",{className:"str-chat__loading-channel-message-date"}))))},vJ=function(){return v.createElement("div",{className:"str-chat__loading-channel-message-input-row"},v.createElement("div",{className:"str-chat__loading-channel-message-input"}),v.createElement("div",{className:"str-chat__loading-channel-message-send"}))},yJ=function(){return v.createElement("div",{className:"str-chat__loading-channel-header"},v.createElement("div",{className:"str-chat__loading-channel-header-avatar"}),v.createElement("div",{className:"str-chat__loading-channel-header-end"},v.createElement("div",{className:"str-chat__loading-channel-header-name"}),v.createElement("div",{className:"str-chat__loading-channel-header-info"})))},Lk=function(){return v.createElement("div",{className:"str-chat__loading-channel"},v.createElement(yJ,null),v.createElement("div",{className:"str-chat__loading-channel-message-list"},Array.from(Array(3)).map(function(e,t){return v.createElement(gJ,{key:"loading-message-".concat(t)})})),v.createElement(vJ,null))},Ik=function(e){var t=e.className,n=t===void 0?"":t;return v.createElement("svg",{className:n,height:"4",viewBox:"0 0 11 4",width:"11",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fillRule:"nonzero"}))},_J=function(){return v.createElement("svg",{"data-testid":"reply-icon",height:"15",width:"18",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M.56 10.946H.06l-.002-.498L.025.92a.5.5 0 1 1 1-.004l.032 9.029H9.06v-4l9 4.5-9 4.5v-4H.56z",fillRule:"nonzero"}))},bJ=function(){return v.createElement("svg",{height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.72 6.633a.955.955 0 1 0-1.352-1.352L6.986 8.663 5.633 7.31A.956.956 0 1 0 4.28 8.663l2.029 2.028a.956.956 0 0 0 1.353 0l4.058-4.058z",fill:"#006CFF",fillRule:"evenodd"}))},wJ=function(e){var t=e.className,n=t===void 0?"":t;return v.createElement("svg",{className:n,height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg"},v.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},v.createElement("path",{d:"M6 1.2C3.3 1.2 1.2 3.3 1.2 6c0 2.7 2.1 4.8 4.8 4.8 2.7 0 4.8-2.1 4.8-4.8 0-2.7-2.1-4.8-4.8-4.8zM0 6c0-3.3 2.7-6 6-6s6 2.7 6 6-2.7 6-6 6-6-2.7-6-6z"}),v.createElement("path",{d:"M5.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM8.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM3.3 6.7c.3-.2.6-.1.8.1.3.4.8.9 1.5 1 .6.2 1.4.1 2.4-1 .2-.2.6-.3.8 0 .2.2.3.6 0 .8-1.1 1.3-2.4 1.7-3.5 1.5-1-.2-1.8-.9-2.2-1.5-.2-.3-.1-.7.2-.9z"})))},EJ=function(e){var t=e.className,n=t===void 0?"":t;return v.createElement("svg",{className:n,height:"10",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z",fillRule:"evenodd"}))},CJ=function(){return v.createElement("svg",{"data-testid":"delivered-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{clipRule:"evenodd",d:"M8.9999 16.2L4.7999 12L3.3999 13.4L8.9999 19L20.9999 6.99998L19.5999 5.59998L8.9999 16.2Z",fill:"black",fillRule:"evenodd"}))},SJ=function(){return v.createElement("div",{className:"str-chat__message-error-icon"},v.createElement("svg",{"data-testid":"error",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",fill:"black",id:"background"}),v.createElement("path",{d:"M13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"white"})))};function DJ(e){var t=e.MessageBouncePrompt,n=Bt(e,["MessageBouncePrompt"]);return v.createElement(ef,ne({},n),v.createElement(NA,null,v.createElement(t,{onClose:n.onClose})))}function kJ(e){var t=e.children,n=e.onClose,r=FA("MessageBouncePrompt"),a=r.handleDelete,i=r.handleEdit,o=r.handleRetry,s=Et("MessageBouncePrompt").t;function l(u){return function(c){u(c),n==null||n(c)}}return v.createElement("div",{className:"str-chat__message-bounce-prompt","data-testid":"message-bounce-prompt"},v.createElement("div",{className:"str-chat__message-bounce-prompt-header"},t??s("This message did not meet our content guidelines")),v.createElement("div",{className:"str-chat__message-bounce-actions"},v.createElement("button",{className:"str-chat__message-bounce-edit","data-testid":"message-bounce-edit",onClick:l(i),type:"button"},s("Edit Message")),v.createElement("button",{className:"str-chat__message-bounce-send","data-testid":"message-bounce-send",onClick:l(o)},s("Send Anyway")),v.createElement("button",{className:"str-chat__message-bounce-delete","data-testid":"message-bounce-delete",onClick:l(a)},s("Delete"))))}var Fk=function(e,t,n){var r,a,i,o=tn("useUserRole"),s=o.channel,l=o.channelCapabilities,u=l===void 0?{}:l,c=kt("useUserRole").client,d=((r=c.user)===null||r===void 0?void 0:r.role)==="admin"||s.state.membership.role==="admin",f=s.state.membership.role==="owner",h=((a=c.user)===null||a===void 0?void 0:a.role)==="channel_moderator"||s.state.membership.role==="channel_moderator"||s.state.membership.role==="moderator"||s.state.membership.is_moderator===!0||s.state.membership.channel_role==="channel_moderator",p=c.userID===((i=e.user)===null||i===void 0?void 0:i.id),w=!t&&u["update-any-message"]||p&&u["update-own-message"],D=u["delete-any-message"]||p&&u["delete-own-message"],E=!p&&u["flag-message"],g=u["read-events"],C=!p&&u["mute-channel"],M=!n&&u["quote-message"],m=u["send-reaction"],b=u["send-reply"];return{canDelete:D,canEdit:w,canFlag:E,canMarkUnread:g,canMute:C,canQuote:M,canReact:m,canReply:b,isAdmin:d,isModerator:h,isMyMessage:p,isOwner:f}},MJ=function(e){var t=e.message,n=Et("MessageDeleted").t,r=Fk(t).isMyMessage,a=r?"str-chat__message str-chat__message--me str-chat__message-simple str-chat__message-simple--me":"str-chat__message str-chat__message-simple str-chat__message--other";return v.createElement("div",{className:"".concat(a," str-chat__message--deleted ").concat(t.type," "),"data-testid":"message-deleted-component",key:t.id},v.createElement("div",{className:"str-chat__message--deleted-inner"},n("This message was deleted...")))},Fi=function(e,t){if(!e||typeof e!="function")return null;t instanceof Array||(t=[t]);var n=e.apply(void 0,t);return typeof n!="string"?null:n},Nk=function(e,t){if(!t||!e)return!1;var n=t.filter(function(r){var a;return r.target.id===((a=e.user)===null||a===void 0?void 0:a.id)});return!!n.length},hn={delete:"delete",edit:"edit",flag:"flag",markUnread:"markUnread",mute:"mute",pin:"pin",quote:"quote",react:"react",reply:"reply"},TJ={commerce:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!0,user:!1},gaming:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!1,user:!1},livestream:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!0,user:!1},messaging:{admin:!0,anonymous:!1,channel_member:!0,channel_moderator:!0,guest:!1,member:!0,moderator:!0,owner:!0,user:!1},team:{admin:!0,anonymous:!1,channel_member:!0,channel_moderator:!0,guest:!1,member:!0,moderator:!0,owner:!0,user:!1}},xJ=function(e,t){var n=t.canDelete,r=t.canEdit,a=t.canFlag,i=t.canMarkUnread,o=t.canMute,s=t.canPin,l=t.canQuote,u=t.canReact,c=t.canReply,d=[],f=[];if(e&&typeof e=="boolean")f=Object.keys(hn);else if(e&&e.length>0)f=Vt([],e,!0);else return[];return n&&f.indexOf(hn.delete)>-1&&d.push(hn.delete),r&&f.indexOf(hn.edit)>-1&&d.push(hn.edit),a&&f.indexOf(hn.flag)>-1&&d.push(hn.flag),i&&f.indexOf(hn.markUnread)>-1&&d.push(hn.markUnread),o&&f.indexOf(hn.mute)>-1&&d.push(hn.mute),s&&f.indexOf(hn.pin)>-1&&d.push(hn.pin),l&&f.indexOf(hn.quote)>-1&&d.push(hn.quote),u&&f.indexOf(hn.react)>-1&&d.push(hn.react),c&&f.indexOf(hn.reply)>-1&&d.push(hn.reply),d},RJ=[hn.pin,hn.react,hn.reply,hn.markUnread],PJ=function(e,t){return!(e.length===0||t&&e.filter(function(n){return!RJ.includes(n)}).length===0||e.length===1&&(e.includes("react")||e.includes("reply"))||e.length===2&&e.includes("react")&&e.includes("reply"))},Uk=function(e,t){var n,r,a,i,o,s;return e.deleted_at===t.deleted_at&&((n=e.latest_reactions)===null||n===void 0?void 0:n.length)===((r=t.latest_reactions)===null||r===void 0?void 0:r.length)&&((a=e.own_reactions)===null||a===void 0?void 0:a.length)===((i=t.own_reactions)===null||i===void 0?void 0:i.length)&&e.pinned===t.pinned&&e.reply_count===t.reply_count&&e.status===t.status&&e.text===t.text&&e.type===t.type&&e.updated_at===t.updated_at&&((o=e.user)===null||o===void 0?void 0:o.updated_at)===((s=t.user)===null||s===void 0?void 0:s.updated_at)},OJ=function(e,t){var n=e.message,r=e.Message,a=t.message,i=t.Message;if(r!==i||e.endOfGroup!==t.endOfGroup||t.showDetailedReactions!==e.showDetailedReactions)return!1;var o=Uk(n,a);if(!o)return!1;var s=Xs(t.messageActions,e.messageActions)&&Xs(t.readBy,e.readBy)&&Xs(t.highlighted,e.highlighted)&&Xs(t.groupStyles,e.groupStyles)&&Xs(t.mutes,e.mutes)&&Xs(t.lastReceivedId,e.lastReceivedId);return s?e.messageListRect===t.messageListRect:!1},AJ=function(e,t){var n,r,a,i,o=e.lastReceivedId,s=e.message,l=t.lastReceivedId,u=t.message;return e.editing!==t.editing||e.highlighted!==t.highlighted||e.endOfGroup!==t.endOfGroup||((n=e.mutes)===null||n===void 0?void 0:n.length)!==((r=t.mutes)===null||r===void 0?void 0:r.length)||((a=e.readBy)===null||a===void 0?void 0:a.length)!==((i=t.readBy)===null||i===void 0?void 0:i.length)||e.showDetailedReactions!==t.showDetailedReactions||(s.id===o||s.id===l)&&o!==l?!1:Uk(s,u)},LJ=function(e){var t;return Object.values((t=e==null?void 0:e.reaction_groups)!==null&&t!==void 0?t:{}).some(function(n){var r=n.count;return r>0})},Bk=function(e){return!!(e!=null&&e.attachments)&&!!e.attachments.length},IJ=function(e){return e.name||e.id},sE=function(e,t,n,r){var a="";if(!t)throw new Error("getReadByTooltipText was called, but translation function is not available");if(!r)throw new Error("getReadByTooltipText was called, but tooltipUserNameMapper function is not available");var i=e.filter(function(u){return u&&(n==null?void 0:n.user)&&u.id!==n.user.id}).map(r),o=i.slice(0,5),s=i.length-o.length;if(o.length===1)a="".concat(o[0]," ");else if(o.length===2)a=t("{{ firstUser }} and {{ secondUser }}",{firstUser:o[0],secondUser:o[1]});else if(o.length>2)if(s===0){var l=o.splice(o.length-1,1);a=t("{{ commaSeparatedUsers }}, and {{ lastUser }}",{commaSeparatedUsers:o.join(", "),lastUser:l})}else a=t("{{ commaSeparatedUsers }} and {{ moreCount }} more",{commaSeparatedUsers:o.join(", "),moreCount:s});return a},FJ=function(e){if(!e)return!1;var t=e.replace(v8(),""),n=t.replace(/[\s\n]/gm,"");return!n},X2=function(e){var t;return e.type==="error"&&((t=e.moderation_details)===null||t===void 0?void 0:t.action)==="MESSAGE_RESPONSE_ACTION_BOUNCE"},Uu=function(e){return!!e.message_text_updated_at},NJ=function(e){var t=e.customMessageActions,n=e.message;if(!t)return null;var r=Object.keys(t);return v.createElement(v.Fragment,null,r.map(function(a){var i=t[a];return v.createElement("button",{"aria-selected":"false",className:"str-chat__message-actions-list-item str-chat__message-actions-list-item-button",key:a,onClick:function(o){return i(n,o)},role:"option"},a)}))},UJ=v.forwardRef(function(e,t){var n=e.getMessageActions,r=e.handleDelete,a=e.handleEdit,i=e.handleFlag,o=e.handleMarkUnread,s=e.handleMute,l=e.handlePin,u=e.isUserMuted;e.mine;var c=e.open,d=c===void 0?!1:c,f=Bt(e,["getMessageActions","handleDelete","handleEdit","handleFlag","handleMarkUnread","handleMute","handlePin","isUserMuted","mine","open"]),h=En("MessageActionsBox").CustomMessageActionsList,p=h===void 0?NJ:h,w=qn("MessageActionsBox").setQuotedMessage,D=ba("MessageActionsBox"),E=D.customMessageActions,g=D.message,C=D.threadList,M=Et("MessageActionsBox").t,m=n(),b=function(){w(g);var k=g.parent_id?document.querySelectorAll(".str-chat__thread .str-chat__textarea__textarea"):document.getElementsByClassName("str-chat__textarea__textarea"),_=k.item(0);_ instanceof HTMLTextAreaElement&&_.focus()},S=Yt("str-chat__message-actions-box",{"str-chat__message-actions-box--open":d}),y="str-chat__message-actions-list-item str-chat__message-actions-list-item-button";return v.createElement("div",ne({},f,{className:S,"data-testid":"message-actions-box",ref:t}),v.createElement("div",{"aria-label":M("aria/Message Options"),className:"str-chat__message-actions-list",role:"listbox"},v.createElement(p,{customMessageActions:E,message:g}),m.indexOf(hn.quote)>-1&&v.createElement("button",{"aria-selected":"false",className:y,onClick:b,role:"option"},M("Reply")),m.indexOf(hn.pin)>-1&&!g.parent_id&&v.createElement("button",{"aria-selected":"false",className:y,onClick:l,role:"option"},g.pinned?M("Unpin"):M("Pin")),m.indexOf(hn.markUnread)>-1&&!C&&!!g.id&&v.createElement("button",{"aria-selected":"false",className:y,onClick:o,role:"option"},M("Mark as unread")),m.indexOf(hn.flag)>-1&&v.createElement("button",{"aria-selected":"false",className:y,onClick:i,role:"option"},M("Flag")),m.indexOf(hn.mute)>-1&&v.createElement("button",{"aria-selected":"false",className:y,onClick:s,role:"option"},u()?M("Unmute"):M("Mute")),m.indexOf(hn.edit)>-1&&v.createElement("button",{"aria-selected":"false",className:y,onClick:a,role:"option"},M("Edit Message")),m.indexOf(hn.delete)>-1&&v.createElement("button",{"aria-selected":"false",className:y,onClick:r,role:"option"},M("Delete"))))}),BJ=v.memo(UJ),lE=function(t){return t.reduce(function(n,r){var a=r[0],i=r[1];return n[a]=i,n},{})},uE=typeof window<"u"&&window.document&&window.document.createElement?$.useLayoutEffect:$.useEffect,La="top",Ci="bottom",Si="right",Ia="left",Q2="auto",of=[La,Ci,Si,Ia],Bu="start",Od="end",jJ="clippingParents",jk="viewport",Tc="popper",zJ="reference",cE=of.reduce(function(e,t){return e.concat([t+"-"+Bu,t+"-"+Od])},[]),zk=[].concat(of,[Q2]).reduce(function(e,t){return e.concat([t,t+"-"+Bu,t+"-"+Od])},[]),$J="beforeRead",HJ="read",VJ="afterRead",WJ="beforeMain",qJ="main",YJ="afterMain",KJ="beforeWrite",GJ="write",ZJ="afterWrite",XJ=[$J,HJ,VJ,WJ,qJ,YJ,KJ,GJ,ZJ];function vo(e){return e?(e.nodeName||"").toLowerCase():null}function Za(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function El(e){var t=Za(e).Element;return e instanceof t||e instanceof Element}function bi(e){var t=Za(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function J2(e){if(typeof ShadowRoot>"u")return!1;var t=Za(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function QJ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!bi(i)||!vo(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(o){var s=a[o];s===!1?i.removeAttribute(o):i.setAttribute(o,s===!0?"":s)}))})}function JJ(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=o.reduce(function(l,u){return l[u]="",l},{});!bi(a)||!vo(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(l){a.removeAttribute(l)}))})}}const eee={name:"applyStyles",enabled:!0,phase:"write",fn:QJ,effect:JJ,requires:["computeStyles"]};function po(e){return e.split("-")[0]}var fl=Math.max,em=Math.min,ju=Math.round;function W0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $k(){return!/^((?!chrome|android).)*safari/i.test(W0())}function zu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&bi(e)&&(a=e.offsetWidth>0&&ju(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ju(r.height)/e.offsetHeight||1);var o=El(e)?Za(e):window,s=o.visualViewport,l=!$k()&&n,u=(r.left+(l&&s?s.offsetLeft:0))/a,c=(r.top+(l&&s?s.offsetTop:0))/i,d=r.width/a,f=r.height/i;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function e_(e){var t=zu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Hk(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&J2(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function jo(e){return Za(e).getComputedStyle(e)}function tee(e){return["table","td","th"].indexOf(vo(e))>=0}function Os(e){return((El(e)?e.ownerDocument:e.document)||window.document).documentElement}function Qm(e){return vo(e)==="html"?e:e.assignedSlot||e.parentNode||(J2(e)?e.host:null)||Os(e)}function dE(e){return!bi(e)||jo(e).position==="fixed"?null:e.offsetParent}function nee(e){var t=/firefox/i.test(W0()),n=/Trident/i.test(W0());if(n&&bi(e)){var r=jo(e);if(r.position==="fixed")return null}var a=Qm(e);for(J2(a)&&(a=a.host);bi(a)&&["html","body"].indexOf(vo(a))<0;){var i=jo(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function sf(e){for(var t=Za(e),n=dE(e);n&&tee(n)&&jo(n).position==="static";)n=dE(n);return n&&(vo(n)==="html"||vo(n)==="body"&&jo(n).position==="static")?t:n||nee(e)||t}function t_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ad(e,t,n){return fl(e,em(t,n))}function ree(e,t,n){var r=ad(e,t,n);return r>n?n:r}function Vk(){return{top:0,right:0,bottom:0,left:0}}function Wk(e){return Object.assign({},Vk(),e)}function qk(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var aee=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Wk(typeof t!="number"?t:qk(t,of))};function iee(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=po(n.placement),l=t_(s),u=[Ia,Si].indexOf(s)>=0,c=u?"height":"width";if(!(!i||!o)){var d=aee(a.padding,n),f=e_(i),h=l==="y"?La:Ia,p=l==="y"?Ci:Si,w=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],D=o[l]-n.rects.reference[l],E=sf(i),g=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,C=w/2-D/2,M=d[h],m=g-f[c]-d[p],b=g/2-f[c]/2+C,S=ad(M,b,m),y=l;n.modifiersData[r]=(t={},t[y]=S,t.centerOffset=S-b,t)}}function oee(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Hk(t.elements.popper,a)&&(t.elements.arrow=a))}const see={name:"arrow",enabled:!0,phase:"main",fn:iee,effect:oee,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $u(e){return e.split("-")[1]}var lee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uee(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:ju(n*a)/a||0,y:ju(r*a)/a||0}}function fE(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=o.x,h=f===void 0?0:f,p=o.y,w=p===void 0?0:p,D=typeof c=="function"?c({x:h,y:w}):{x:h,y:w};h=D.x,w=D.y;var E=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),C=Ia,M=La,m=window;if(u){var b=sf(n),S="clientHeight",y="clientWidth";if(b===Za(n)&&(b=Os(n),jo(b).position!=="static"&&s==="absolute"&&(S="scrollHeight",y="scrollWidth")),b=b,a===La||(a===Ia||a===Si)&&i===Od){M=Ci;var k=d&&b===m&&m.visualViewport?m.visualViewport.height:b[S];w-=k-r.height,w*=l?1:-1}if(a===Ia||(a===La||a===Ci)&&i===Od){C=Si;var _=d&&b===m&&m.visualViewport?m.visualViewport.width:b[y];h-=_-r.width,h*=l?1:-1}}var P=Object.assign({position:s},u&&lee),z=c===!0?uee({x:h,y:w},Za(n)):{x:h,y:w};if(h=z.x,w=z.y,l){var N;return Object.assign({},P,(N={},N[M]=g?"0":"",N[C]=E?"0":"",N.transform=(m.devicePixelRatio||1)<=1?"translate("+h+"px, "+w+"px)":"translate3d("+h+"px, "+w+"px, 0)",N))}return Object.assign({},P,(t={},t[M]=g?w+"px":"",t[C]=E?h+"px":"",t.transform="",t))}function cee(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:po(t.placement),variation:$u(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,fE(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,fE(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const dee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cee,data:{}};var Yf={passive:!0};function fee(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,s=o===void 0?!0:o,l=Za(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,Yf)}),s&&l.addEventListener("resize",n.update,Yf),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Yf)}),s&&l.removeEventListener("resize",n.update,Yf)}}const hee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fee,data:{}};var pee={left:"right",right:"left",bottom:"top",top:"bottom"};function Mh(e){return e.replace(/left|right|bottom|top/g,function(t){return pee[t]})}var mee={start:"end",end:"start"};function hE(e){return e.replace(/start|end/g,function(t){return mee[t]})}function n_(e){var t=Za(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function r_(e){return zu(Os(e)).left+n_(e).scrollLeft}function gee(e,t){var n=Za(e),r=Os(e),a=n.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;var u=$k();(u||!u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s+r_(e),y:l}}function vee(e){var t,n=Os(e),r=n_(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=fl(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=fl(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+r_(e),l=-r.scrollTop;return jo(a||n).direction==="rtl"&&(s+=fl(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}function a_(e){var t=jo(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Yk(e){return["html","body","#document"].indexOf(vo(e))>=0?e.ownerDocument.body:bi(e)&&a_(e)?e:Yk(Qm(e))}function id(e,t){var n;t===void 0&&(t=[]);var r=Yk(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=Za(r),o=a?[i].concat(i.visualViewport||[],a_(r)?r:[]):r,s=t.concat(o);return a?s:s.concat(id(Qm(o)))}function q0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function yee(e,t){var n=zu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function pE(e,t,n){return t===jk?q0(gee(e,n)):El(t)?yee(t,n):q0(vee(Os(e)))}function _ee(e){var t=id(Qm(e)),n=["absolute","fixed"].indexOf(jo(e).position)>=0,r=n&&bi(e)?sf(e):e;return El(r)?t.filter(function(a){return El(a)&&Hk(a,r)&&vo(a)!=="body"}):[]}function bee(e,t,n,r){var a=t==="clippingParents"?_ee(e):[].concat(t),i=[].concat(a,[n]),o=i[0],s=i.reduce(function(l,u){var c=pE(e,u,r);return l.top=fl(c.top,l.top),l.right=em(c.right,l.right),l.bottom=em(c.bottom,l.bottom),l.left=fl(c.left,l.left),l},pE(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Kk(e){var t=e.reference,n=e.element,r=e.placement,a=r?po(r):null,i=r?$u(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(a){case La:l={x:o,y:t.y-n.height};break;case Ci:l={x:o,y:t.y+t.height};break;case Si:l={x:t.x+t.width,y:s};break;case Ia:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=a?t_(a):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Bu:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Od:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Ad(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,o=i===void 0?e.strategy:i,s=n.boundary,l=s===void 0?jJ:s,u=n.rootBoundary,c=u===void 0?jk:u,d=n.elementContext,f=d===void 0?Tc:d,h=n.altBoundary,p=h===void 0?!1:h,w=n.padding,D=w===void 0?0:w,E=Wk(typeof D!="number"?D:qk(D,of)),g=f===Tc?zJ:Tc,C=e.rects.popper,M=e.elements[p?g:f],m=bee(El(M)?M:M.contextElement||Os(e.elements.popper),l,c,o),b=zu(e.elements.reference),S=Kk({reference:b,element:C,strategy:"absolute",placement:a}),y=q0(Object.assign({},C,S)),k=f===Tc?y:b,_={top:m.top-k.top+E.top,bottom:k.bottom-m.bottom+E.bottom,left:m.left-k.left+E.left,right:k.right-m.right+E.right},P=e.modifiersData.offset;if(f===Tc&&P){var z=P[a];Object.keys(_).forEach(function(N){var T=[Si,Ci].indexOf(N)>=0?1:-1,L=[La,Ci].indexOf(N)>=0?"y":"x";_[N]+=z[L]*T})}return _}function wee(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?zk:l,c=$u(r),d=c?s?cE:cE.filter(function(p){return $u(p)===c}):of,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,w){return p[w]=Ad(e,{placement:w,boundary:a,rootBoundary:i,padding:o})[po(w)],p},{});return Object.keys(h).sort(function(p,w){return h[p]-h[w]})}function Eee(e){if(po(e)===Q2)return[];var t=Mh(e);return[hE(e),t,hE(t)]}function Cee(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,w=n.allowedAutoPlacements,D=t.options.placement,E=po(D),g=E===D,C=l||(g||!p?[Mh(D)]:Eee(D)),M=[D].concat(C).reduce(function(j,V){return j.concat(po(V)===Q2?wee(t,{placement:V,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:w}):V)},[]),m=t.rects.reference,b=t.rects.popper,S=new Map,y=!0,k=M[0],_=0;_<M.length;_++){var P=M[_],z=po(P),N=$u(P)===Bu,T=[La,Ci].indexOf(z)>=0,L=T?"width":"height",I=Ad(t,{placement:P,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),B=T?N?Si:Ia:N?Ci:La;m[L]>b[L]&&(B=Mh(B));var F=Mh(B),U=[];if(i&&U.push(I[z]<=0),s&&U.push(I[B]<=0,I[F]<=0),U.every(function(j){return j})){k=P,y=!1;break}S.set(P,U)}if(y)for(var R=p?3:1,O=function(V){var X=M.find(function(re){var W=S.get(re);if(W)return W.slice(0,V).every(function(J){return J})});if(X)return k=X,"break"},A=R;A>0;A--){var x=O(A);if(x==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}const See={name:"flip",enabled:!0,phase:"main",fn:Cee,requiresIfExists:["offset"],data:{_skip:!1}};function mE(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function gE(e){return[La,Si,Ci,Ia].some(function(t){return e[t]>=0})}function Dee(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=Ad(t,{elementContext:"reference"}),s=Ad(t,{altBoundary:!0}),l=mE(o,r),u=mE(s,a,i),c=gE(l),d=gE(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const kee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Dee};function Mee(e,t,n){var r=po(e),a=[Ia,La].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Ia,Si].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function Tee(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=zk.reduce(function(c,d){return c[d]=Mee(d,t.rects,i),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const xee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tee};function Ree(e){var t=e.state,n=e.name;t.modifiersData[n]=Kk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Pee={name:"popperOffsets",enabled:!0,phase:"read",fn:Ree,data:{}};function Oee(e){return e==="x"?"y":"x"}function Aee(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,w=p===void 0?0:p,D=Ad(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),E=po(t.placement),g=$u(t.placement),C=!g,M=t_(E),m=Oee(M),b=t.modifiersData.popperOffsets,S=t.rects.reference,y=t.rects.popper,k=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,_=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(b){if(i){var N,T=M==="y"?La:Ia,L=M==="y"?Ci:Si,I=M==="y"?"height":"width",B=b[M],F=B+D[T],U=B-D[L],R=h?-y[I]/2:0,O=g===Bu?S[I]:y[I],A=g===Bu?-y[I]:-S[I],x=t.elements.arrow,j=h&&x?e_(x):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Vk(),X=V[T],re=V[L],W=ad(0,S[I],j[I]),J=C?S[I]/2-R-W-X-_.mainAxis:O-W-X-_.mainAxis,oe=C?-S[I]/2+R+W+re+_.mainAxis:A+W+re+_.mainAxis,he=t.elements.arrow&&sf(t.elements.arrow),Oe=he?M==="y"?he.clientTop||0:he.clientLeft||0:0,$e=(N=P==null?void 0:P[M])!=null?N:0,Ie=B+J-$e-Oe,ze=B+oe-$e,We=ad(h?em(F,Ie):F,B,h?fl(U,ze):U);b[M]=We,z[M]=We-B}if(s){var at,bt=M==="x"?La:Ia,H=M==="x"?Ci:Si,q=b[m],De=m==="y"?"height":"width",Fe=q+D[bt],Qe=q-D[H],le=[La,Ia].indexOf(E)!==-1,Ne=(at=P==null?void 0:P[m])!=null?at:0,pe=le?Fe:q-S[De]-y[De]-Ne+_.altAxis,Te=le?q+S[De]+y[De]-Ne-_.altAxis:Qe,Ue=h&&le?ree(pe,q,Te):ad(h?pe:Fe,q,h?Te:Qe);b[m]=Ue,z[m]=Ue-q}t.modifiersData[r]=z}}const Lee={name:"preventOverflow",enabled:!0,phase:"main",fn:Aee,requiresIfExists:["offset"]};function Iee(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Fee(e){return e===Za(e)||!bi(e)?n_(e):Iee(e)}function Nee(e){var t=e.getBoundingClientRect(),n=ju(t.width)/e.offsetWidth||1,r=ju(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Uee(e,t,n){n===void 0&&(n=!1);var r=bi(t),a=bi(t)&&Nee(t),i=Os(t),o=zu(e,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((vo(t)!=="body"||a_(i))&&(s=Fee(t)),bi(t)?(l=zu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=r_(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Bee(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&a(l)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function jee(e){var t=Bee(e);return XJ.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function zee(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function $ee(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var vE={placement:"bottom",modifiers:[],strategy:"absolute"};function yE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Hee(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?vE:a;return function(s,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},vE,i),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(E){var g=typeof E=="function"?E(c.options):E;w(),c.options=Object.assign({},i,c.options,g),c.scrollParents={reference:El(s)?id(s):s.contextElement?id(s.contextElement):[],popper:id(l)};var C=jee($ee([].concat(r,c.options.modifiers)));return c.orderedModifiers=C.filter(function(M){return M.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var E=c.elements,g=E.reference,C=E.popper;if(yE(g,C)){c.rects={reference:Uee(g,sf(C),c.options.strategy==="fixed"),popper:e_(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(_){return c.modifiersData[_.name]=Object.assign({},_.data)});for(var M=0;M<c.orderedModifiers.length;M++){if(c.reset===!0){c.reset=!1,M=-1;continue}var m=c.orderedModifiers[M],b=m.fn,S=m.options,y=S===void 0?{}:S,k=m.name;typeof b=="function"&&(c=b({state:c,options:y,name:k,instance:h})||c)}}}},update:zee(function(){return new Promise(function(D){h.forceUpdate(),D(c)})}),destroy:function(){w(),f=!0}};if(!yE(s,l))return h;h.setOptions(u).then(function(D){!f&&u.onFirstUpdate&&u.onFirstUpdate(D)});function p(){c.orderedModifiers.forEach(function(D){var E=D.name,g=D.options,C=g===void 0?{}:g,M=D.effect;if(typeof M=="function"){var m=M({state:c,name:E,instance:h,options:C}),b=function(){};d.push(m||b)}})}function w(){d.forEach(function(D){return D()}),d=[]}return h}}var Vee=[hee,Pee,dee,eee,xee,See,Lee,see,kee],Wee=Hee({defaultModifiers:Vee}),qee=[],Gk=function(t,n,r){r===void 0&&(r={});var a=$.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||qee},o=$.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=o[0],l=o[1],u=$.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(h){var p=h.state,w=Object.keys(p.elements);Yy.flushSync(function(){l({styles:lE(w.map(function(D){return[D,p.styles[D]||{}]})),attributes:lE(w.map(function(D){return[D,p.attributes[D]]}))})})},requires:["computeStyles"]}},[]),c=$.useMemo(function(){var f={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return Xs(a.current,f)?a.current||f:(a.current=f,f)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),d=$.useRef();return uE(function(){d.current&&d.current.setOptions(c)},[c]),uE(function(){if(!(t==null||n==null)){var f=r.createPopper||Wee,h=f(t,n,c);return d.current=h,function(){h.destroy(),d.current=null}}},[t,n,r.createPopper]),{state:d.current?d.current.state:null,styles:s.styles,attributes:s.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}};function Yee(e){var t=e.open,n=e.placement,r=e.referenceElement,a=$.useRef(null),i=Gk(r,a.current,{modifiers:[{name:"eventListeners",options:{resize:!1,scroll:!1}}],placement:n}),o=i.attributes,s=i.styles,l=i.update;return $.useEffect(function(){t&&(l==null||l())},[t,l]),{attributes:o,popperElementRef:a,styles:s}}var Kee=function(e){var t=e.ActionsIcon,n=t===void 0?Ik:t,r=e.customWrapperClass,a=r===void 0?"":r,i=e.getMessageActions,o=e.handleDelete,s=e.handleFlag,l=e.handleMarkUnread,u=e.handleMute,c=e.handlePin,d=e.inline,f=e.message,h=e.messageWrapperRef,p=e.mine,w=kt("MessageActions").mutes,D=ba("MessageActions"),E=D.customMessageActions,g=D.getMessageActions,C=D.handleDelete,M=D.handleFlag,m=D.handleMarkUnread,b=D.handleMute,S=D.handlePin,y=D.isMyMessage,k=D.message,_=D.setEditingState,P=Et("MessageActions").t,z=i||g,N=o||C,T=s||M,L=l||m,I=u||b,B=c||S,F=f||k,U=p?p():y(),R=$.useState(!1),O=R[0],A=R[1],x=$.useCallback(function(){return Nk(F,w)},[F,w]),j=$.useCallback(function(Oe){Oe instanceof KeyboardEvent&&Oe.key!=="Escape"||A(!1)},[]),V=z(),X=!!(F!=null&&F.deleted_at);$.useEffect(function(){h!=null&&h.current&&h.current.addEventListener("mouseleave",j)},[j,h]),$.useEffect(function(){X&&document.removeEventListener("click",j)},[j,X]),$.useEffect(function(){if(O)return document.addEventListener("click",j),document.addEventListener("keyup",j),function(){document.removeEventListener("click",j),document.removeEventListener("keyup",j)}},[O,j]);var re=$.useRef(null),W=Yee({open:O,placement:U?"top-end":"top-start",referenceElement:re.current}),J=W.attributes,oe=W.popperElementRef,he=W.styles;return!V.length&&!E?null:v.createElement(Gee,{customWrapperClass:a,inline:d,setActionsBoxOpen:A},v.createElement(BJ,ne({},J.popper,{getMessageActions:z,handleDelete:N,handleEdit:_,handleFlag:T,handleMarkUnread:L,handleMute:I,handlePin:B,isUserMuted:x,mine:U,open:O,ref:oe,style:he.popper})),v.createElement("button",{"aria-expanded":O,"aria-haspopup":"true","aria-label":P("aria/Open Message Actions Menu"),className:"str-chat__message-actions-box-button",ref:re},v.createElement(n,{className:"str-chat__message-action-icon"})))},Gee=function(e){var t=e.children,n=e.customWrapperClass,r=e.inline,a=e.setActionsBoxOpen,i=`
  str-chat__message-simple__actions__action
  str-chat__message-simple__actions__action--options
  str-chat__message-actions-container`,o=n||i,s=function(u){u.stopPropagation(),a(function(c){return!c})},l={className:o,"data-testid":"message-actions",onClick:s};return r?v.createElement("span",ne({},l),t):v.createElement("div",ne({},l),t)},Zee=function(e){var t=e.ActionsIcon,n=t===void 0?Ik:t,r=e.displayReplies,a=r===void 0?!0:r,i=e.handleOpenThread,o=e.messageWrapperRef,s=e.ReactionIcon,l=s===void 0?wJ:s,u=e.theme,c=u===void 0?"simple":u,d=e.ThreadIcon,f=d===void 0?EJ:d,h=ba("MessageOptions"),p=h.customMessageActions,w=h.getMessageActions,D=h.handleOpenThread,E=h.initialMessage,g=h.message,C=h.onReactionListClick,M=h.showDetailedReactions,m=h.threadList,b=Et("MessageOptions").t,S=i||D,y=w(),k=PJ(y,m)||!!p,_=y.indexOf(hn.react)>-1,P=y.indexOf(hn.reply)>-1&&a&&!m;if(!g.type||g.type==="error"||g.type==="system"||g.type==="ephemeral"||g.status==="failed"||g.status==="sending"||E)return null;var z="str-chat__message-".concat(c,"__actions str-chat__message-options");return v.createElement("div",{className:z,"data-testid":"message-options"},k&&v.createElement(Kee,{ActionsIcon:n,messageWrapperRef:o}),P&&v.createElement("button",{"aria-label":b("aria/Open Thread"),className:"str-chat__message-".concat(c,"__actions__action str-chat__message-").concat(c,"__actions__action--thread str-chat__message-reply-in-thread-button"),"data-testid":"thread-action",onClick:S},v.createElement(f,{className:"str-chat__message-action-icon"})),_&&v.createElement("button",{"aria-expanded":M,"aria-label":b("aria/Open Reaction Selector"),className:"str-chat__message-".concat(c,"__actions__action str-chat__message-").concat(c,"__actions__action--reactions str-chat__message-reactions-button"),"data-testid":"message-reaction-action",onClick:C},v.createElement(l,{className:"str-chat__message-action-icon"})))},Xee=v.memo(Zee),Qee=function(e){var t=e.labelPlural,n=e.labelSingle,r=e.onClick,a=e.reply_count,i=a===void 0?0:a,o=Et("MessageRepliesCountButton").t,s=kt("MessageRepliesCountButton").themeVersion;if(!i)return null;var l=o("replyCount",{count:i});return t&&i>1?l="".concat(i," ").concat(t):n&&(l="1 ".concat(n)),v.createElement("div",{className:"str-chat__message-simple-reply-button str-chat__message-replies-count-button-wrapper"},v.createElement("button",{className:"str-chat__message-replies-count-button","data-testid":"replies-count-button",onClick:r},s==="1"&&v.createElement(_J,null),l))},Jee=v.memo(Qee),ku=function(e){var t=e.children,n=Bt(e,["children"]);return v.createElement("div",ne({className:"str-chat__tooltip"},n),t)},Th=function(e){var t=e.children,n=e.offset,r=n===void 0?[0,10]:n,a=e.referenceElement,i=e.placement,o=i===void 0?"top":i,s=e.visible,l=s===void 0?!1:s,u=$.useState(null),c=u[0],d=u[1],f=Gk(a,c,{modifiers:[{name:"offset",options:{offset:r}}],placement:o}),h=f.attributes,p=f.styles;return l?v.createElement("div",ne({className:"str-chat__tooltip",ref:d,style:p.popper},h.popper),t):null},Zk=function(e){var t={},n=t.onMouseEnter,r=t.onMouseLeave,a=$.useState(!1),i=a[0],o=a[1],s=$.useCallback(function(u){o(!0),n==null||n(u)},[n]),l=$.useCallback(function(u){o(!1),r==null||r(u)},[r]);return{handleEnter:s,handleLeave:l,tooltipVisible:i}},ete=function(e){var t,n=e.Avatar,r=e.messageType,a=r===void 0?"simple":r,i=e.tooltipUserNameMapper,o=i===void 0?IJ:i,s=Zk(),l=s.handleEnter,u=s.handleLeave,c=s.tooltipVisible,d=kt("MessageStatus").client,f=En("MessageStatus").Avatar,h=ba("MessageStatus"),p=h.isMyMessage,w=h.lastReceivedId,D=h.message,E=h.readBy,g=h.threadList,C=Et("MessageStatus").t,M=kt("MessageStatus").themeVersion,m=$.useState(null),b=m[0],S=m[1],y=n||f||Fa;if(!p()||D.type==="error")return null;var k=(E==null?void 0:E.length)===1&&E[0].id===((t=d.user)===null||t===void 0?void 0:t.id),_="str-chat__message-".concat(a,"-status str-chat__message-status"),P=D.status==="sending",z=D.status==="received"&&D.id===w&&!g,N=!!(E!=null&&E.length&&!g&&!k),T=(N?E.filter(function(L){var I;return L.id!==((I=d.user)===null||I===void 0?void 0:I.id)}):[])[0];return v.createElement("span",{className:_,"data-testid":Yt({"message-status-read-by":N,"message-status-received":z&&!N,"message-status-sending":P}),onMouseEnter:l,onMouseLeave:u,ref:S},P&&v.createElement(v.Fragment,null,M==="1"&&v.createElement(ku,null,C("Sending...")),M==="2"&&v.createElement(Th,{offset:[0,5],referenceElement:b,visible:c},C("Sending...")),v.createElement(Ju,null)),z&&!N&&v.createElement(v.Fragment,null,M==="1"&&v.createElement(ku,null,C("Delivered")),M==="2"&&v.createElement(Th,{offset:[0,5],referenceElement:b,visible:c},C("Delivered")),M==="2"?v.createElement(CJ,null):v.createElement(bJ,null)),N&&v.createElement(v.Fragment,null,M==="1"&&v.createElement(ku,null,sE(E,C,d,o)),M==="2"&&v.createElement(Th,{offset:[0,5],referenceElement:b,visible:c},sE(E,C,d,o)),v.createElement(y,{image:T.image,name:T.name||T.id,size:15,user:T}),E.length>2&&v.createElement("span",{className:"str-chat__message-".concat(a,"-status-number"),"data-testid":"message-status-read-by-many"},E.length-1)))},tte=v.memo(ete),nte=function(){var e,t,n,r=En("QuotedMessage"),a=r.Attachment,i=r.Avatar,o=ba("QuotedMessage"),s=o.isMyMessage,l=o.message,u=Et("QuotedMessage"),c=u.t,d=u.userLanguage,f=qn("QuotedMessage").jumpToMessage,h=i||Fa,p=l.quoted_message;if(!p)return null;var w=p.deleted_at||p.type==="deleted",D=w?c("This message was deleted..."):((e=p.i18n)===null||e===void 0?void 0:e["".concat(d,"_text")])||p.text,E=!((t=p.attachments)===null||t===void 0)&&t.length&&!w?p.attachments[0]:null;return!D&&!E?null:v.createElement(v.Fragment,null,v.createElement("div",{className:Yt("str-chat__quoted-message-preview quoted-message",{mine:s()}),"data-testid":"quoted-message",onClickCapture:function(g){g.stopPropagation(),g.preventDefault(),f(p.id)}},p.user&&v.createElement(h,{image:p.user.image,name:p.user.name||p.user.id,size:20,user:p.user}),v.createElement("div",{className:"quoted-message-inner str-chat__quoted-message-bubble","data-testid":"quoted-message-contents"},E&&v.createElement(a,{attachments:[E],isQuoted:!0}),v.createElement("div",{"data-testid":"quoted-message-text"},D))),!((n=l.attachments)===null||n===void 0)&&n.length?v.createElement(a,{attachments:l.attachments}):null)};function rte(e){var t=e.message,n=e.theme,r=Et("MessageText").t;return t.type==="error"&&!X2(t)?v.createElement("div",{className:"str-chat__".concat(n,"-message--error-message str-chat__message--error-message")},r("Error  Unsent")):t.status==="failed"?v.createElement("div",{className:"str-chat__".concat(n,"-message--error-message str-chat__message--error-message")},t.errorStatusCode!==403?r("Message Failed  Click to try again"):r("Message Failed  Unauthorized")):null}var ate=function(e){var t,n,r=e.customInnerClass,a=e.customWrapperClass,i=a===void 0?"":a,o=e.message,s=e.renderText,l=e.theme,u=l===void 0?"simple":l,c=En("MessageText").QuotedMessage,d=c===void 0?nte:c,f=ba("MessageText"),h=f.message,p=f.onMentionsClickMessage,w=f.onMentionsHoverMessage,D=f.renderText,E=f.unsafeHTML,g=(t=s??D)!==null&&t!==void 0?t:dQ,C=Et("MessageText").userLanguage,M=o||h,m=Bk(M),b=((n=M.i18n)===null||n===void 0?void 0:n["".concat(C,"_text")])||M.text,S=$.useMemo(function(){return g(b,M.mentioned_users)},[M.mentioned_users,b]),y=i||"str-chat__message-text",k=r||"str-chat__message-text-inner str-chat__message-".concat(u,"-text-inner");return!b&&!M.quoted_message?null:v.createElement("div",{className:y,tabIndex:0},v.createElement("div",{className:`
          `.concat(k,`
          `).concat(m?" str-chat__message-".concat(u,"-text-inner--has-attachment"):"",`
          `).concat(FJ(M.text)&&!M.quoted_message?" str-chat__message-".concat(u,"-text-inner--is-emoji"):"",`
        `).trim(),"data-testid":"message-text-inner-wrapper",onClick:p,onMouseOver:w},M.quoted_message&&v.createElement(d,null),v.createElement(rte,{message:M,theme:u}),E&&M.html?v.createElement("div",{dangerouslySetInnerHTML:{__html:M.html}}):v.createElement("div",null,S)))},ite=v.memo(ate),ote="MessageTimestamp was called without a message, or message has invalid created_at date.",ste="MessageTimestamp was called but there is no datetime parsing function available";function od(e){var t=e.calendar,n=e.format,r=e.formatDate,a=e.messageCreatedAt,i=e.tDateTimeParser;if(!a||typeof a=="string"&&!Date.parse(a))return console.warn(ote),null;if(typeof r=="function")return r(new Date(a));if(!i)return console.warn(ste),null;var o=i(a);return h0(o)?t&&o.calendar?o.calendar():o.format(n):Bo(o)?o.toDateString():Zj(o)?o:null}var lte="h:mmA";function Xk(e){var t=e.timestamp,n=e.calendar,r=n===void 0?!1:n,a=e.customClass,i=a===void 0?"":a,o=e.format,s=o===void 0?lte:o,l=ba("MessageTimestamp").formatDate,u=Et("MessageTimestamp").tDateTimeParser,c=t&&Bo(t)?t.toISOString():t,d=$.useMemo(function(){return od({calendar:r,format:s,formatDate:l,messageCreatedAt:c,tDateTimeParser:u})},[l,r,u,s,c]);return d?v.createElement("time",{className:i,dateTime:c,title:c},d):null}var ute=function(e){var t=e.message,n=Bt(e,["message"]),r=ba("MessageTimestamp").message,a=En("MessageTimestamp").Timestamp,i=a===void 0?Xk:a,o=t||r;return v.createElement(i,ne({timestamp:o.created_at},n))},cte=v.memo(ute),pa={date:"message.date",intro:"channel.intro"},dte=function(){var e=Et("EmojiIconSmall").t;return v.createElement("svg",{height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e("Open emoji picker")),v.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},v.createElement("path",{d:"M6.7 1.42C3.73 1.42 1.42 3.73 1.42 6.7c0 2.97 2.31 5.28 5.28 5.28c2.97 0 5.28-2.31 5.28-5.28c0-2.97-2.31-5.28-5.28-5.28zM.1 6.7c0-3.63 2.97-6.6 6.6-6.6s6.6 2.97 6.6 6.6s-2.97 6.6-6.6 6.6s-6.6-2.97-6.6-6.6zM6.04 5.05c0 .55-.44.99-.99.99s-.99-.44-.99-.99s.44-.99.99-.99s.99.44.99.99zM9.34 5.05c0 .55-.44.99-.99.99s-.99-.44-.99-.99s.44-.99.99-.99s.99.44.99.99zM3.73 7.47c.33-.22.66-.11.88.11c.33.44.88.99 1.65 1.1c.66.22 1.54.11 2.64-1.1c.22-.22.66-.33.88 0c.22.22.33.66 0 .88c-1.21 1.43-2.64 1.87-3.85 1.65c-1.1-.22-1.98-.99-2.42-1.65c-.22-.33-.11-.66.22-.99z"})))},fte=function(){var e=Et("FileUploadIcon").t;return v.createElement("svg",{height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e("Attach files")),v.createElement("path",{d:"M7 .5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5S.5 10.59.5 7 3.41.5 7 .5zm0 12c3.031 0 5.5-2.469 5.5-5.5S10.031 1.5 7 1.5A5.506 5.506 0 0 0 1.5 7c0 3.034 2.469 5.5 5.5 5.5zM7.506 3v3.494H11v1.05H7.506V11h-1.05V7.544H3v-1.05h3.456V3h1.05z",fillRule:"nonzero"}))},Qk=function(){var e=Et("FileUploadIconFlat").t;return v.createElement("svg",{height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e("Attach files")),v.createElement("path",{d:"M1.667.333h10.666c.737 0 1.334.597 1.334 1.334v10.666c0 .737-.597 1.334-1.334 1.334H1.667a1.333 1.333 0 0 1-1.334-1.334V1.667C.333.93.93.333 1.667.333zm2 1.334a1.667 1.667 0 1 0 0 3.333 1.667 1.667 0 0 0 0-3.333zm-2 9.333v1.333h10.666v-4l-2-2-4 4-2-2L1.667 11z",fillRule:"nonzero"}))},lf=function(e){var t=e.size,n=t===void 0?20:t,r=$.useMemo(function(){return qa()},[]);return v.createElement("div",{className:"str-chat__loading-indicator"},v.createElement("svg",{"data-testid":"loading-indicator",height:n,viewBox:"0 0 30 30",width:n,xmlns:"http://www.w3.org/2000/svg"},v.createElement("defs",null,v.createElement("linearGradient",{id:"".concat(r,"-linear-gradient"),x1:"50%",x2:"50%",y1:"0%",y2:"100%"},v.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0"}),v.createElement("stop",{"data-testid":"stop-color",offset:"100%",stopOpacity:"1"}))),v.createElement("path",{d:"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z",fill:"url(#".concat(r,"-linear-gradient)"),fillRule:"evenodd"})))},hte=function(){return v.createElement("svg",{"data-testid":"attach",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("g",{clipPath:"url(#clip0_10878_5)"},v.createElement("path",{d:"M12.9997 6.99993L10.9997 6.99993L10.9997 10.9999L6.99972 10.9999L6.99972 12.9999L10.9997 12.9999L10.9997 16.9999L12.9997 16.9999L12.9997 12.9999L16.9997 12.9999L16.9997 10.9999L12.9997 10.9999L12.9997 6.99993ZM11.9997 1.99992C6.47972 1.99992 1.99972 6.47993 1.99972 11.9999C1.99972 17.5199 6.47972 21.9999 11.9997 21.9999C17.5197 21.9999 21.9997 17.5199 21.9997 11.9999C21.9997 6.47993 17.5197 1.99992 11.9997 1.99992ZM11.9997 19.9999C7.58972 19.9999 3.99972 16.4099 3.99972 11.9999C3.99972 7.58993 7.58972 3.99993 11.9997 3.99993C16.4097 3.99993 19.9997 7.58993 19.9997 11.9999C19.9997 16.4099 16.4097 19.9999 11.9997 19.9999Z",fill:"black"})),v.createElement("defs",null,v.createElement("clipPath",{id:"clip0_10878_5"},v.createElement("rect",{fill:"white",height:"24",width:"24"}))))},ec=function(){return v.createElement("svg",{"data-testid":"close-no-outline",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"black"}))},Jm=function(){return v.createElement("svg",{"data-testid":"retry",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M17.6449 6.35C16.1949 4.9 14.2049 4 11.9949 4C7.57488 4 4.00488 7.58 4.00488 12C4.00488 16.42 7.57488 20 11.9949 20C15.7249 20 18.8349 17.45 19.7249 14H17.6449C16.8249 16.33 14.6049 18 11.9949 18C8.68488 18 5.99488 15.31 5.99488 12C5.99488 8.69 8.68488 6 11.9949 6C13.6549 6 15.1349 6.69 16.2149 7.78L12.9949 11H19.9949V4L17.6449 6.35Z",fill:"black"}))},Jk=function(){return v.createElement("svg",{"data-testid":"download",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z",fill:"black"}))},pte=function(){return v.createElement("svg",{fill:"none",height:"11",viewBox:"0 0 20 11",width:"20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{clipRule:"evenodd",d:"M1.9 5.5C1.9 3.79 3.29 2.4 5 2.4H8.05C8.57467 2.4 9 1.97467 9 1.45C9 0.925329 8.57467 0.5 8.05 0.5H5C2.24 0.5 0 2.74 0 5.5C0 8.26 2.24 10.5 5 10.5H8.05C8.57467 10.5 9 10.0747 9 9.55C9 9.02533 8.57467 8.6 8.05 8.6H5C3.29 8.6 1.9 7.21 1.9 5.5ZM6 5.5C6 6.05228 6.44772 6.5 7 6.5H13C13.5523 6.5 14 6.05228 14 5.5C14 4.94772 13.5523 4.5 13 4.5H7C6.44772 4.5 6 4.94772 6 5.5ZM15 0.5H11.95C11.4253 0.5 11 0.925329 11 1.45C11 1.97467 11.4253 2.4 11.95 2.4H15C16.71 2.4 18.1 3.79 18.1 5.5C18.1 7.21 16.71 8.6 15 8.6H11.95C11.4253 8.6 11 9.02533 11 9.55C11 10.0747 11.4253 10.5 11.95 10.5H15C17.76 10.5 20 8.26 20 5.5C20 2.74 17.76 0.5 15 0.5Z",fill:"#005DFF",fillRule:"evenodd"}))},mte=function(){var e=Et("SendButton").t;return v.createElement("svg",{height:"17",viewBox:"0 0 18 17",width:"18",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e("Send")),v.createElement("path",{d:"M0 17.015l17.333-8.508L0 0v6.617l12.417 1.89L0 10.397z",fill:"#006cff",fillRule:"evenodd"}))},e9=function(){var e=Et("SendButton").t;return v.createElement("svg",{"data-testid":"send",fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,e("Send")),v.createElement("path",{d:"M4.00952 22L24 12L4.00952 2L4 9.77778L18.2857 12L4 14.2222L4.00952 22Z"}))},t9=function(){return v.createElement("svg",{fill:"currentColor",viewBox:"0 0 14 20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M7 12.5C8.66 12.5 10 11.16 10 9.5V3.5C10 1.84 8.66 0.5 7 0.5C5.34 0.5 4 1.84 4 3.5V9.5C4 11.16 5.34 12.5 7 12.5Z"}),v.createElement("path",{d:"M12 9.5C12 12.26 9.76 14.5 7 14.5C4.24 14.5 2 12.26 2 9.5H0C0 13.03 2.61 15.93 6 16.42V19.5H8V16.42C11.39 15.93 14 13.03 14 9.5H12Z"}))},gte=function(){return v.createElement("svg",{fill:"currentColor",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M8.00033 25.3333C8.00033 26.8 9.20033 28 10.667 28H21.3337C22.8003 28 24.0003 26.8 24.0003 25.3333V12C24.0003 10.5333 22.8003 9.33333 21.3337 9.33333H10.667C9.20033 9.33333 8.00033 10.5333 8.00033 12V25.3333ZM24.0003 5.33333H20.667L19.7203 4.38667C19.4803 4.14667 19.1337 4 18.787 4H13.2137C12.867 4 12.5203 4.14667 12.2803 4.38667L11.3337 5.33333H8.00033C7.26699 5.33333 6.66699 5.93333 6.66699 6.66667C6.66699 7.4 7.26699 8 8.00033 8H24.0003C24.7337 8 25.3337 7.4 25.3337 6.66667C25.3337 5.93333 24.7337 5.33333 24.0003 5.33333Z"}))},n9=function(){return v.createElement("svg",{"data-testid":"str-chat__pause-icon",fill:"currentColor",viewBox:"0 0 16 20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0 19.3333H5.33333V0.666626H0V19.3333ZM10.6667 0.666626V19.3333H16V0.666626H10.6667Z"}))},vte=function(){return v.createElement("svg",{"data-testid":"str-chat__play-icon",fill:"currentColor",viewBox:"0 0 14 18",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M0.236328 2.09338V15.9067C0.236328 16.9601 1.39633 17.6001 2.28966 17.0267L13.143 10.1201C13.9697 9.60005 13.9697 8.40005 13.143 7.86672L2.28966 0.973385C1.39633 0.400051 0.236328 1.04005 0.236328 2.09338Z"}))},yte=function(){return v.createElement("svg",{fill:"currentColor",viewBox:"0 0 18 14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M5.79457 10.875L2.32457 7.40502C1.93457 7.01502 1.30457 7.01502 0.91457 7.40502C0.52457 7.79502 0.52457 8.42502 0.91457 8.81502L5.09457 12.995C5.48457 13.385 6.11457 13.385 6.50457 12.995L17.0846 2.41502C17.4746 2.02502 17.4746 1.39502 17.0846 1.00502C16.6946 0.615024 16.0646 0.615024 15.6746 1.00502L5.79457 10.875Z"}))},_te=function(e){var t,n,r,a,i,o=e.attachment,s=e.handleRetry,l=e.removeAttachments,u=Et("UnsupportedAttachmentPreview").t,c=(t=o.title)!==null&&t!==void 0?t:u("Unsupported attachment");return v.createElement("div",{className:"str-chat__attachment-preview-unsupported","data-testid":"attachment-preview-unknown"},v.createElement("div",{className:"str-chat__attachment-preview-file-icon"},v.createElement(Wo,{filename:c,mimeType:o.mime_type,version:"2"})),v.createElement("button",{className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:((n=o.localMetadata)===null||n===void 0?void 0:n.uploadState)==="uploading",onClick:function(){var d,f;return((d=o.localMetadata)===null||d===void 0?void 0:d.id)&&l([(f=o.localMetadata)===null||f===void 0?void 0:f.id])}},v.createElement(ec,null)),((r=o.localMetadata)===null||r===void 0?void 0:r.uploadState)==="failed"&&!!s&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:function(){return s(o)}},v.createElement(Jm,null)),v.createElement("div",{className:"str-chat__attachment-preview-metadata"},v.createElement("div",{className:"str-chat__attachment-preview-title",title:c},c),((a=o.localMetadata)===null||a===void 0?void 0:a.uploadState)==="finished"&&!!o.asset_url&&v.createElement("a",{className:"str-chat__attachment-preview-file-download",download:!0,href:o.asset_url,rel:"noreferrer",target:"_blank"},v.createElement(Jk,null)),((i=o.localMetadata)===null||i===void 0?void 0:i.uploadState)==="uploading"&&v.createElement(lf,{size:17})))},bte=function(e){var t=e.onClose,n=e.permissionName,r=Et().t,a={body:{camera:r("To start recording, allow the camera access in your browser"),microphone:r("To start recording, allow the microphone access in your browser")},heading:{camera:r("Allow access to camera"),microphone:r("Allow access to microphone")}};return v.createElement("div",{className:"str-chat__recording-permission-denied-notification"},v.createElement("div",{className:"str-chat__recording-permission-denied-notification__heading"},a.heading[n]),v.createElement("p",{className:"str-chat__recording-permission-denied-notification__message"},a.body[n]),v.createElement("div",{className:"str-chat__recording-permission-denied-notification__dismiss-button-container"},v.createElement("button",{className:"str-chat__recording-permission-denied-notification__dismiss-button",onClick:t},r("Ok"))))},i_=function(e){var t=e.durationSeconds;return v.createElement("div",{className:Yt("str-chat__recording-timer",{"str-chat__recording-timer--hours":t>=3600})},_2(t))},wte=function(e){var t=e.durationSeconds,n=e.mimeType,r=e.waveformData,a=Bt(e,["durationSeconds","mimeType","waveformData"]),i=Gu({durationSeconds:t,mimeType:n}),o=i.audioRef,s=i.isPlaying,l=i.progress,u=i.secondsElapsed,c=i.seek,d=i.togglePlay,f=u||t;return v.createElement(v.Fragment,null,v.createElement("audio",{ref:o},v.createElement("source",{src:a.src,type:n})),v.createElement("button",{className:"str-chat__audio_recorder__toggle-playback-button","data-testid":"audio-recording-preview-toggle-play-btn",onClick:d},s?v.createElement(n9,null):v.createElement(vte,null)),v.createElement(i_,{durationSeconds:f}),v.createElement("div",{className:"str-chat__wave-progress-bar__track-container"},v.createElement(M6,{progress:l,seek:c,waveformData:r||[]})))},Ete=function(e){var t={},n=t.startOnMount,r=$.useState(0),a=r[0],i=r[1],o=$.useRef(),s=$.useCallback(function(){o.current=setInterval(function(){i(function(u){return u+1})},1e3)},[]),l=$.useCallback(function(){clearInterval(o.current)},[]);return $.useEffect(function(){if(n)return o.current=setInterval(function(){i(function(u){return u+1})},1e3),function(){l()}},[n,l]),{secondsElapsed:a,startCounter:s,stopCounter:l}},Cte=function(e){var t=e.maxDataPointsDrawn,n=t===void 0?100:t,r=wa().recordingController.recorder,a=$.useState([]),i=a[0],o=a[1];return $.useEffect(function(){if(r!=null&&r.amplitudeRecorder){var s=r.amplitudeRecorder.amplitudes.subscribe(o);return function(){s.unsubscribe()}}},[r]),r?v.createElement("div",{className:"str-chat__waveform-box-container"},v.createElement("div",{className:"str-chat__audio_recorder__waveform-box"},i.slice(-n).map(function(s,l){return v.createElement("div",{className:"str-chat__wave-progress-bar__amplitude-bar",key:"amplitude-".concat(l,"-voice-recording"),style:{"--str-chat__wave-progress-bar__amplitude-bar-height":s?s*100+"%":"0%"}})}))):null},Ste=function(){var e=Ete(),t=e.secondsElapsed,n=e.startCounter,r=e.stopCounter,a=wa().recordingController.recorder;return $.useEffect(function(){if(a!=null&&a.mediaRecorder){var i=a.mediaRecorder;return i.addEventListener("start",n),i.addEventListener("resume",n),i.addEventListener("stop",r),i.addEventListener("pause",r),function(){i.removeEventListener("start",n),i.removeEventListener("resume",n),i.removeEventListener("stop",r),i.removeEventListener("pause",r)}}},[a,n,r]),v.createElement(v.Fragment,null,v.createElement(i_,{durationSeconds:t}),v.createElement(Cte,null))},tm=function(){function e(t){this.closed=!1,this._unsubscribe=t}return e.prototype.unsubscribe=function(){var t;this.closed=!0,(t=this._unsubscribe)===null||t===void 0||t.call(this)},e}();function o_(e){return typeof e=="function"?{next:e}:e}var Dte=function(){function e(t){this._closed=!1,t&&(this._producer=t)}return Object.defineProperty(e.prototype,"closed",{get:function(){return this._closed},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t){var n=this,r,a=o_(t);return this.closed||(r=this._producer)===null||r===void 0||r.call(this,a),new tm(function(){n._closed=!0})},e}(),Ld=function(e){t2(t,e);function t(){var n=e.call(this)||this;return n._observers=new Map,n._observerCounter=0,n}return Object.defineProperty(t.prototype,"observers",{get:function(){return Array.from(this._observers.values())},enumerable:!1,configurable:!0}),t.prototype.next=function(n){if(!this.closed)for(var r=this.observers,a=0;a<r.length;a++)r[a].next(n)},t.prototype.error=function(n){var r,a;if(!this.closed){this.thrownError=n;for(var i=this.observers,o=0;o<i.length;o++)(a=(r=i[o]).error)===null||a===void 0||a.call(r,n);this._observers.clear()}},t.prototype.complete=function(){var n,r;if(!this.closed){this._closed=!0;for(var a=this.observers,i=0;i<a.length;i++)(r=(n=a[i]).complete)===null||r===void 0||r.call(n);this._observers.clear()}},t.prototype.subscribe=function(n){var r=this,a=o_(n);if(this.thrownError||this.closed){var i=new tm;return i.closed=!0,i}var o=this._observerCounter++;return this._observers.set(o,a),new tm(function(){r._observers.delete(o)})},t.prototype.unsubscribe=function(){this._closed=!0,this._observers.clear()},t}(Dte),Hu=function(e){t2(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){var n=this,r=n._value,a=n.thrownError;if(a)throw a;return r},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(n){var r=o_(n),a=e.prototype.subscribe.call(this,n);return a.closed||r.next(this._value),a},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ld),Id;(function(e){e.CAM="camera",e.MIC="microphone"})(Id||(Id={}));var kte={audio:Id.MIC,video:Id.CAM},Mte=function(){function e(t){var n=t.mediaType;this.state=new Hu(void 0),this.status=new Hu(void 0),this.error=new Ld,this.changeSubscriptions=[],this.name=kte[n]}return Object.defineProperty(e.prototype,"isWatching",{get:function(){return this.changeSubscriptions.some(function(t){return!t.closed})},enumerable:!1,configurable:!0}),e.prototype.watch=function(){return St(this,void 0,void 0,function(){var t,n,r=this;return Dt(this,function(a){switch(a.label){case 0:return this.status.value?[3,2]:[4,this.check()];case 1:if(a.sent(),!this.status.value)return[2];a.label=2;case 2:return t=this.status.value,n=function(i){var o=i.target.state;r.state.next(o)},t.addEventListener("change",n),this.changeSubscriptions.push(new tm(function(){t.removeEventListener("change",n)})),[2]}})})},e.prototype.unwatch=function(){this.changeSubscriptions.forEach(function(t){return t.unsubscribe()})},e.prototype.check=function(){return St(this,void 0,void 0,function(){var t,n;return Dt(this,function(r){switch(r.label){case 0:if(!this.name)return this.error.next(new Error("Unknown media recording permission")),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.permissions.query({name:this.name})];case 2:return n=r.sent(),t=n.state,this.status.next(n),[3,4];case 3:return r.sent(),t="granted",[3,4];case 4:return this.state.next(t),[2]}})})},e}(),r9={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():window.ysFixWebmDuration=n()})("fix-webm-duration",function(){var t={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function n(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c}function r(c,d){this.name=c||"Unknown",this.type=d||"Unknown"}r.prototype.updateBySource=function(){},r.prototype.setSource=function(c){this.source=c,this.updateBySource()},r.prototype.updateByData=function(){},r.prototype.setData=function(c){this.data=c,this.updateByData()};function a(c,d){r.call(this,c,d||"Uint")}n(a,r);function i(c){return c.length%2===1?"0"+c:c}a.prototype.updateBySource=function(){this.data="";for(var c=0;c<this.source.length;c++){var d=this.source[c].toString(16);this.data+=i(d)}},a.prototype.updateByData=function(){var c=this.data.length/2;this.source=new Uint8Array(c);for(var d=0;d<c;d++){var f=this.data.substr(d*2,2);this.source[d]=parseInt(f,16)}},a.prototype.getValue=function(){return parseInt(this.data,16)},a.prototype.setValue=function(c){this.setData(i(c.toString(16)))};function o(c,d){r.call(this,c,d||"Float")}n(o,r),o.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},o.prototype.updateBySource=function(){var c=this.source.reverse(),d=this.getFloatArrayType(),f=new d(c.buffer);this.data=f[0]},o.prototype.updateByData=function(){var c=this.getFloatArrayType(),d=new c([this.data]),f=new Uint8Array(d.buffer);this.source=f.reverse()},o.prototype.getValue=function(){return this.data},o.prototype.setValue=function(c){this.setData(c)};function s(c,d){r.call(this,c,d||"Container")}n(s,r),s.prototype.readByte=function(){return this.source[this.offset++]},s.prototype.readUint=function(){for(var c=this.readByte(),d=8-c.toString(2).length,f=c-(1<<7-d),h=0;h<d;h++)f*=256,f+=this.readByte();return f},s.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=f){var c=this.readUint(),d=this.readUint(),f=Math.min(this.offset+d,this.source.length),h=this.source.slice(this.offset,f),p=t[c]||{name:"Unknown",type:"Unknown"},w=r;switch(p.type){case"Container":w=s;break;case"Uint":w=a;break;case"Float":w=o;break}var D=new w(p.name,p.type);D.setSource(h),this.data.push({id:c,idHex:c.toString(16),data:D})}},s.prototype.writeUint=function(c,d){for(var f=1,h=128;c>=h&&f<8;f++,h*=128);if(!d)for(var p=h+c,w=f-1;w>=0;w--){var D=p%256;this.source[this.offset+w]=D,p=(p-D)/256}this.offset+=f},s.prototype.writeSections=function(c){this.offset=0;for(var d=0;d<this.data.length;d++){var f=this.data[d],h=f.data.source,p=h.length;this.writeUint(f.id,c),this.writeUint(p,c),c||this.source.set(h,this.offset),this.offset+=p}return this.offset},s.prototype.updateByData=function(){var c=this.writeSections("draft");this.source=new Uint8Array(c),this.writeSections()},s.prototype.getSectionById=function(c){for(var d=0;d<this.data.length;d++){var f=this.data[d];if(f.id===c)return f.data}return null};function l(c){s.call(this,"File","File"),this.setSource(c)}n(l,s),l.prototype.fixDuration=function(c,d){var f=d&&d.logger;f===void 0?f=function(E){console.log(E)}:f||(f=function(){});var h=this.getSectionById(139690087);if(!h)return f("[fix-webm-duration] Segment section is missing"),!1;var p=h.getSectionById(88713574);if(!p)return f("[fix-webm-duration] Info section is missing"),!1;var w=p.getSectionById(710577);if(!w)return f("[fix-webm-duration] TimecodeScale section is missing"),!1;var D=p.getSectionById(1161);if(D)if(D.getValue()<=0)f("[fix-webm-duration] Duration section is present, but the value is empty"),D.setValue(c);else return f("[fix-webm-duration] Duration section is present"),!1;else f("[fix-webm-duration] Duration section is missing"),D=new o("Duration","Float"),D.setValue(c),p.data.push({id:1161,data:D});return w.setValue(1e6),p.updateByData(),h.updateByData(),this.updateByData(),!0},l.prototype.toBlob=function(c){return new Blob([this.source.buffer],{type:c||"video/webm"})};function u(c,d,f,h){if(typeof f=="object"&&(h=f,f=void 0),!f)return new Promise(function(w){u(c,d,w,h)});try{var p=new FileReader;p.onloadend=function(){try{var w=new l(new Uint8Array(p.result));w.fixDuration(d,h)&&(c=w.toBlob(c.type))}catch{}f(c)},p.readAsArrayBuffer(c)}catch{f(c)}}return u.default=u,u})})(r9);var Tte=r9.exports;const xte=Wn(Tte);var nm={exports:{}};nm.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",a=800,i=16,o=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",w="[object Map]",D="[object Number]",E="[object Null]",g="[object Object]",C="[object Proxy]",M="[object RegExp]",m="[object Set]",b="[object String]",S="[object Undefined]",y="[object WeakMap]",k="[object ArrayBuffer]",_="[object DataView]",P="[object Float32Array]",z="[object Float64Array]",N="[object Int8Array]",T="[object Int16Array]",L="[object Int32Array]",I="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",U="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,x={};x[P]=x[z]=x[N]=x[T]=x[L]=x[I]=x[B]=x[F]=x[U]=!0,x[s]=x[l]=x[k]=x[c]=x[_]=x[d]=x[f]=x[h]=x[w]=x[D]=x[g]=x[M]=x[m]=x[b]=x[y]=!1;var j=typeof jt=="object"&&jt&&jt.Object===Object&&jt,V=typeof self=="object"&&self&&self.Object===Object&&self,X=j||V||Function("return this")(),re=t&&!t.nodeType&&t,W=re&&!0&&e&&!e.nodeType&&e,J=W&&W.exports===re,oe=J&&j.process,he=function(){try{var ce=W&&W.require&&W.require("util").types;return ce||oe&&oe.binding&&oe.binding("util")}catch{}}(),Oe=he&&he.isTypedArray;function $e(ce,Se,Y){switch(Y.length){case 0:return ce.call(Se);case 1:return ce.call(Se,Y[0]);case 2:return ce.call(Se,Y[0],Y[1]);case 3:return ce.call(Se,Y[0],Y[1],Y[2])}return ce.apply(Se,Y)}function Ie(ce,Se){for(var Y=-1,de=Array(ce);++Y<ce;)de[Y]=Se(Y);return de}function ze(ce){return function(Se){return ce(Se)}}function We(ce,Se){return ce==null?void 0:ce[Se]}function at(ce,Se){return function(Y){return ce(Se(Y))}}var bt=Array.prototype,H=Function.prototype,q=Object.prototype,De=X["__core-js_shared__"],Fe=H.toString,Qe=q.hasOwnProperty,le=function(){var ce=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return ce?"Symbol(src)_1."+ce:""}(),Ne=q.toString,pe=Fe.call(Object),Te=RegExp("^"+Fe.call(Qe).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=J?X.Buffer:void 0,Be=X.Symbol,ut=X.Uint8Array;Ue&&Ue.allocUnsafe;var Mt=at(Object.getPrototypeOf,Object),K=Object.create,G=q.propertyIsEnumerable,ie=bt.splice,se=Be?Be.toStringTag:void 0,fe=function(){try{var ce=Ar(Object,"defineProperty");return ce({},"",{}),ce}catch{}}(),te=Ue?Ue.isBuffer:void 0,ge=Math.max,Ee=Date.now,ye=Ar(X,"Map"),Ae=Ar(Object,"create"),we=function(){function ce(){}return function(Se){if(!ei(Se))return{};if(K)return K(Se);ce.prototype=Se;var Y=new ce;return ce.prototype=void 0,Y}}();function xe(ce){var Se=-1,Y=ce==null?0:ce.length;for(this.clear();++Se<Y;){var de=ce[Se];this.set(de[0],de[1])}}function nt(){this.__data__=Ae?Ae(null):{},this.size=0}function lt(ce){var Se=this.has(ce)&&delete this.__data__[ce];return this.size-=Se?1:0,Se}function Ke(ce){var Se=this.__data__;if(Ae){var Y=Se[ce];return Y===r?void 0:Y}return Qe.call(Se,ce)?Se[ce]:void 0}function yt(ce){var Se=this.__data__;return Ae?Se[ce]!==void 0:Qe.call(Se,ce)}function ke(ce,Se){var Y=this.__data__;return this.size+=this.has(ce)?0:1,Y[ce]=Ae&&Se===void 0?r:Se,this}xe.prototype.clear=nt,xe.prototype.delete=lt,xe.prototype.get=Ke,xe.prototype.has=yt,xe.prototype.set=ke;function rt(ce){var Se=-1,Y=ce==null?0:ce.length;for(this.clear();++Se<Y;){var de=ce[Se];this.set(de[0],de[1])}}function Pt(){this.__data__=[],this.size=0}function Ye(ce){var Se=this.__data__,Y=gt(Se,ce);if(Y<0)return!1;var de=Se.length-1;return Y==de?Se.pop():ie.call(Se,Y,1),--this.size,!0}function ht(ce){var Se=this.__data__,Y=gt(Se,ce);return Y<0?void 0:Se[Y][1]}function Je(ce){return gt(this.__data__,ce)>-1}function xt(ce,Se){var Y=this.__data__,de=gt(Y,ce);return de<0?(++this.size,Y.push([ce,Se])):Y[de][1]=Se,this}rt.prototype.clear=Pt,rt.prototype.delete=Ye,rt.prototype.get=ht,rt.prototype.has=Je,rt.prototype.set=xt;function me(ce){var Se=-1,Y=ce==null?0:ce.length;for(this.clear();++Se<Y;){var de=ce[Se];this.set(de[0],de[1])}}function ue(){this.size=0,this.__data__={hash:new xe,map:new(ye||rt),string:new xe}}function Ce(ce){var Se=ar(this,ce).delete(ce);return this.size-=Se?1:0,Se}function Le(ce){return ar(this,ce).get(ce)}function _e(ce){return ar(this,ce).has(ce)}function Ge(ce,Se){var Y=ar(this,ce),de=Y.size;return Y.set(ce,Se),this.size+=Y.size==de?0:1,this}me.prototype.clear=ue,me.prototype.delete=Ce,me.prototype.get=Le,me.prototype.has=_e,me.prototype.set=Ge;function Ze(ce){var Se=this.__data__=new rt(ce);this.size=Se.size}function ee(){this.__data__=new rt,this.size=0}function ae(ce){var Se=this.__data__,Y=Se.delete(ce);return this.size=Se.size,Y}function Re(ce){return this.__data__.get(ce)}function je(ce){return this.__data__.has(ce)}function He(ce,Se){var Y=this.__data__;if(Y instanceof rt){var de=Y.__data__;if(!ye||de.length<n-1)return de.push([ce,Se]),this.size=++Y.size,this;Y=this.__data__=new me(de)}return Y.set(ce,Se),this.size=Y.size,this}Ze.prototype.clear=ee,Ze.prototype.delete=ae,Ze.prototype.get=Re,Ze.prototype.has=je,Ze.prototype.set=He;function Ve(ce,Se){var Y=wo(ce),de=!Y&&Ti(ce),Pe=!Y&&!de&&Ll(ce),ot=!Y&&!de&&!Pe&&Il(ce),It=Y||de||Pe||ot,Lt=It?Ie(ce.length,String):[],zt=Lt.length;for(var Xt in ce)It&&(Xt=="length"||Pe&&(Xt=="offset"||Xt=="parent")||ot&&(Xt=="buffer"||Xt=="byteLength"||Xt=="byteOffset")||Bn(Xt,zt))||Lt.push(Xt);return Lt}function st(ce,Se,Y){(Y!==void 0&&!Go(ce[Se],Y)||Y===void 0&&!(Se in ce))&&wt(ce,Se,Y)}function mt(ce,Se,Y){var de=ce[Se];(!(Qe.call(ce,Se)&&Go(de,Y))||Y===void 0&&!(Se in ce))&&wt(ce,Se,Y)}function gt(ce,Se){for(var Y=ce.length;Y--;)if(Go(ce[Y][0],Se))return Y;return-1}function wt(ce,Se,Y){Se=="__proto__"&&fe?fe(ce,Se,{configurable:!0,enumerable:!0,value:Y,writable:!0}):ce[Se]=Y}var Tt=vr();function Ot(ce){return ce==null?ce===void 0?S:E:se&&se in Object(ce)?yr(ce):lc(ce)}function Nt(ce){return Lr(ce)&&Ot(ce)==s}function Ct(ce){if(!ei(ce)||qi(ce))return!1;var Se=Ba(ce)?Te:O;return Se.test(Al(ce))}function Gt(ce){return Lr(ce)&&sa(ce.length)&&!!x[Ot(ce)]}function Cn(ce){if(!ei(ce))return Ol(ce);var Se=Pl(ce),Y=[];for(var de in ce)de=="constructor"&&(Se||!Qe.call(ce,de))||Y.push(de);return Y}function an(ce,Se,Y,de,Pe){ce!==Se&&Tt(Se,function(ot,It){if(Pe||(Pe=new Ze),ei(ot))Tn(ce,Se,It,Y,an,de,Pe);else{var Lt=de?de(Is(ce,It),ot,It+"",ce,Se,Pe):void 0;Lt===void 0&&(Lt=ot),st(ce,It,Lt)}},Nl)}function Tn(ce,Se,Y,de,Pe,ot,It){var Lt=Is(ce,Y),zt=Is(Se,Y),Xt=It.get(zt);if(Xt){st(ce,Y,Xt);return}var nn=ot?ot(Lt,zt,Y+"",ce,Se,It):void 0,ir=nn===void 0;if(ir){var dr=wo(zt),xi=!dr&&Ll(zt),Xo=!dr&&!xi&&Il(zt);nn=zt,dr||xi||Xo?wo(Lt)?nn=Lt:Yi(Lt)?nn=Ua(Lt):xi?(ir=!1,nn=sn(zt)):Xo?(ir=!1,nn=aa(zt)):nn=[]:ti(zt)||Ti(zt)?(nn=Lt,Ti(Lt)?nn=Fl(Lt):(!ei(Lt)||Ba(Lt))&&(nn=oa(zt))):ir=!1}ir&&(It.set(zt,nn),Pe(nn,zt,de,ot,It),It.delete(zt)),st(ce,Y,nn)}function In(ce,Se){return Fs(uc(ce,Se,Bl),ce+"")}var en=fe?function(ce,Se){return fe(ce,"toString",{configurable:!0,enumerable:!1,value:Ns(Se),writable:!0})}:Bl;function sn(ce,Se){return ce.slice()}function Sn(ce){var Se=new ce.constructor(ce.byteLength);return new ut(Se).set(new ut(ce)),Se}function aa(ce,Se){var Y=Sn(ce.buffer);return new ce.constructor(Y,ce.byteOffset,ce.length)}function Ua(ce,Se){var Y=-1,de=ce.length;for(Se||(Se=Array(de));++Y<de;)Se[Y]=ce[Y];return Se}function ia(ce,Se,Y,de){var Pe=!Y;Y||(Y={});for(var ot=-1,It=Se.length;++ot<It;){var Lt=Se[ot],zt=void 0;zt===void 0&&(zt=ce[Lt]),Pe?wt(Y,Lt,zt):mt(Y,Lt,zt)}return Y}function Un(ce){return In(function(Se,Y){var de=-1,Pe=Y.length,ot=Pe>1?Y[Pe-1]:void 0,It=Pe>2?Y[2]:void 0;for(ot=ce.length>3&&typeof ot=="function"?(Pe--,ot):void 0,It&&Ca(Y[0],Y[1],It)&&(ot=Pe<3?void 0:ot,Pe=1),Se=Object(Se);++de<Pe;){var Lt=Y[de];Lt&&ce(Se,Lt,de,ot)}return Se})}function vr(ce){return function(Se,Y,de){for(var Pe=-1,ot=Object(Se),It=de(Se),Lt=It.length;Lt--;){var zt=It[++Pe];if(Y(ot[zt],zt,ot)===!1)break}return Se}}function ar(ce,Se){var Y=ce.__data__;return Wi(Se)?Y[typeof Se=="string"?"string":"hash"]:Y.map}function Ar(ce,Se){var Y=We(ce,Se);return Ct(Y)?Y:void 0}function yr(ce){var Se=Qe.call(ce,se),Y=ce[se];try{ce[se]=void 0;var de=!0}catch{}var Pe=Ne.call(ce);return de&&(Se?ce[se]=Y:delete ce[se]),Pe}function oa(ce){return typeof ce.constructor=="function"&&!Pl(ce)?we(Mt(ce)):{}}function Bn(ce,Se){var Y=typeof ce;return Se=Se??o,!!Se&&(Y=="number"||Y!="symbol"&&A.test(ce))&&ce>-1&&ce%1==0&&ce<Se}function Ca(ce,Se,Y){if(!ei(Y))return!1;var de=typeof Se;return(de=="number"?Eo(Y)&&Bn(Se,Y.length):de=="string"&&Se in Y)?Go(Y[Se],ce):!1}function Wi(ce){var Se=typeof ce;return Se=="string"||Se=="number"||Se=="symbol"||Se=="boolean"?ce!=="__proto__":ce===null}function qi(ce){return!!le&&le in ce}function Pl(ce){var Se=ce&&ce.constructor,Y=typeof Se=="function"&&Se.prototype||q;return ce===Y}function Ol(ce){var Se=[];if(ce!=null)for(var Y in Object(ce))Se.push(Y);return Se}function lc(ce){return Ne.call(ce)}function uc(ce,Se,Y){return Se=ge(Se===void 0?ce.length-1:Se,0),function(){for(var de=arguments,Pe=-1,ot=ge(de.length-Se,0),It=Array(ot);++Pe<ot;)It[Pe]=de[Se+Pe];Pe=-1;for(var Lt=Array(Se+1);++Pe<Se;)Lt[Pe]=de[Pe];return Lt[Se]=Y(It),$e(ce,this,Lt)}}function Is(ce,Se){if(!(Se==="constructor"&&typeof ce[Se]=="function")&&Se!="__proto__")return ce[Se]}var Fs=cc(en);function cc(ce){var Se=0,Y=0;return function(){var de=Ee(),Pe=i-(de-Y);if(Y=de,Pe>0){if(++Se>=a)return arguments[0]}else Se=0;return ce.apply(void 0,arguments)}}function Al(ce){if(ce!=null){try{return Fe.call(ce)}catch{}try{return ce+""}catch{}}return""}function Go(ce,Se){return ce===Se||ce!==ce&&Se!==Se}var Ti=Nt(function(){return arguments}())?Nt:function(ce){return Lr(ce)&&Qe.call(ce,"callee")&&!G.call(ce,"callee")},wo=Array.isArray;function Eo(ce){return ce!=null&&sa(ce.length)&&!Ba(ce)}function Yi(ce){return Lr(ce)&&Eo(ce)}var Ll=te||Zo;function Ba(ce){if(!ei(ce))return!1;var Se=Ot(ce);return Se==h||Se==p||Se==u||Se==C}function sa(ce){return typeof ce=="number"&&ce>-1&&ce%1==0&&ce<=o}function ei(ce){var Se=typeof ce;return ce!=null&&(Se=="object"||Se=="function")}function Lr(ce){return ce!=null&&typeof ce=="object"}function ti(ce){if(!Lr(ce)||Ot(ce)!=g)return!1;var Se=Mt(ce);if(Se===null)return!0;var Y=Qe.call(Se,"constructor")&&Se.constructor;return typeof Y=="function"&&Y instanceof Y&&Fe.call(Y)==pe}var Il=Oe?ze(Oe):Gt;function Fl(ce){return ia(ce,Nl(ce))}function Nl(ce){return Eo(ce)?Ve(ce):Cn(ce)}var Ul=Un(function(ce,Se,Y,de){an(ce,Se,Y,de)});function Ns(ce){return function(){return ce}}function Bl(ce){return ce}function Zo(){return!1}e.exports=Ul})(nm,nm.exports);var Rte=nm.exports;const a9=Wn(Rte);var Pte=function(e,t){return t},Ote=function(e,t){return a9(e,t,Pte)},Ate=function(e,t){return e??t},xh=function(e,t){return a9(e,t,Ate)},Lte=255,Ite=function(e){return e&&console.error("[AMPLITUDE RECORDER ERROR]",e)},Fte=function(e){return Math.sqrt(e.reduce(function(t,n){return t+Math.pow(n,2)},0)/e.length)},i9={analyserConfig:{fftSize:32,maxDecibels:0,minDecibels:-100},sampleCount:100,samplingFrequencyMs:60},ko;(function(e){e.CLOSED="closed",e.RECORDING="recording",e.STOPPED="stopped"})(ko||(ko={}));var Nte=function(){function e(t){var n=t.config,r=t.stream,a=this;this.amplitudes=new Hu([]),this.state=new Hu(void 0),this.error=new Ld,this.start=function(){if(a.state.value!==ko.CLOSED){if(!a.stream)throw new Error("Missing MediaStream instance. Cannot to start amplitude recording");if(a.state.value===ko.RECORDING&&a.stop(),!a.analyserNode){if(!a.stream)return;a.init()}a.state.next(ko.RECORDING),a.amplitudeSamplingInterval=setInterval(function(){if(a.analyserNode&&a.state.value===ko.RECORDING){var i=new Uint8Array(a.analyserNode.frequencyBinCount);try{a.analyserNode.getByteFrequencyData(i)}catch(s){Ite(s),a.error.next(s);return}var o=Fte(i)/Lte;a.amplitudes.next(Vt(Vt([],a.amplitudes.value,!0),[o],!1))}},a.config.samplingFrequencyMs)}},this.config=xh(ne({},n),i9),this.stream=r}return e.prototype.init=function(){this.audioContext=new AudioContext,this.analyserNode=this.audioContext.createAnalyser();var t=this.config.analyserConfig;this.analyserNode.fftSize=t.fftSize,this.analyserNode.maxDecibels=t.maxDecibels,this.analyserNode.minDecibels=t.minDecibels,this.microphone=this.audioContext.createMediaStreamSource(this.stream),this.microphone.connect(this.analyserNode)},e.prototype.stop=function(){clearInterval(this.amplitudeSamplingInterval),this.amplitudeSamplingInterval=void 0,this.state.next(ko.STOPPED)},e.prototype.close=function(){var t,n,r,a;this.state.value!==ko.STOPPED&&this.stop(),this.state.next(ko.CLOSED),this.amplitudes.next([]),(t=this.microphone)===null||t===void 0||t.disconnect(),(n=this.analyserNode)===null||n===void 0||n.disconnect(),((r=this.audioContext)===null||r===void 0?void 0:r.state)!=="closed"&&((a=this.audioContext)===null||a===void 0||a.close())},e}(),o9=function(e){return St(void 0,void 0,void 0,function(){var t,n,r;return Dt(this,function(a){switch(a.label){case 0:return t=new AudioContext,[4,gH(e)];case 1:return n=a.sent(),[4,t.decodeAudioData(n)];case 2:return r=a.sent(),t.state==="closed"?[3,4]:[4,t.close()];case 3:a.sent(),a.label=4;case 4:return[2,r]}})})},s9=function(e,t){return St(void 0,void 0,void 0,function(){var n,r;return Dt(this,function(a){switch(a.label){case 0:return n=new OfflineAudioContext(e.numberOfChannels,e.duration*t,t),r=n.createBufferSource(),r.buffer=e,r.connect(n.destination),r.start(),[4,n.startRendering()];case 1:return[2,a.sent()]}})})},rm=44,Fd=2,Ute=4294967295,_r={AUDIO_FORMAT:{offset:20,value:1},BITS_PER_SAMPLE:{offset:34,value:Fd*8},BLOCK_ALIGN:{offset:32},BYTE_RATE:{offset:28},CHANNEL_COUNT:{offset:22},CHUNK_ID:{offset:0,value:1380533830},CHUNK_SIZE:{offset:4},FILE_FORMAT:{offset:8,value:1463899717},SAMPLE_RATE:{offset:24},SUBCHUNK1_ID:{offset:12,value:1718449184},SUBCHUNK1_SIZE:{offset:16,value:16},SUBCHUNK2_ID:{offset:36,value:1684108385},SUBCHUNK2_SIZE:{offset:40}},Kf=function(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)};Kf("data"),Kf("fmt "),Kf("RIFF"),Kf("WAVE");var Bte=function(e){var t=e.arrayBuffer,n=e.channelCount,r=e.sampleRate,a=r*n*Fd,i=n*Fd,o=new DataView(t),s=Math.min(o.byteLength-rm,Ute-rm);o.setUint32(_r.CHUNK_ID.offset,_r.CHUNK_ID.value),o.setUint32(_r.CHUNK_SIZE.offset,t.byteLength-8,!0),o.setUint32(_r.FILE_FORMAT.offset,_r.FILE_FORMAT.value),o.setUint32(_r.SUBCHUNK1_ID.offset,_r.SUBCHUNK1_ID.value),o.setUint32(_r.SUBCHUNK1_SIZE.offset,_r.SUBCHUNK1_SIZE.value,!0),o.setUint16(_r.AUDIO_FORMAT.offset,_r.AUDIO_FORMAT.value,!0),o.setUint16(_r.CHANNEL_COUNT.offset,n,!0),o.setUint32(_r.SAMPLE_RATE.offset,r,!0),o.setUint32(_r.BYTE_RATE.offset,a,!0),o.setUint16(_r.BLOCK_ALIGN.offset,i,!0),o.setUint16(_r.BITS_PER_SAMPLE.offset,_r.BITS_PER_SAMPLE.value,!0),o.setUint32(_r.SUBCHUNK2_ID.offset,_r.SUBCHUNK2_ID.value),o.setUint32(_r.SUBCHUNK2_SIZE.offset,s,!0)},jte=function(e){return Array.from({length:e.numberOfChannels},function(t,n){return e.getChannelData(n)})},zte=function(e){var t=e.arrayBuffer,n=e.dataByChannel,r=new DataView(t),a=n.length;n.forEach(function(i,o){var s=rm+a*o;i.forEach(function(l){r.setInt16(s,l<0?Math.max(-1,l)*32768:Math.min(1,l)*32767,!0),s+=a*Fd})})},$te=function(e,t){return St(void 0,void 0,void 0,function(){var n,r,a,i,o;return Dt(this,function(s){switch(s.label){case 0:return r=s9,[4,o9(e)];case 1:return[4,r.apply(void 0,[s.sent(),t])];case 2:return n=s.sent(),a=n.duration*t,i=a*n.numberOfChannels*Fd+rm,o=new ArrayBuffer(i),Bte({arrayBuffer:o,channelCount:n.numberOfChannels,sampleRate:t}),zte({arrayBuffer:o,dataByChannel:jte(n)}),[2,new Blob([o],{type:"audio/wav"})]}})})};function Hte(e){return new Int8Array(e)}function l9(e){return new Int16Array(e)}function u9(e){return new Int32Array(e)}function c9(e){return new Float32Array(e)}function Vte(e){return new Float64Array(e)}function d9(e){if(e.length==1)return c9(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(d9(e));return n}function f9(e){if(e.length==1)return u9(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(f9(e));return n}function h9(e){if(e.length==1)return l9(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(h9(e));return n}function p9(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(p9(e));return n}var m9={};m9.fill=function(e,t,n,r){if(arguments.length==2)for(var a=0;a<e.length;a++)e[a]=arguments[1];else for(var a=t;a<n;a++)e[a]=r};var uf={};uf.arraycopy=function(e,t,n,r,a){for(var i=t+a;t<i;)n[r++]=e[t++]};uf.out={};uf.out.println=function(e){console.log(e)};uf.out.printf=function(){console.log.apply(console,arguments)};var eg={};eg.SQRT2=1.4142135623730951;eg.FAST_LOG10=function(e){return Math.log10(e)};eg.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function zo(e){this.ordinal=e}zo.short_block_allowed=new zo(0);zo.short_block_coupled=new zo(1);zo.short_block_dispensed=new zo(2);zo.short_block_forced=new zo(3);var g9={};g9.MAX_VALUE=34028235e31;function Xa(e){this.ordinal=e}Xa.vbr_off=new Xa(0);Xa.vbr_mt=new Xa(1);Xa.vbr_rh=new Xa(2);Xa.vbr_abr=new Xa(3);Xa.vbr_mtrh=new Xa(4);Xa.vbr_default=Xa.vbr_mtrh;var Wte=function(e){},Zn={System:uf,VbrMode:Xa,Float:g9,ShortBlock:zo,Util:eg,Arrays:m9,new_array_n:p9,new_byte:Hte,new_double:Vte,new_float:c9,new_float_n:d9,new_int:u9,new_int_n:f9,new_short:l9,new_short_n:h9,assert:Wte},j1,_E;function qte(){if(_E)return j1;_E=1;var e=Zn,t=e.System,n=e.Util,r=e.Arrays,a=e.new_float,i=ra();function o(){var s=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],l=12,u=36,c=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],d=c[i.SHORT_TYPE],f=c[i.SHORT_TYPE],h=c[i.SHORT_TYPE],p=c[i.SHORT_TYPE],w=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function D(C,M,m){for(var b=10,S=M+238-14-286,y=-15;y<0;y++){var k,_,P;k=s[b+-10],_=C[S+-224]*k,P=C[M+224]*k,k=s[b+-9],_+=C[S+-160]*k,P+=C[M+160]*k,k=s[b+-8],_+=C[S+-96]*k,P+=C[M+96]*k,k=s[b+-7],_+=C[S+-32]*k,P+=C[M+32]*k,k=s[b+-6],_+=C[S+32]*k,P+=C[M+-32]*k,k=s[b+-5],_+=C[S+96]*k,P+=C[M+-96]*k,k=s[b+-4],_+=C[S+160]*k,P+=C[M+-160]*k,k=s[b+-3],_+=C[S+224]*k,P+=C[M+-224]*k,k=s[b+-2],_+=C[M+-256]*k,P-=C[S+256]*k,k=s[b+-1],_+=C[M+-192]*k,P-=C[S+192]*k,k=s[b+0],_+=C[M+-128]*k,P-=C[S+128]*k,k=s[b+1],_+=C[M+-64]*k,P-=C[S+64]*k,k=s[b+2],_+=C[M+0]*k,P-=C[S+0]*k,k=s[b+3],_+=C[M+64]*k,P-=C[S+-64]*k,k=s[b+4],_+=C[M+128]*k,P-=C[S+-128]*k,k=s[b+5],_+=C[M+192]*k,P-=C[S+-192]*k,_*=s[b+6],k=P-_,m[30+y*2]=P+_,m[31+y*2]=s[b+7]*k,b+=18,M--,S++}{var _,P,z,N;P=C[M+-16]*s[b+-10],_=C[M+-32]*s[b+-2],P+=(C[M+-48]-C[M+16])*s[b+-9],_+=C[M+-96]*s[b+-1],P+=(C[M+-80]+C[M+48])*s[b+-8],_+=C[M+-160]*s[b+0],P+=(C[M+-112]-C[M+80])*s[b+-7],_+=C[M+-224]*s[b+1],P+=(C[M+-144]+C[M+112])*s[b+-6],_-=C[M+32]*s[b+2],P+=(C[M+-176]-C[M+144])*s[b+-5],_-=C[M+96]*s[b+3],P+=(C[M+-208]+C[M+176])*s[b+-4],_-=C[M+160]*s[b+4],P+=(C[M+-240]-C[M+208])*s[b+-3],_-=C[M+224],z=_-P,N=_+P,P=m[14],_=m[15]-P,m[31]=N+P,m[30]=z+_,m[15]=z-_,m[14]=N-P}{var T;T=m[28]-m[0],m[0]+=m[28],m[28]=T*s[b+-2*18+7],T=m[29]-m[1],m[1]+=m[29],m[29]=T*s[b+-2*18+7],T=m[26]-m[2],m[2]+=m[26],m[26]=T*s[b+-4*18+7],T=m[27]-m[3],m[3]+=m[27],m[27]=T*s[b+-4*18+7],T=m[24]-m[4],m[4]+=m[24],m[24]=T*s[b+-6*18+7],T=m[25]-m[5],m[5]+=m[25],m[25]=T*s[b+-6*18+7],T=m[22]-m[6],m[6]+=m[22],m[22]=T*n.SQRT2,T=m[23]-m[7],m[7]+=m[23],m[23]=T*n.SQRT2-m[7],m[7]-=m[6],m[22]-=m[7],m[23]-=m[22],T=m[6],m[6]=m[31]-T,m[31]=m[31]+T,T=m[7],m[7]=m[30]-T,m[30]=m[30]+T,T=m[22],m[22]=m[15]-T,m[15]=m[15]+T,T=m[23],m[23]=m[14]-T,m[14]=m[14]+T,T=m[20]-m[8],m[8]+=m[20],m[20]=T*s[b+-10*18+7],T=m[21]-m[9],m[9]+=m[21],m[21]=T*s[b+-10*18+7],T=m[18]-m[10],m[10]+=m[18],m[18]=T*s[b+-12*18+7],T=m[19]-m[11],m[11]+=m[19],m[19]=T*s[b+-12*18+7],T=m[16]-m[12],m[12]+=m[16],m[16]=T*s[b+-14*18+7],T=m[17]-m[13],m[13]+=m[17],m[17]=T*s[b+-14*18+7],T=-m[20]+m[24],m[20]+=m[24],m[24]=T*s[b+-12*18+7],T=-m[21]+m[25],m[21]+=m[25],m[25]=T*s[b+-12*18+7],T=m[4]-m[8],m[4]+=m[8],m[8]=T*s[b+-12*18+7],T=m[5]-m[9],m[5]+=m[9],m[9]=T*s[b+-12*18+7],T=m[0]-m[12],m[0]+=m[12],m[12]=T*s[b+-4*18+7],T=m[1]-m[13],m[1]+=m[13],m[13]=T*s[b+-4*18+7],T=m[16]-m[28],m[16]+=m[28],m[28]=T*s[b+-4*18+7],T=-m[17]+m[29],m[17]+=m[29],m[29]=T*s[b+-4*18+7],T=n.SQRT2*(m[2]-m[10]),m[2]+=m[10],m[10]=T,T=n.SQRT2*(m[3]-m[11]),m[3]+=m[11],m[11]=T,T=n.SQRT2*(-m[18]+m[26]),m[18]+=m[26],m[26]=T-m[18],T=n.SQRT2*(-m[19]+m[27]),m[19]+=m[27],m[27]=T-m[19],T=m[2],m[19]-=m[3],m[3]-=T,m[2]=m[31]-T,m[31]+=T,T=m[3],m[11]-=m[19],m[18]-=T,m[3]=m[30]-T,m[30]+=T,T=m[18],m[27]-=m[11],m[19]-=T,m[18]=m[15]-T,m[15]+=T,T=m[19],m[10]-=T,m[19]=m[14]-T,m[14]+=T,T=m[10],m[11]-=T,m[10]=m[23]-T,m[23]+=T,T=m[11],m[26]-=T,m[11]=m[22]-T,m[22]+=T,T=m[26],m[27]-=T,m[26]=m[7]-T,m[7]+=T,T=m[27],m[27]=m[6]-T,m[6]+=T,T=n.SQRT2*(m[0]-m[4]),m[0]+=m[4],m[4]=T,T=n.SQRT2*(m[1]-m[5]),m[1]+=m[5],m[5]=T,T=n.SQRT2*(m[16]-m[20]),m[16]+=m[20],m[20]=T,T=n.SQRT2*(m[17]-m[21]),m[17]+=m[21],m[21]=T,T=-n.SQRT2*(m[8]-m[12]),m[8]+=m[12],m[12]=T-m[8],T=-n.SQRT2*(m[9]-m[13]),m[9]+=m[13],m[13]=T-m[9],T=-n.SQRT2*(m[25]-m[29]),m[25]+=m[29],m[29]=T-m[25],T=-n.SQRT2*(m[24]+m[28]),m[24]-=m[28],m[28]=T-m[24],T=m[24]-m[16],m[24]=T,T=m[20]-T,m[20]=T,T=m[28]-T,m[28]=T,T=m[25]-m[17],m[25]=T,T=m[21]-T,m[21]=T,T=m[29]-T,m[29]=T,T=m[17]-m[1],m[17]=T,T=m[9]-T,m[9]=T,T=m[25]-T,m[25]=T,T=m[5]-T,m[5]=T,T=m[21]-T,m[21]=T,T=m[13]-T,m[13]=T,T=m[29]-T,m[29]=T,T=m[1]-m[0],m[1]=T,T=m[16]-T,m[16]=T,T=m[17]-T,m[17]=T,T=m[8]-T,m[8]=T,T=m[9]-T,m[9]=T,T=m[24]-T,m[24]=T,T=m[25]-T,m[25]=T,T=m[4]-T,m[4]=T,T=m[5]-T,m[5]=T,T=m[20]-T,m[20]=T,T=m[21]-T,m[21]=T,T=m[12]-T,m[12]=T,T=m[13]-T,m[13]=T,T=m[28]-T,m[28]=T,T=m[29]-T,m[29]=T,T=m[0],m[0]+=m[31],m[31]-=T,T=m[1],m[1]+=m[30],m[30]-=T,T=m[16],m[16]+=m[15],m[15]-=T,T=m[17],m[17]+=m[14],m[14]-=T,T=m[8],m[8]+=m[23],m[23]-=T,T=m[9],m[9]+=m[22],m[22]-=T,T=m[24],m[24]+=m[7],m[7]-=T,T=m[25],m[25]+=m[6],m[6]-=T,T=m[4],m[4]+=m[27],m[27]-=T,T=m[5],m[5]+=m[26],m[26]-=T,T=m[20],m[20]+=m[11],m[11]-=T,T=m[21],m[21]+=m[10],m[10]-=T,T=m[12],m[12]+=m[19],m[19]-=T,T=m[13],m[13]+=m[18],m[18]-=T,T=m[28],m[28]+=m[3],m[3]-=T,T=m[29],m[29]+=m[2],m[2]-=T}}function E(C,M){for(var m=0;m<3;m++){var b,S,y,k,_,P;k=C[M+2*3]*c[i.SHORT_TYPE][0]-C[M+5*3],b=C[M+0*3]*c[i.SHORT_TYPE][2]-C[M+3*3],S=k+b,y=k-b,k=C[M+5*3]*c[i.SHORT_TYPE][0]+C[M+2*3],b=C[M+3*3]*c[i.SHORT_TYPE][2]+C[M+0*3],_=k+b,P=-k+b,b=(C[M+1*3]*c[i.SHORT_TYPE][1]-C[M+4*3])*2069978111953089e-26,k=(C[M+4*3]*c[i.SHORT_TYPE][1]+C[M+1*3])*2069978111953089e-26,C[M+3*0]=S*190752519173728e-25+b,C[M+3*5]=-_*190752519173728e-25+k,y=y*.8660254037844387*1907525191737281e-26,_=_*.5*1907525191737281e-26+k,C[M+3*1]=y-_,C[M+3*2]=y+_,S=S*.5*1907525191737281e-26-b,P=P*.8660254037844387*1907525191737281e-26,C[M+3*3]=S+P,C[M+3*4]=S-P,M++}}function g(C,M,m){var b,S;{var y,k,_,P,z,N,T,L;y=m[17]-m[9],_=m[15]-m[11],P=m[14]-m[12],z=m[0]+m[8],N=m[1]+m[7],T=m[2]+m[6],L=m[3]+m[5],C[M+17]=z+T-L-(N-m[4]),S=(z+T-L)*f[19]+(N-m[4]),b=(y-_-P)*f[18],C[M+5]=b+S,C[M+6]=b-S,k=(m[16]-m[10])*f[18],N=N*f[19]+m[4],b=y*f[12]+k+_*f[13]+P*f[14],S=-z*f[16]+N-T*f[17]+L*f[15],C[M+1]=b+S,C[M+2]=b-S,b=y*f[13]-k-_*f[14]+P*f[12],S=-z*f[17]+N-T*f[15]+L*f[16],C[M+9]=b+S,C[M+10]=b-S,b=y*f[14]-k+_*f[12]-P*f[13],S=z*f[15]-N+T*f[16]-L*f[17],C[M+13]=b+S,C[M+14]=b-S}{var I,B,F,U,R,O,A,x;I=m[8]-m[0],F=m[6]-m[2],U=m[5]-m[3],R=m[17]+m[9],O=m[16]+m[10],A=m[15]+m[11],x=m[14]+m[12],C[M+0]=R+A+x+(O+m[13]),b=(R+A+x)*f[19]-(O+m[13]),S=(I-F+U)*f[18],C[M+11]=b+S,C[M+12]=b-S,B=(m[7]-m[1])*f[18],O=m[13]-O*f[19],b=R*f[15]-O+A*f[16]+x*f[17],S=I*f[14]+B+F*f[12]+U*f[13],C[M+3]=b+S,C[M+4]=b-S,b=-R*f[17]+O-A*f[15]-x*f[16],S=I*f[13]+B-F*f[14]-U*f[12],C[M+7]=b+S,C[M+8]=b-S,b=-R*f[16]+O-A*f[17]-x*f[15],S=I*f[12]-B+F*f[13]-U*f[14],C[M+15]=b+S,C[M+16]=b-S}}this.mdct_sub48=function(C,M,m){for(var b=M,S=286,y=0;y<C.channels_out;y++){for(var k=0;k<C.mode_gr;k++){for(var _,P=C.l3_side.tt[k][y],z=P.xr,N=0,T=C.sb_sample[y][1-k],L=0,I=0;I<18/2;I++)for(D(b,S,T[L]),D(b,S+32,T[L+1]),L+=2,S+=64,_=1;_<32;_+=2)T[L-1][_]*=-1;for(_=0;_<32;_++,N+=18){var B=P.block_type,F=C.sb_sample[y][k],U=C.sb_sample[y][1-k];if(P.mixed_block_flag!=0&&_<2&&(B=0),C.amp_filter[_]<1e-12)r.fill(z,N+0,N+18,0);else{if(C.amp_filter[_]<1)for(var I=0;I<18;I++)U[I][w[_]]*=C.amp_filter[_];if(B==i.SHORT_TYPE){for(var I=-l/4;I<0;I++){var R=c[i.SHORT_TYPE][I+3];z[N+I*3+9]=F[9+I][w[_]]*R-F[8-I][w[_]],z[N+I*3+18]=F[14-I][w[_]]*R+F[15+I][w[_]],z[N+I*3+10]=F[15+I][w[_]]*R-F[14-I][w[_]],z[N+I*3+19]=U[2-I][w[_]]*R+U[3+I][w[_]],z[N+I*3+11]=U[3+I][w[_]]*R-U[2-I][w[_]],z[N+I*3+20]=U[8-I][w[_]]*R+U[9+I][w[_]]}E(z,N)}else{for(var O=a(18),I=-u/4;I<0;I++){var A,x;A=c[B][I+27]*U[I+9][w[_]]+c[B][I+36]*U[8-I][w[_]],x=c[B][I+9]*F[I+9][w[_]]-c[B][I+18]*F[8-I][w[_]],O[I+9]=A-x*d[3+I+9],O[I+18]=A*d[3+I+9]+x}g(z,N,O)}}if(B!=i.SHORT_TYPE&&_!=0)for(var I=7;I>=0;--I){var j,V;j=z[N+I]*h[20+I]+z[N+-1-I]*p[28+I],V=z[N+I]*p[28+I]-z[N+-1-I]*h[20+I],z[N+-1-I]=j,z[N+I]=V}}}if(b=m,S=286,C.mode_gr==1)for(var X=0;X<18;X++)t.arraycopy(C.sb_sample[y][1][X],0,C.sb_sample[y][0][X],0,32)}}}return j1=o,j1}var z1,bE;function v9(){if(bE)return z1;bE=1;var e=ra(),t=Zn,n=t.System,r=t.new_float,a=t.new_float_n;function i(){this.l=r(e.SBMAX_l),this.s=a([e.SBMAX_s,3]);var o=this;this.assign=function(s){n.arraycopy(s.l,0,o.l,0,e.SBMAX_l);for(var l=0;l<e.SBMAX_s;l++)for(var u=0;u<3;u++)o.s[l][u]=s.s[l][u]}}return z1=i,z1}var $1,wE;function Yte(){if(wE)return $1;wE=1;var e=v9();function t(){this.thm=new e,this.en=new e}return $1=t,$1}function Hi(e){var t=e;this.ordinal=function(){return t}}Hi.STEREO=new Hi(0);Hi.JOINT_STEREO=new Hi(1);Hi.DUAL_CHANNEL=new Hi(2);Hi.MONO=new Hi(3);Hi.NOT_SET=new Hi(4);var cf=Hi,H1,EE;function ra(){if(EE)return H1;EE=1;var e=Zn,t=e.System,n=e.VbrMode,r=e.new_array_n,a=e.new_float,i=e.new_float_n,o=e.new_int,s=e.assert;l.ENCDELAY=576,l.POSTDELAY=1152,l.MDCTDELAY=48,l.FFTOFFSET=224+l.MDCTDELAY,l.DECDELAY=528,l.SBLIMIT=32,l.CBANDS=64,l.SBPSY_l=21,l.SBPSY_s=12,l.SBMAX_l=22,l.SBMAX_s=13,l.PSFB21=6,l.PSFB12=6,l.BLKSIZE=1024,l.HBLKSIZE=l.BLKSIZE/2+1,l.BLKSIZE_s=256,l.HBLKSIZE_s=l.BLKSIZE_s/2+1,l.NORM_TYPE=0,l.START_TYPE=1,l.SHORT_TYPE=2,l.STOP_TYPE=3,l.MPG_MD_LR_LR=0,l.MPG_MD_LR_I=1,l.MPG_MD_MS_LR=2,l.MPG_MD_MS_I=3,l.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function l(){var u=qte(),c=Yte(),d=cf,f=l.FFTOFFSET,h=l.MPG_MD_MS_LR,p=null;this.psy=null;var w=null,D=null,E=null;this.setModules=function(b,S,y,k){p=b,this.psy=S,w=S,D=k,E=y};var g=new u;function C(b){var S,y;if(b.ATH.useAdjust==0){b.ATH.adjust=1;return}if(y=b.loudness_sq[0][0],S=b.loudness_sq[1][0],b.channels_out==2?(y+=b.loudness_sq[0][1],S+=b.loudness_sq[1][1]):(y+=y,S+=S),b.mode_gr==2&&(y=Math.max(y,S)),y*=.5,y*=b.ATH.aaSensitivityP,y>.03125)b.ATH.adjust>=1?b.ATH.adjust=1:b.ATH.adjust<b.ATH.adjustLimit&&(b.ATH.adjust=b.ATH.adjustLimit),b.ATH.adjustLimit=1;else{var k=31.98*y+625e-6;b.ATH.adjust>=k?(b.ATH.adjust*=k*.075+.925,b.ATH.adjust<k&&(b.ATH.adjust=k)):b.ATH.adjustLimit>=k?b.ATH.adjust=k:b.ATH.adjust<b.ATH.adjustLimit&&(b.ATH.adjust=b.ATH.adjustLimit),b.ATH.adjustLimit=k}}function M(b){var S,y;for(s(0<=b.bitrate_index&&b.bitrate_index<16),s(0<=b.mode_ext&&b.mode_ext<4),b.bitrate_stereoMode_Hist[b.bitrate_index][4]++,b.bitrate_stereoMode_Hist[15][4]++,b.channels_out==2&&(b.bitrate_stereoMode_Hist[b.bitrate_index][b.mode_ext]++,b.bitrate_stereoMode_Hist[15][b.mode_ext]++),S=0;S<b.mode_gr;++S)for(y=0;y<b.channels_out;++y){var k=b.l3_side.tt[S][y].block_type|0;b.l3_side.tt[S][y].mixed_block_flag!=0&&(k=4),b.bitrate_blockType_Hist[b.bitrate_index][k]++,b.bitrate_blockType_Hist[b.bitrate_index][5]++,b.bitrate_blockType_Hist[15][k]++,b.bitrate_blockType_Hist[15][5]++}}function m(b,S){var y=b.internal_flags,k,_;if(y.lame_encode_frame_init==0){var P,z,N=a(2014),T=a(2014);for(y.lame_encode_frame_init=1,P=0,z=0;P<286+576*(1+y.mode_gr);++P)P<576*y.mode_gr?(N[P]=0,y.channels_out==2&&(T[P]=0)):(N[P]=S[0][z],y.channels_out==2&&(T[P]=S[1][z]),++z);for(_=0;_<y.mode_gr;_++)for(k=0;k<y.channels_out;k++)y.l3_side.tt[_][k].block_type=l.SHORT_TYPE;g.mdct_sub48(y,N,T),s(576>=l.FFTOFFSET),s(y.mf_size>=l.BLKSIZE+b.framesize-l.FFTOFFSET),s(y.mf_size>=512+b.framesize-32)}}this.lame_encode_mp3_frame=function(b,S,y,k,_,P){var z,N=r([2,2]);N[0][0]=new c,N[0][1]=new c,N[1][0]=new c,N[1][1]=new c;var T=r([2,2]);T[0][0]=new c,T[0][1]=new c,T[1][0]=new c,T[1][1]=new c;var L,I=[null,null],B=b.internal_flags,F=i([2,4]),U=[.5,.5],R=[[0,0],[0,0]],O=[[0,0],[0,0]],A,x,j;if(I[0]=S,I[1]=y,B.lame_encode_frame_init==0&&m(b,I),B.padding=0,(B.slot_lag-=B.frac_SpF)<0&&(B.slot_lag+=b.out_samplerate,B.padding=1),B.psymodel!=0){var V,X=[null,null],re=0,W=o(2);for(j=0;j<B.mode_gr;j++){for(x=0;x<B.channels_out;x++)X[x]=I[x],re=576+j*576-l.FFTOFFSET;if(b.VBR==n.vbr_mtrh||b.VBR==n.vbr_mt?V=w.L3psycho_anal_vbr(b,X,re,j,N,T,R[j],O[j],F[j],W):V=w.L3psycho_anal_ns(b,X,re,j,N,T,R[j],O[j],F[j],W),V!=0)return-4;for(b.mode==d.JOINT_STEREO&&(U[j]=F[j][2]+F[j][3],U[j]>0&&(U[j]=F[j][3]/U[j])),x=0;x<B.channels_out;x++){var J=B.l3_side.tt[j][x];J.block_type=W[x],J.mixed_block_flag=0}}}else for(j=0;j<B.mode_gr;j++)for(x=0;x<B.channels_out;x++)B.l3_side.tt[j][x].block_type=l.NORM_TYPE,B.l3_side.tt[j][x].mixed_block_flag=0,O[j][x]=R[j][x]=700;if(C(B),g.mdct_sub48(B,I[0],I[1]),B.mode_ext=l.MPG_MD_LR_LR,b.force_ms)B.mode_ext=l.MPG_MD_MS_LR;else if(b.mode==d.JOINT_STEREO){var oe=0,he=0;for(j=0;j<B.mode_gr;j++)for(x=0;x<B.channels_out;x++)oe+=O[j][x],he+=R[j][x];if(oe<=1*he){var Oe=B.l3_side.tt[0],$e=B.l3_side.tt[B.mode_gr-1];Oe[0].block_type==Oe[1].block_type&&$e[0].block_type==$e[1].block_type&&(B.mode_ext=l.MPG_MD_MS_LR)}}if(B.mode_ext==h?(L=T,A=O):(L=N,A=R),b.analysis&&B.pinfo!=null)for(j=0;j<B.mode_gr;j++)for(x=0;x<B.channels_out;x++)B.pinfo.ms_ratio[j]=B.ms_ratio[j],B.pinfo.ms_ener_ratio[j]=U[j],B.pinfo.blocktype[j][x]=B.l3_side.tt[j][x].block_type,B.pinfo.pe[j][x]=A[j][x],t.arraycopy(B.l3_side.tt[j][x].xr,0,B.pinfo.xr[j][x],0,576),B.mode_ext==h&&(B.pinfo.ers[j][x]=B.pinfo.ers[j][x+2],t.arraycopy(B.pinfo.energy[j][x+2],0,B.pinfo.energy[j][x],0,B.pinfo.energy[j][x].length));if(b.VBR==n.vbr_off||b.VBR==n.vbr_abr){var Ie,ze;for(Ie=0;Ie<18;Ie++)B.nsPsy.pefirbuf[Ie]=B.nsPsy.pefirbuf[Ie+1];for(ze=0,j=0;j<B.mode_gr;j++)for(x=0;x<B.channels_out;x++)ze+=A[j][x];for(B.nsPsy.pefirbuf[18]=ze,ze=B.nsPsy.pefirbuf[9],Ie=0;Ie<9;Ie++)ze+=(B.nsPsy.pefirbuf[Ie]+B.nsPsy.pefirbuf[18-Ie])*l.fircoef[Ie];for(ze=670*5*B.mode_gr*B.channels_out/ze,j=0;j<B.mode_gr;j++)for(x=0;x<B.channels_out;x++)A[j][x]*=ze}if(B.iteration_loop.iteration_loop(b,A,U,L),p.format_bitstream(b),z=p.copy_buffer(B,k,_,P,1),b.bWriteVbrTag&&D.addVbrFrame(b),b.analysis&&B.pinfo!=null){for(x=0;x<B.channels_out;x++){var We;for(We=0;We<f;We++)B.pinfo.pcmdata[x][We]=B.pinfo.pcmdata[x][We+b.framesize];for(We=f;We<1600;We++)B.pinfo.pcmdata[x][We]=I[x][We-f]}E.set_frame_pinfo(b,L)}return M(B),z}}return H1=l,H1}var y9=Zn,CE=y9.Util,SE=y9.new_float,hr=ra();function Kte(){var e=SE(hr.BLKSIZE),t=SE(hr.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(i,o,s){var l=0,u,c,d;s<<=1;var f=o+s;u=4;do{var h,p,w,D,E,g,C;C=u>>1,D=u,E=u<<1,g=E+D,u=E<<1,c=o,d=c+C;do{var M,m,b,S;m=i[c+0]-i[c+D],M=i[c+0]+i[c+D],S=i[c+E]-i[c+g],b=i[c+E]+i[c+g],i[c+E]=M-b,i[c+0]=M+b,i[c+g]=m-S,i[c+D]=m+S,m=i[d+0]-i[d+D],M=i[d+0]+i[d+D],S=CE.SQRT2*i[d+g],b=CE.SQRT2*i[d+E],i[d+E]=M-b,i[d+0]=M+b,i[d+g]=m-S,i[d+D]=m+S,d+=u,c+=u}while(c<f);for(p=n[l+0],h=n[l+1],w=1;w<C;w++){var y,k;y=1-2*h*h,k=2*h*p,c=o+w,d=o+D-w;do{var _,P,z,M,m,N,b,T,S,L;P=k*i[c+D]-y*i[d+D],_=y*i[c+D]+k*i[d+D],m=i[c+0]-_,M=i[c+0]+_,N=i[d+0]-P,z=i[d+0]+P,P=k*i[c+g]-y*i[d+g],_=y*i[c+g]+k*i[d+g],S=i[c+E]-_,b=i[c+E]+_,L=i[d+E]-P,T=i[d+E]+P,P=h*b-p*L,_=p*b+h*L,i[c+E]=M-_,i[c+0]=M+_,i[d+g]=N-P,i[d+D]=N+P,P=p*T-h*S,_=h*T+p*S,i[d+E]=z-_,i[d+0]=z+_,i[c+g]=m-P,i[c+D]=m+P,d+=u,c+=u}while(c<f);y=p,p=y*n[l+0]-h*n[l+1],h=y*n[l+1]+h*n[l+0]}l+=2}while(u<s)}var a=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(i,o,s,l,u){for(var c=0;c<3;c++){var d=hr.BLKSIZE_s/2,f=65535&576/3*(c+1),h=hr.BLKSIZE_s/8-1;do{var p,w,D,E,g,C=a[h<<2]&255;p=t[C]*l[s][u+C+f],g=t[127-C]*l[s][u+C+f+128],w=p-g,p=p+g,D=t[C+64]*l[s][u+C+f+64],g=t[63-C]*l[s][u+C+f+192],E=D-g,D=D+g,d-=4,o[c][d+0]=p+D,o[c][d+2]=p-D,o[c][d+1]=w+E,o[c][d+3]=w-E,p=t[C+1]*l[s][u+C+f+1],g=t[126-C]*l[s][u+C+f+129],w=p-g,p=p+g,D=t[C+65]*l[s][u+C+f+65],g=t[62-C]*l[s][u+C+f+193],E=D-g,D=D+g,o[c][d+hr.BLKSIZE_s/2+0]=p+D,o[c][d+hr.BLKSIZE_s/2+2]=p-D,o[c][d+hr.BLKSIZE_s/2+1]=w+E,o[c][d+hr.BLKSIZE_s/2+3]=w-E}while(--h>=0);r(o[c],d,hr.BLKSIZE_s/2)}},this.fft_long=function(i,o,s,l,u){var c=hr.BLKSIZE/8-1,d=hr.BLKSIZE/2;do{var f,h,p,w,D,E=a[c]&255;f=e[E]*l[s][u+E],D=e[E+512]*l[s][u+E+512],h=f-D,f=f+D,p=e[E+256]*l[s][u+E+256],D=e[E+768]*l[s][u+E+768],w=p-D,p=p+D,d-=4,o[d+0]=f+p,o[d+2]=f-p,o[d+1]=h+w,o[d+3]=h-w,f=e[E+1]*l[s][u+E+1],D=e[E+513]*l[s][u+E+513],h=f-D,f=f+D,p=e[E+257]*l[s][u+E+257],D=e[E+769]*l[s][u+E+769],w=p-D,p=p+D,o[d+hr.BLKSIZE/2+0]=f+p,o[d+hr.BLKSIZE/2+2]=f-p,o[d+hr.BLKSIZE/2+1]=h+w,o[d+hr.BLKSIZE/2+3]=h-w}while(--c>=0);r(o,d,hr.BLKSIZE/2)},this.init_fft=function(i){for(var o=0;o<hr.BLKSIZE;o++)e[o]=.42-.5*Math.cos(2*Math.PI*(o+.5)/hr.BLKSIZE)+.08*Math.cos(4*Math.PI*(o+.5)/hr.BLKSIZE);for(var o=0;o<hr.BLKSIZE_s/2;o++)t[o]=.5*(1-Math.cos(2*Math.PI*(o+.5)/hr.BLKSIZE_s))}}var Gte=Kte,Yo=Zn,Kl=Yo.VbrMode,DE=Yo.Float,Gl=Yo.ShortBlock,Da=Yo.Util,Zte=Yo.Arrays,br=Yo.new_float,si=Yo.new_float_n,zs=Yo.new_int,Jt=Yo.assert,Xte=Gte,qe=ra();function Qte(){var e=cf,t=new Xte,n=2.302585092994046,r=2,a=16,i=2,o=16,s=.34,l=1/(14752*14752)/(qe.BLKSIZE/2),u=.01,c=.8,d=.6,f=.3,h=3.5,p=21,w=.2302585093;function D(K,G){for(var ie=0,se=0;se<qe.BLKSIZE/2;++se)ie+=K[se]*G.ATH.eql_w[se];return ie*=l,ie}function E(K,G,ie,se,fe,te,ge,Ee,ye,Ae,we){var xe=K.internal_flags;if(ye<2)t.fft_long(xe,se[fe],ye,Ae,we),t.fft_short(xe,te[ge],ye,Ae,we);else if(ye==2){for(var nt=qe.BLKSIZE-1;nt>=0;--nt){var lt=se[fe+0][nt],Ke=se[fe+1][nt];se[fe+0][nt]=(lt+Ke)*Da.SQRT2*.5,se[fe+1][nt]=(lt-Ke)*Da.SQRT2*.5}for(var yt=2;yt>=0;--yt)for(var nt=qe.BLKSIZE_s-1;nt>=0;--nt){var lt=te[ge+0][yt][nt],Ke=te[ge+1][yt][nt];te[ge+0][yt][nt]=(lt+Ke)*Da.SQRT2*.5,te[ge+1][yt][nt]=(lt-Ke)*Da.SQRT2*.5}}G[0]=se[fe+0][0],G[0]*=G[0];for(var nt=qe.BLKSIZE/2-1;nt>=0;--nt){var ke=se[fe+0][qe.BLKSIZE/2-nt],rt=se[fe+0][qe.BLKSIZE/2+nt];G[qe.BLKSIZE/2-nt]=(ke*ke+rt*rt)*.5}for(var yt=2;yt>=0;--yt){ie[yt][0]=te[ge+0][yt][0],ie[yt][0]*=ie[yt][0];for(var nt=qe.BLKSIZE_s/2-1;nt>=0;--nt){var ke=te[ge+0][yt][qe.BLKSIZE_s/2-nt],rt=te[ge+0][yt][qe.BLKSIZE_s/2+nt];ie[yt][qe.BLKSIZE_s/2-nt]=(ke*ke+rt*rt)*.5}}{for(var Pt=0,nt=11;nt<qe.HBLKSIZE;nt++)Pt+=G[nt];xe.tot_ener[ye]=Pt}if(K.analysis){for(var nt=0;nt<qe.HBLKSIZE;nt++)xe.pinfo.energy[Ee][ye][nt]=xe.pinfo.energy_save[ye][nt],xe.pinfo.energy_save[ye][nt]=G[nt];xe.pinfo.pe[Ee][ye]=xe.pe[ye]}K.athaa_loudapprox==2&&ye<2&&(xe.loudness_sq[Ee][ye]=xe.loudness_sq_save[ye],xe.loudness_sq_save[ye]=D(G,xe))}var g=8,C=23,M=15,m,b,S,y=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function k(){m=Math.pow(10,(g+1)/16),b=Math.pow(10,(C+1)/16),S=Math.pow(10,M/10)}var _=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],P=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],z=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function N(K,G,ie,se,fe,te){var ge;if(G>K)if(G<K*b)ge=G/K;else return K+G;else{if(K>=G*b)return K+G;ge=K/G}if(K+=G,se+3<=6){if(ge>=m)return K;var Ee=0|Da.FAST_LOG10_X(ge,16);return K*P[Ee]}var Ee=0|Da.FAST_LOG10_X(ge,16);if(G=fe.ATH.cb_l[ie]*fe.ATH.adjust,K<S*G){if(K>G){var ye,Ae;return ye=1,Ee<=13&&(ye=z[Ee]),Ae=Da.FAST_LOG10_X(K/G,10/15),K*((_[Ee]-ye)*Ae+ye)}return Ee>13?K:K*z[Ee]}return K*_[Ee]}var T=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function L(K,G,ie){var se;if(K<0&&(K=0),G<0&&(G=0),K<=0)return G;if(G<=0)return K;if(G>K?se=G/K:se=K/G,-2<=ie&&ie<=2){if(se>=m)return K+G;var fe=0|Da.FAST_LOG10_X(se,16);return(K+G)*T[fe]}return se<b?K+G:(K<G&&(K=G),K)}function I(K,G){var ie=K.internal_flags;if(ie.channels_out>1){for(var se=0;se<qe.SBMAX_l;se++){var fe=ie.thm[0].l[se],te=ie.thm[1].l[se];ie.thm[0].l[se]+=te*G,ie.thm[1].l[se]+=fe*G}for(var se=0;se<qe.SBMAX_s;se++)for(var ge=0;ge<3;ge++){var fe=ie.thm[0].s[se][ge],te=ie.thm[1].s[se][ge];ie.thm[0].s[se][ge]+=te*G,ie.thm[1].s[se][ge]+=fe*G}}}function B(K){for(var G=0;G<qe.SBMAX_l;G++)if(!(K.thm[0].l[G]>1.58*K.thm[1].l[G]||K.thm[1].l[G]>1.58*K.thm[0].l[G])){var ie=K.mld_l[G]*K.en[3].l[G],se=Math.max(K.thm[2].l[G],Math.min(K.thm[3].l[G],ie));ie=K.mld_l[G]*K.en[2].l[G];var fe=Math.max(K.thm[3].l[G],Math.min(K.thm[2].l[G],ie));K.thm[2].l[G]=se,K.thm[3].l[G]=fe}for(var G=0;G<qe.SBMAX_s;G++)for(var te=0;te<3;te++)if(!(K.thm[0].s[G][te]>1.58*K.thm[1].s[G][te]||K.thm[1].s[G][te]>1.58*K.thm[0].s[G][te])){var ie=K.mld_s[G]*K.en[3].s[G][te],se=Math.max(K.thm[2].s[G][te],Math.min(K.thm[3].s[G][te],ie));ie=K.mld_s[G]*K.en[2].s[G][te];var fe=Math.max(K.thm[3].s[G][te],Math.min(K.thm[2].s[G][te],ie));K.thm[2].s[G][te]=se,K.thm[3].s[G][te]=fe}}function F(K,G,ie){var se=G,fe=Math.pow(10,ie);G*=2,se*=2;for(var te=0;te<qe.SBMAX_l;te++){var ge,Ee,ye,Ae;if(Ae=K.ATH.cb_l[K.bm_l[te]]*fe,ge=Math.min(Math.max(K.thm[0].l[te],Ae),Math.max(K.thm[1].l[te],Ae)),Ee=Math.max(K.thm[2].l[te],Ae),ye=Math.max(K.thm[3].l[te],Ae),ge*G<Ee+ye){var we=ge*se/(Ee+ye);Ee*=we,ye*=we}K.thm[2].l[te]=Math.min(Ee,K.thm[2].l[te]),K.thm[3].l[te]=Math.min(ye,K.thm[3].l[te])}fe*=qe.BLKSIZE_s/qe.BLKSIZE;for(var te=0;te<qe.SBMAX_s;te++)for(var xe=0;xe<3;xe++){var ge,Ee,ye,Ae;if(Ae=K.ATH.cb_s[K.bm_s[te]]*fe,ge=Math.min(Math.max(K.thm[0].s[te][xe],Ae),Math.max(K.thm[1].s[te][xe],Ae)),Ee=Math.max(K.thm[2].s[te][xe],Ae),ye=Math.max(K.thm[3].s[te][xe],Ae),ge*G<Ee+ye){var we=ge*G/(Ee+ye);Ee*=we,ye*=we}K.thm[2].s[te][xe]=Math.min(K.thm[2].s[te][xe],Ee),K.thm[3].s[te][xe]=Math.min(K.thm[3].s[te][xe],ye)}}function U(K,G,ie,se,fe){var te,ge,Ee=0,ye=0;for(te=ge=0;te<qe.SBMAX_s;++ge,++te){for(var Ae=K.bo_s[te],we=K.npart_s,xe=Ae<we?Ae:we;ge<xe;)Jt(G[ge]>=0),Jt(ie[ge]>=0),Ee+=G[ge],ye+=ie[ge],ge++;if(K.en[se].s[te][fe]=Ee,K.thm[se].s[te][fe]=ye,ge>=we){++te;break}Jt(G[ge]>=0),Jt(ie[ge]>=0);{var nt=K.PSY.bo_s_weight[te],lt=1-nt;Ee=nt*G[ge],ye=nt*ie[ge],K.en[se].s[te][fe]+=Ee,K.thm[se].s[te][fe]+=ye,Ee=lt*G[ge],ye=lt*ie[ge]}}for(;te<qe.SBMAX_s;++te)K.en[se].s[te][fe]=0,K.thm[se].s[te][fe]=0}function R(K,G,ie,se){var fe,te,ge=0,Ee=0;for(fe=te=0;fe<qe.SBMAX_l;++te,++fe){for(var ye=K.bo_l[fe],Ae=K.npart_l,we=ye<Ae?ye:Ae;te<we;)Jt(G[te]>=0),Jt(ie[te]>=0),ge+=G[te],Ee+=ie[te],te++;if(K.en[se].l[fe]=ge,K.thm[se].l[fe]=Ee,te>=Ae){++fe;break}Jt(G[te]>=0),Jt(ie[te]>=0);{var xe=K.PSY.bo_l_weight[fe],nt=1-xe;ge=xe*G[te],Ee=xe*ie[te],K.en[se].l[fe]+=ge,K.thm[se].l[fe]+=Ee,ge=nt*G[te],Ee=nt*ie[te]}}for(;fe<qe.SBMAX_l;++fe)K.en[se].l[fe]=0,K.thm[se].l[fe]=0}function O(K,G,ie,se,fe,te){var ge=K.internal_flags,Ee,ye;for(ye=Ee=0;ye<ge.npart_s;++ye){for(var Ae=0,we=ge.numlines_s[ye],xe=0;xe<we;++xe,++Ee){var nt=G[te][Ee];Ae+=nt}ie[ye]=Ae}for(Jt(ye==ge.npart_s),Ee=ye=0;ye<ge.npart_s;ye++){var lt=ge.s3ind_s[ye][0],Ke=ge.s3_ss[Ee++]*ie[lt];for(++lt;lt<=ge.s3ind_s[ye][1];)Ke+=ge.s3_ss[Ee]*ie[lt],++Ee,++lt;{var yt=i*ge.nb_s1[fe][ye];se[ye]=Math.min(Ke,yt)}if(ge.blocktype_old[fe&1]==qe.SHORT_TYPE){var yt=o*ge.nb_s2[fe][ye],ke=se[ye];se[ye]=Math.min(yt,ke)}ge.nb_s2[fe][ye]=ge.nb_s1[fe][ye],ge.nb_s1[fe][ye]=Ke,Jt(se[ye]>=0)}for(;ye<=qe.CBANDS;++ye)ie[ye]=0,se[ye]=0}function A(K,G,ie,se){var fe=K.internal_flags;K.short_blocks==Gl.short_block_coupled&&!(G[0]!=0&&G[1]!=0)&&(G[0]=G[1]=0);for(var te=0;te<fe.channels_out;te++)se[te]=qe.NORM_TYPE,K.short_blocks==Gl.short_block_dispensed&&(G[te]=1),K.short_blocks==Gl.short_block_forced&&(G[te]=0),G[te]!=0?(Jt(fe.blocktype_old[te]!=qe.START_TYPE),fe.blocktype_old[te]==qe.SHORT_TYPE&&(se[te]=qe.STOP_TYPE)):(se[te]=qe.SHORT_TYPE,fe.blocktype_old[te]==qe.NORM_TYPE&&(fe.blocktype_old[te]=qe.START_TYPE),fe.blocktype_old[te]==qe.STOP_TYPE&&(fe.blocktype_old[te]=qe.SHORT_TYPE)),ie[te]=fe.blocktype_old[te],fe.blocktype_old[te]=se[te]}function x(K,G,ie){return ie>=1?K:ie<=0?G:G>0?Math.pow(K/G,ie)*G:0}var j=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function V(K,G){for(var ie=309.07,se=0;se<qe.SBMAX_s-1;se++)for(var fe=0;fe<3;fe++){var te=K.thm.s[se][fe];if(te>0){var ge=te*G,Ee=K.en.s[se][fe];Ee>ge&&(Ee>ge*1e10?ie+=j[se]*(10*n):ie+=j[se]*Da.FAST_LOG10(Ee/ge))}}return ie}var X=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function re(K,G){for(var ie=281.0575,se=0;se<qe.SBMAX_l-1;se++){var fe=K.thm.l[se];if(fe>0){var te=fe*G,ge=K.en.l[se];ge>te&&(ge>te*1e10?ie+=X[se]*(10*n):ie+=X[se]*Da.FAST_LOG10(ge/te))}}return ie}function W(K,G,ie,se,fe){var te,ge;for(te=ge=0;te<K.npart_l;++te){var Ee=0,ye=0,Ae;for(Ae=0;Ae<K.numlines_l[te];++Ae,++ge){var we=G[ge];Ee+=we,ye<we&&(ye=we)}ie[te]=Ee,se[te]=ye,fe[te]=Ee*K.rnumlines_l[te],Jt(K.rnumlines_l[te]>=0),Jt(ie[te]>=0),Jt(se[te]>=0),Jt(fe[te]>=0)}}function J(K,G,ie,se){var fe=y.length-1,te=0,ge=ie[te]+ie[te+1];if(ge>0){var Ee=G[te];Ee<G[te+1]&&(Ee=G[te+1]),Jt(K.numlines_l[te]+K.numlines_l[te+1]-1>0),ge=20*(Ee*2-ge)/(ge*(K.numlines_l[te]+K.numlines_l[te+1]-1));var ye=0|ge;ye>fe&&(ye=fe),se[te]=ye}else se[te]=0;for(te=1;te<K.npart_l-1;te++)if(ge=ie[te-1]+ie[te]+ie[te+1],ge>0){var Ee=G[te-1];Ee<G[te]&&(Ee=G[te]),Ee<G[te+1]&&(Ee=G[te+1]),Jt(K.numlines_l[te-1]+K.numlines_l[te]+K.numlines_l[te+1]-1>0),ge=20*(Ee*3-ge)/(ge*(K.numlines_l[te-1]+K.numlines_l[te]+K.numlines_l[te+1]-1));var ye=0|ge;ye>fe&&(ye=fe),se[te]=ye}else se[te]=0;if(Jt(te==K.npart_l-1),ge=ie[te-1]+ie[te],ge>0){var Ee=G[te-1];Ee<G[te]&&(Ee=G[te]),Jt(K.numlines_l[te-1]+K.numlines_l[te]-1>0),ge=20*(Ee*2-ge)/(ge*(K.numlines_l[te-1]+K.numlines_l[te]-1));var ye=0|ge;ye>fe&&(ye=fe),se[te]=ye}else se[te]=0;Jt(te==K.npart_l-1)}var oe=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(K,G,ie,se,fe,te,ge,Ee,ye,Ae){var we=K.internal_flags,xe=si([2,qe.BLKSIZE]),nt=si([2,3,qe.BLKSIZE_s]),lt=br(qe.CBANDS+1),Ke=br(qe.CBANDS+1),yt=br(qe.CBANDS+2),ke=zs(2),rt=zs(2),Pt,Ye,ht,Je,xt,me,ue,Ce,Le=si([2,576]),_e,Ge=zs(qe.CBANDS+2),Ze=zs(qe.CBANDS+2);for(Zte.fill(Ze,0),Pt=we.channels_out,K.mode==e.JOINT_STEREO&&(Pt=4),K.VBR==Kl.vbr_off?_e=we.ResvMax==0?0:we.ResvSize/we.ResvMax*.5:K.VBR==Kl.vbr_rh||K.VBR==Kl.vbr_mtrh||K.VBR==Kl.vbr_mt?_e=.6:_e=1,Ye=0;Ye<we.channels_out;Ye++){var ee=G[Ye],ae=ie+576-350-p+192;for(Je=0;Je<576;Je++){var Re,je;for(Re=ee[ae+Je+10],je=0,xt=0;xt<(p-1)/2-1;xt+=2)Re+=oe[xt]*(ee[ae+Je+xt]+ee[ae+Je+p-xt]),je+=oe[xt+1]*(ee[ae+Je+xt+1]+ee[ae+Je+p-xt-1]);Le[Ye][Je]=Re+je}fe[se][Ye].en.assign(we.en[Ye]),fe[se][Ye].thm.assign(we.thm[Ye]),Pt>2&&(te[se][Ye].en.assign(we.en[Ye+2]),te[se][Ye].thm.assign(we.thm[Ye+2]))}for(Ye=0;Ye<Pt;Ye++){var He,Ve,st=br(12),mt=[0,0,0,0],gt=br(12),wt=1,Tt,Ot=br(qe.CBANDS),Nt=br(qe.CBANDS),Ct=[0,0,0,0],Gt=br(qe.HBLKSIZE),Cn=si([3,qe.HBLKSIZE_s]);for(Jt(we.npart_s<=qe.CBANDS),Jt(we.npart_l<=qe.CBANDS),Je=0;Je<3;Je++)st[Je]=we.nsPsy.last_en_subshort[Ye][Je+6],Jt(we.nsPsy.last_en_subshort[Ye][Je+4]>0),gt[Je]=st[Je]/we.nsPsy.last_en_subshort[Ye][Je+4],mt[0]+=st[Je];if(Ye==2)for(Je=0;Je<576;Je++){var an,Tn;an=Le[0][Je],Tn=Le[1][Je],Le[0][Je]=an+Tn,Le[1][Je]=an-Tn}{var In=Le[Ye&1],en=0;for(Je=0;Je<9;Je++){for(var sn=en+64,Sn=1;en<sn;en++)Sn<Math.abs(In[en])&&(Sn=Math.abs(In[en]));we.nsPsy.last_en_subshort[Ye][Je]=st[Je+3]=Sn,mt[1+Je/3]+=Sn,Sn>st[Je+3-2]?(Jt(st[Je+3-2]>0),Sn=Sn/st[Je+3-2]):st[Je+3-2]>Sn*10?Sn=st[Je+3-2]/(Sn*10):Sn=0,gt[Je+3]=Sn}}if(K.analysis){var aa=gt[0];for(Je=1;Je<12;Je++)aa<gt[Je]&&(aa=gt[Je]);we.pinfo.ers[se][Ye]=we.pinfo.ers_save[Ye],we.pinfo.ers_save[Ye]=aa}for(Tt=Ye==3?we.nsPsy.attackthre_s:we.nsPsy.attackthre,Je=0;Je<12;Je++)Ct[Je/3]==0&&gt[Je]>Tt&&(Ct[Je/3]=Je%3+1);for(Je=1;Je<4;Je++){var Ua;mt[Je-1]>mt[Je]?(Jt(mt[Je]>0),Ua=mt[Je-1]/mt[Je]):(Jt(mt[Je-1]>0),Ua=mt[Je]/mt[Je-1]),Ua<1.7&&(Ct[Je]=0,Je==1&&(Ct[0]=0))}for(Ct[0]!=0&&we.nsPsy.lastAttacks[Ye]!=0&&(Ct[0]=0),(we.nsPsy.lastAttacks[Ye]==3||Ct[0]+Ct[1]+Ct[2]+Ct[3]!=0)&&(wt=0,Ct[1]!=0&&Ct[0]!=0&&(Ct[1]=0),Ct[2]!=0&&Ct[1]!=0&&(Ct[2]=0),Ct[3]!=0&&Ct[2]!=0&&(Ct[3]=0)),Ye<2?rt[Ye]=wt:wt==0&&(rt[0]=rt[1]=0),ye[Ye]=we.tot_ener[Ye],Ve=nt,He=xe,E(K,Gt,Cn,He,Ye&1,Ve,Ye&1,se,Ye,G,ie),W(we,Gt,lt,Ot,Nt),J(we,Ot,Nt,Ge),Ce=0;Ce<3;Ce++){var ia,Un;for(O(K,Cn,Ke,yt,Ye,Ce),U(we,Ke,yt,Ye,Ce),ue=0;ue<qe.SBMAX_s;ue++){if(Un=we.thm[Ye].s[ue][Ce],Un*=c,Ct[Ce]>=2||Ct[Ce+1]==1){var vr=Ce!=0?Ce-1:2,Sn=x(we.thm[Ye].s[ue][vr],Un,d*_e);Un=Math.min(Un,Sn)}if(Ct[Ce]==1){var vr=Ce!=0?Ce-1:2,Sn=x(we.thm[Ye].s[ue][vr],Un,f*_e);Un=Math.min(Un,Sn)}else if(Ce!=0&&Ct[Ce-1]==3||Ce==0&&we.nsPsy.lastAttacks[Ye]==3){var vr=Ce!=2?Ce+1:0,Sn=x(we.thm[Ye].s[ue][vr],Un,f*_e);Un=Math.min(Un,Sn)}ia=st[Ce*3+3]+st[Ce*3+4]+st[Ce*3+5],st[Ce*3+5]*6<ia&&(Un*=.5,st[Ce*3+4]*6<ia&&(Un*=.5)),we.thm[Ye].s[ue][Ce]=Un}}for(we.nsPsy.lastAttacks[Ye]=Ct[2],me=0,ht=0;ht<we.npart_l;ht++){for(var ar=we.s3ind[ht][0],Ar=lt[ar]*y[Ge[ar]],yr=we.s3_ll[me++]*Ar;++ar<=we.s3ind[ht][1];)Ar=lt[ar]*y[Ge[ar]],yr=N(yr,we.s3_ll[me++]*Ar,ar,ar-ht,we);yr*=.158489319246111,we.blocktype_old[Ye&1]==qe.SHORT_TYPE?yt[ht]=yr:yt[ht]=x(Math.min(yr,Math.min(r*we.nb_1[Ye][ht],a*we.nb_2[Ye][ht])),yr,_e),we.nb_2[Ye][ht]=we.nb_1[Ye][ht],we.nb_1[Ye][ht]=yr}for(;ht<=qe.CBANDS;++ht)lt[ht]=0,yt[ht]=0;R(we,lt,yt,Ye)}if((K.mode==e.STEREO||K.mode==e.JOINT_STEREO)&&K.interChRatio>0&&I(K,K.interChRatio),K.mode==e.JOINT_STEREO){var oa;B(we),oa=K.msfix,Math.abs(oa)>0&&F(we,oa,K.ATHlower*we.ATH.adjust)}for(A(K,rt,Ae,ke),Ye=0;Ye<Pt;Ye++){var Bn,Ca=0,Wi,qi;Ye>1?(Bn=Ee,Ca=-2,Wi=qe.NORM_TYPE,(Ae[0]==qe.SHORT_TYPE||Ae[1]==qe.SHORT_TYPE)&&(Wi=qe.SHORT_TYPE),qi=te[se][Ye-2]):(Bn=ge,Ca=0,Wi=Ae[Ye],qi=fe[se][Ye]),Wi==qe.SHORT_TYPE?Bn[Ca+Ye]=V(qi,we.masking_lower):Bn[Ca+Ye]=re(qi,we.masking_lower),K.analysis&&(we.pinfo.pe[se][Ye]=Bn[Ca+Ye])}return 0};function he(K,G,ie,se,fe,te,ge,Ee){var ye=K.internal_flags;if(se<2)t.fft_long(ye,ge[Ee],se,G,ie);else if(se==2)for(var Ae=qe.BLKSIZE-1;Ae>=0;--Ae){var we=ge[Ee+0][Ae],xe=ge[Ee+1][Ae];ge[Ee+0][Ae]=(we+xe)*Da.SQRT2*.5,ge[Ee+1][Ae]=(we-xe)*Da.SQRT2*.5}te[0]=ge[Ee+0][0],te[0]*=te[0];for(var Ae=qe.BLKSIZE/2-1;Ae>=0;--Ae){var nt=ge[Ee+0][qe.BLKSIZE/2-Ae],lt=ge[Ee+0][qe.BLKSIZE/2+Ae];te[qe.BLKSIZE/2-Ae]=(nt*nt+lt*lt)*.5}{for(var Ke=0,Ae=11;Ae<qe.HBLKSIZE;Ae++)Ke+=te[Ae];ye.tot_ener[se]=Ke}if(K.analysis){for(var Ae=0;Ae<qe.HBLKSIZE;Ae++)ye.pinfo.energy[fe][se][Ae]=ye.pinfo.energy_save[se][Ae],ye.pinfo.energy_save[se][Ae]=te[Ae];ye.pinfo.pe[fe][se]=ye.pe[se]}}function Oe(K,G,ie,se,fe,te,ge,Ee){var ye=K.internal_flags;if(fe==0&&se<2&&t.fft_short(ye,ge[Ee],se,G,ie),se==2)for(var Ae=qe.BLKSIZE_s-1;Ae>=0;--Ae){var we=ge[Ee+0][fe][Ae],xe=ge[Ee+1][fe][Ae];ge[Ee+0][fe][Ae]=(we+xe)*Da.SQRT2*.5,ge[Ee+1][fe][Ae]=(we-xe)*Da.SQRT2*.5}te[fe][0]=ge[Ee+0][fe][0],te[fe][0]*=te[fe][0];for(var Ae=qe.BLKSIZE_s/2-1;Ae>=0;--Ae){var nt=ge[Ee+0][fe][qe.BLKSIZE_s/2-Ae],lt=ge[Ee+0][fe][qe.BLKSIZE_s/2+Ae];te[fe][qe.BLKSIZE_s/2-Ae]=(nt*nt+lt*lt)*.5}}function $e(K,G,ie,se){var fe=K.internal_flags;K.athaa_loudapprox==2&&ie<2&&(fe.loudness_sq[G][ie]=fe.loudness_sq_save[ie],fe.loudness_sq_save[ie]=D(se,fe))}var Ie=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ze(K,G,ie,se,fe,te,ge,Ee,ye,Ae){for(var we=si([2,576]),xe=K.internal_flags,nt=xe.channels_out,lt=K.mode==e.JOINT_STEREO?4:nt,Ke=0;Ke<nt;Ke++){firbuf=G[Ke];for(var yt=ie+576-350-p+192,ke=0;ke<576;ke++){var rt,Pt;rt=firbuf[yt+ke+10],Pt=0;for(var Ye=0;Ye<(p-1)/2-1;Ye+=2)rt+=Ie[Ye]*(firbuf[yt+ke+Ye]+firbuf[yt+ke+p-Ye]),Pt+=Ie[Ye+1]*(firbuf[yt+ke+Ye+1]+firbuf[yt+ke+p-Ye-1]);we[Ke][ke]=rt+Pt}fe[se][Ke].en.assign(xe.en[Ke]),fe[se][Ke].thm.assign(xe.thm[Ke]),lt>2&&(te[se][Ke].en.assign(xe.en[Ke+2]),te[se][Ke].thm.assign(xe.thm[Ke+2]))}for(var Ke=0;Ke<lt;Ke++){var ht=br(12),Je=br(12),xt=[0,0,0,0],me=we[Ke&1],ue=0,Ce=Ke==3?xe.nsPsy.attackthre_s:xe.nsPsy.attackthre,Le=1;if(Ke==2)for(var ke=0,Ye=576;Ye>0;++ke,--Ye){var _e=we[0][ke],Ge=we[1][ke];we[0][ke]=_e+Ge,we[1][ke]=_e-Ge}for(var ke=0;ke<3;ke++)Je[ke]=xe.nsPsy.last_en_subshort[Ke][ke+6],Jt(xe.nsPsy.last_en_subshort[Ke][ke+4]>0),ht[ke]=Je[ke]/xe.nsPsy.last_en_subshort[Ke][ke+4],xt[0]+=Je[ke];for(var ke=0;ke<9;ke++){for(var Ze=ue+64,ee=1;ue<Ze;ue++)ee<Math.abs(me[ue])&&(ee=Math.abs(me[ue]));xe.nsPsy.last_en_subshort[Ke][ke]=Je[ke+3]=ee,xt[1+ke/3]+=ee,ee>Je[ke+3-2]?(Jt(Je[ke+3-2]>0),ee=ee/Je[ke+3-2]):Je[ke+3-2]>ee*10?ee=Je[ke+3-2]/(ee*10):ee=0,ht[ke+3]=ee}for(var ke=0;ke<3;++ke){var ae=Je[ke*3+3]+Je[ke*3+4]+Je[ke*3+5],Re=1;Je[ke*3+5]*6<ae&&(Re*=.5,Je[ke*3+4]*6<ae&&(Re*=.5)),Ee[Ke][ke]=Re}if(K.analysis){for(var je=ht[0],ke=1;ke<12;ke++)je<ht[ke]&&(je=ht[ke]);xe.pinfo.ers[se][Ke]=xe.pinfo.ers_save[Ke],xe.pinfo.ers_save[Ke]=je}for(var ke=0;ke<12;ke++)ye[Ke][ke/3]==0&&ht[ke]>Ce&&(ye[Ke][ke/3]=ke%3+1);for(var ke=1;ke<4;ke++){var He=xt[ke-1],Ve=xt[ke],st=Math.max(He,Ve);st<4e4&&He<1.7*Ve&&Ve<1.7*He&&(ke==1&&ye[Ke][0]<=ye[Ke][ke]&&(ye[Ke][0]=0),ye[Ke][ke]=0)}ye[Ke][0]<=xe.nsPsy.lastAttacks[Ke]&&(ye[Ke][0]=0),(xe.nsPsy.lastAttacks[Ke]==3||ye[Ke][0]+ye[Ke][1]+ye[Ke][2]+ye[Ke][3]!=0)&&(Le=0,ye[Ke][1]!=0&&ye[Ke][0]!=0&&(ye[Ke][1]=0),ye[Ke][2]!=0&&ye[Ke][1]!=0&&(ye[Ke][2]=0),ye[Ke][3]!=0&&ye[Ke][2]!=0&&(ye[Ke][3]=0)),Ke<2?Ae[Ke]=Le:Le==0&&(Ae[0]=Ae[1]=0),ge[Ke]=xe.tot_ener[Ke]}}function We(K,G,ie){if(ie==0)for(var se=0;se<K.npart_s;se++)K.nb_s2[G][se]=K.nb_s1[G][se],K.nb_s1[G][se]=0}function at(K,G){for(var ie=0;ie<K.npart_l;ie++)K.nb_2[G][ie]=K.nb_1[G][ie],K.nb_1[G][ie]=0}function bt(K,G,ie,se){var fe=y.length-1,te=0,ge=ie[te]+ie[te+1];if(ge>0){var Ee=G[te];Ee<G[te+1]&&(Ee=G[te+1]),Jt(K.numlines_s[te]+K.numlines_s[te+1]-1>0),ge=20*(Ee*2-ge)/(ge*(K.numlines_s[te]+K.numlines_s[te+1]-1));var ye=0|ge;ye>fe&&(ye=fe),se[te]=ye}else se[te]=0;for(te=1;te<K.npart_s-1;te++)if(ge=ie[te-1]+ie[te]+ie[te+1],Jt(te+1<K.npart_s),ge>0){var Ee=G[te-1];Ee<G[te]&&(Ee=G[te]),Ee<G[te+1]&&(Ee=G[te+1]),Jt(K.numlines_s[te-1]+K.numlines_s[te]+K.numlines_s[te+1]-1>0),ge=20*(Ee*3-ge)/(ge*(K.numlines_s[te-1]+K.numlines_s[te]+K.numlines_s[te+1]-1));var ye=0|ge;ye>fe&&(ye=fe),se[te]=ye}else se[te]=0;if(Jt(te==K.npart_s-1),ge=ie[te-1]+ie[te],ge>0){var Ee=G[te-1];Ee<G[te]&&(Ee=G[te]),Jt(K.numlines_s[te-1]+K.numlines_s[te]-1>0),ge=20*(Ee*2-ge)/(ge*(K.numlines_s[te-1]+K.numlines_s[te]-1));var ye=0|ge;ye>fe&&(ye=fe),se[te]=ye}else se[te]=0;Jt(te==K.npart_s-1)}function H(K,G,ie,se,fe,te){var ge=K.internal_flags,Ee=new float[qe.CBANDS],ye=br(qe.CBANDS),Ae,we,xe,nt=new int[qe.CBANDS];for(xe=we=0;xe<ge.npart_s;++xe){var lt=0,Ke=0,yt=ge.numlines_s[xe];for(Ae=0;Ae<yt;++Ae,++we){var ke=G[te][we];lt+=ke,Ke<ke&&(Ke=ke)}ie[xe]=lt,Ee[xe]=Ke,ye[xe]=lt/yt,Jt(ye[xe]>=0)}for(Jt(xe==ge.npart_s);xe<qe.CBANDS;++xe)Ee[xe]=0,ye[xe]=0;for(bt(ge,Ee,ye,nt),we=xe=0;xe<ge.npart_s;xe++){var rt=ge.s3ind_s[xe][0],Pt=ge.s3ind_s[xe][1],Ye,ht,Je,xt,me;for(Ye=nt[rt],ht=1,xt=ge.s3_ss[we]*ie[rt]*y[nt[rt]],++we,++rt;rt<=Pt;)Ye+=nt[rt],ht+=1,Je=ge.s3_ss[we]*ie[rt]*y[nt[rt]],xt=L(xt,Je,rt-xe),++we,++rt;Ye=(1+2*Ye)/(2*ht),me=y[Ye]*.5,xt*=me,se[xe]=xt,ge.nb_s2[fe][xe]=ge.nb_s1[fe][xe],ge.nb_s1[fe][xe]=xt,Je=Ee[xe],Je*=ge.minval_s[xe],Je*=me,se[xe]>Je&&(se[xe]=Je),ge.masking_lower>1&&(se[xe]*=ge.masking_lower),se[xe]>ie[xe]&&(se[xe]=ie[xe]),ge.masking_lower<1&&(se[xe]*=ge.masking_lower),Jt(se[xe]>=0)}for(;xe<qe.CBANDS;++xe)ie[xe]=0,se[xe]=0}function q(K,G,ie,se,fe){var te=br(qe.CBANDS),ge=br(qe.CBANDS),Ee=zs(qe.CBANDS+2),ye;W(K,G,ie,te,ge),J(K,te,ge,Ee);var Ae=0;for(ye=0;ye<K.npart_l;ye++){var we,xe,nt,lt,Ke=K.s3ind[ye][0],yt=K.s3ind[ye][1],ke=0,rt=0;for(ke=Ee[Ke],rt+=1,xe=K.s3_ll[Ae]*ie[Ke]*y[Ee[Ke]],++Ae,++Ke;Ke<=yt;)ke+=Ee[Ke],rt+=1,we=K.s3_ll[Ae]*ie[Ke]*y[Ee[Ke]],lt=L(xe,we,Ke-ye),xe=lt,++Ae,++Ke;if(ke=(1+2*ke)/(2*rt),nt=y[ke]*.5,xe*=nt,K.blocktype_old[fe&1]==qe.SHORT_TYPE){var Pt=r*K.nb_1[fe][ye];Pt>0?se[ye]=Math.min(xe,Pt):se[ye]=Math.min(xe,ie[ye]*f)}else{var Ye=a*K.nb_2[fe][ye],ht=r*K.nb_1[fe][ye],Pt;Ye<=0&&(Ye=xe),ht<=0&&(ht=xe),K.blocktype_old[fe&1]==qe.NORM_TYPE?Pt=Math.min(ht,Ye):Pt=ht,se[ye]=Math.min(xe,Pt)}K.nb_2[fe][ye]=K.nb_1[fe][ye],K.nb_1[fe][ye]=xe,we=te[ye],we*=K.minval_l[ye],we*=nt,se[ye]>we&&(se[ye]=we),K.masking_lower>1&&(se[ye]*=K.masking_lower),se[ye]>ie[ye]&&(se[ye]=ie[ye]),K.masking_lower<1&&(se[ye]*=K.masking_lower),Jt(se[ye]>=0)}for(;ye<qe.CBANDS;++ye)ie[ye]=0,se[ye]=0}function De(K,G){var ie=K.internal_flags;K.short_blocks==Gl.short_block_coupled&&!(G[0]!=0&&G[1]!=0)&&(G[0]=G[1]=0);for(var se=0;se<ie.channels_out;se++)K.short_blocks==Gl.short_block_dispensed&&(G[se]=1),K.short_blocks==Gl.short_block_forced&&(G[se]=0)}function Fe(K,G,ie){for(var se=K.internal_flags,fe=0;fe<se.channels_out;fe++){var te=qe.NORM_TYPE;G[fe]!=0?(Jt(se.blocktype_old[fe]!=qe.START_TYPE),se.blocktype_old[fe]==qe.SHORT_TYPE&&(te=qe.STOP_TYPE)):(te=qe.SHORT_TYPE,se.blocktype_old[fe]==qe.NORM_TYPE&&(se.blocktype_old[fe]=qe.START_TYPE),se.blocktype_old[fe]==qe.STOP_TYPE&&(se.blocktype_old[fe]=qe.SHORT_TYPE)),ie[fe]=se.blocktype_old[fe],se.blocktype_old[fe]=te}}function Qe(K,G,ie,se,fe,te,ge){for(var Ee=te*2,ye=te>0?Math.pow(10,fe):1,Ae,we,xe=0;xe<ge;++xe){var nt=K[2][xe],lt=K[3][xe],Ke=G[0][xe],yt=G[1][xe],ke=G[2][xe],rt=G[3][xe];if(Ke<=1.58*yt&&yt<=1.58*Ke){var Pt=ie[xe]*lt,Ye=ie[xe]*nt;we=Math.max(ke,Math.min(rt,Pt)),Ae=Math.max(rt,Math.min(ke,Ye))}else we=ke,Ae=rt;if(te>0){var ht,Je,xt=se[xe]*ye;if(ht=Math.min(Math.max(Ke,xt),Math.max(yt,xt)),ke=Math.max(we,xt),rt=Math.max(Ae,xt),Je=ke+rt,Je>0&&ht*Ee<Je){var me=ht*Ee/Je;ke*=me,rt*=me}we=Math.min(ke,we),Ae=Math.min(rt,Ae)}we>nt&&(we=nt),Ae>lt&&(Ae=lt),G[2][xe]=we,G[3][xe]=Ae}}this.L3psycho_anal_vbr=function(K,G,ie,se,fe,te,ge,Ee,ye,Ae){var we=K.internal_flags,xe,nt,lt=br(qe.HBLKSIZE),Ke=si([3,qe.HBLKSIZE_s]),yt=si([2,qe.BLKSIZE]),ke=si([2,3,qe.BLKSIZE_s]),rt=si([4,qe.CBANDS]),Pt=si([4,qe.CBANDS]),Ye=si([4,3]),ht=.6,Je=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],xt=zs(2),me=K.mode==e.JOINT_STEREO?4:we.channels_out;ze(K,G,ie,se,fe,te,ye,Ye,Je,xt),De(K,xt);{for(var ue=0;ue<me;ue++){var Ce=ue&1;xe=yt,he(K,G,ie,ue,se,lt,xe,Ce),$e(K,se,ue,lt),xt[Ce]!=0?q(we,lt,rt[ue],Pt[ue],ue):at(we,ue)}xt[0]+xt[1]==2&&K.mode==e.JOINT_STEREO&&Qe(rt,Pt,we.mld_cb_l,we.ATH.cb_l,K.ATHlower*we.ATH.adjust,K.msfix,we.npart_l);for(var ue=0;ue<me;ue++){var Ce=ue&1;xt[Ce]!=0&&R(we,rt[ue],Pt[ue],ue)}}{for(var Le=0;Le<3;Le++){for(var ue=0;ue<me;++ue){var Ce=ue&1;xt[Ce]!=0?We(we,ue,Le):(nt=ke,Oe(K,G,ie,ue,Le,Ke,nt,Ce),H(K,Ke,rt[ue],Pt[ue],ue,Le))}xt[0]+xt[1]==0&&K.mode==e.JOINT_STEREO&&Qe(rt,Pt,we.mld_cb_s,we.ATH.cb_s,K.ATHlower*we.ATH.adjust,K.msfix,we.npart_s);for(var ue=0;ue<me;++ue){var Ce=ue&1;xt[Ce]==0&&U(we,rt[ue],Pt[ue],ue,Le)}}for(var ue=0;ue<me;ue++){var Ce=ue&1;if(xt[Ce]==0)for(var _e=0;_e<qe.SBMAX_s;_e++){for(var Ge=br(3),Le=0;Le<3;Le++){var Ze=we.thm[ue].s[_e][Le];if(Ze*=c,Je[ue][Le]>=2||Je[ue][Le+1]==1){var ee=Le!=0?Le-1:2,ae=x(we.thm[ue].s[_e][ee],Ze,d*ht);Ze=Math.min(Ze,ae)}else if(Je[ue][Le]==1){var ee=Le!=0?Le-1:2,ae=x(we.thm[ue].s[_e][ee],Ze,f*ht);Ze=Math.min(Ze,ae)}else if(Le!=0&&Je[ue][Le-1]==3||Le==0&&we.nsPsy.lastAttacks[ue]==3){var ee=Le!=2?Le+1:0,ae=x(we.thm[ue].s[_e][ee],Ze,f*ht);Ze=Math.min(Ze,ae)}Ze*=Ye[ue][Le],Ge[Le]=Ze}for(var Le=0;Le<3;Le++)we.thm[ue].s[_e][Le]=Ge[Le]}}}for(var ue=0;ue<me;ue++)we.nsPsy.lastAttacks[ue]=Je[ue][2];Fe(K,xt,Ae);for(var ue=0;ue<me;ue++){var Re,je,He,Ve;ue>1?(Re=Ee,je=-2,He=qe.NORM_TYPE,(Ae[0]==qe.SHORT_TYPE||Ae[1]==qe.SHORT_TYPE)&&(He=qe.SHORT_TYPE),Ve=te[se][ue-2]):(Re=ge,je=0,He=Ae[ue],Ve=fe[se][ue]),He==qe.SHORT_TYPE?Re[je+ue]=V(Ve,we.masking_lower):Re[je+ue]=re(Ve,we.masking_lower),K.analysis&&(we.pinfo.pe[se][ue]=Re[je+ue])}return 0};function le(K,G){var ie=K,se;return ie>=0?se=-ie*27:se=ie*G,se<=-72?0:Math.exp(se*w)}function Ne(K){var G=0,ie=0;{var se=0,fe,te;for(se=0;le(se,K)>1e-20;se-=1);for(fe=se,te=0;Math.abs(te-fe)>1e-12;)se=(te+fe)/2,le(se,K)>0?te=se:fe=se;G=fe}{var se=0,fe,te;for(se=0;le(se,K)>1e-20;se+=1);for(fe=0,te=se;Math.abs(te-fe)>1e-12;)se=(te+fe)/2,le(se,K)>0?fe=se:te=se;ie=te}{var ge=0,Ee=1e3,ye;for(ye=0;ye<=Ee;++ye){var se=G+ye*(ie-G)/Ee,Ae=le(se,K);ge+=Ae}{var we=(Ee+1)/(ge*(ie-G));return we}}}function pe(K){var G,ie,se,fe;return G=K,G>=0?G*=3:G*=1.5,G>=.5&&G<=2.5?(fe=G-.5,ie=8*(fe*fe-2*fe)):ie=0,G+=.474,se=15.811389+7.5*G-17.5*Math.sqrt(1+G*G),se<=-60?0:(G=Math.exp((ie+se)*w),G/=.6609193,G)}function Te(K){return K<0&&(K=0),K=K*.001,13*Math.atan(.76*K)+3.5*Math.atan(K*K/(7.5*7.5))}function Ue(K,G,ie,se,fe,te,ge,Ee,ye,Ae,we,xe){var nt=br(qe.CBANDS+1),lt=Ee/(xe>15?2*576:2*192),Ke=zs(qe.HBLKSIZE),yt;Ee/=ye;var ke=0,rt=0;for(yt=0;yt<qe.CBANDS;yt++){var Pt,Ye;for(Pt=Te(Ee*ke),nt[yt]=Ee*ke,Ye=ke;Te(Ee*Ye)-Pt<s&&Ye<=ye/2;Ye++);for(K[yt]=Ye-ke,rt=yt+1;ke<Ye;)Jt(ke<qe.HBLKSIZE),Ke[ke++]=yt;if(ke>ye/2){ke=ye/2,++yt;break}}Jt(yt<qe.CBANDS),nt[yt]=Ee*ke;for(var ht=0;ht<xe;ht++){var Je,xt,me,ue,Ce;me=Ae[ht],ue=Ae[ht+1],Je=0|Math.floor(.5+we*(me-.5)),Je<0&&(Je=0),xt=0|Math.floor(.5+we*(ue-.5)),xt>ye/2&&(xt=ye/2),ie[ht]=(Ke[Je]+Ke[xt])/2,G[ht]=Ke[xt];var Le=lt*ue;ge[ht]=(Le-nt[G[ht]])/(nt[G[ht]+1]-nt[G[ht]]),ge[ht]<0?ge[ht]=0:ge[ht]>1&&(ge[ht]=1),Ce=Te(Ee*Ae[ht]*we),Ce=Math.min(Ce,15.5)/15.5,te[ht]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Ce))-2.5)}ke=0;for(var _e=0;_e<rt;_e++){var Ge=K[_e],Pt,Ze;Pt=Te(Ee*ke),Ze=Te(Ee*(ke+Ge-1)),se[_e]=.5*(Pt+Ze),Pt=Te(Ee*(ke-.5)),Ze=Te(Ee*(ke+Ge-.5)),fe[_e]=Ze-Pt,ke+=Ge}return rt}function Be(K,G,ie,se,fe,te){var ge=si([qe.CBANDS,qe.CBANDS]),Ee,ye=0;if(te)for(var Ae=0;Ae<G;Ae++)for(Ee=0;Ee<G;Ee++){var we=pe(ie[Ae]-ie[Ee])*se[Ee];ge[Ae][Ee]=we*fe[Ae]}else for(Ee=0;Ee<G;Ee++)for(var xe=15+Math.min(21/ie[Ee],12),nt=Ne(xe),Ae=0;Ae<G;Ae++){var we=nt*le(ie[Ae]-ie[Ee],xe)*se[Ee];ge[Ae][Ee]=we*fe[Ae]}for(var Ae=0;Ae<G;Ae++){for(Ee=0;Ee<G&&!(ge[Ae][Ee]>0);Ee++);for(K[Ae][0]=Ee,Ee=G-1;Ee>0&&!(ge[Ae][Ee]>0);Ee--);K[Ae][1]=Ee,ye+=K[Ae][1]-K[Ae][0]+1}for(var lt=br(ye),Ke=0,Ae=0;Ae<G;Ae++)for(Ee=K[Ae][0];Ee<=K[Ae][1];Ee++)lt[Ke++]=ge[Ae][Ee];return lt}function ut(K){var G=Te(K);return G=Math.min(G,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*G))-2.5)}this.psymodel_init=function(K){var G=K.internal_flags,ie,se=!0,fe=13,te=24,ge=0,Ee=0,ye=-8.25,Ae=-4.5,we=br(qe.CBANDS),xe=br(qe.CBANDS),nt=br(qe.CBANDS),lt=K.out_samplerate;switch(K.experimentalZ){default:case 0:se=!0;break;case 1:se=!(K.VBR==Kl.vbr_mtrh||K.VBR==Kl.vbr_mt);break;case 2:se=!1;break;case 3:fe=8,ge=-1.75,Ee=-.0125,ye=-8.25,Ae=-2.25;break}for(G.ms_ener_ratio_old=.25,G.blocktype_old[0]=G.blocktype_old[1]=qe.NORM_TYPE,ie=0;ie<4;++ie){for(var ke=0;ke<qe.CBANDS;++ke)G.nb_1[ie][ke]=1e20,G.nb_2[ie][ke]=1e20,G.nb_s1[ie][ke]=G.nb_s2[ie][ke]=1;for(var Ke=0;Ke<qe.SBMAX_l;Ke++)G.en[ie].l[Ke]=1e20,G.thm[ie].l[Ke]=1e20;for(var ke=0;ke<3;++ke){for(var Ke=0;Ke<qe.SBMAX_s;Ke++)G.en[ie].s[Ke][ke]=1e20,G.thm[ie].s[Ke][ke]=1e20;G.nsPsy.lastAttacks[ie]=0}for(var ke=0;ke<9;ke++)G.nsPsy.last_en_subshort[ie][ke]=10}for(G.loudness_sq_save[0]=G.loudness_sq_save[1]=0,G.npart_l=Ue(G.numlines_l,G.bo_l,G.bm_l,we,xe,G.mld_l,G.PSY.bo_l_weight,lt,qe.BLKSIZE,G.scalefac_band.l,qe.BLKSIZE/(2*576),qe.SBMAX_l),Jt(G.npart_l<qe.CBANDS),ie=0;ie<G.npart_l;ie++){var yt=ge;we[ie]>=fe&&(yt=Ee*(we[ie]-fe)/(te-fe)+ge*(te-we[ie])/(te-fe)),nt[ie]=Math.pow(10,yt/10),G.numlines_l[ie]>0?G.rnumlines_l[ie]=1/G.numlines_l[ie]:G.rnumlines_l[ie]=0}G.s3_ll=Be(G.s3ind,G.npart_l,we,xe,nt,se);var ke=0;for(ie=0;ie<G.npart_l;ie++){var rt;rt=DE.MAX_VALUE;for(var Pt=0;Pt<G.numlines_l[ie];Pt++,ke++){var Ye=lt*ke/(1e3*qe.BLKSIZE),ht;ht=this.ATHformula(Ye*1e3,K)-20,ht=Math.pow(10,.1*ht),ht*=G.numlines_l[ie],rt>ht&&(rt=ht)}G.ATH.cb_l[ie]=rt,rt=-20+we[ie]*20/10,rt>6&&(rt=100),rt<-15&&(rt=-15),rt-=8,G.minval_l[ie]=Math.pow(10,rt/10)*G.numlines_l[ie]}for(G.npart_s=Ue(G.numlines_s,G.bo_s,G.bm_s,we,xe,G.mld_s,G.PSY.bo_s_weight,lt,qe.BLKSIZE_s,G.scalefac_band.s,qe.BLKSIZE_s/(2*192),qe.SBMAX_s),Jt(G.npart_s<qe.CBANDS),ke=0,ie=0;ie<G.npart_s;ie++){var rt,yt=ye;we[ie]>=fe&&(yt=Ae*(we[ie]-fe)/(te-fe)+ye*(te-we[ie])/(te-fe)),nt[ie]=Math.pow(10,yt/10),rt=DE.MAX_VALUE;for(var Pt=0;Pt<G.numlines_s[ie];Pt++,ke++){var Ye=lt*ke/(1e3*qe.BLKSIZE_s),ht;ht=this.ATHformula(Ye*1e3,K)-20,ht=Math.pow(10,.1*ht),ht*=G.numlines_s[ie],rt>ht&&(rt=ht)}G.ATH.cb_s[ie]=rt,rt=-7+we[ie]*7/12,we[ie]>12&&(rt*=1+Math.log(1+rt)*3.1),we[ie]<12&&(rt*=1+Math.log(1-rt)*2.3),rt<-15&&(rt=-15),rt-=8,G.minval_s[ie]=Math.pow(10,rt/10)*G.numlines_s[ie]}G.s3_ss=Be(G.s3ind_s,G.npart_s,we,xe,nt,se),k(),t.init_fft(G),G.decay=Math.exp(-1*n/(u*lt/192));{var Je;Je=h,K.exp_nspsytune&2&&(Je=1),Math.abs(K.msfix)>0&&(Je=K.msfix),K.msfix=Je;for(var xt=0;xt<G.npart_l;xt++)G.s3ind[xt][1]>G.npart_l-1&&(G.s3ind[xt][1]=G.npart_l-1)}var me=576*G.mode_gr/lt;if(G.ATH.decay=Math.pow(10,-12/10*me),G.ATH.adjust=.01,G.ATH.adjustLimit=1,Jt(G.bo_l[qe.SBMAX_l-1]<=G.npart_l),Jt(G.bo_s[qe.SBMAX_s-1]<=G.npart_s),K.ATHtype!=-1){var Ye,ue=K.out_samplerate/qe.BLKSIZE,Ce=0;for(Ye=0,ie=0;ie<qe.BLKSIZE/2;++ie)Ye+=ue,G.ATH.eql_w[ie]=1/Math.pow(10,this.ATHformula(Ye,K)/10),Ce+=G.ATH.eql_w[ie];for(Ce=1/Ce,ie=qe.BLKSIZE/2;--ie>=0;)G.ATH.eql_w[ie]*=Ce}{for(var xt=ke=0;xt<G.npart_s;++xt)for(ie=0;ie<G.numlines_s[xt];++ie)++ke;for(var xt=ke=0;xt<G.npart_l;++xt)for(ie=0;ie<G.numlines_l[xt];++ie)++ke}for(ke=0,ie=0;ie<G.npart_l;ie++){var Ye=lt*(ke+G.numlines_l[ie]/2)/(1*qe.BLKSIZE);G.mld_cb_l[ie]=ut(Ye),ke+=G.numlines_l[ie]}for(;ie<qe.CBANDS;++ie)G.mld_cb_l[ie]=1;for(ke=0,ie=0;ie<G.npart_s;ie++){var Ye=lt*(ke+G.numlines_s[ie]/2)/(1*qe.BLKSIZE_s);G.mld_cb_s[ie]=ut(Ye),ke+=G.numlines_s[ie]}for(;ie<qe.CBANDS;++ie)G.mld_cb_s[ie]=1;return 0};function Mt(K,G){K<-.3&&(K=3410),K/=1e3,K=Math.max(.1,K);var ie=3.64*Math.pow(K,-.8)-6.8*Math.exp(-.6*Math.pow(K-3.4,2))+6*Math.exp(-.15*Math.pow(K-8.7,2))+(.6+.04*G)*.001*Math.pow(K,4);return ie}this.ATHformula=function(K,G){var ie;switch(G.ATHtype){case 0:ie=Mt(K,9);break;case 1:ie=Mt(K,-1);break;case 2:ie=Mt(K,0);break;case 3:ie=Mt(K,1)+6;break;case 4:ie=Mt(K,G.ATHcurve);break;default:ie=Mt(K,0);break}return ie}}var Jte=Qte,ene=cf;function tne(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=ene.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var nne=tne,rne=ra(),_9={};_9.SFBMAX=rne.SBMAX_s*3;var tg=_9,b9=Zn,ane=b9.new_float,$s=b9.new_int,V1=tg;function ine(){this.xr=ane(576),this.l3_enc=$s(576),this.scalefac=$s(V1.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=$s(3),this.subblock_gain=$s(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=$s(V1.SFBMAX),this.window=$s(V1.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=$s(4),this.max_nonzero_coeff=0;var e=this;function t(r){return new Int32Array(r)}function n(r){return new Float32Array(r)}this.assign=function(r){e.xr=n(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}var s_=ine,one=Zn,kE=one.new_int,sne=s_;function lne(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[kE(4),kE(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new sne}var une=lne,w9=Zn,Gf=w9.System,Zf=w9.new_int,Xf=ra();function cne(e,t,n,r){this.l=Zf(1+Xf.SBMAX_l),this.s=Zf(1+Xf.SBMAX_s),this.psfb21=Zf(1+Xf.PSFB21),this.psfb12=Zf(1+Xf.PSFB12);var a=this.l,i=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Gf.arraycopy(this.arrL,0,a,0,Math.min(this.arrL.length,this.l.length)),Gf.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),Gf.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Gf.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var E9=cne,l_=Zn,W1=l_.new_float,dne=l_.new_float_n,fne=l_.new_int,ME=ra();function hne(){this.last_en_subshort=dne([4,9]),this.lastAttacks=fne(4),this.pefirbuf=W1(19),this.longfact=W1(ME.SBMAX_l),this.shortfact=W1(ME.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var pne=hne;function mne(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var gne=mne,tc=Zn,vne=tc.new_byte,yne=tc.new_double,li=tc.new_float,Hs=tc.new_float_n,Oi=tc.new_int,Qf=tc.new_int_n,_ne=une,bne=E9,wne=pne,Ene=gne,TE=v9(),lr=ra(),Cne=tg;Lo.MFSIZE=3*1152+lr.ENCDELAY-lr.MDCTDELAY;Lo.MAX_HEADER_BUF=256;Lo.MAX_BITS_PER_CHANNEL=4095;Lo.MAX_BITS_PER_GRANULE=7680;Lo.BPC=320;function Lo(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Hs([2,Lo.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new _ne,this.ms_ratio=li(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=Oi(2),this.CurrentStep=Oi(2),this.masking_lower=0,this.bv_scf=Oi(576),this.pseudohalf=Oi(Cne.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*Lo.BPC+1),this.itime=yne(2),this.sideinfo_len=0,this.sb_sample=Hs([2,2,18,lr.SBLIMIT]),this.amp_filter=li(32);function t(){this.write_timing=0,this.ptr=0,this.buf=vne(e)}this.header=new Array(Lo.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new bne,this.minval_l=li(lr.CBANDS),this.minval_s=li(lr.CBANDS),this.nb_1=Hs([4,lr.CBANDS]),this.nb_2=Hs([4,lr.CBANDS]),this.nb_s1=Hs([4,lr.CBANDS]),this.nb_s2=Hs([4,lr.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=li(4),this.loudness_sq=Hs([2,2]),this.loudness_sq_save=li(2),this.mld_l=li(lr.SBMAX_l),this.mld_s=li(lr.SBMAX_s),this.bm_l=Oi(lr.SBMAX_l),this.bo_l=Oi(lr.SBMAX_l),this.bm_s=Oi(lr.SBMAX_s),this.bo_s=Oi(lr.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Qf([lr.CBANDS,2]),this.s3ind_s=Qf([lr.CBANDS,2]),this.numlines_s=Oi(lr.CBANDS),this.numlines_l=Oi(lr.CBANDS),this.rnumlines_l=li(lr.CBANDS),this.mld_cb_l=li(lr.CBANDS),this.mld_cb_s=li(lr.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=li(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=Oi(2),this.nsPsy=new wne,this.VBR_seek_table=new Ene,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Qf([16,5]),this.bitrate_blockType_Hist=Qf([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new TE;for(var n=0;n<this.thm.length;n++)this.thm[n]=new TE;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var ng=Lo,Sne=Zn,Vs=Sne.new_float,Ws=ra();function Dne(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Vs(Ws.SBMAX_l),this.s=Vs(Ws.SBMAX_s),this.psfb21=Vs(Ws.PSFB21),this.psfb12=Vs(Ws.PSFB12),this.cb_l=Vs(Ws.CBANDS),this.cb_s=Vs(Ws.CBANDS),this.eql_w=Vs(Ws.BLKSIZE/2)}var kne=Dne,C9=Zn,ka=C9.System,xE=C9.Arrays;cr.STEPS_per_dB=100;cr.MAX_dB=120;cr.GAIN_NOT_ENOUGH_SAMPLES=-24601;cr.GAIN_ANALYSIS_ERROR=0;cr.GAIN_ANALYSIS_OK=1;cr.INIT_GAIN_ANALYSIS_ERROR=0;cr.INIT_GAIN_ANALYSIS_OK=1;cr.YULE_ORDER=10;cr.MAX_ORDER=cr.YULE_ORDER;cr.MAX_SAMP_FREQ=48e3;cr.RMS_WINDOW_TIME_NUMERATOR=1;cr.RMS_WINDOW_TIME_DENOMINATOR=20;cr.MAX_SAMPLES_PER_WINDOW=cr.MAX_SAMP_FREQ*cr.RMS_WINDOW_TIME_NUMERATOR/cr.RMS_WINDOW_TIME_DENOMINATOR+1;function cr(){var e=64.82,t=.95,n=cr.RMS_WINDOW_TIME_NUMERATOR,r=cr.RMS_WINDOW_TIME_DENOMINATOR,a=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],i=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function o(d,f,h,p,w,D){for(;w--!=0;)h[p]=1e-10+d[f+0]*D[0]-h[p-1]*D[1]+d[f-1]*D[2]-h[p-2]*D[3]+d[f-2]*D[4]-h[p-3]*D[5]+d[f-3]*D[6]-h[p-4]*D[7]+d[f-4]*D[8]-h[p-5]*D[9]+d[f-5]*D[10]-h[p-6]*D[11]+d[f-6]*D[12]-h[p-7]*D[13]+d[f-7]*D[14]-h[p-8]*D[15]+d[f-8]*D[16]-h[p-9]*D[17]+d[f-9]*D[18]-h[p-10]*D[19]+d[f-10]*D[20],++p,++f}function s(d,f,h,p,w,D){for(;w--!=0;)h[p]=d[f+0]*D[0]-h[p-1]*D[1]+d[f-1]*D[2]-h[p-2]*D[3]+d[f-2]*D[4],++p,++f}function l(d,f){for(var h=0;h<MAX_ORDER;h++)d.linprebuf[h]=d.lstepbuf[h]=d.loutbuf[h]=d.rinprebuf[h]=d.rstepbuf[h]=d.routbuf[h]=0;switch(0|f){case 48e3:d.reqindex=0;break;case 44100:d.reqindex=1;break;case 32e3:d.reqindex=2;break;case 24e3:d.reqindex=3;break;case 22050:d.reqindex=4;break;case 16e3:d.reqindex=5;break;case 12e3:d.reqindex=6;break;case 11025:d.reqindex=7;break;case 8e3:d.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return d.sampleWindow=0|(f*n+r-1)/r,d.lsum=0,d.rsum=0,d.totsamp=0,xE.ill(d.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(d,f){return l(d,f)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(d.linpre=MAX_ORDER,d.rinpre=MAX_ORDER,d.lstep=MAX_ORDER,d.rstep=MAX_ORDER,d.lout=MAX_ORDER,d.rout=MAX_ORDER,xE.fill(d.B,0),INIT_GAIN_ANALYSIS_OK)};function u(d){return d*d}this.AnalyzeSamples=function(d,f,h,p,w,D,E){var g,C,M,m,b,S,y;if(D==0)return GAIN_ANALYSIS_OK;switch(y=0,b=D,E){case 1:p=f,w=h;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(D<MAX_ORDER?(ka.arraycopy(f,h,d.linprebuf,MAX_ORDER,D),ka.arraycopy(p,w,d.rinprebuf,MAX_ORDER,D)):(ka.arraycopy(f,h,d.linprebuf,MAX_ORDER,MAX_ORDER),ka.arraycopy(p,w,d.rinprebuf,MAX_ORDER,MAX_ORDER));b>0;){S=b>d.sampleWindow-d.totsamp?d.sampleWindow-d.totsamp:b,y<MAX_ORDER?(g=d.linpre+y,C=d.linprebuf,M=d.rinpre+y,m=d.rinprebuf,S>MAX_ORDER-y&&(S=MAX_ORDER-y)):(g=h+y,C=f,M=w+y,m=p),o(C,g,d.lstepbuf,d.lstep+d.totsamp,S,a[d.reqindex]),o(m,M,d.rstepbuf,d.rstep+d.totsamp,S,a[d.reqindex]),s(d.lstepbuf,d.lstep+d.totsamp,d.loutbuf,d.lout+d.totsamp,S,i[d.reqindex]),s(d.rstepbuf,d.rstep+d.totsamp,d.routbuf,d.rout+d.totsamp,S,i[d.reqindex]),g=d.lout+d.totsamp,C=d.loutbuf,M=d.rout+d.totsamp,m=d.routbuf;for(var k=S%8;k--!=0;)d.lsum+=u(C[g++]),d.rsum+=u(m[M++]);for(k=S/8;k--!=0;)d.lsum+=u(C[g+0])+u(C[g+1])+u(C[g+2])+u(C[g+3])+u(C[g+4])+u(C[g+5])+u(C[g+6])+u(C[g+7]),g+=8,d.rsum+=u(m[M+0])+u(m[M+1])+u(m[M+2])+u(m[M+3])+u(m[M+4])+u(m[M+5])+u(m[M+6])+u(m[M+7]),M+=8;if(b-=S,y+=S,d.totsamp+=S,d.totsamp==d.sampleWindow){var _=cr.STEPS_per_dB*10*Math.log10((d.lsum+d.rsum)/d.totsamp*.5+1e-37),P=_<=0?0:0|_;P>=d.A.length&&(P=d.A.length-1),d.A[P]++,d.lsum=d.rsum=0,ka.arraycopy(d.loutbuf,d.totsamp,d.loutbuf,0,MAX_ORDER),ka.arraycopy(d.routbuf,d.totsamp,d.routbuf,0,MAX_ORDER),ka.arraycopy(d.lstepbuf,d.totsamp,d.lstepbuf,0,MAX_ORDER),ka.arraycopy(d.rstepbuf,d.totsamp,d.rstepbuf,0,MAX_ORDER),d.totsamp=0}if(d.totsamp>d.sampleWindow)return GAIN_ANALYSIS_ERROR}return D<MAX_ORDER?(ka.arraycopy(d.linprebuf,D,d.linprebuf,0,MAX_ORDER-D),ka.arraycopy(d.rinprebuf,D,d.rinprebuf,0,MAX_ORDER-D),ka.arraycopy(f,h,d.linprebuf,MAX_ORDER-D,D),ka.arraycopy(p,w,d.rinprebuf,MAX_ORDER-D,D)):(ka.arraycopy(f,h+D-MAX_ORDER,d.linprebuf,0,MAX_ORDER),ka.arraycopy(p,w+D-MAX_ORDER,d.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function c(d,f){var h,p=0;for(h=0;h<f;h++)p+=d[h];if(p==0)return GAIN_NOT_ENOUGH_SAMPLES;var w=0|Math.ceil(p*(1-t));for(h=f;h-- >0&&!((w-=d[h])<=0););return e-h/cr.STEPS_per_dB}this.GetTitleGain=function(d){for(var f=c(d.A,d.A.length),h=0;h<d.A.length;h++)d.B[h]+=d.A[h],d.A[h]=0;for(var h=0;h<MAX_ORDER;h++)d.linprebuf[h]=d.lstepbuf[h]=d.loutbuf[h]=d.rinprebuf[h]=d.rstepbuf[h]=d.routbuf[h]=0;return d.totsamp=0,d.lsum=d.rsum=0,f}}var S9=cr,D9=Zn,Zl=D9.new_float,RE=D9.new_int,Ma=S9;function Mne(){this.linprebuf=Zl(Ma.MAX_ORDER*2),this.linpre=0,this.lstepbuf=Zl(Ma.MAX_SAMPLES_PER_WINDOW+Ma.MAX_ORDER),this.lstep=0,this.loutbuf=Zl(Ma.MAX_SAMPLES_PER_WINDOW+Ma.MAX_ORDER),this.lout=0,this.rinprebuf=Zl(Ma.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=Zl(Ma.MAX_SAMPLES_PER_WINDOW+Ma.MAX_ORDER),this.rstep=0,this.routbuf=Zl(Ma.MAX_SAMPLES_PER_WINDOW+Ma.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=RE(0|Ma.STEPS_per_dB*Ma.MAX_dB),this.B=RE(0|Ma.STEPS_per_dB*Ma.MAX_dB)}var Tne=Mne;function xne(e){this.bits=e}var k9=xne,u_=Zn,PE=u_.new_float,Rne=u_.new_int,OE=u_.assert,Pne=k9,AE=ra(),One=tg,Ane=ng;function Lne(e){var t=e;this.quantize=t,this.iteration_loop=function(n,r,a,i){var o=n.internal_flags,s=PE(One.SFBMAX),l=PE(576),u=Rne(2),c=0,d,f=o.l3_side,h=new Pne(c);this.quantize.rv.ResvFrameBegin(n,h),c=h.bits;for(var p=0;p<o.mode_gr;p++){d=this.quantize.qupvt.on_pe(n,r,u,c,p,p),o.mode_ext==AE.MPG_MD_MS_LR&&(this.quantize.ms_convert(o.l3_side,p),this.quantize.qupvt.reduce_side(u,a[p],c,d));for(var w=0;w<o.channels_out;w++){var D,E,g=f.tt[p][w];g.block_type!=AE.SHORT_TYPE?(D=0,E=o.PSY.mask_adjust-D):(D=0,E=o.PSY.mask_adjust_short-D),o.masking_lower=Math.pow(10,E*.1),this.quantize.init_outer_loop(o,g),this.quantize.init_xrpow(o,g,l)&&(this.quantize.qupvt.calc_xmin(n,i[p][w],g,s),this.quantize.outer_loop(n,g,s,l,w,u[w])),this.quantize.iteration_finish_one(o,p,w),OE(g.part2_3_length<=Ane.MAX_BITS_PER_CHANNEL),OE(g.part2_3_length<=u[w])}}this.quantize.rv.ResvFrameEnd(o,c)}}var Ine=Lne;function gn(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var it={};it.t1HB=[1,1,1,0];it.t2HB=[1,2,1,3,1,1,3,2,0];it.t3HB=[3,2,1,1,1,1,3,2,0];it.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];it.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];it.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];it.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];it.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];it.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];it.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];it.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];it.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];it.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];it.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];it.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];it.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];it.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];it.t1l=[1,4,3,5];it.t2l=[1,4,7,4,5,7,6,7,8];it.t3l=[2,3,7,4,4,7,6,7,8];it.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];it.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];it.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];it.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];it.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];it.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];it.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];it.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];it.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];it.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];it.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];it.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];it.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];it.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];it.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];it.ht=[new gn(0,0,null,null),new gn(2,0,it.t1HB,it.t1l),new gn(3,0,it.t2HB,it.t2l),new gn(3,0,it.t3HB,it.t3l),new gn(0,0,null,null),new gn(4,0,it.t5HB,it.t5l),new gn(4,0,it.t6HB,it.t6l),new gn(6,0,it.t7HB,it.t7l),new gn(6,0,it.t8HB,it.t8l),new gn(6,0,it.t9HB,it.t9l),new gn(8,0,it.t10HB,it.t10l),new gn(8,0,it.t11HB,it.t11l),new gn(8,0,it.t12HB,it.t12l),new gn(16,0,it.t13HB,it.t13l),new gn(0,0,null,it.t16_5l),new gn(16,0,it.t15HB,it.t15l),new gn(1,1,it.t16HB,it.t16l),new gn(2,3,it.t16HB,it.t16l),new gn(3,7,it.t16HB,it.t16l),new gn(4,15,it.t16HB,it.t16l),new gn(6,63,it.t16HB,it.t16l),new gn(8,255,it.t16HB,it.t16l),new gn(10,1023,it.t16HB,it.t16l),new gn(13,8191,it.t16HB,it.t16l),new gn(4,15,it.t24HB,it.t24l),new gn(5,31,it.t24HB,it.t24l),new gn(6,63,it.t24HB,it.t24l),new gn(7,127,it.t24HB,it.t24l),new gn(8,255,it.t24HB,it.t24l),new gn(9,511,it.t24HB,it.t24l),new gn(11,2047,it.t24HB,it.t24l),new gn(13,8191,it.t24HB,it.t24l),new gn(0,0,it.t32HB,it.t32l),new gn(0,0,it.t33HB,it.t33l)];it.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];it.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];it.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];it.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];it.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];it.scfsi_band=[0,6,11,16,21];var c_=it,q1,LE;function M9(){if(LE)return q1;LE=1;var e=E9,t=Zn,n=t.VbrMode,r=t.Float,a=t.Util,i=t.new_float,o=t.new_int,s=t.assert,l=ra(),u=k9,c=ng;d.Q_MAX=257,d.Q_MAX2=116,d.LARGE_BITS=1e5,d.IXMAX_VAL=8206;function d(){var f=d_(),h=null,p=null,w=null;this.setModules=function(L,I,B){h=L,p=I,w=B};function D(L){return s(0<=L+d.Q_MAX2&&L<d.Q_MAX),y[L+d.Q_MAX2]}this.IPOW20=function(L){return s(0<=L&&L<d.Q_MAX),k[L]};var E=2220446049250313e-31,g=d.IXMAX_VAL,C=g+2,M=d.Q_MAX,m=d.Q_MAX2;d.LARGE_BITS;var b=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var S=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=S,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var y=i(M+m+1),k=i(M),_=i(C),P=i(C);this.adj43=P;function z(L,I){var B=w.ATHformula(I,L);return B-=b,B=Math.pow(10,B/10+L.ATHlower),B}function N(L){for(var I=L.internal_flags.ATH.l,B=L.internal_flags.ATH.psfb21,F=L.internal_flags.ATH.s,U=L.internal_flags.ATH.psfb12,R=L.internal_flags,O=L.out_samplerate,A=0;A<l.SBMAX_l;A++){var x=R.scalefac_band.l[A],j=R.scalefac_band.l[A+1];I[A]=r.MAX_VALUE;for(var V=x;V<j;V++){var X=V*O/1152,re=z(L,X);I[A]=Math.min(I[A],re)}}for(var A=0;A<l.PSFB21;A++){var x=R.scalefac_band.psfb21[A],j=R.scalefac_band.psfb21[A+1];B[A]=r.MAX_VALUE;for(var V=x;V<j;V++){var X=V*O/1152,re=z(L,X);B[A]=Math.min(B[A],re)}}for(var A=0;A<l.SBMAX_s;A++){var x=R.scalefac_band.s[A],j=R.scalefac_band.s[A+1];F[A]=r.MAX_VALUE;for(var V=x;V<j;V++){var X=V*O/384,re=z(L,X);F[A]=Math.min(F[A],re)}F[A]*=R.scalefac_band.s[A+1]-R.scalefac_band.s[A]}for(var A=0;A<l.PSFB12;A++){var x=R.scalefac_band.psfb12[A],j=R.scalefac_band.psfb12[A+1];U[A]=r.MAX_VALUE;for(var V=x;V<j;V++){var X=V*O/384,re=z(L,X);U[A]=Math.min(U[A],re)}U[A]*=R.scalefac_band.s[13]-R.scalefac_band.s[12]}if(L.noATH){for(var A=0;A<l.SBMAX_l;A++)I[A]=1e-20;for(var A=0;A<l.PSFB21;A++)B[A]=1e-20;for(var A=0;A<l.SBMAX_s;A++)F[A]=1e-20;for(var A=0;A<l.PSFB12;A++)U[A]=1e-20}R.ATH.floor=10*Math.log10(z(L,-1))}this.iteration_init=function(L){var I=L.internal_flags,B=I.l3_side,F;if(I.iteration_init_init==0){for(I.iteration_init_init=1,B.main_data_begin=0,N(L),_[0]=0,F=1;F<C;F++)_[F]=Math.pow(F,4/3);for(F=0;F<C-1;F++)P[F]=F+1-Math.pow(.5*(_[F]+_[F+1]),.75);for(P[F]=.5,F=0;F<M;F++)k[F]=Math.pow(2,(F-210)*-.1875);for(F=0;F<=M+m;F++)y[F]=Math.pow(2,(F-210-m)*.25);h.huffman_init(I);{var U,R,O,A;for(F=L.exp_nspsytune>>2&63,F>=32&&(F-=64),U=Math.pow(10,F/4/10),F=L.exp_nspsytune>>8&63,F>=32&&(F-=64),R=Math.pow(10,F/4/10),F=L.exp_nspsytune>>14&63,F>=32&&(F-=64),O=Math.pow(10,F/4/10),F=L.exp_nspsytune>>20&63,F>=32&&(F-=64),A=O*Math.pow(10,F/4/10),F=0;F<l.SBMAX_l;F++){var x;F<=6?x=U:F<=13?x=R:F<=20?x=O:x=A,I.nsPsy.longfact[F]=x}for(F=0;F<l.SBMAX_s;F++){var x;F<=5?x=U:F<=10?x=R:F<=11?x=O:x=A,I.nsPsy.shortfact[F]=x}}}},this.on_pe=function(L,I,B,F,U,R){var O=L.internal_flags,A=0,x,j=o(2),V,X=new u(A),re=p.ResvMaxBits(L,F,X,R);A=X.bits;var W=A+re;for(W>c.MAX_BITS_PER_GRANULE&&(W=c.MAX_BITS_PER_GRANULE),x=0,V=0;V<O.channels_out;++V)B[V]=Math.min(c.MAX_BITS_PER_CHANNEL,A/O.channels_out),j[V]=0|B[V]*I[U][V]/700-B[V],j[V]>F*3/4&&(j[V]=F*3/4),j[V]<0&&(j[V]=0),j[V]+B[V]>c.MAX_BITS_PER_CHANNEL&&(j[V]=Math.max(0,c.MAX_BITS_PER_CHANNEL-B[V])),x+=j[V];if(x>re)for(V=0;V<O.channels_out;++V)j[V]=re*j[V]/x;for(V=0;V<O.channels_out;++V)B[V]+=j[V],re-=j[V];for(x=0,V=0;V<O.channels_out;++V)x+=B[V];if(x>c.MAX_BITS_PER_GRANULE){var J=0;for(V=0;V<O.channels_out;++V)B[V]*=c.MAX_BITS_PER_GRANULE,B[V]/=x,J+=B[V]}return W},this.reduce_side=function(L,I,B,F){s(L[0]+L[1]<=c.MAX_BITS_PER_GRANULE);var U=.33*(.5-I)/.5;U<0&&(U=0),U>.5&&(U=.5);var R=0|U*.5*(L[0]+L[1]);R>c.MAX_BITS_PER_CHANNEL-L[0]&&(R=c.MAX_BITS_PER_CHANNEL-L[0]),R<0&&(R=0),L[1]>=125&&(L[1]-R>125?(L[0]<B&&(L[0]+=R),L[1]-=R):(L[0]+=L[1]-125,L[1]=125)),R=L[0]+L[1],R>F&&(L[0]=F*L[0]/R,L[1]=F*L[1]/R),s(L[0]<=c.MAX_BITS_PER_CHANNEL),s(L[1]<=c.MAX_BITS_PER_CHANNEL),s(L[0]+L[1]<=c.MAX_BITS_PER_GRANULE)},this.athAdjust=function(L,I,B){var F=90.30873362,U=94.82444863,R=a.FAST_LOG10_X(I,10),O=L*L,A=0;return R-=B,O>1e-20&&(A=1+a.FAST_LOG10_X(O,10/F)),A<0&&(A=0),R*=A,R+=B+F-U,Math.pow(10,.1*R)},this.calc_xmin=function(L,I,B,F){var U=0,R=L.internal_flags,O,A=0,x=0,j=R.ATH,V=B.xr,X=L.VBR==n.vbr_mtrh?1:0,re=R.masking_lower;for((L.VBR==n.vbr_mtrh||L.VBR==n.vbr_mt)&&(re=1),O=0;O<B.psy_lmax;O++){var W,J,oe,he,Oe,$e;L.VBR==n.vbr_rh||L.VBR==n.vbr_mtrh?J=athAdjust(j.adjust,j.l[O],j.floor):J=j.adjust*j.l[O],Oe=B.width[O],oe=J/Oe,he=E,$e=Oe>>1,W=0;do{var Ie,ze;Ie=V[A]*V[A],W+=Ie,he+=Ie<oe?Ie:oe,A++,ze=V[A]*V[A],W+=ze,he+=ze<oe?ze:oe,A++}while(--$e>0);if(W>J&&x++,O==l.SBPSY_l){var We=J*R.nsPsy.longfact[O];he<We&&(he=We)}if(X!=0&&(J=he),!L.ATHonly){var at=I.en.l[O];if(at>0){var We;We=W*I.thm.l[O]*re/at,X!=0&&(We*=R.nsPsy.longfact[O]),J<We&&(J=We)}}X!=0?F[U++]=J:F[U++]=J*R.nsPsy.longfact[O]}var bt=575;if(B.block_type!=l.SHORT_TYPE)for(var H=576;H--!=0&&f.EQ(V[H],0);)bt=H;B.max_nonzero_coeff=bt;for(var q=B.sfb_smin;O<B.psymax;q++,O+=3){var Oe,De,Fe;for(L.VBR==n.vbr_rh||L.VBR==n.vbr_mtrh?Fe=athAdjust(j.adjust,j.s[q],j.floor):Fe=j.adjust*j.s[q],Oe=B.width[O],De=0;De<3;De++){var W=0,J,oe,he,$e=Oe>>1;oe=Fe/Oe,he=E;do{var Ie,ze;Ie=V[A]*V[A],W+=Ie,he+=Ie<oe?Ie:oe,A++,ze=V[A]*V[A],W+=ze,he+=ze<oe?ze:oe,A++}while(--$e>0);if(W>Fe&&x++,q==l.SBPSY_s){var We=Fe*R.nsPsy.shortfact[q];he<We&&(he=We)}if(X!=0?J=he:J=Fe,!L.ATHonly&&!L.ATHshort){var at=I.en.s[q][De];if(at>0){var We;We=W*I.thm.s[q][De]*re/at,X!=0&&(We*=R.nsPsy.shortfact[q]),J<We&&(J=We)}}X!=0?F[U++]=J:F[U++]=J*R.nsPsy.shortfact[q]}L.useTemporal&&(F[U-3]>F[U-3+1]&&(F[U-3+1]+=(F[U-3]-F[U-3+1])*R.decay),F[U-3+1]>F[U-3+2]&&(F[U-3+2]+=(F[U-3+1]-F[U-3+2])*R.decay))}return x};function T(L){this.s=L}this.calc_noise_core=function(L,I,B,F){var U=0,R=I.s,O=L.l3_enc;if(R>L.count1)for(;B--!=0;){var A;A=L.xr[R],R++,U+=A*A,A=L.xr[R],R++,U+=A*A}else if(R>L.big_values){var x=i(2);for(x[0]=0,x[1]=F;B--!=0;){var A;A=Math.abs(L.xr[R])-x[O[R]],R++,U+=A*A,A=Math.abs(L.xr[R])-x[O[R]],R++,U+=A*A}}else for(;B--!=0;){var A;A=Math.abs(L.xr[R])-_[O[R]]*F,R++,U+=A*A,A=Math.abs(L.xr[R])-_[O[R]]*F,R++,U+=A*A}return I.s=R,U},this.calc_noise=function(L,I,B,F,U){var R=0,O=0,A,x,j=0,V=0,X=0,re=-20,W=0,J=L.scalefac,oe=0;for(F.over_SSD=0,A=0;A<L.psymax;A++){var he=L.global_gain-(J[oe++]+(L.preflag!=0?S[A]:0)<<L.scalefac_scale+1)-L.subblock_gain[L.window[A]]*8,Oe=0;if(U!=null&&U.step[A]==he)Oe=U.noise[A],W+=L.width[A],B[R++]=Oe/I[O++],Oe=U.noise_log[A];else{var $e=D(he);if(x=L.width[A]>>1,W+L.width[A]>L.max_nonzero_coeff){var Ie;Ie=L.max_nonzero_coeff-W+1,Ie>0?x=Ie>>1:x=0}var ze=new T(W);Oe=this.calc_noise_core(L,ze,x,$e),W=ze.s,U!=null&&(U.step[A]=he,U.noise[A]=Oe),Oe=B[R++]=Oe/I[O++],Oe=a.FAST_LOG10(Math.max(Oe,1e-20)),U!=null&&(U.noise_log[A]=Oe)}if(U!=null&&(U.global_gain=L.global_gain),X+=Oe,Oe>0){var We;We=Math.max(0|Oe*10+.5,1),F.over_SSD+=We*We,j++,V+=Oe}re=Math.max(re,Oe)}return F.over_count=j,F.tot_noise=X,F.over_noise=V,F.max_noise=re,j},this.set_pinfo=function(L,I,B,F,U){var R=L.internal_flags,O,A,x,j,V,X=I.scalefac_scale==0?.5:1,re=I.scalefac,W=i(L3Side.SFBMAX),J=i(L3Side.SFBMAX),oe=new CalcNoiseResult;calc_xmin(L,B,I,W),calc_noise(I,W,J,oe,null);var he=0;for(A=I.sfb_lmax,I.block_type!=l.SHORT_TYPE&&I.mixed_block_flag==0&&(A=22),O=0;O<A;O++){var Oe=R.scalefac_band.l[O],$e=R.scalefac_band.l[O+1],Ie=$e-Oe;for(j=0;he<$e;he++)j+=I.xr[he]*I.xr[he];j/=Ie,V=1e15,R.pinfo.en[F][U][O]=V*j,R.pinfo.xfsf[F][U][O]=V*W[O]*J[O]/Ie,B.en.l[O]>0&&!L.ATHonly?j=j/B.en.l[O]:j=0,R.pinfo.thr[F][U][O]=V*Math.max(j*B.thm.l[O],R.ATH.l[O]),R.pinfo.LAMEsfb[F][U][O]=0,I.preflag!=0&&O>=11&&(R.pinfo.LAMEsfb[F][U][O]=-X*S[O]),O<l.SBPSY_l&&(s(re[O]>=0),R.pinfo.LAMEsfb[F][U][O]-=X*re[O])}if(I.block_type==l.SHORT_TYPE)for(A=O,O=I.sfb_smin;O<l.SBMAX_s;O++)for(var Oe=R.scalefac_band.s[O],$e=R.scalefac_band.s[O+1],Ie=$e-Oe,ze=0;ze<3;ze++){for(j=0,x=Oe;x<$e;x++)j+=I.xr[he]*I.xr[he],he++;j=Math.max(j/Ie,1e-20),V=1e15,R.pinfo.en_s[F][U][3*O+ze]=V*j,R.pinfo.xfsf_s[F][U][3*O+ze]=V*W[A]*J[A]/Ie,B.en.s[O][ze]>0?j=j/B.en.s[O][ze]:j=0,(L.ATHonly||L.ATHshort)&&(j=0),R.pinfo.thr_s[F][U][3*O+ze]=V*Math.max(j*B.thm.s[O][ze],R.ATH.s[O]),R.pinfo.LAMEsfb_s[F][U][3*O+ze]=-2*I.subblock_gain[ze],O<l.SBPSY_s&&(R.pinfo.LAMEsfb_s[F][U][3*O+ze]-=X*re[A]),A++}R.pinfo.LAMEqss[F][U]=I.global_gain,R.pinfo.LAMEmainbits[F][U]=I.part2_3_length+I.part2_length,R.pinfo.LAMEsfbits[F][U]=I.part2_length,R.pinfo.over[F][U]=oe.over_count,R.pinfo.max_noise[F][U]=oe.max_noise*10,R.pinfo.over_noise[F][U]=oe.over_noise*10,R.pinfo.tot_noise[F][U]=oe.tot_noise*10,R.pinfo.over_SSD[F][U]=oe.over_SSD}}return q1=d,q1}var Y1,IE;function T9(){if(IE)return Y1;IE=1;var e=Zn,t=e.System,n=e.Arrays,r=e.new_int,a=e.assert,i=ra(),o=c_,s=s_,l=M9();function u(){var c=null;this.qupvt=null,this.setModules=function(R){this.qupvt=R,c=R};function d(R){this.bits=0|R}var f=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function h(R,O,A,x,j,V){var X=.5946/O;for(R=R>>1;R--!=0;)j[V++]=X>A[x++]?0:1,j[V++]=X>A[x++]?0:1}function p(R,O,A,x,j,V){R=R>>1;var X=R%2;for(R=R>>1;R--!=0;){var re,W,J,oe,he,Oe,$e,Ie;re=A[x++]*O,W=A[x++]*O,he=0|re,J=A[x++]*O,Oe=0|W,oe=A[x++]*O,$e=0|J,re+=c.adj43[he],Ie=0|oe,W+=c.adj43[Oe],j[V++]=0|re,J+=c.adj43[$e],j[V++]=0|W,oe+=c.adj43[Ie],j[V++]=0|J,j[V++]=0|oe}if(X!=0){var re,W,he,Oe;re=A[x++]*O,W=A[x++]*O,he=0|re,Oe=0|W,re+=c.adj43[he],W+=c.adj43[Oe],j[V++]=0|re,j[V++]=0|W}}function w(R,O,A,x,j){var V,X,re=0,W,J=0,oe=0,he=0,Oe=O,$e=0,Ie=Oe,ze=0,We=R,at=0;for(W=j!=null&&x.global_gain==j.global_gain,x.block_type==i.SHORT_TYPE?X=38:X=21,V=0;V<=X;V++){var bt=-1;if((W||x.block_type==i.NORM_TYPE)&&(bt=x.global_gain-(x.scalefac[V]+(x.preflag!=0?c.pretab[V]:0)<<x.scalefac_scale+1)-x.subblock_gain[x.window[V]]*8),a(x.width[V]>=0),W&&j.step[V]==bt)J!=0&&(p(J,A,We,at,Ie,ze),J=0),oe!=0&&(h(oe,A,We,at,Ie,ze),oe=0);else{var H=x.width[V];if(re+x.width[V]>x.max_nonzero_coeff){var q;q=x.max_nonzero_coeff-re+1,n.fill(O,x.max_nonzero_coeff,576,0),H=q,H<0&&(H=0),V=X+1}if(J==0&&oe==0&&(Ie=Oe,ze=$e,We=R,at=he),j!=null&&j.sfb_count1>0&&V>=j.sfb_count1&&j.step[V]>0&&bt>=j.step[V]?(J!=0&&(p(J,A,We,at,Ie,ze),J=0,Ie=Oe,ze=$e,We=R,at=he),oe+=H):(oe!=0&&(h(oe,A,We,at,Ie,ze),oe=0,Ie=Oe,ze=$e,We=R,at=he),J+=H),H<=0){oe!=0&&(h(oe,A,We,at,Ie,ze),oe=0),J!=0&&(p(J,A,We,at,Ie,ze),J=0);break}}V<=X&&($e+=x.width[V],he+=x.width[V],re+=x.width[V])}J!=0&&(p(J,A,We,at,Ie,ze),J=0),oe!=0&&(h(oe,A,We,at,Ie,ze),oe=0)}function D(R,O,A){var x=0,j=0;do{var V=R[O++],X=R[O++];x<V&&(x=V),j<X&&(j=X)}while(O<A);return x<j&&(x=j),x}function E(R,O,A,x,j,V){var X=o.ht[x].xlen*65536+o.ht[j].xlen,re=0,W;do{var J=R[O++],oe=R[O++];J!=0&&(J>14&&(J=15,re+=X),J*=16),oe!=0&&(oe>14&&(oe=15,re+=X),J+=oe),re+=o.largetbl[J]}while(O<A);return W=re&65535,re>>=16,re>W&&(re=W,x=j),V.bits+=re,x}function g(R,O,A,x){var j=0,V=o.ht[1].hlen;do{var X=R[O+0]*2+R[O+1];O+=2,j+=V[X]}while(O<A);return x.bits+=j,1}function C(R,O,A,x,j){var V=0,X,re=o.ht[x].xlen,W;x==2?W=o.table23:W=o.table56;do{var J=R[O+0]*re+R[O+1];O+=2,V+=W[J]}while(O<A);return X=V&65535,V>>=16,V>X&&(V=X,x++),j.bits+=V,x}function M(R,O,A,x,j){var V=0,X=0,re=0,W=o.ht[x].xlen,J=o.ht[x].hlen,oe=o.ht[x+1].hlen,he=o.ht[x+2].hlen;do{var Oe=R[O+0]*W+R[O+1];O+=2,V+=J[Oe],X+=oe[Oe],re+=he[Oe]}while(O<A);var $e=x;return V>X&&(V=X,$e++),V>re&&(V=re,$e=x+2),j.bits+=V,$e}var m=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function b(R,O,A,x){var j=D(R,O,A);switch(j){case 0:return j;case 1:return g(R,O,A,x);case 2:case 3:return C(R,O,A,m[j-1],x);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return M(R,O,A,m[j-1],x);default:if(j>l.IXMAX_VAL)return x.bits=l.LARGE_BITS,-1;j-=15;var V;for(V=24;V<32&&!(o.ht[V].linmax>=j);V++);var X;for(X=V-8;X<24&&!(o.ht[X].linmax>=j);X++);return E(R,O,A,X,V,x)}}this.noquant_count_bits=function(R,O,A){var x=O.l3_enc,j=Math.min(576,O.max_nonzero_coeff+2>>1<<1);for(A!=null&&(A.sfb_count1=0);j>1&&!(x[j-1]|x[j-2]);j-=2);O.count1=j;for(var V=0,X=0;j>3;j-=4){var re;if(((x[j-1]|x[j-2]|x[j-3]|x[j-4])&2147483647)>1)break;re=((x[j-4]*2+x[j-3])*2+x[j-2])*2+x[j-1],V+=o.t32l[re],X+=o.t33l[re]}var W=V;if(O.count1table_select=0,V>X&&(W=X,O.count1table_select=1),O.count1bits=W,O.big_values=j,j==0)return W;if(O.block_type==i.SHORT_TYPE)V=3*R.scalefac_band.s[3],V>O.big_values&&(V=O.big_values),X=O.big_values;else if(O.block_type==i.NORM_TYPE){if(V=O.region0_count=R.bv_scf[j-2],X=O.region1_count=R.bv_scf[j-1],a(V+X+2<i.SBPSY_l),X=R.scalefac_band.l[V+X+2],V=R.scalefac_band.l[V+1],X<j){var J=new d(W);O.table_select[2]=b(x,X,j,J),W=J.bits}}else O.region0_count=7,O.region1_count=i.SBMAX_l-1-7-1,V=R.scalefac_band.l[8],X=j,V>X&&(V=X);if(V=Math.min(V,j),X=Math.min(X,j),0<V){var J=new d(W);O.table_select[0]=b(x,0,V,J),W=J.bits}if(V<X){var J=new d(W);O.table_select[1]=b(x,V,X,J),W=J.bits}if(R.use_best_huffman==2&&(O.part2_3_length=W,best_huffman_divide(R,O),W=O.part2_3_length),A!=null&&O.block_type==i.NORM_TYPE){for(var oe=0;R.scalefac_band.l[oe]<O.big_values;)oe++;A.sfb_count1=oe}return W},this.count_bits=function(R,O,A,x){var j=A.l3_enc,V=l.IXMAX_VAL/c.IPOW20(A.global_gain);if(A.xrpow_max>V)return l.LARGE_BITS;if(w(O,j,c.IPOW20(A.global_gain),A,x),R.substep_shaping&2)for(var X=0,re=A.global_gain+A.scalefac_scale,W=.634521682242439/c.IPOW20(re),J=0;J<A.sfbmax;J++){var oe=A.width[J];if(R.pseudohalf[J]==0)X+=oe;else{var he;for(he=X,X+=oe;he<X;++he)j[he]=O[he]>=W?j[he]:0}}return this.noquant_count_bits(R,A,x)};function S(R,O,A,x,j,V,X){for(var re=O.big_values,W=0;W<=22;W++)x[W]=l.LARGE_BITS;for(var W=0;W<16;W++){var J=R.scalefac_band.l[W+1];if(J>=re)break;var oe=0,he=new d(oe),Oe=b(A,0,J,he);oe=he.bits;for(var $e=0;$e<8;$e++){var Ie=R.scalefac_band.l[W+$e+2];if(Ie>=re)break;var ze=oe;he=new d(ze);var We=b(A,J,Ie,he);ze=he.bits,x[W+$e]>ze&&(x[W+$e]=ze,j[W+$e]=W,V[W+$e]=Oe,X[W+$e]=We)}}}function y(R,O,A,x,j,V,X,re){for(var W=O.big_values,J=2;J<i.SBMAX_l+1;J++){var oe=R.scalefac_band.l[J];if(oe>=W)break;var he=j[J-2]+O.count1bits;if(A.part2_3_length<=he)break;var Oe=new d(he),$e=b(x,oe,W,Oe);he=Oe.bits,!(A.part2_3_length<=he)&&(A.assign(O),A.part2_3_length=he,A.region0_count=V[J-2],A.region1_count=J-2-V[J-2],A.table_select[0]=X[J-2],A.table_select[1]=re[J-2],A.table_select[2]=$e)}}this.best_huffman_divide=function(R,O){var A=new s,x=O.l3_enc,j=r(23),V=r(23),X=r(23),re=r(23);if(!(O.block_type==i.SHORT_TYPE&&R.mode_gr==1)){A.assign(O),O.block_type==i.NORM_TYPE&&(S(R,O,x,j,V,X,re),y(R,A,O,x,j,V,X,re));var W=A.big_values;if(!(W==0||(x[W-2]|x[W-1])>1)&&(W=O.count1+2,!(W>576))){A.assign(O),A.count1=W;for(var J=0,oe=0;W>A.big_values;W-=4){var he=((x[W-4]*2+x[W-3])*2+x[W-2])*2+x[W-1];J+=o.t32l[he],oe+=o.t33l[he]}if(A.big_values=W,A.count1table_select=0,J>oe&&(J=oe,A.count1table_select=1),A.count1bits=J,A.block_type==i.NORM_TYPE)y(R,A,O,x,j,V,X,re);else{if(A.part2_3_length=J,J=R.scalefac_band.l[8],J>W&&(J=W),J>0){var Oe=new d(A.part2_3_length);A.table_select[0]=b(x,0,J,Oe),A.part2_3_length=Oe.bits}if(W>J){var Oe=new d(A.part2_3_length);A.table_select[1]=b(x,J,W,Oe),A.part2_3_length=Oe.bits}O.part2_3_length>A.part2_3_length&&O.assign(A)}}}};var k=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],_=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],P=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],z=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];u.slen1_tab=P,u.slen2_tab=z;function N(R,O){for(var A,x=O.tt[1][R],j=O.tt[0][R],V=0;V<o.scfsi_band.length-1;V++){for(A=o.scfsi_band[V];A<o.scfsi_band[V+1]&&!(j.scalefac[A]!=x.scalefac[A]&&x.scalefac[A]>=0);A++);if(A==o.scfsi_band[V+1]){for(A=o.scfsi_band[V];A<o.scfsi_band[V+1];A++)x.scalefac[A]=-1;O.scfsi[R][V]=1}}var X=0,re=0;for(A=0;A<11;A++)x.scalefac[A]!=-1&&(re++,X<x.scalefac[A]&&(X=x.scalefac[A]));for(var W=0,J=0;A<i.SBPSY_l;A++)x.scalefac[A]!=-1&&(J++,W<x.scalefac[A]&&(W=x.scalefac[A]));for(var V=0;V<16;V++)if(X<k[V]&&W<_[V]){var oe=P[V]*re+z[V]*J;x.part2_length>oe&&(x.part2_length=oe,x.scalefac_compress=V)}}this.best_scalefac_store=function(R,O,A,x){var j=x.tt[O][A],V,X,re,W,J=0;for(re=0,V=0;V<j.sfbmax;V++){var oe=j.width[V];for(re+=oe,W=-oe;W<0&&j.l3_enc[W+re]==0;W++);W==0&&(j.scalefac[V]=J=-2)}if(j.scalefac_scale==0&&j.preflag==0){var he=0;for(V=0;V<j.sfbmax;V++)j.scalefac[V]>0&&(he|=j.scalefac[V]);if(!(he&1)&&he!=0){for(V=0;V<j.sfbmax;V++)j.scalefac[V]>0&&(j.scalefac[V]>>=1);j.scalefac_scale=J=1}}if(j.preflag==0&&j.block_type!=i.SHORT_TYPE&&R.mode_gr==2){for(V=11;V<i.SBPSY_l&&!(j.scalefac[V]<c.pretab[V]&&j.scalefac[V]!=-2);V++);if(V==i.SBPSY_l){for(V=11;V<i.SBPSY_l;V++)j.scalefac[V]>0&&(j.scalefac[V]-=c.pretab[V]);j.preflag=J=1}}for(X=0;X<4;X++)x.scfsi[A][X]=0;for(R.mode_gr==2&&O==1&&x.tt[0][A].block_type!=i.SHORT_TYPE&&x.tt[1][A].block_type!=i.SHORT_TYPE&&(N(A,x),J=0),V=0;V<j.sfbmax;V++)j.scalefac[V]==-2&&(j.scalefac[V]=0);J!=0&&(R.mode_gr==2?this.scale_bitcount(j):this.scale_bitcount_lsf(R,j))};function T(R,O){for(var A=0;A<O;++A)if(R[A]<0)return!1;return!0}var L=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],I=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],B=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(R){var O,A,x=0,j=0,V,X=R.scalefac;if(a(T(X,R.sfbmax)),R.block_type==i.SHORT_TYPE)V=L,R.mixed_block_flag!=0&&(V=I);else if(V=B,R.preflag==0){for(A=11;A<i.SBPSY_l&&!(X[A]<c.pretab[A]);A++);if(A==i.SBPSY_l)for(R.preflag=1,A=11;A<i.SBPSY_l;A++)X[A]-=c.pretab[A]}for(A=0;A<R.sfbdivide;A++)x<X[A]&&(x=X[A]);for(;A<R.sfbmax;A++)j<X[A]&&(j=X[A]);for(R.part2_length=l.LARGE_BITS,O=0;O<16;O++)x<k[O]&&j<_[O]&&R.part2_length>V[O]&&(R.part2_length=V[O],R.scalefac_compress=O);return R.part2_length==l.LARGE_BITS};var F=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(R,O){var A,x,j,V,X,re,W,J,oe=r(4),he=O.scalefac;for(O.preflag!=0?A=2:A=0,W=0;W<4;W++)oe[W]=0;if(O.block_type==i.SHORT_TYPE){x=1;var Oe=c.nr_of_sfb_block[A][x];for(J=0,j=0;j<4;j++)for(V=Oe[j]/3,W=0;W<V;W++,J++)for(X=0;X<3;X++)he[J*3+X]>oe[j]&&(oe[j]=he[J*3+X])}else{x=0;var Oe=c.nr_of_sfb_block[A][x];for(J=0,j=0;j<4;j++)for(V=Oe[j],W=0;W<V;W++,J++)he[J]>oe[j]&&(oe[j]=he[J])}for(re=!1,j=0;j<4;j++)oe[j]>F[A][j]&&(re=!0);if(!re){var $e,Ie,ze,We;for(O.sfb_partition_table=c.nr_of_sfb_block[A][x],j=0;j<4;j++)O.slen[j]=U[oe[j]];switch($e=O.slen[0],Ie=O.slen[1],ze=O.slen[2],We=O.slen[3],A){case 0:O.scalefac_compress=($e*5+Ie<<4)+(ze<<2)+We;break;case 1:O.scalefac_compress=400+($e*5+Ie<<2)+ze;break;case 2:O.scalefac_compress=500+$e*3+Ie;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!re)for(a(O.sfb_partition_table!=null),O.part2_length=0,j=0;j<4;j++)O.part2_length+=O.slen[j]*O.sfb_partition_table[j];return re};var U=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(R){for(var O=2;O<=576;O+=2){for(var A=0,x;R.scalefac_band.l[++A]<O;);for(x=f[A][0];R.scalefac_band.l[x+1]>O;)x--;for(x<0&&(x=f[A][0]),R.bv_scf[O-2]=x,x=f[A][1];R.scalefac_band.l[x+R.bv_scf[O-2]+2]>O;)x--;x<0&&(x=f[A][1]),R.bv_scf[O-1]=x}}}return Y1=u,Y1}var K1,FE;function d_(){if(FE)return K1;FE=1;var e=Zn,t=e.System,n=e.Arrays,r=e.new_byte,a=e.new_float_n,i=e.new_int,o=e.assert,s=T9(),l=c_,u=ra(),c=ng;d.EQ=function(f,h){return Math.abs(f)>Math.abs(h)?Math.abs(f-h)<=Math.abs(f)*1e-6:Math.abs(f-h)<=Math.abs(h)*1e-6},d.NEQ=function(f,h){return!d.EQ(f,h)};function d(){var f=f_(),h=this,p=32773,w=null,D=null,E=null,g=null;this.setModules=function(O,A,x,j){w=O,D=A,E=x,g=j};var C=null,M=0,m=0,b=0;this.getframebits=function(O){var A=O.internal_flags,x;A.bitrate_index!=0?x=l.bitrate_table[O.version][A.bitrate_index]:x=O.brate;var j=0|(O.version+1)*72e3*x/O.out_samplerate+A.padding;return 8*j};function S(O){t.arraycopy(O.header[O.w_ptr].buf,0,C,m,O.sideinfo_len),m+=O.sideinfo_len,M+=O.sideinfo_len*8,O.w_ptr=O.w_ptr+1&c.MAX_HEADER_BUF-1}function y(O,A,x){for(;x>0;){var j;b==0&&(b=8,m++,o(m<f.LAME_MAXMP3BUFFER),o(O.header[O.w_ptr].write_timing>=M),O.header[O.w_ptr].write_timing==M&&S(O),C[m]=0),j=Math.min(x,b),x-=j,b-=j,C[m]|=A>>x<<b,M+=j}}function k(O,A,x){for(;x>0;){var j;b==0&&(b=8,m++,o(m<f.LAME_MAXMP3BUFFER),C[m]=0),j=Math.min(x,b),x-=j,b-=j,C[m]|=A>>x<<b,M+=j}}function _(O,A){var x=O.internal_flags,j;if(A>=8&&(y(x,76,8),A-=8),A>=8&&(y(x,65,8),A-=8),A>=8&&(y(x,77,8),A-=8),A>=8&&(y(x,69,8),A-=8),A>=32){var V=E.getLameShortVersion();if(A>=32)for(j=0;j<V.length&&A>=8;++j)A-=8,y(x,V.charAt(j),8)}for(;A>=1;A-=1)y(x,x.ancillary_flag,1),x.ancillary_flag^=O.disable_reservoir?0:1}function P(O,A,x){for(var j=O.header[O.h_ptr].ptr;x>0;){var V=Math.min(x,8-(j&7));x-=V,O.header[O.h_ptr].buf[j>>3]|=A>>x<<8-(j&7)-V,j+=V}O.header[O.h_ptr].ptr=j}function z(O,A){O<<=8;for(var x=0;x<8;x++)O<<=1,A<<=1,(A^O)&65536&&(A^=p);return A}this.CRC_writeheader=function(O,A){var x=65535;x=z(A[2]&255,x),x=z(A[3]&255,x);for(var j=6;j<O.sideinfo_len;j++)x=z(A[j]&255,x);A[4]=byte(x>>8),A[5]=byte(x&255)};function N(O,A){var x=O.internal_flags,j,V,X;if(j=x.l3_side,x.header[x.h_ptr].ptr=0,n.fill(x.header[x.h_ptr].buf,0,x.sideinfo_len,0),O.out_samplerate<16e3?P(x,4094,12):P(x,4095,12),P(x,O.version,1),P(x,1,2),P(x,O.error_protection?0:1,1),P(x,x.bitrate_index,4),P(x,x.samplerate_index,2),P(x,x.padding,1),P(x,O.extension,1),P(x,O.mode.ordinal(),2),P(x,x.mode_ext,2),P(x,O.copyright,1),P(x,O.original,1),P(x,O.emphasis,2),O.error_protection&&P(x,0,16),O.version==1){for(o(j.main_data_begin>=0),P(x,j.main_data_begin,9),x.channels_out==2?P(x,j.private_bits,3):P(x,j.private_bits,5),X=0;X<x.channels_out;X++){var re;for(re=0;re<4;re++)P(x,j.scfsi[X][re],1)}for(V=0;V<2;V++)for(X=0;X<x.channels_out;X++){var W=j.tt[V][X];P(x,W.part2_3_length+W.part2_length,12),P(x,W.big_values/2,9),P(x,W.global_gain,8),P(x,W.scalefac_compress,4),W.block_type!=u.NORM_TYPE?(P(x,1,1),P(x,W.block_type,2),P(x,W.mixed_block_flag,1),W.table_select[0]==14&&(W.table_select[0]=16),P(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),P(x,W.table_select[1],5),P(x,W.subblock_gain[0],3),P(x,W.subblock_gain[1],3),P(x,W.subblock_gain[2],3)):(P(x,0,1),W.table_select[0]==14&&(W.table_select[0]=16),P(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),P(x,W.table_select[1],5),W.table_select[2]==14&&(W.table_select[2]=16),P(x,W.table_select[2],5),o(0<=W.region0_count&&W.region0_count<16),o(0<=W.region1_count&&W.region1_count<8),P(x,W.region0_count,4),P(x,W.region1_count,3)),P(x,W.preflag,1),P(x,W.scalefac_scale,1),P(x,W.count1table_select,1)}}else for(o(j.main_data_begin>=0),P(x,j.main_data_begin,8),P(x,j.private_bits,x.channels_out),V=0,X=0;X<x.channels_out;X++){var W=j.tt[V][X];P(x,W.part2_3_length+W.part2_length,12),P(x,W.big_values/2,9),P(x,W.global_gain,8),P(x,W.scalefac_compress,9),W.block_type!=u.NORM_TYPE?(P(x,1,1),P(x,W.block_type,2),P(x,W.mixed_block_flag,1),W.table_select[0]==14&&(W.table_select[0]=16),P(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),P(x,W.table_select[1],5),P(x,W.subblock_gain[0],3),P(x,W.subblock_gain[1],3),P(x,W.subblock_gain[2],3)):(P(x,0,1),W.table_select[0]==14&&(W.table_select[0]=16),P(x,W.table_select[0],5),W.table_select[1]==14&&(W.table_select[1]=16),P(x,W.table_select[1],5),W.table_select[2]==14&&(W.table_select[2]=16),P(x,W.table_select[2],5),o(0<=W.region0_count&&W.region0_count<16),o(0<=W.region1_count&&W.region1_count<8),P(x,W.region0_count,4),P(x,W.region1_count,3)),P(x,W.scalefac_scale,1),P(x,W.count1table_select,1)}O.error_protection&&CRC_writeheader(x,x.header[x.h_ptr].buf);{var J=x.h_ptr;o(x.header[J].ptr==x.sideinfo_len*8),x.h_ptr=J+1&c.MAX_HEADER_BUF-1,x.header[x.h_ptr].write_timing=x.header[J].write_timing+A,x.h_ptr==x.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function T(O,A){var x=l.ht[A.count1table_select+32],j,V=0,X=A.big_values,re=A.big_values;for(o(A.count1table_select<2),j=(A.count1-A.big_values)/4;j>0;--j){var W=0,J=0,oe;oe=A.l3_enc[X+0],oe!=0&&(J+=8,A.xr[re+0]<0&&W++),oe=A.l3_enc[X+1],oe!=0&&(J+=4,W*=2,A.xr[re+1]<0&&W++),oe=A.l3_enc[X+2],oe!=0&&(J+=2,W*=2,A.xr[re+2]<0&&W++),oe=A.l3_enc[X+3],oe!=0&&(J++,W*=2,A.xr[re+3]<0&&W++),X+=4,re+=4,y(O,W+x.table[J],x.hlen[J]),V+=x.hlen[J]}return V}function L(O,A,x,j,V){var X=l.ht[A],re=0;if(A==0)return re;for(var W=x;W<j;W+=2){var J=0,oe=0,he=X.xlen,Oe=X.xlen,$e=0,Ie=V.l3_enc[W],ze=V.l3_enc[W+1];if(Ie!=0&&(V.xr[W]<0&&$e++,J--),A>15){if(Ie>14){var We=Ie-15;o(We<=X.linmax),$e|=We<<1,oe=he,Ie=15}if(ze>14){var at=ze-15;o(at<=X.linmax),$e<<=he,$e|=at,oe+=he,ze=15}Oe=16}ze!=0&&($e<<=1,V.xr[W+1]<0&&$e++,J--),Ie=Ie*Oe+ze,oe-=J,J+=X.hlen[Ie],y(O,X.table[Ie],J),y(O,$e,oe),re+=J+oe}return re}function I(O,A){var x=3*O.scalefac_band.s[3];x>A.big_values&&(x=A.big_values);var j=L(O,A.table_select[0],0,x,A);return j+=L(O,A.table_select[1],x,A.big_values,A),j}function B(O,A){var x,j,V,X;x=A.big_values;var re=A.region0_count+1;return o(re<O.scalefac_band.l.length),V=O.scalefac_band.l[re],re+=A.region1_count+1,o(re<O.scalefac_band.l.length),X=O.scalefac_band.l[re],V>x&&(V=x),X>x&&(X=x),j=L(O,A.table_select[0],0,V,A),j+=L(O,A.table_select[1],V,X,A),j+=L(O,A.table_select[2],X,x,A),j}function F(O){var A,x,j,V,X=0,re=O.internal_flags,W=re.l3_side;if(O.version==1)for(A=0;A<2;A++)for(x=0;x<re.channels_out;x++){var J=W.tt[A][x],oe=s.slen1_tab[J.scalefac_compress],he=s.slen2_tab[J.scalefac_compress];for(V=0,j=0;j<J.sfbdivide;j++)J.scalefac[j]!=-1&&(y(re,J.scalefac[j],oe),V+=oe);for(;j<J.sfbmax;j++)J.scalefac[j]!=-1&&(y(re,J.scalefac[j],he),V+=he);o(V==J.part2_length),J.block_type==u.SHORT_TYPE?V+=I(re,J):V+=B(re,J),V+=T(re,J),o(V==J.part2_3_length+J.part2_length),X+=V}else for(A=0,x=0;x<re.channels_out;x++){var J=W.tt[A][x],Oe,$e,Ie=0;if(o(J.sfb_partition_table!=null),V=0,j=0,$e=0,J.block_type==u.SHORT_TYPE){for(;$e<4;$e++){var ze=J.sfb_partition_table[$e]/3,We=J.slen[$e];for(Oe=0;Oe<ze;Oe++,j++)y(re,Math.max(J.scalefac[j*3+0],0),We),y(re,Math.max(J.scalefac[j*3+1],0),We),y(re,Math.max(J.scalefac[j*3+2],0),We),Ie+=3*We}V+=I(re,J)}else{for(;$e<4;$e++){var ze=J.sfb_partition_table[$e],We=J.slen[$e];for(Oe=0;Oe<ze;Oe++,j++)y(re,Math.max(J.scalefac[j],0),We),Ie+=We}V+=B(re,J)}V+=T(re,J),o(V==J.part2_3_length),o(Ie==J.part2_length),X+=Ie+V}return X}function U(){this.total=0}function R(O,A){var x=O.internal_flags,j,V,X,re,W;return W=x.w_ptr,re=x.h_ptr-1,re==-1&&(re=c.MAX_HEADER_BUF-1),j=x.header[re].write_timing-M,A.total=j,j>=0&&(V=1+re-W,re<W&&(V=1+re-W+c.MAX_HEADER_BUF),j-=V*8*x.sideinfo_len),X=h.getframebits(O),j+=X,A.total+=X,A.total%8!=0?A.total=1+A.total/8:A.total=A.total/8,A.total+=m+1,j<0&&t.err.println(`strange error flushing buffer ... 
`),j}this.flush_bitstream=function(O){var A=O.internal_flags,x,j,V=A.h_ptr-1;if(V==-1&&(V=c.MAX_HEADER_BUF-1),x=A.l3_side,!((j=R(O,new U))<0)){if(_(O,j),o(A.header[V].write_timing+this.getframebits(O)==M),A.ResvSize=0,x.main_data_begin=0,A.findReplayGain){var X=w.GetTitleGain(A.rgdata);o(NEQ(X,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),A.RadioGain=Math.floor(X*10+.5)|0}A.findPeakSample&&(A.noclipGainChange=Math.ceil(Math.log10(A.PeakSample/32767)*20*10)|0,A.noclipGainChange>0&&(EQ(O.scale,1)||EQ(O.scale,0))?A.noclipScale=Math.floor(32767/A.PeakSample*100)/100:A.noclipScale=-1)}},this.add_dummy_byte=function(O,A,x){for(var j=O.internal_flags,V;x-- >0;)for(k(j,A,8),V=0;V<c.MAX_HEADER_BUF;++V)j.header[V].write_timing+=8},this.format_bitstream=function(O){var A=O.internal_flags,x;x=A.l3_side;var j=this.getframebits(O);_(O,x.resvDrain_pre),N(O,j);var V=8*A.sideinfo_len;if(V+=F(O),_(O,x.resvDrain_post),V+=x.resvDrain_post,x.main_data_begin+=(j-V)/8,R(O,new U)!=A.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),x.main_data_begin*8!=A.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*x.main_data_begin,A.ResvSize,x.resvDrain_post,x.resvDrain_pre,8*A.sideinfo_len,V-x.resvDrain_post-8*A.sideinfo_len,V,V%8,j),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),A.ResvSize=x.main_data_begin*8),M>1e9){var X;for(X=0;X<c.MAX_HEADER_BUF;++X)A.header[X].write_timing-=M;M=0}return 0},this.copy_buffer=function(O,A,x,j,V){var X=m+1;if(X<=0)return 0;if(j!=0&&X>j)return-1;if(t.arraycopy(C,0,A,x,X),m=-1,b=0,V!=0){var re=i(1);if(re[0]=O.nMusicCRC,g.updateMusicCRC(re,A,x,X),O.nMusicCRC=re[0],X>0&&(O.VBR_seek_table.nBytesWritten+=X),O.decode_on_the_fly){for(var W=a([2,1152]),J=X,oe=-1,he;oe!=0;)if(oe=D.hip_decode1_unclipped(O.hip,A,x,J,W[0],W[1]),J=0,oe==-1&&(oe=0),oe>0){if(O.findPeakSample){for(he=0;he<oe;he++)W[0][he]>O.PeakSample?O.PeakSample=W[0][he]:-W[0][he]>O.PeakSample&&(O.PeakSample=-W[0][he]);if(O.channels_out>1)for(he=0;he<oe;he++)W[1][he]>O.PeakSample?O.PeakSample=W[1][he]:-W[1][he]>O.PeakSample&&(O.PeakSample=-W[1][he])}if(O.findReplayGain&&w.AnalyzeSamples(O.rgdata,W[0],0,W[1],0,oe,O.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return X},this.init_bit_stream_w=function(O){C=r(f.LAME_MAXMP3BUFFER),O.h_ptr=O.w_ptr=0,O.header[O.h_ptr].write_timing=0,m=-1,b=0,M=0}}return K1=d,K1}var G1,NE;function f_(){if(NE)return G1;NE=1;var e=Zn,t=e.System,n=e.VbrMode,r=e.ShortBlock,a=e.new_float,i=e.new_int_n,o=e.new_short_n,s=e.assert,l=Jte,u=nne,c=ng,d=kne,f=Tne,h=Ine,p=d_(),w=c_,D=ra();function E(){var g=cf,C=this,M=128*1024;E.V9=410,E.V8=420,E.V7=430,E.V6=440,E.V5=450,E.V4=460,E.V3=470,E.V2=480,E.V1=490,E.V0=500,E.R3MIX=1e3,E.STANDARD=1001,E.EXTREME=1002,E.INSANE=1003,E.STANDARD_FAST=1004,E.EXTREME_FAST=1005,E.MEDIUM=1006,E.MEDIUM_FAST=1007;var m=16384+M;E.LAME_MAXMP3BUFFER=m;var b,S,y,k,_,P=new l,z,N,T;this.enc=new D,this.setModules=function(H,q,De,Fe,Qe,le,Ne,pe,Te){b=H,S=q,y=De,k=Fe,_=Qe,z=le,N=pe,T=Te,this.enc.setModules(S,P,k,z)};function L(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=a(D.SBMAX_l),this.bo_s_weight=a(D.SBMAX_s)}function I(){this.lowerlimit=0}function B(H,q){this.lowpass=q}var F=4294479419;function U(H){var q;return H.class_id=F,q=H.internal_flags=new c,H.mode=g.NOT_SET,H.original=1,H.in_samplerate=44100,H.num_channels=2,H.num_samples=-1,H.bWriteVbrTag=!0,H.quality=-1,H.short_blocks=null,q.subblock_gain=-1,H.lowpassfreq=0,H.highpassfreq=0,H.lowpasswidth=-1,H.highpasswidth=-1,H.VBR=n.vbr_off,H.VBR_q=4,H.ATHcurve=-1,H.VBR_mean_bitrate_kbps=128,H.VBR_min_bitrate_kbps=0,H.VBR_max_bitrate_kbps=0,H.VBR_hard_min=0,q.VBR_min_bitrate=1,q.VBR_max_bitrate=13,H.quant_comp=-1,H.quant_comp_short=-1,H.msfix=-1,q.resample_ratio=1,q.OldValue[0]=180,q.OldValue[1]=180,q.CurrentStep[0]=4,q.CurrentStep[1]=4,q.masking_lower=1,q.nsPsy.attackthre=-1,q.nsPsy.attackthre_s=-1,H.scale=-1,H.athaa_type=-1,H.ATHtype=-1,H.athaa_loudapprox=-1,H.athaa_sensitivity=0,H.useTemporal=null,H.interChRatio=-1,q.mf_samples_to_encode=D.ENCDELAY+D.POSTDELAY,H.encoder_padding=0,q.mf_size=D.ENCDELAY-D.MDCTDELAY,H.findReplayGain=!1,H.decode_on_the_fly=!1,q.decode_on_the_fly=!1,q.findReplayGain=!1,q.findPeakSample=!1,q.RadioGain=0,q.AudiophileGain=0,q.noclipGainChange=0,q.noclipScale=-1,H.preset=0,H.write_id3tag_automatic=!0,0}this.lame_init=function(){var H=new u;return U(H),H.lame_allocated_gfp=1,H};function R(H){return H>1?0:H<=0?1:Math.cos(Math.PI/2*H)}this.nearestBitrateFullIndex=function(H){var q=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],De=0,Fe=0,Qe=0,le=0;le=q[16],Qe=16,Fe=q[16],De=16;for(var Ne=0;Ne<16;Ne++)if(Math.max(H,q[Ne+1])!=H){le=q[Ne+1],Qe=Ne+1,Fe=q[Ne],De=Ne;break}return le-H>H-Fe?De:Qe};function O(H,q){var De=44100;return q>=48e3?De=48e3:q>=44100?De=44100:q>=32e3?De=32e3:q>=24e3?De=24e3:q>=22050?De=22050:q>=16e3?De=16e3:q>=12e3?De=12e3:q>=11025?De=11025:q>=8e3&&(De=8e3),H==-1?De:(H<=15960&&(De=44100),H<=15250&&(De=32e3),H<=11220&&(De=24e3),H<=9970&&(De=22050),H<=7230&&(De=16e3),H<=5420&&(De=12e3),H<=4510&&(De=11025),H<=3970&&(De=8e3),q<De?q>44100?48e3:q>32e3?44100:q>24e3?32e3:q>22050?24e3:q>16e3?22050:q>12e3?16e3:q>11025?12e3:q>8e3?11025:8e3:De)}function A(H,q){switch(H){case 44100:return q.version=1,0;case 48e3:return q.version=1,1;case 32e3:return q.version=1,2;case 22050:return q.version=0,0;case 24e3:return q.version=0,1;case 16e3:return q.version=0,2;case 11025:return q.version=0,0;case 12e3:return q.version=0,1;case 8e3:return q.version=0,2;default:return q.version=0,-1}}function x(H,q,De){De<16e3&&(q=2);for(var Fe=w.bitrate_table[q][1],Qe=2;Qe<=14;Qe++)w.bitrate_table[q][Qe]>0&&Math.abs(w.bitrate_table[q][Qe]-H)<Math.abs(Fe-H)&&(Fe=w.bitrate_table[q][Qe]);return Fe}function j(H,q,De){De<16e3&&(q=2);for(var Fe=0;Fe<=14;Fe++)if(w.bitrate_table[q][Fe]>0&&w.bitrate_table[q][Fe]==H)return Fe;return-1}function V(H,q){var De=[new B(8,2e3),new B(16,3700),new B(24,3900),new B(32,5500),new B(40,7e3),new B(48,7500),new B(56,1e4),new B(64,11e3),new B(80,13500),new B(96,15100),new B(112,15600),new B(128,17e3),new B(160,17500),new B(192,18600),new B(224,19400),new B(256,19700),new B(320,20500)],Fe=C.nearestBitrateFullIndex(q);H.lowerlimit=De[Fe].lowpass}function X(H){var q=H.internal_flags,De=32,Fe=-1;if(q.lowpass1>0){for(var Qe=999,le=0;le<=31;le++){var Ne=le/31;Ne>=q.lowpass2&&(De=Math.min(De,le)),q.lowpass1<Ne&&Ne<q.lowpass2&&(Qe=Math.min(Qe,le))}Qe==999?q.lowpass1=(De-.75)/31:q.lowpass1=(Qe-.75)/31,q.lowpass2=De/31}if(q.highpass2>0&&q.highpass2<.9*(.75/31)&&(q.highpass1=0,q.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),q.highpass2>0){for(var pe=-1,le=0;le<=31;le++){var Ne=le/31;Ne<=q.highpass1&&(Fe=Math.max(Fe,le)),q.highpass1<Ne&&Ne<q.highpass2&&(pe=Math.max(pe,le))}q.highpass1=Fe/31,pe==-1?q.highpass2=(Fe+.75)/31:q.highpass2=(pe+.75)/31}for(var le=0;le<32;le++){var Te,Ue,Ne=le/31;q.highpass2>q.highpass1?Te=R((q.highpass2-Ne)/(q.highpass2-q.highpass1+1e-20)):Te=1,q.lowpass2>q.lowpass1?Ue=R((Ne-q.lowpass1)/(q.lowpass2-q.lowpass1+1e-20)):Ue=1,q.amp_filter[le]=Te*Ue}}function re(H){var q=H.internal_flags;switch(H.quality){default:case 9:q.psymodel=0,q.noise_shaping=0,q.noise_shaping_amp=0,q.noise_shaping_stop=0,q.use_best_huffman=0,q.full_outer_loop=0;break;case 8:H.quality=7;case 7:q.psymodel=1,q.noise_shaping=0,q.noise_shaping_amp=0,q.noise_shaping_stop=0,q.use_best_huffman=0,q.full_outer_loop=0;break;case 6:q.psymodel=1,q.noise_shaping==0&&(q.noise_shaping=1),q.noise_shaping_amp=0,q.noise_shaping_stop=0,q.subblock_gain==-1&&(q.subblock_gain=1),q.use_best_huffman=0,q.full_outer_loop=0;break;case 5:q.psymodel=1,q.noise_shaping==0&&(q.noise_shaping=1),q.noise_shaping_amp=0,q.noise_shaping_stop=0,q.subblock_gain==-1&&(q.subblock_gain=1),q.use_best_huffman=0,q.full_outer_loop=0;break;case 4:q.psymodel=1,q.noise_shaping==0&&(q.noise_shaping=1),q.noise_shaping_amp=0,q.noise_shaping_stop=0,q.subblock_gain==-1&&(q.subblock_gain=1),q.use_best_huffman=1,q.full_outer_loop=0;break;case 3:q.psymodel=1,q.noise_shaping==0&&(q.noise_shaping=1),q.noise_shaping_amp=1,q.noise_shaping_stop=1,q.subblock_gain==-1&&(q.subblock_gain=1),q.use_best_huffman=1,q.full_outer_loop=0;break;case 2:q.psymodel=1,q.noise_shaping==0&&(q.noise_shaping=1),q.substep_shaping==0&&(q.substep_shaping=2),q.noise_shaping_amp=1,q.noise_shaping_stop=1,q.subblock_gain==-1&&(q.subblock_gain=1),q.use_best_huffman=1,q.full_outer_loop=0;break;case 1:q.psymodel=1,q.noise_shaping==0&&(q.noise_shaping=1),q.substep_shaping==0&&(q.substep_shaping=2),q.noise_shaping_amp=2,q.noise_shaping_stop=1,q.subblock_gain==-1&&(q.subblock_gain=1),q.use_best_huffman=1,q.full_outer_loop=0;break;case 0:q.psymodel=1,q.noise_shaping==0&&(q.noise_shaping=1),q.substep_shaping==0&&(q.substep_shaping=2),q.noise_shaping_amp=2,q.noise_shaping_stop=1,q.subblock_gain==-1&&(q.subblock_gain=1),q.use_best_huffman=1,q.full_outer_loop=0;break}}function W(H){var q=H.internal_flags;H.frameNum=0,H.write_id3tag_automatic&&N.id3tag_write_v2(H),q.bitrate_stereoMode_Hist=i([16,5]),q.bitrate_blockType_Hist=i([16,6]),q.PeakSample=0,H.bWriteVbrTag&&z.InitVbrTag(H)}this.lame_init_params=function(H){var q=H.internal_flags;if(q.Class_ID=0,q.ATH==null&&(q.ATH=new d),q.PSY==null&&(q.PSY=new L),q.rgdata==null&&(q.rgdata=new f),q.channels_in=H.num_channels,q.channels_in==1&&(H.mode=g.MONO),q.channels_out=H.mode==g.MONO?1:2,q.mode_ext=D.MPG_MD_MS_LR,H.mode==g.MONO&&(H.force_ms=!1),H.VBR==n.vbr_off&&H.VBR_mean_bitrate_kbps!=128&&H.brate==0&&(H.brate=H.VBR_mean_bitrate_kbps),H.VBR==n.vbr_off||H.VBR==n.vbr_mtrh||H.VBR==n.vbr_mt||(H.free_format=!1),H.VBR==n.vbr_off&&H.brate==0&&p.EQ(H.compression_ratio,0)&&(H.compression_ratio=11.025),H.VBR==n.vbr_off&&H.compression_ratio>0&&(H.out_samplerate==0&&(H.out_samplerate=map2MP3Frequency(int(.97*H.in_samplerate))),H.brate=0|H.out_samplerate*16*q.channels_out/(1e3*H.compression_ratio),q.samplerate_index=A(H.out_samplerate,H),H.free_format||(H.brate=x(H.brate,H.version,H.out_samplerate))),H.out_samplerate!=0&&(H.out_samplerate<16e3?(H.VBR_mean_bitrate_kbps=Math.max(H.VBR_mean_bitrate_kbps,8),H.VBR_mean_bitrate_kbps=Math.min(H.VBR_mean_bitrate_kbps,64)):H.out_samplerate<32e3?(H.VBR_mean_bitrate_kbps=Math.max(H.VBR_mean_bitrate_kbps,8),H.VBR_mean_bitrate_kbps=Math.min(H.VBR_mean_bitrate_kbps,160)):(H.VBR_mean_bitrate_kbps=Math.max(H.VBR_mean_bitrate_kbps,32),H.VBR_mean_bitrate_kbps=Math.min(H.VBR_mean_bitrate_kbps,320))),H.lowpassfreq==0){var De=16e3;switch(H.VBR){case n.vbr_off:{var Fe=new I;V(Fe,H.brate),De=Fe.lowerlimit;break}case n.vbr_abr:{var Fe=new I;V(Fe,H.VBR_mean_bitrate_kbps),De=Fe.lowerlimit;break}case n.vbr_rh:{var Qe=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=H.VBR_q&&H.VBR_q<=9){var le=Qe[H.VBR_q],Ne=Qe[H.VBR_q+1],pe=H.VBR_q_frac;De=linear_int(le,Ne,pe)}else De=19500;break}default:{var Qe=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=H.VBR_q&&H.VBR_q<=9){var le=Qe[H.VBR_q],Ne=Qe[H.VBR_q+1],pe=H.VBR_q_frac;De=linear_int(le,Ne,pe)}else De=19500}}H.mode==g.MONO&&(H.VBR==n.vbr_off||H.VBR==n.vbr_abr)&&(De*=1.5),H.lowpassfreq=De|0}if(H.out_samplerate==0&&(2*H.lowpassfreq>H.in_samplerate&&(H.lowpassfreq=H.in_samplerate/2),H.out_samplerate=O(H.lowpassfreq|0,H.in_samplerate)),H.lowpassfreq=Math.min(20500,H.lowpassfreq),H.lowpassfreq=Math.min(H.out_samplerate/2,H.lowpassfreq),H.VBR==n.vbr_off&&(H.compression_ratio=H.out_samplerate*16*q.channels_out/(1e3*H.brate)),H.VBR==n.vbr_abr&&(H.compression_ratio=H.out_samplerate*16*q.channels_out/(1e3*H.VBR_mean_bitrate_kbps)),H.bWriteVbrTag||(H.findReplayGain=!1,H.decode_on_the_fly=!1,q.findPeakSample=!1),q.findReplayGain=H.findReplayGain,q.decode_on_the_fly=H.decode_on_the_fly,q.decode_on_the_fly&&(q.findPeakSample=!0),q.findReplayGain&&b.InitGainAnalysis(q.rgdata,H.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return H.internal_flags=null,-6;switch(q.decode_on_the_fly&&!H.decode_only&&(q.hip!=null&&T.hip_decode_exit(q.hip),q.hip=T.hip_decode_init()),q.mode_gr=H.out_samplerate<=24e3?1:2,H.framesize=576*q.mode_gr,H.encoder_delay=D.ENCDELAY,q.resample_ratio=H.in_samplerate/H.out_samplerate,H.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var Te=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];H.compression_ratio=Te[H.VBR_q]}break;case n.vbr_abr:H.compression_ratio=H.out_samplerate*16*q.channels_out/(1e3*H.VBR_mean_bitrate_kbps);break;default:H.compression_ratio=H.out_samplerate*16*q.channels_out/(1e3*H.brate);break}if(H.mode==g.NOT_SET&&(H.mode=g.JOINT_STEREO),H.highpassfreq>0?(q.highpass1=2*H.highpassfreq,H.highpasswidth>=0?q.highpass2=2*(H.highpassfreq+H.highpasswidth):q.highpass2=1*2*H.highpassfreq,q.highpass1/=H.out_samplerate,q.highpass2/=H.out_samplerate):(q.highpass1=0,q.highpass2=0),H.lowpassfreq>0?(q.lowpass2=2*H.lowpassfreq,H.lowpasswidth>=0?(q.lowpass1=2*(H.lowpassfreq-H.lowpasswidth),q.lowpass1<0&&(q.lowpass1=0)):q.lowpass1=1*2*H.lowpassfreq,q.lowpass1/=H.out_samplerate,q.lowpass2/=H.out_samplerate):(q.lowpass1=0,q.lowpass2=0),X(H),q.samplerate_index=A(H.out_samplerate,H),q.samplerate_index<0)return H.internal_flags=null,-1;if(H.VBR==n.vbr_off){if(H.free_format)q.bitrate_index=0;else if(H.brate=x(H.brate,H.version,H.out_samplerate),q.bitrate_index=j(H.brate,H.version,H.out_samplerate),q.bitrate_index<=0)return H.internal_flags=null,-1}else q.bitrate_index=1;H.analysis&&(H.bWriteVbrTag=!1),q.pinfo!=null&&(H.bWriteVbrTag=!1),S.init_bit_stream_w(q);for(var Ue=q.samplerate_index+3*H.version+6*(H.out_samplerate<16e3?1:0),Be=0;Be<D.SBMAX_l+1;Be++)q.scalefac_band.l[Be]=k.sfBandIndex[Ue].l[Be];for(var Be=0;Be<D.PSFB21+1;Be++){var ut=(q.scalefac_band.l[22]-q.scalefac_band.l[21])/D.PSFB21,Mt=q.scalefac_band.l[21]+Be*ut;q.scalefac_band.psfb21[Be]=Mt}q.scalefac_band.psfb21[D.PSFB21]=576;for(var Be=0;Be<D.SBMAX_s+1;Be++)q.scalefac_band.s[Be]=k.sfBandIndex[Ue].s[Be];for(var Be=0;Be<D.PSFB12+1;Be++){var ut=(q.scalefac_band.s[13]-q.scalefac_band.s[12])/D.PSFB12,Mt=q.scalefac_band.s[12]+Be*ut;q.scalefac_band.psfb12[Be]=Mt}q.scalefac_band.psfb12[D.PSFB12]=192,H.version==1?q.sideinfo_len=q.channels_out==1?21:36:q.sideinfo_len=q.channels_out==1?13:21,H.error_protection&&(q.sideinfo_len+=2),W(H),q.Class_ID=F;{var K;for(K=0;K<19;K++)q.nsPsy.pefirbuf[K]=700*q.mode_gr*q.channels_out;H.ATHtype==-1&&(H.ATHtype=4)}switch(s(H.VBR_q<=9),s(H.VBR_q>=0),H.VBR){case n.vbr_mt:H.VBR=n.vbr_mtrh;case n.vbr_mtrh:{H.useTemporal==null&&(H.useTemporal=!1),y.apply_preset(H,500-H.VBR_q*10,0),H.quality<0&&(H.quality=LAME_DEFAULT_QUALITY),H.quality<5&&(H.quality=0),H.quality>5&&(H.quality=5),q.PSY.mask_adjust=H.maskingadjust,q.PSY.mask_adjust_short=H.maskingadjust_short,H.experimentalY?q.sfb21_extra=!1:q.sfb21_extra=H.out_samplerate>44e3,q.iteration_loop=new VBRNewIterationLoop(_);break}case n.vbr_rh:{y.apply_preset(H,500-H.VBR_q*10,0),q.PSY.mask_adjust=H.maskingadjust,q.PSY.mask_adjust_short=H.maskingadjust_short,H.experimentalY?q.sfb21_extra=!1:q.sfb21_extra=H.out_samplerate>44e3,H.quality>6&&(H.quality=6),H.quality<0&&(H.quality=LAME_DEFAULT_QUALITY),q.iteration_loop=new VBROldIterationLoop(_);break}default:{var G;q.sfb21_extra=!1,H.quality<0&&(H.quality=LAME_DEFAULT_QUALITY),G=H.VBR,G==n.vbr_off&&(H.VBR_mean_bitrate_kbps=H.brate),y.apply_preset(H,H.VBR_mean_bitrate_kbps,0),H.VBR=G,q.PSY.mask_adjust=H.maskingadjust,q.PSY.mask_adjust_short=H.maskingadjust_short,G==n.vbr_off?q.iteration_loop=new h(_):q.iteration_loop=new ABRIterationLoop(_);break}}if(s(H.scale>=0),H.VBR!=n.vbr_off){if(q.VBR_min_bitrate=1,q.VBR_max_bitrate=14,H.out_samplerate<16e3&&(q.VBR_max_bitrate=8),H.VBR_min_bitrate_kbps!=0&&(H.VBR_min_bitrate_kbps=x(H.VBR_min_bitrate_kbps,H.version,H.out_samplerate),q.VBR_min_bitrate=j(H.VBR_min_bitrate_kbps,H.version,H.out_samplerate),q.VBR_min_bitrate<0)||H.VBR_max_bitrate_kbps!=0&&(H.VBR_max_bitrate_kbps=x(H.VBR_max_bitrate_kbps,H.version,H.out_samplerate),q.VBR_max_bitrate=j(H.VBR_max_bitrate_kbps,H.version,H.out_samplerate),q.VBR_max_bitrate<0))return-1;H.VBR_min_bitrate_kbps=w.bitrate_table[H.version][q.VBR_min_bitrate],H.VBR_max_bitrate_kbps=w.bitrate_table[H.version][q.VBR_max_bitrate],H.VBR_mean_bitrate_kbps=Math.min(w.bitrate_table[H.version][q.VBR_max_bitrate],H.VBR_mean_bitrate_kbps),H.VBR_mean_bitrate_kbps=Math.max(w.bitrate_table[H.version][q.VBR_min_bitrate],H.VBR_mean_bitrate_kbps)}return H.tune&&(q.PSY.mask_adjust+=H.tune_value_a,q.PSY.mask_adjust_short+=H.tune_value_a),re(H),s(H.scale>=0),H.athaa_type<0?q.ATH.useAdjust=3:q.ATH.useAdjust=H.athaa_type,q.ATH.aaSensitivityP=Math.pow(10,H.athaa_sensitivity/-10),H.short_blocks==null&&(H.short_blocks=r.short_block_allowed),H.short_blocks==r.short_block_allowed&&(H.mode==g.JOINT_STEREO||H.mode==g.STEREO)&&(H.short_blocks=r.short_block_coupled),H.quant_comp<0&&(H.quant_comp=1),H.quant_comp_short<0&&(H.quant_comp_short=0),H.msfix<0&&(H.msfix=0),H.exp_nspsytune=H.exp_nspsytune|1,H.internal_flags.nsPsy.attackthre<0&&(H.internal_flags.nsPsy.attackthre=l.NSATTACKTHRE),H.internal_flags.nsPsy.attackthre_s<0&&(H.internal_flags.nsPsy.attackthre_s=l.NSATTACKTHRE_S),s(H.scale>=0),H.scale<0&&(H.scale=1),H.ATHtype<0&&(H.ATHtype=4),H.ATHcurve<0&&(H.ATHcurve=4),H.athaa_loudapprox<0&&(H.athaa_loudapprox=2),H.interChRatio<0&&(H.interChRatio=0),H.useTemporal==null&&(H.useTemporal=!0),q.slot_lag=q.frac_SpF=0,H.VBR==n.vbr_off&&(q.slot_lag=q.frac_SpF=(H.version+1)*72e3*H.brate%H.out_samplerate|0),k.iteration_init(H),P.psymodel_init(H),s(H.scale>=0),0};function J(H,q){(H.in_buffer_0==null||H.in_buffer_nsamples<q)&&(H.in_buffer_0=a(q),H.in_buffer_1=a(q),H.in_buffer_nsamples=q)}this.lame_encode_flush=function(H,q,De,Fe){var Qe=H.internal_flags,le=o([2,1152]),Ne=0,pe,Te,Ue,Be,ut=Qe.mf_samples_to_encode-D.POSTDELAY,Mt=oe(H);if(Qe.mf_samples_to_encode<1)return 0;for(pe=0,H.in_samplerate!=H.out_samplerate&&(ut+=16*H.out_samplerate/H.in_samplerate),Ue=H.framesize-ut%H.framesize,Ue<576&&(Ue+=H.framesize),H.encoder_padding=Ue,Be=(ut+Ue)/H.framesize;Be>0&&Ne>=0;){var K=Mt-Qe.mf_size,G=H.frameNum;K*=H.in_samplerate,K/=H.out_samplerate,K>1152&&(K=1152),K<1&&(K=1),Te=Fe-pe,Fe==0&&(Te=0),Ne=this.lame_encode_buffer(H,le[0],le[1],K,q,De,Te),De+=Ne,pe+=Ne,Be-=G!=H.frameNum?1:0}if(Qe.mf_samples_to_encode=0,Ne<0||(Te=Fe-pe,Fe==0&&(Te=0),S.flush_bitstream(H),Ne=S.copy_buffer(Qe,q,De,Te,1),Ne<0))return Ne;if(De+=Ne,pe+=Ne,Te=Fe-pe,Fe==0&&(Te=0),H.write_id3tag_automatic){if(N.id3tag_write_v1(H),Ne=S.copy_buffer(Qe,q,De,Te,0),Ne<0)return Ne;pe+=Ne}return pe},this.lame_encode_buffer=function(H,q,De,Fe,Qe,le,Ne){var pe=H.internal_flags,Te=[null,null];if(pe.Class_ID!=F)return-3;if(Fe==0)return 0;J(pe,Fe),Te[0]=pe.in_buffer_0,Te[1]=pe.in_buffer_1;for(var Ue=0;Ue<Fe;Ue++)Te[0][Ue]=q[Ue],pe.channels_in>1&&(Te[1][Ue]=De[Ue]);return he(H,Te[0],Te[1],Fe,Qe,le,Ne)};function oe(H){var q=D.BLKSIZE+H.framesize-D.FFTOFFSET;return q=Math.max(q,512+H.framesize-32),q}function he(H,q,De,Fe,Qe,le,Ne){var pe=H.internal_flags,Te=0,Ue,Be,ut,Mt,K,G=[null,null],ie=[null,null];if(pe.Class_ID!=F)return-3;if(Fe==0)return 0;if(K=S.copy_buffer(pe,Qe,le,Ne,0),K<0)return K;if(le+=K,Te+=K,ie[0]=q,ie[1]=De,p.NEQ(H.scale,0)&&p.NEQ(H.scale,1))for(Be=0;Be<Fe;++Be)ie[0][Be]*=H.scale,pe.channels_out==2&&(ie[1][Be]*=H.scale);if(p.NEQ(H.scale_left,0)&&p.NEQ(H.scale_left,1))for(Be=0;Be<Fe;++Be)ie[0][Be]*=H.scale_left;if(p.NEQ(H.scale_right,0)&&p.NEQ(H.scale_right,1))for(Be=0;Be<Fe;++Be)ie[1][Be]*=H.scale_right;if(H.num_channels==2&&pe.channels_out==1)for(Be=0;Be<Fe;++Be)ie[0][Be]=.5*(ie[0][Be]+ie[1][Be]),ie[1][Be]=0;Mt=oe(H),G[0]=pe.mfbuf[0],G[1]=pe.mfbuf[1];for(var se=0;Fe>0;){var fe=[null,null],te=0,ge=0;fe[0]=ie[0],fe[1]=ie[1];var Ee=new $e;if(bt(H,G,fe,se,Fe,Ee),te=Ee.n_in,ge=Ee.n_out,pe.findReplayGain&&!pe.decode_on_the_fly&&b.AnalyzeSamples(pe.rgdata,G[0],pe.mf_size,G[1],pe.mf_size,ge,pe.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Fe-=te,se+=te,pe.channels_out==2,pe.mf_size+=ge,s(pe.mf_size<=c.MFSIZE),pe.mf_samples_to_encode<1&&(pe.mf_samples_to_encode=D.ENCDELAY+D.POSTDELAY),pe.mf_samples_to_encode+=ge,pe.mf_size>=Mt){var ye=Ne-Te;if(Ne==0&&(ye=0),Ue=Oe(H,G[0],G[1],Qe,le,ye),Ue<0)return Ue;for(le+=Ue,Te+=Ue,pe.mf_size-=H.framesize,pe.mf_samples_to_encode-=H.framesize,ut=0;ut<pe.channels_out;ut++)for(Be=0;Be<pe.mf_size;Be++)G[ut][Be]=G[ut][Be+H.framesize]}}return Te}function Oe(H,q,De,Fe,Qe,le){var Ne=C.enc.lame_encode_mp3_frame(H,q,De,Fe,Qe,le);return H.frameNum++,Ne}function $e(){this.n_in=0,this.n_out=0}function Ie(){this.num_used=0}function ze(H,q){return q!=0?ze(q,H%q):H}function We(H,q,De){var Fe=Math.PI*q;H/=De,H<0&&(H=0),H>1&&(H=1);var Qe=H-.5,le=.42-.5*Math.cos(2*H*Math.PI)+.08*Math.cos(4*H*Math.PI);return Math.abs(Qe)<1e-9?Fe/Math.PI:le*Math.sin(De*Fe*Qe)/(Math.PI*De*Qe)}function at(H,q,De,Fe,Qe,le,Ne,pe,Te){var Ue=H.internal_flags,Be,ut=0,Mt,K=H.out_samplerate/ze(H.out_samplerate,H.in_samplerate);K>c.BPC&&(K=c.BPC);var G=Math.abs(Ue.resample_ratio-Math.floor(.5+Ue.resample_ratio))<1e-4?1:0,ie=1/Ue.resample_ratio;ie>1&&(ie=1);var se=31;se%2==0&&--se,se+=G;var fe=se+1;if(Ue.fill_buffer_resample_init==0){for(Ue.inbuf_old[0]=a(fe),Ue.inbuf_old[1]=a(fe),Be=0;Be<=2*K;++Be)Ue.blackfilt[Be]=a(fe);for(Ue.itime[0]=0,Ue.itime[1]=0,ut=0;ut<=2*K;ut++){var te=0,ge=(ut-K)/(2*K);for(Be=0;Be<=se;Be++)te+=Ue.blackfilt[ut][Be]=We(Be-ge,ie,se);for(Be=0;Be<=se;Be++)Ue.blackfilt[ut][Be]/=te}Ue.fill_buffer_resample_init=1}var Ee=Ue.inbuf_old[Te];for(Mt=0;Mt<Fe;Mt++){var ye,Ae;if(ye=Mt*Ue.resample_ratio,ut=0|Math.floor(ye-Ue.itime[Te]),se+ut-se/2>=Ne)break;var ge=ye-Ue.itime[Te]-(ut+.5*(se%2));Ae=0|Math.floor(ge*2*K+K+.5);var we=0;for(Be=0;Be<=se;++Be){var xe=0|Be+ut-se/2,nt;nt=xe<0?Ee[fe+xe]:Qe[le+xe],we+=nt*Ue.blackfilt[Ae][Be]}q[De+Mt]=we}if(pe.num_used=Math.min(Ne,se+ut-se/2),Ue.itime[Te]+=pe.num_used-Mt*Ue.resample_ratio,pe.num_used>=fe)for(Be=0;Be<fe;Be++)Ee[Be]=Qe[le+pe.num_used+Be-fe];else{var lt=fe-pe.num_used;for(Be=0;Be<lt;++Be)Ee[Be]=Ee[Be+pe.num_used];for(ut=0;Be<fe;++Be,++ut)Ee[Be]=Qe[le+ut];s(ut==pe.num_used)}return Mt}function bt(H,q,De,Fe,Qe,le){var Ne=H.internal_flags;if(Ne.resample_ratio<.9999||Ne.resample_ratio>1.0001)for(var pe=0;pe<Ne.channels_out;pe++){var Te=new Ie;le.n_out=at(H,q[pe],Ne.mf_size,H.framesize,De[pe],Fe,Qe,Te,pe),le.n_in=Te.num_used}else{le.n_out=Math.min(H.framesize,Qe),le.n_in=le.n_out;for(var Ue=0;Ue<le.n_out;++Ue)q[0][Ne.mf_size+Ue]=De[0][Fe+Ue],Ne.channels_out==2&&(q[1][Ne.mf_size+Ue]=De[1][Fe+Ue])}}}return G1=E,G1}var Fne=Zn,Xi=Fne.VbrMode;function Nne(){var e=f_();function t(c,d,f,h,p,w,D,E,g,C,M,m,b,S,y){this.vbr_q=c,this.quant_comp=d,this.quant_comp_s=f,this.expY=h,this.st_lrm=p,this.st_s=w,this.masking_adj=D,this.masking_adj_short=E,this.ath_lower=g,this.ath_curve=C,this.ath_sensitivity=M,this.interch=m,this.safejoint=b,this.sfb21mod=S,this.msfix=y}function n(c,d,f,h,p,w,D,E,g,C,M,m,b,S){this.quant_comp=d,this.quant_comp_s=f,this.safejoint=h,this.nsmsfix=p,this.st_lrm=w,this.st_s=D,this.nsbass=E,this.scale=g,this.masking_adj=C,this.ath_lower=M,this.ath_curve=m,this.interch=b,this.sfscale=S}var r;this.setModules=function(c){r=c};var a=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(c,d,f){var h=c.VBR==Xi.vbr_rh?a:i,p=c.VBR_q_frac,w=h[d],D=h[d+1],E=w;w.st_lrm=w.st_lrm+p*(D.st_lrm-w.st_lrm),w.st_s=w.st_s+p*(D.st_s-w.st_s),w.masking_adj=w.masking_adj+p*(D.masking_adj-w.masking_adj),w.masking_adj_short=w.masking_adj_short+p*(D.masking_adj_short-w.masking_adj_short),w.ath_lower=w.ath_lower+p*(D.ath_lower-w.ath_lower),w.ath_curve=w.ath_curve+p*(D.ath_curve-w.ath_curve),w.ath_sensitivity=w.ath_sensitivity+p*(D.ath_sensitivity-w.ath_sensitivity),w.interch=w.interch+p*(D.interch-w.interch),w.msfix=w.msfix+p*(D.msfix-w.msfix),u(c,E.vbr_q),f!=0?c.quant_comp=E.quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=E.quant_comp),f!=0?c.quant_comp_short=E.quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=E.quant_comp_s),E.expY!=0&&(c.experimentalY=E.expY!=0),f!=0?c.internal_flags.nsPsy.attackthre=E.st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=E.st_lrm),f!=0?c.internal_flags.nsPsy.attackthre_s=E.st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=E.st_s),f!=0?c.maskingadjust=E.masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=E.masking_adj),f!=0?c.maskingadjust_short=E.masking_adj_short:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=E.masking_adj_short),f!=0?c.ATHlower=-E.ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-E.ath_lower/10),f!=0?c.ATHcurve=E.ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=E.ath_curve),f!=0?c.athaa_sensitivity=E.ath_sensitivity:Math.abs(c.athaa_sensitivity- -1)>0||(c.athaa_sensitivity=E.ath_sensitivity),E.interch>0&&(f!=0?c.interChRatio=E.interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=E.interch)),E.safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|E.safejoint),E.sfb21mod>0&&(c.exp_nspsytune=c.exp_nspsytune|E.sfb21mod<<20),f!=0?c.msfix=E.msfix:Math.abs(c.msfix- -1)>0||(c.msfix=E.msfix),f==0&&(c.VBR_q=d,c.VBR_q_frac=p)}var s=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function l(c,d,f){var h=d,p=r.nearestBitrateFullIndex(d);if(c.VBR=Xi.vbr_abr,c.VBR_mean_bitrate_kbps=h,c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,320),c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,8),c.brate=c.VBR_mean_bitrate_kbps,c.VBR_mean_bitrate_kbps>320&&(c.disable_reservoir=!0),s[p].safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|2),s[p].sfscale>0&&(c.internal_flags.noise_shaping=2),Math.abs(s[p].nsbass)>0){var w=int(s[p].nsbass*4);w<0&&(w+=64),c.exp_nspsytune=c.exp_nspsytune|w<<2}return f!=0?c.quant_comp=s[p].quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=s[p].quant_comp),f!=0?c.quant_comp_short=s[p].quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=s[p].quant_comp_s),f!=0?c.msfix=s[p].nsmsfix:Math.abs(c.msfix- -1)>0||(c.msfix=s[p].nsmsfix),f!=0?c.internal_flags.nsPsy.attackthre=s[p].st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=s[p].st_lrm),f!=0?c.internal_flags.nsPsy.attackthre_s=s[p].st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=s[p].st_s),f!=0?c.scale=s[p].scale:Math.abs(c.scale- -1)>0||(c.scale=s[p].scale),f!=0?c.maskingadjust=s[p].masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=s[p].masking_adj),s[p].masking_adj>0?f!=0?c.maskingadjust_short=s[p].masking_adj*.9:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=s[p].masking_adj*.9):f!=0?c.maskingadjust_short=s[p].masking_adj*1.1:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=s[p].masking_adj*1.1),f!=0?c.ATHlower=-s[p].ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-s[p].ath_lower/10),f!=0?c.ATHcurve=s[p].ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=s[p].ath_curve),f!=0?c.interChRatio=s[p].interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=s[p].interch),d}this.apply_preset=function(c,d,f){switch(d){case e.R3MIX:{d=e.V3,c.VBR=Xi.vbr_mtrh;break}case e.MEDIUM:{d=e.V4,c.VBR=Xi.vbr_rh;break}case e.MEDIUM_FAST:{d=e.V4,c.VBR=Xi.vbr_mtrh;break}case e.STANDARD:{d=e.V2,c.VBR=Xi.vbr_rh;break}case e.STANDARD_FAST:{d=e.V2,c.VBR=Xi.vbr_mtrh;break}case e.EXTREME:{d=e.V0,c.VBR=Xi.vbr_rh;break}case e.EXTREME_FAST:{d=e.V0,c.VBR=Xi.vbr_mtrh;break}case e.INSANE:return d=320,c.preset=d,l(c,d,f),c.VBR=Xi.vbr_off,d}switch(c.preset=d,d){case e.V9:return o(c,9,f),d;case e.V8:return o(c,8,f),d;case e.V7:return o(c,7,f),d;case e.V6:return o(c,6,f),d;case e.V5:return o(c,5,f),d;case e.V4:return o(c,4,f),d;case e.V3:return o(c,3,f),d;case e.V2:return o(c,2,f),d;case e.V1:return o(c,1,f),d;case e.V0:return o(c,0,f),d}return 8<=d&&d<=320?l(c,d,f):(c.preset=0,d)};function u(c,d){var f=0;return 0>d&&(f=-1,d=0),9<d&&(f=-1,d=9),c.VBR_q=d,c.VBR_q_frac=0,f}}var Une=Nne;function Bne(){this.setModules=function(e,t){}}var jne=Bne;function zne(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var $ne=zne,x9=Zn,UE=x9.new_float,Hne=x9.new_int;function Vne(){this.global_gain=0,this.sfb_count1=0,this.step=Hne(39),this.noise=UE(39),this.noise_log=UE(39)}var Wne=Vne,nc=Zn,as=nc.System,BE=nc.VbrMode,Z1=nc.Util,Xl=nc.Arrays,xc=nc.new_float,Rc=nc.assert,qne=jne,X1=$ne,Yne=Wne,vn=ra(),jE=s_,zE=tg;function Kne(){var e;this.rv=null;var t;this.qupvt=null;var n,r=new qne,a;this.setModules=function(E,g,C,M){e=E,t=g,this.rv=g,n=C,this.qupvt=C,a=M,r.setModules(n,a)},this.ms_convert=function(E,g){for(var C=0;C<576;++C){var M=E.tt[g][0].xr[C],m=E.tt[g][1].xr[C];E.tt[g][0].xr[C]=(M+m)*(Z1.SQRT2*.5),E.tt[g][1].xr[C]=(M-m)*(Z1.SQRT2*.5)}};function i(E,g,C,M){M=0;for(var m=0;m<=C;++m){var b=Math.abs(E.xr[m]);M+=b,g[m]=Math.sqrt(b*Math.sqrt(b)),g[m]>E.xrpow_max&&(E.xrpow_max=g[m])}return M}this.init_xrpow=function(E,g,C){var M=0,m=0|g.max_nonzero_coeff;if(g.xrpow_max=0,Xl.fill(C,m,576,0),M=i(g,C,m,M),M>1e-20){var b=0;E.substep_shaping&2&&(b=1);for(var S=0;S<g.psymax;S++)E.pseudohalf[S]=b;return!0}return Xl.fill(g.l3_enc,0,576,0),!1};function o(E,g){var C=E.ATH,M=g.xr;if(g.block_type!=vn.SHORT_TYPE)for(var m=!1,b=vn.PSFB21-1;b>=0&&!m;b--){var S=E.scalefac_band.psfb21[b],y=E.scalefac_band.psfb21[b+1],k=n.athAdjust(C.adjust,C.psfb21[b],C.floor);E.nsPsy.longfact[21]>1e-12&&(k*=E.nsPsy.longfact[21]);for(var _=y-1;_>=S;_--)if(Math.abs(M[_])<k)M[_]=0;else{m=!0;break}}else for(var P=0;P<3;P++)for(var m=!1,b=vn.PSFB12-1;b>=0&&!m;b--){var S=E.scalefac_band.s[12]*3+(E.scalefac_band.s[13]-E.scalefac_band.s[12])*P+(E.scalefac_band.psfb12[b]-E.scalefac_band.psfb12[0]),y=S+(E.scalefac_band.psfb12[b+1]-E.scalefac_band.psfb12[b]),z=n.athAdjust(C.adjust,C.psfb12[b],C.floor);E.nsPsy.shortfact[12]>1e-12&&(z*=E.nsPsy.shortfact[12]);for(var _=y-1;_>=S;_--)if(Math.abs(M[_])<z)M[_]=0;else{m=!0;break}}}this.init_outer_loop=function(E,g){g.part2_3_length=0,g.big_values=0,g.count1=0,g.global_gain=210,g.scalefac_compress=0,g.table_select[0]=0,g.table_select[1]=0,g.table_select[2]=0,g.subblock_gain[0]=0,g.subblock_gain[1]=0,g.subblock_gain[2]=0,g.subblock_gain[3]=0,g.region0_count=0,g.region1_count=0,g.preflag=0,g.scalefac_scale=0,g.count1table_select=0,g.part2_length=0,g.sfb_lmax=vn.SBPSY_l,g.sfb_smin=vn.SBPSY_s,g.psy_lmax=E.sfb21_extra?vn.SBMAX_l:vn.SBPSY_l,g.psymax=g.psy_lmax,g.sfbmax=g.sfb_lmax,g.sfbdivide=11;for(var C=0;C<vn.SBMAX_l;C++)g.width[C]=E.scalefac_band.l[C+1]-E.scalefac_band.l[C],g.window[C]=3;if(g.block_type==vn.SHORT_TYPE){var M=xc(576);g.sfb_smin=0,g.sfb_lmax=0,g.mixed_block_flag!=0&&(g.sfb_smin=3,g.sfb_lmax=E.mode_gr*2+4),g.psymax=g.sfb_lmax+3*((E.sfb21_extra?vn.SBMAX_s:vn.SBPSY_s)-g.sfb_smin),g.sfbmax=g.sfb_lmax+3*(vn.SBPSY_s-g.sfb_smin),g.sfbdivide=g.sfbmax-18,g.psy_lmax=g.sfb_lmax;var m=E.scalefac_band.l[g.sfb_lmax];as.arraycopy(g.xr,0,M,0,576);for(var C=g.sfb_smin;C<vn.SBMAX_s;C++)for(var b=E.scalefac_band.s[C],S=E.scalefac_band.s[C+1],y=0;y<3;y++)for(var k=b;k<S;k++)g.xr[m++]=M[3*k+y];for(var _=g.sfb_lmax,C=g.sfb_smin;C<vn.SBMAX_s;C++)g.width[_]=g.width[_+1]=g.width[_+2]=E.scalefac_band.s[C+1]-E.scalefac_band.s[C],g.window[_]=0,g.window[_+1]=1,g.window[_+2]=2,_+=3}g.count1bits=0,g.sfb_partition_table=n.nr_of_sfb_block[0][0],g.slen[0]=0,g.slen[1]=0,g.slen[2]=0,g.slen[3]=0,g.max_nonzero_coeff=575,Xl.fill(g.scalefac,0),o(E,g)};function s(E){this.ordinal=E}s.BINSEARCH_NONE=new s(0),s.BINSEARCH_UP=new s(1),s.BINSEARCH_DOWN=new s(2);function l(E,g,C,M,m){var b,S=E.CurrentStep[M],y=!1,k=E.OldValue[M],_=s.BINSEARCH_NONE;for(g.global_gain=k,C-=g.part2_length;;){var P;if(b=a.count_bits(E,m,g,null),S==1||b==C)break;b>C?(_==s.BINSEARCH_DOWN&&(y=!0),y&&(S/=2),_=s.BINSEARCH_UP,P=S):(_==s.BINSEARCH_UP&&(y=!0),y&&(S/=2),_=s.BINSEARCH_DOWN,P=-S),g.global_gain+=P,g.global_gain<0&&(g.global_gain=0,y=!0),g.global_gain>255&&(g.global_gain=255,y=!0)}for(Rc(g.global_gain>=0),Rc(g.global_gain<256);b>C&&g.global_gain<255;)g.global_gain++,b=a.count_bits(E,m,g,null);return E.CurrentStep[M]=k-g.global_gain>=4?4:2,E.OldValue[M]=g.global_gain,g.part2_3_length=b,b}this.trancate_smallspectrums=function(E,g,C,M){var m=xc(zE.SFBMAX);if(!(!(E.substep_shaping&4)&&g.block_type==vn.SHORT_TYPE||E.substep_shaping&128)){n.calc_noise(g,C,m,new X1,null);for(var S=0;S<576;S++){var b=0;g.l3_enc[S]!=0&&(b=Math.abs(g.xr[S])),M[S]=b}var S=0,y=8;g.block_type==vn.SHORT_TYPE&&(y=6);do{var k,_,P,z,N=g.width[y];if(S+=N,!(m[y]>=1)&&(Xl.sort(M,S-N,N),!BitStream.EQ(M[S-1],0))){k=(1-m[y])*C[y],_=0,z=0;do{var T;for(P=1;z+P<N&&!BitStream.NEQ(M[z+S-N],M[z+S+P-N]);P++);if(T=M[z+S-N]*M[z+S-N]*P,k<T){z!=0&&(_=M[z+S-N-1]);break}k-=T,z+=P}while(z<N);if(!BitStream.EQ(_,0))do Math.abs(g.xr[S-N])<=_&&(g.l3_enc[S-N]=0);while(--N>0)}}while(++y<g.psymax);g.part2_3_length=a.noquant_count_bits(E,g,null)}};function u(E){for(var g=0;g<E.sfbmax;g++)if(E.scalefac[g]+E.subblock_gain[E.window[g]]==0)return!1;return!0}function c(E){return Z1.FAST_LOG10(.368+.632*E*E*E)}function d(E,g){for(var C=1e-37,M=0;M<g.psymax;M++)C+=c(E[M]);return Math.max(1e-20,C)}function f(E,g,C,M,m){var b;switch(E){default:case 9:{g.over_count>0?(b=C.over_SSD<=g.over_SSD,C.over_SSD==g.over_SSD&&(b=C.bits<g.bits)):b=C.max_noise<0&&C.max_noise*10+C.bits<=g.max_noise*10+g.bits;break}case 0:b=C.over_count<g.over_count||C.over_count==g.over_count&&C.over_noise<g.over_noise||C.over_count==g.over_count&&BitStream.EQ(C.over_noise,g.over_noise)&&C.tot_noise<g.tot_noise;break;case 8:C.max_noise=d(m,M);case 1:b=C.max_noise<g.max_noise;break;case 2:b=C.tot_noise<g.tot_noise;break;case 3:b=C.tot_noise<g.tot_noise&&C.max_noise<g.max_noise;break;case 4:b=C.max_noise<=0&&g.max_noise>.2||C.max_noise<=0&&g.max_noise<0&&g.max_noise>C.max_noise-.2&&C.tot_noise<g.tot_noise||C.max_noise<=0&&g.max_noise>0&&g.max_noise>C.max_noise-.2&&C.tot_noise<g.tot_noise+g.over_noise||C.max_noise>0&&g.max_noise>-.05&&g.max_noise>C.max_noise-.1&&C.tot_noise+C.over_noise<g.tot_noise+g.over_noise||C.max_noise>0&&g.max_noise>-.1&&g.max_noise>C.max_noise-.15&&C.tot_noise+C.over_noise+C.over_noise<g.tot_noise+g.over_noise+g.over_noise;break;case 5:b=C.over_noise<g.over_noise||BitStream.EQ(C.over_noise,g.over_noise)&&C.tot_noise<g.tot_noise;break;case 6:b=C.over_noise<g.over_noise||BitStream.EQ(C.over_noise,g.over_noise)&&(C.max_noise<g.max_noise||BitStream.EQ(C.max_noise,g.max_noise)&&C.tot_noise<=g.tot_noise);break;case 7:b=C.over_count<g.over_count||C.over_noise<g.over_noise;break}return g.over_count==0&&(b=b&&C.bits<g.bits),b}function h(E,g,C,M,m){var b=E.internal_flags,S;g.scalefac_scale==0?S=1.2968395546510096:S=1.6817928305074292;for(var y=0,k=0;k<g.sfbmax;k++)y<C[k]&&(y=C[k]);var _=b.noise_shaping_amp;switch(_==3&&(m?_=2:_=1),_){case 2:break;case 1:y>1?y=Math.pow(y,.5):y*=.95;break;case 0:default:y>1?y=1:y*=.95;break}for(var P=0,k=0;k<g.sfbmax;k++){var z=g.width[k],N;if(P+=z,!(C[k]<y)){if(b.substep_shaping&2&&(b.pseudohalf[k]=b.pseudohalf[k]==0?1:0,b.pseudohalf[k]==0&&b.noise_shaping_amp==2))return;for(g.scalefac[k]++,N=-z;N<0;N++)M[P+N]*=S,M[P+N]>g.xrpow_max&&(g.xrpow_max=M[P+N]);if(b.noise_shaping_amp==2)return}}}function p(E,g){for(var C=1.2968395546510096,M=0,m=0;m<E.sfbmax;m++){var b=E.width[m],S=E.scalefac[m];if(E.preflag!=0&&(S+=n.pretab[m]),M+=b,S&1){S++;for(var y=-b;y<0;y++)g[M+y]*=C,g[M+y]>E.xrpow_max&&(E.xrpow_max=g[M+y])}E.scalefac[m]=S>>1}E.preflag=0,E.scalefac_scale=1}function w(E,g,C){var M,m=g.scalefac;for(M=0;M<g.sfb_lmax;M++)if(m[M]>=16)return!0;for(var b=0;b<3;b++){var S=0,y=0;for(M=g.sfb_lmax+b;M<g.sfbdivide;M+=3)S<m[M]&&(S=m[M]);for(;M<g.sfbmax;M+=3)y<m[M]&&(y=m[M]);if(!(S<16&&y<8)){if(g.subblock_gain[b]>=7)return!0;g.subblock_gain[b]++;var k=E.scalefac_band.l[g.sfb_lmax];for(M=g.sfb_lmax+b;M<g.sfbmax;M+=3){var _,P=g.width[M],z=m[M];if(z=z-(4>>g.scalefac_scale),z>=0){m[M]=z,k+=P*3;continue}m[M]=0;{var N=210+(z<<g.scalefac_scale+1);_=n.IPOW20(N)}k+=P*(b+1);for(var T=-P;T<0;T++)C[k+T]*=_,C[k+T]>g.xrpow_max&&(g.xrpow_max=C[k+T]);k+=P*(3-b-1)}{var _=n.IPOW20(202);k+=g.width[M]*(b+1);for(var T=-g.width[M];T<0;T++)C[k+T]*=_,C[k+T]>g.xrpow_max&&(g.xrpow_max=C[k+T])}}}return!1}function D(E,g,C,M,m){var b=E.internal_flags;h(E,g,C,M,m);var S=u(g);return S?!1:(b.mode_gr==2?S=a.scale_bitcount(g):S=a.scale_bitcount_lsf(b,g),S?(b.noise_shaping>1&&(Xl.fill(b.pseudohalf,0),g.scalefac_scale==0?(p(g,M),S=!1):g.block_type==vn.SHORT_TYPE&&b.subblock_gain>0&&(S=w(b,g,M)||u(g))),S||(b.mode_gr==2?S=a.scale_bitcount(g):S=a.scale_bitcount_lsf(b,g)),!S):!0)}this.outer_loop=function(E,g,C,M,m,b){var S=E.internal_flags,y=new jE,k=xc(576),_=xc(zE.SFBMAX),P=new X1,z,N=new Yne,T=9999999,L=!1,I=!1,B=0;if(l(S,g,b,m,M),S.noise_shaping==0)return 100;n.calc_noise(g,C,_,P,N),P.bits=g.part2_3_length,y.assign(g);var F=0;for(as.arraycopy(M,0,k,0,576);!L;){do{var U=new X1,R,O=255;if(S.substep_shaping&2?R=20:R=3,S.sfb21_extra&&(_[y.sfbmax]>1||y.block_type==vn.SHORT_TYPE&&(_[y.sfbmax+1]>1||_[y.sfbmax+2]>1))||!D(E,y,_,M,I))break;y.scalefac_scale!=0&&(O=254);var A=b-y.part2_length;if(A<=0)break;for(;(y.part2_3_length=a.count_bits(S,M,y,N))>A&&y.global_gain<=O;)y.global_gain++;if(y.global_gain>O)break;if(P.over_count==0){for(;(y.part2_3_length=a.count_bits(S,M,y,N))>T&&y.global_gain<=O;)y.global_gain++;if(y.global_gain>O)break}if(n.calc_noise(y,C,_,U,N),U.bits=y.part2_3_length,g.block_type!=vn.SHORT_TYPE?z=E.quant_comp:z=E.quant_comp_short,z=f(z,P,U,y,_)?1:0,z!=0)T=g.part2_3_length,P=U,g.assign(y),F=0,as.arraycopy(M,0,k,0,576);else if(S.full_outer_loop==0&&(++F>R&&P.over_count==0||S.noise_shaping_amp==3&&I&&F>30||S.noise_shaping_amp==3&&I&&y.global_gain-B>15))break}while(y.global_gain+y.scalefac_scale<255);S.noise_shaping_amp==3?I?L=!0:(y.assign(g),as.arraycopy(k,0,M,0,576),F=0,B=y.global_gain,I=!0):L=!0}return Rc(g.global_gain+g.scalefac_scale<=255),E.VBR==BE.vbr_rh||E.VBR==BE.vbr_mtrh?as.arraycopy(k,0,M,0,576):S.substep_shaping&1&&trancate_smallspectrums(S,g,C,M),P.over_count},this.iteration_finish_one=function(E,g,C){var M=E.l3_side,m=M.tt[g][C];a.best_scalefac_store(E,g,C,M),E.use_best_huffman==1&&a.best_huffman_divide(E,m),t.ResvAdjust(E,m)},this.VBR_encode_granule=function(E,g,C,M,m,b,S){var y=E.internal_flags,k=new jE,_=xc(576),P=S,z=S+1,N=(S+b)/2,T,L,I=0,B=y.sfb21_extra;Rc(P<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Xl.fill(k.l3_enc,0);do N>P-42?y.sfb21_extra=!1:y.sfb21_extra=B,L=outer_loop(E,g,C,M,m,N),L<=0?(I=1,z=g.part2_3_length,k.assign(g),as.arraycopy(M,0,_,0,576),S=z-32,T=S-b,N=(S+b)/2):(b=N+32,T=S-b,N=(S+b)/2,I!=0&&(I=2,g.assign(k),as.arraycopy(_,0,M,0,576)));while(T>12);y.sfb21_extra=B,I==2&&as.arraycopy(k.l3_enc,0,g.l3_enc,0,576),Rc(g.part2_3_length<=P)},this.get_framebits=function(E,g){var C=E.internal_flags;C.bitrate_index=C.VBR_min_bitrate;var M=e.getframebits(E);C.bitrate_index=1,M=e.getframebits(E);for(var m=1;m<=C.VBR_max_bitrate;m++){C.bitrate_index=m;var b=new MeanBits(M);g[m]=t.ResvFrameBegin(E,b),M=b.bits}},this.VBR_old_prepare=function(E,g,C,M,m,b,S,y,k){var _=E.internal_flags,P,z=0,N=1,T=0;_.bitrate_index=_.VBR_max_bitrate;var L=t.ResvFrameBegin(E,new MeanBits(0))/_.mode_gr;get_framebits(E,b);for(var I=0;I<_.mode_gr;I++){var B=n.on_pe(E,g,y[I],L,I,0);_.mode_ext==vn.MPG_MD_MS_LR&&(ms_convert(_.l3_side,I),n.reduce_side(y[I],C[I],L,B));for(var F=0;F<_.channels_out;++F){var U=_.l3_side.tt[I][F];U.block_type!=vn.SHORT_TYPE?(z=1.28/(1+Math.exp(3.5-g[I][F]/300))-.05,P=_.PSY.mask_adjust-z):(z=2.56/(1+Math.exp(3.5-g[I][F]/300))-.14,P=_.PSY.mask_adjust_short-z),_.masking_lower=Math.pow(10,P*.1),init_outer_loop(_,U),k[I][F]=n.calc_xmin(E,M[I][F],U,m[I][F]),k[I][F]!=0&&(N=0),S[I][F]=126,T+=y[I][F]}}for(var I=0;I<_.mode_gr;I++)for(var F=0;F<_.channels_out;F++)T>b[_.VBR_max_bitrate]&&(y[I][F]*=b[_.VBR_max_bitrate],y[I][F]/=T),S[I][F]>y[I][F]&&(S[I][F]=y[I][F]);return N},this.bitpressure_strategy=function(E,g,C,M){for(var m=0;m<E.mode_gr;m++)for(var b=0;b<E.channels_out;b++){for(var S=E.l3_side.tt[m][b],y=g[m][b],k=0,_=0;_<S.psy_lmax;_++)y[k++]*=1+.029*_*_/vn.SBMAX_l/vn.SBMAX_l;if(S.block_type==vn.SHORT_TYPE)for(var _=S.sfb_smin;_<vn.SBMAX_s;_++)y[k++]*=1+.029*_*_/vn.SBMAX_s/vn.SBMAX_s,y[k++]*=1+.029*_*_/vn.SBMAX_s/vn.SBMAX_s,y[k++]*=1+.029*_*_/vn.SBMAX_s/vn.SBMAX_s;M[m][b]=0|Math.max(C[m][b],.9*M[m][b])}},this.VBR_new_prepare=function(E,g,C,M,m,b){var S=E.internal_flags,y=1,k=0,_=0,P;if(E.free_format){S.bitrate_index=0;var z=new MeanBits(k);P=t.ResvFrameBegin(E,z),k=z.bits,m[0]=P}else{S.bitrate_index=S.VBR_max_bitrate;var z=new MeanBits(k);t.ResvFrameBegin(E,z),k=z.bits,get_framebits(E,m),P=m[S.VBR_max_bitrate]}for(var N=0;N<S.mode_gr;N++){n.on_pe(E,g,b[N],k,N,0),S.mode_ext==vn.MPG_MD_MS_LR&&ms_convert(S.l3_side,N);for(var T=0;T<S.channels_out;++T){var L=S.l3_side.tt[N][T];S.masking_lower=Math.pow(10,S.PSY.mask_adjust*.1),init_outer_loop(S,L),n.calc_xmin(E,C[N][T],L,M[N][T])!=0&&(y=0),_+=b[N][T]}}for(var N=0;N<S.mode_gr;N++)for(var T=0;T<S.channels_out;T++)_>P&&(b[N][T]*=P,b[N][T]/=_);return y},this.calc_target_bits=function(E,g,C,M,m,b){var S=E.internal_flags,y=S.l3_side,k,_,P,z,N=0;S.bitrate_index=S.VBR_max_bitrate;var T=new MeanBits(N);for(b[0]=t.ResvFrameBegin(E,T),N=T.bits,S.bitrate_index=1,N=e.getframebits(E)-S.sideinfo_len*8,m[0]=N/(S.mode_gr*S.channels_out),N=E.VBR_mean_bitrate_kbps*E.framesize*1e3,S.substep_shaping&1&&(N*=1.09),N/=E.out_samplerate,N-=S.sideinfo_len*8,N/=S.mode_gr*S.channels_out,k=.93+.07*(11-E.compression_ratio)/(11-5.5),k<.9&&(k=.9),k>1&&(k=1),_=0;_<S.mode_gr;_++){var L=0;for(P=0;P<S.channels_out;P++){if(M[_][P]=int(k*N),g[_][P]>700){var I=int((g[_][P]-700)/1.4),B=y.tt[_][P];M[_][P]=int(k*N),B.block_type==vn.SHORT_TYPE&&I<N/2&&(I=N/2),I>N*3/2?I=N*3/2:I<0&&(I=0),M[_][P]+=I}M[_][P]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(M[_][P]=LameInternalFlags.MAX_BITS_PER_CHANNEL),L+=M[_][P]}if(L>LameInternalFlags.MAX_BITS_PER_GRANULE)for(P=0;P<S.channels_out;++P)M[_][P]*=LameInternalFlags.MAX_BITS_PER_GRANULE,M[_][P]/=L}if(S.mode_ext==vn.MPG_MD_MS_LR)for(_=0;_<S.mode_gr;_++)n.reduce_side(M[_],C[_],N*S.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(z=0,_=0;_<S.mode_gr;_++)for(P=0;P<S.channels_out;P++)M[_][P]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(M[_][P]=LameInternalFlags.MAX_BITS_PER_CHANNEL),z+=M[_][P];if(z>b[0])for(_=0;_<S.mode_gr;_++)for(P=0;P<S.channels_out;P++)M[_][P]*=b[0],M[_][P]/=z}}var Gne=Kne,Zne=Zn,$E=Zne.assert;function Xne(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r=t.internal_flags,a,i=r.l3_side,o=e.getframebits(t);n.bits=(o-r.sideinfo_len*8)/r.mode_gr;var s=8*256*r.mode_gr-8;t.brate>320?a=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(a=8*1440,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=a-o,r.ResvMax>s&&(r.ResvMax=s),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var l=n.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return l>a&&(l=a),$E(r.ResvMax%8==0),$E(r.ResvMax>=0),i.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=n.bits/2,r.pinfo.resvsize=r.ResvSize),l},this.ResvMaxBits=function(t,n,r,a){var i=t.internal_flags,o,s=i.ResvSize,l=i.ResvMax;a!=0&&(s+=n),i.substep_shaping&1&&(l*=.9),r.bits=n,s*10>l*9?(o=s-l*9/10,r.bits+=o,i.substep_shaping|=128):(o=0,i.substep_shaping&=127,!t.disable_reservoir&&!(i.substep_shaping&1)&&(r.bits-=.1*n));var u=s<i.ResvMax*6/10?s:i.ResvMax*6/10;return u-=o,u<0&&(u=0),u},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var r,a=t.l3_side;t.ResvSize+=n*t.mode_gr;var i=0;a.resvDrain_post=0,a.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(i+=r),r=t.ResvSize-i-t.ResvMax,r>0&&(i+=r);{var o=Math.min(a.main_data_begin*8,i)/8;a.resvDrain_pre+=8*o,i-=8*o,t.ResvSize-=8*o,a.main_data_begin-=o}a.resvDrain_post+=i,t.ResvSize-=i}}var Qne=Xne;function Jne(){var e="http://www.mp3dev.org/",t=3,n=98,r=4,a=0,i=93;this.getLameVersion=function(){return t+"."+n+"."+r},this.getLameShortVersion=function(){return t+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return a+"."+i},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var ere=Jne,rc=Zn,tre=rc.System,Q1=rc.VbrMode,HE=rc.ShortBlock,nre=rc.Arrays,Jf=rc.new_byte,rre=rc.assert;Nd.NUMTOCENTRIES=100;Nd.MAXFRAMESIZE=2880;function Nd(){var e,t,n;this.setModules=function(N,T,L){e=N,t=T,n=L};var r=1,a=2,i=4,o=8,s=Nd.NUMTOCENTRIES,l=Nd.MAXFRAMESIZE,u=s+4+4+4+4+4,c=u+9+1+1+8+1+1+3+1+1+2+4+2+2,d=128,f=64,h=32,p=null,w="Xing",D="Info",E=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function g(N,T){if(N.nVbrNumFrames++,N.sum+=T,N.seen++,!(N.seen<N.want)&&(N.pos<N.size&&(N.bag[N.pos]=N.sum,N.pos++,N.seen=0),N.pos==N.size)){for(var L=1;L<N.size;L+=2)N.bag[L/2]=N.bag[L];N.want*=2,N.pos/=2}}function C(N,T){if(!(N.pos<=0))for(var L=1;L<s;++L){var I=L/s,B,F,U=0|Math.floor(I*N.pos);U>N.pos-1&&(U=N.pos-1),B=N.bag[U],F=N.sum;var R=0|256*B/F;R>255&&(R=255),T[L]=255&R}}this.addVbrFrame=function(N){var T=N.internal_flags,L=Tables.bitrate_table[N.version][T.bitrate_index];rre(T.VBR_seek_table.bag!=null),g(T.VBR_seek_table,L)};function M(N,T){var L=N[T+0]&255;return L<<=8,L|=N[T+1]&255,L<<=8,L|=N[T+2]&255,L<<=8,L|=N[T+3]&255,L}function m(N,T,L){N[T+0]=255&(L>>24&255),N[T+1]=255&(L>>16&255),N[T+2]=255&(L>>8&255),N[T+3]=255&(L&255)}function b(N,T,L){N[T+0]=255&(L>>8&255),N[T+1]=255&(L&255)}function S(N,T){return new String(N,T,w.length(),p).equals(w)||new String(N,T,D.length(),p).equals(D)}function y(N,T,L){return 255&(N<<T|L&~(-1<<T))}function k(N,T){var L=N.internal_flags;T[0]=y(T[0],8,255),T[1]=y(T[1],3,7),T[1]=y(T[1],1,N.out_samplerate<16e3?0:1),T[1]=y(T[1],1,N.version),T[1]=y(T[1],2,1),T[1]=y(T[1],1,N.error_protection?0:1),T[2]=y(T[2],4,L.bitrate_index),T[2]=y(T[2],2,L.samplerate_index),T[2]=y(T[2],1,0),T[2]=y(T[2],1,N.extension),T[3]=y(T[3],2,N.mode.ordinal()),T[3]=y(T[3],2,L.mode_ext),T[3]=y(T[3],1,N.copyright),T[3]=y(T[3],1,N.original),T[3]=y(T[3],2,N.emphasis),T[0]=255;var I=255&(T[1]&241),B;N.version==1?B=d:N.out_samplerate<16e3?B=h:B=f,N.VBR==Q1.vbr_off&&(B=N.brate);var F;N.free_format?F=0:F=255&16*e.BitrateIndex(B,N.version,N.out_samplerate),N.version==1?(T[1]=255&(I|10),I=255&(T[2]&13),T[2]=255&(F|I)):(T[1]=255&(I|2),I=255&(T[2]&13),T[2]=255&(F|I))}this.getVbrTag=function(N){var T=new VBRTagData,L=0;T.flags=0;var I=N[L+1]>>3&1,B=N[L+2]>>2&3,F=N[L+3]>>6&3,U=N[L+2]>>4&15;if(U=Tables.bitrate_table[I][U],N[L+1]>>4==14?T.samprate=Tables.samplerate_table[2][B]:T.samprate=Tables.samplerate_table[I][B],I!=0?F!=3?L+=36:L+=21:F!=3?L+=21:L+=13,!S(N,L))return null;L+=4,T.hId=I;var R=T.flags=M(N,L);if(L+=4,R&r&&(T.frames=M(N,L),L+=4),R&a&&(T.bytes=M(N,L),L+=4),R&i){if(T.toc!=null)for(var O=0;O<s;O++)T.toc[O]=N[L+O];L+=s}T.vbrScale=-1,R&o&&(T.vbrScale=M(N,L),L+=4),T.headersize=(I+1)*72e3*U/T.samprate,L+=21;var A=N[L+0]<<4;A+=N[L+1]>>4;var x=(N[L+1]&15)<<8;return x+=N[L+2]&255,(A<0||A>3e3)&&(A=-1),(x<0||x>3e3)&&(x=-1),T.encDelay=A,T.encPadding=x,T},this.InitVbrTag=function(N){var T=N.internal_flags,L;N.version==1?L=d:N.out_samplerate<16e3?L=h:L=f,N.VBR==Q1.vbr_off&&(L=N.brate);var I=(N.version+1)*72e3*L/N.out_samplerate,B=T.sideinfo_len+c;if(T.VBR_seek_table.TotalFrameSize=I,I<B||I>l){N.bWriteVbrTag=!1;return}T.VBR_seek_table.nVbrNumFrames=0,T.VBR_seek_table.nBytesWritten=0,T.VBR_seek_table.sum=0,T.VBR_seek_table.seen=0,T.VBR_seek_table.want=1,T.VBR_seek_table.pos=0,T.VBR_seek_table.bag==null&&(T.VBR_seek_table.bag=new int[400],T.VBR_seek_table.size=400);var F=Jf(l);k(N,F);for(var U=T.VBR_seek_table.TotalFrameSize,R=0;R<U;++R)t.add_dummy_byte(N,F[R]&255,1)};function _(N,T){var L=T^N;return T=T>>8^E[L&255],T}this.updateMusicCRC=function(N,T,L,I){for(var B=0;B<I;++B)N[0]=_(T[L+B],N[0])};function P(N,T,L,I,B){var F=N.internal_flags,U=0,R=N.encoder_delay,O=N.encoder_padding,A=100-10*N.VBR_q-N.quality,x=n.getLameVeryShortVersion(),j,V=0,X,re=[1,5,3,2,4,0,3],W=0|(N.lowpassfreq/100+.5>255?255:N.lowpassfreq/100+.5),J=0,oe=0,he=0,Oe=N.internal_flags.noise_shaping,$e=0,Ie=0,ze=0,We=0,at=0,bt=(N.exp_nspsytune&1)!=0,H=(N.exp_nspsytune&2)!=0,q=!1,De=!1,Fe=N.internal_flags.nogap_total,Qe=N.internal_flags.nogap_current,le=N.ATHtype,Ne=0,pe;switch(N.VBR){case vbr_abr:pe=N.VBR_mean_bitrate_kbps;break;case vbr_off:pe=N.brate;break;default:pe=N.VBR_min_bitrate_kbps}switch(N.VBR.ordinal()<re.length?j=re[N.VBR.ordinal()]:j=0,X=16*V+j,F.findReplayGain&&(F.RadioGain>510&&(F.RadioGain=510),F.RadioGain<-510&&(F.RadioGain=-510),oe=8192,oe|=3072,F.RadioGain>=0?oe|=F.RadioGain:(oe|=512,oe|=-F.RadioGain)),F.findPeakSample&&(J=Math.abs(0|F.PeakSample/32767*Math.pow(2,23)+.5)),Fe!=-1&&(Qe>0&&(De=!0),Qe<Fe-1&&(q=!0)),Ne=le+((bt?1:0)<<4)+((H?1:0)<<5)+((q?1:0)<<6)+((De?1:0)<<7),A<0&&(A=0),N.mode){case MONO:$e=0;break;case STEREO:$e=1;break;case DUAL_CHANNEL:$e=2;break;case JOINT_STEREO:N.force_ms?$e=4:$e=3;break;case NOT_SET:default:$e=7;break}N.in_samplerate<=32e3?ze=0:N.in_samplerate==48e3?ze=2:N.in_samplerate>48e3?ze=3:ze=1,(N.short_blocks==HE.short_block_forced||N.short_blocks==HE.short_block_dispensed||N.lowpassfreq==-1&&N.highpassfreq==-1||N.scale_left<N.scale_right||N.scale_left>N.scale_right||N.disable_reservoir&&N.brate<320||N.noATH||N.ATHonly||le==0||N.in_samplerate<=32e3)&&(Ie=1),We=Oe+($e<<2)+(Ie<<5)+(ze<<6),at=F.nMusicCRC,m(L,I+U,A),U+=4;for(var Te=0;Te<9;Te++)L[I+U+Te]=255&x.charAt(Te);U+=9,L[I+U]=255&X,U++,L[I+U]=255&W,U++,m(L,I+U,J),U+=4,b(L,I+U,oe),U+=2,b(L,I+U,he),U+=2,L[I+U]=255&Ne,U++,pe>=255?L[I+U]=255:L[I+U]=255&pe,U++,L[I+U]=255&R>>4,L[I+U+1]=255&(R<<4)+(O>>8),L[I+U+2]=255&O,U+=3,L[I+U]=255&We,U++,L[I+U++]=0,b(L,I+U,N.preset),U+=2,m(L,I+U,T),U+=4,b(L,I+U,at),U+=2;for(var Ue=0;Ue<U;Ue++)B=_(L[I+Ue],B);return b(L,I+U,B),U+=2,U}function z(N){N.seek(0);var T=Jf(10);N.readFully(T);var L;return new String(T,"ISO-8859-1").startsWith("ID3")?L=0:L=((T[6]&127)<<21|(T[7]&127)<<14|(T[8]&127)<<7|T[9]&127)+T.length,L}this.getLameTagFrame=function(N,T){var L=N.internal_flags;if(!N.bWriteVbrTag||L.Class_ID!=Lame.LAME_ID||L.VBR_seek_table.pos<=0)return 0;if(T.length<L.VBR_seek_table.TotalFrameSize)return L.VBR_seek_table.TotalFrameSize;nre.fill(T,0,L.VBR_seek_table.TotalFrameSize,0),k(N,T);var I=Jf(s);if(N.free_format)for(var B=1;B<s;++B)I[B]=255&255*B/100;else C(L.VBR_seek_table,I);var F=L.sideinfo_len;N.error_protection&&(F-=2),N.VBR==Q1.vbr_off?(T[F++]=255&D.charAt(0),T[F++]=255&D.charAt(1),T[F++]=255&D.charAt(2),T[F++]=255&D.charAt(3)):(T[F++]=255&w.charAt(0),T[F++]=255&w.charAt(1),T[F++]=255&w.charAt(2),T[F++]=255&w.charAt(3)),m(T,F,r+a+i+o),F+=4,m(T,F,L.VBR_seek_table.nVbrNumFrames),F+=4;var U=L.VBR_seek_table.nBytesWritten+L.VBR_seek_table.TotalFrameSize;m(T,F,0|U),F+=4,tre.arraycopy(I,0,T,F,I.length),F+=I.length,N.error_protection&&t.CRC_writeheader(L,T);for(var R=0,B=0;B<F;B++)R=_(T[B],R);return F+=P(N,U,T,F,R),L.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(N,T){var L=N.internal_flags;if(L.VBR_seek_table.pos<=0||(T.seek(T.length()),T.length()==0))return-1;var I=z(T);T.seek(I);var B=Jf(l),F=getLameTagFrame(N,B);return F>B.length?-1:(F<1||T.write(B,0,F),0)}}var are=Nd,R9=Zn,VE=R9.new_byte,ire=R9.assert,ore=f_(),sre=Une,lre=S9,ure=M9(),cre=Gne,dre=T9(),fre=Qne,hre=cf,pre=d_();ra();var mre=ere,gre=are;function vre(){this.setModules=function(e,t){}}function yre(){this.setModules=function(e,t,n){}}function _re(){}function bre(){this.setModules=function(e,t){}}function wre(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new ore,a=new vre,i=new lre,o=new pre,s=new sre,l=new ure,u=new cre,c=new gre,d=new mre,f=new bre,h=new fre,p=new dre,w=new yre,D=new _re;r.setModules(i,o,s,l,u,c,d,f,D),o.setModules(i,D,d,c),f.setModules(o,d),s.setModules(r),u.setModules(o,h,l,p),l.setModules(p,h,r.enc.psy),h.setModules(o),p.setModules(l),c.setModules(r,o,d),a.setModules(w,D),w.setModules(d,f,s);var E=r.lame_init();E.num_channels=e,E.in_samplerate=t,E.brate=n,E.mode=hre.STEREO,E.quality=3,E.bWriteVbrTag=!1,E.disable_reservoir=!0,E.write_id3tag_automatic=!1,r.lame_init_params(E);var g=1152,C=0|1.25*g+7200,M=VE(C);this.encodeBuffer=function(m,b){e==1&&(b=m),ire(m.length==b.length),m.length>g&&(g=m.length,C=0|1.25*g+7200,M=VE(C));var S=r.lame_encode_buffer(E,m,b,m.length,M,0,C);return new Int8Array(M.subarray(0,S))},this.flush=function(){var m=r.lame_encode_flush(E,M,0,C);return new Int8Array(M.subarray(0,m))}}function ro(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function rg(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}ro.RIFF=rg("RIFF");ro.WAVE=rg("WAVE");ro.fmt_=rg("fmt ");ro.data=rg("data");ro.readHeader=function(e){var t=new ro,n=e.getUint32(0,!1);if(ro.RIFF==n&&(e.getUint32(4,!0),ro.WAVE==e.getUint32(8,!1)&&ro.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),a=20;switch(r){case 16:case 18:t.channels=e.getUint16(a+2,!0),t.sampleRate=e.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=r;for(var i=ro.data,o=0;i!=n&&(n=e.getUint32(a,!1),o=e.getUint32(a+4,!0),i!=n);)a+=o+8;return t.dataLen=o,t.dataOffset=a+8,t}};var Ere=wre,Cre=128,eh=1152,Sre=function(e){for(var t=new Int16Array(e.length),n=0;n<e.length;n++){var r=e[n],a=Math.max(-1,Math.min(1,r));t[n]=Math.round(a*32767)}return t},Dre=function(e){return Array.from({length:e.numberOfChannels},function(t,n){return e.getChannelData(n)}).map(Sre)};function kre(e,t){return St(this,void 0,void 0,function(){var n,r,a,i,o,s,l,u,c,d;return Dt(this,function(f){switch(f.label){case 0:return r=s9,[4,o9(e)];case 1:return[4,r.apply(void 0,[f.sent(),t])];case 2:for(n=f.sent(),a=n.numberOfChannels,i=Dre(n),o=new Ere(a,t,Cre),s=[],l=i[0].length,u=function(h){var p=i.map(function(E){return E.subarray(h,h+eh)}),w=p[0],D=p[1];s.push(new Int8Array(o.encodeBuffer(w,D))),l-=eh},c=0;l>=eh;c+=eh)u(c);return d=o.flush(),d.length&&s.push(new Int8Array(d)),[2,new Blob(s,{type:"audio/mp3;sbu_type=voice"})]}})})}var Mre=function(e){var t=e.blob,n=e.sampleRate,r=e.targetMimeType,a=H6({blobsArray:[t],fileName:"audio_recording_".concat(new Date().toISOString(),".").concat(V6(t.type)),mimeType:t.type});return r.match("audio/wav")?$te(a,n):r.match("audio/mp3")?kre(a,n):Promise.resolve(t)},WE={audio:{others:"audio/webm",safari:"audio/mp4;codecs=mp4a.40.2"}},Tre=["audio/wav","audio/mp3"],xre={mimeType:Pk()?WE.audio.safari:WE.audio.others},qE={sampleRate:16e3,targetMimeType:"audio/mp3"},Rre=function(e){e!=null&&e.active&&e.getTracks().forEach(function(t){t.stop(),e.removeTrack(t)})},qs=function(e){return e&&console.error("[MEDIA RECORDER ERROR]",e)},fa;(function(e){e.PAUSED="paused",e.RECORDING="recording",e.STOPPED="stopped"})(fa||(fa={}));var am;(function(e){e.VOICE_RECORDING="voiceRecording"})(am||(am={}));var Pre=function(){function e(t){var n=t===void 0?{}:t,r=n.config,a=n.generateRecordingTitle,i=n.t,o=this;this.recordedChunkDurations=[],this.recordedData=[],this.recordingState=new Hu(void 0),this.recording=new Hu(void 0),this.error=new Ld,this.notification=new Ld,this.generateRecordingTitle=function(l){return o.customGenerateRecordingTitle?o.customGenerateRecordingTitle(l):"".concat(o.mediaType,"_recording_").concat(new Date().toISOString(),".").concat(V6(l))},this.makeVoiceRecording=function(){return St(o,void 0,void 0,function(){var l,u,c,d,f;return Dt(this,function(h){switch(h.label){case 0:return this.recordingUri&&URL.revokeObjectURL(this.recordingUri),this.recordedData.length?(l=this.mediaRecorderConfig.mimeType,u=new Blob(this.recordedData,{type:l}),l.match("audio/webm")?[4,xte(u,this.durationMs,{logger:function(){return null}})]:[3,2]):[2];case 1:u=h.sent(),h.label=2;case 2:return l.match("audio/mp4")?[3,4]:[4,Mre(ne({blob:u},this.transcoderConfig))];case 3:u=h.sent(),h.label=4;case 4:return u?(this.recordingUri=URL.createObjectURL(u),c=H6({blobsArray:[u],fileName:this.generateRecordingTitle(u.type),mimeType:u.type}),[2,{asset_url:this.recordingUri,duration:this.durationMs/1e3,file_size:u.size,localMetadata:{file:c,id:qa()},mime_type:u.type,title:c.name,type:am.VOICE_RECORDING,waveform_data:D6((f=(d=this.amplitudeRecorder)===null||d===void 0?void 0:d.amplitudes.value)!==null&&f!==void 0?f:[],this.amplitudeRecorderConfig.sampleCount)}]):[2]}})})},this.handleErrorEvent=function(l){var u=l.error;qs(u),o.error.next(u),o.notification.next({text:o.t("An error has occurred during recording"),type:"error"})},this.handleDataavailableEvent=function(l){return St(o,void 0,void 0,function(){var u,c,d;return Dt(this,function(f){switch(f.label){case 0:if(!l.data.size)return[2];if(this.mediaType!=="audio")return[2];f.label=1;case 1:return f.trys.push([1,3,,4]),this.recordedData.push(l.data),[4,this.makeVoiceRecording()];case 2:return u=f.sent(),u?((d=this.signalRecordingReady)===null||d===void 0||d.call(this,u),this.recording.next(u),[3,4]):[2];case 3:return c=f.sent(),qs(c),this.error.next(c),this.notification.next({text:this.t("An error has occurred during the recording processing"),type:"error"}),[3,4];case 4:return[2]}})})},this.resetRecordingState=function(){o.recordedData=[],o.recording.next(void 0),o.recordingState.next(void 0),o.recordedChunkDurations=[],o.startTime=void 0},this.cleanUp=function(){var l;o.resetRecordingState(),o.recordingUri&&URL.revokeObjectURL(o.recordingUri),(l=o.amplitudeRecorder)===null||l===void 0||l.close(),o.mediaRecorder&&(Rre(o.mediaRecorder.stream),o.mediaRecorder.removeEventListener("dataavailable",o.handleDataavailableEvent),o.mediaRecorder.removeEventListener("error",o.handleErrorEvent))},this.start=function(){return St(o,void 0,void 0,function(){var l,l,l,u,c;return Dt(this,function(d){switch(d.label){case 0:return[fa.RECORDING,fa.PAUSED].includes(this.recordingState.value)?(l=new Error("Cannot start recording. Recording already in progress"),qs(l),this.error.next(l),[2]):navigator.mediaDevices?this.mediaType==="video"?(l=new Error("Video recording is not supported. Provided MIME type: ".concat(this.mediaRecorderConfig.mimeType)),qs(l),this.error.next(l),this.notification.next({text:this.t("Error starting recording"),type:"error"}),[2]):this.permission.state.value?[3,2]:[4,this.permission.check()]:(l=new Error("Media recording is not supported"),qs(l),this.error.next(l),this.notification.next({text:this.t("Error starting recording"),type:"error"}),[2]);case 1:d.sent(),d.label=2;case 2:if(this.permission.state.value==="denied")return qs(new Error("Permission denied")),[2];d.label=3;case 3:return d.trys.push([3,5,,6]),[4,navigator.mediaDevices.getUserMedia({audio:!0})];case 4:return u=d.sent(),this.mediaRecorder=new MediaRecorder(u,this.mediaRecorderConfig),this.mediaRecorder.addEventListener("dataavailable",this.handleDataavailableEvent),this.mediaRecorder.addEventListener("error",this.handleErrorEvent),this.startTime=new Date().getTime(),this.mediaRecorder.start(),this.mediaType==="audio"&&u&&(this.amplitudeRecorder=new Nte({config:this.amplitudeRecorderConfig,stream:u}),this.amplitudeRecorder.start()),this.recordingState.next(fa.RECORDING),[3,6];case 5:return c=d.sent(),qs(c),this.cancel(),this.error.next(c),this.notification.next({text:this.t("Error starting recording"),type:"error"}),[3,6];case 6:return[2]}})})},this.pause=function(){var l,u;o.recordingState.value===fa.RECORDING&&(o.startTime&&(o.recordedChunkDurations.push(new Date().getTime()-o.startTime),o.startTime=void 0),(l=o.mediaRecorder)===null||l===void 0||l.pause(),(u=o.amplitudeRecorder)===null||u===void 0||u.stop(),o.recordingState.next(fa.PAUSED))},this.resume=function(){var l,u;o.recordingState.value===fa.PAUSED&&(o.startTime=new Date().getTime(),(l=o.mediaRecorder)===null||l===void 0||l.resume(),(u=o.amplitudeRecorder)===null||u===void 0||u.start(),o.recordingState.next(fa.RECORDING))},this.stop=function(){var l,u,c,d=o.recording.value;if(d)return Promise.resolve(d);if(![fa.PAUSED,fa.RECORDING].includes(((l=o.mediaRecorder)===null||l===void 0?void 0:l.state)||""))return Promise.resolve(void 0);o.startTime&&(o.recordedChunkDurations.push(new Date().getTime()-o.startTime),o.startTime=void 0);var f=new Promise(function(h){o.signalRecordingReady=h});return(u=o.mediaRecorder)===null||u===void 0||u.stop(),(c=o.amplitudeRecorder)===null||c===void 0||c.stop(),o.recordingState.next(fa.STOPPED),f},this.cancel=function(){o.stop(),o.cleanUp()},this.t=i||l2,this.amplitudeRecorderConfig=xh(ne({},r==null?void 0:r.amplitudeRecorderConfig),i9),this.mediaRecorderConfig=xh(ne({},r==null?void 0:r.mediaRecorderConfig),xre),this.transcoderConfig=xh(ne({},r==null?void 0:r.transcoderConfig),qE),Tre.includes(this.transcoderConfig.targetMimeType)||(this.transcoderConfig.targetMimeType=qE.targetMimeType);var s=mH(this.mediaRecorderConfig.mimeType);if(!s)throw new Error("Unsupported media type (supported audio or video only). Provided mimeType: ".concat(this.mediaRecorderConfig.mimeType));this.mediaType=s,this.permission=new Mte({mediaType:s}),this.customGenerateRecordingTitle=a}return Object.defineProperty(e.prototype,"durationMs",{get:function(){return this.recordedChunkDurations.reduce(function(t,n){return t+n},0)},enumerable:!1,configurable:!0}),e}(),Ore=function(){var e,t,n=wa().recordingController,r=n.completeRecording,a=n.recorder,i=n.recording,o=n.recordingState,s=((e=i==null?void 0:i.localMetadata)===null||e===void 0?void 0:e.uploadState)==="uploading",l=$.useMemo(function(){return{paused:o===fa.PAUSED,recording:o===fa.RECORDING,stopped:o===fa.STOPPED}},[o]);return a?v.createElement("div",{className:"str-chat__audio_recorder-container"},v.createElement("div",{className:"str-chat__audio_recorder","data-testid":"audio-recorder"},v.createElement("button",{className:"str-chat__audio_recorder__cancel-button","data-testid":"cancel-recording-audio-button",disabled:s,onClick:a.cancel},v.createElement(gte,null)),l.stopped&&(i!=null&&i.asset_url)?v.createElement(wte,{durationSeconds:(t=i.duration)!==null&&t!==void 0?t:0,mimeType:i.mime_type,src:i.asset_url,waveformData:i.waveform_data}):l.paused||l.recording?v.createElement(Ste,null):null,l.paused&&v.createElement("button",{className:"str-chat__audio_recorder__resume-recording-button",onClick:a.resume},v.createElement(t9,null)),l.recording&&v.createElement("button",{className:"str-chat__audio_recorder__pause-recording-button","data-testid":"pause-recording-audio-button",onClick:a.pause},v.createElement(n9,null)),l.stopped?v.createElement("button",{className:"str-chat__audio_recorder__complete-button","data-testid":"audio-recorder-complete-button",disabled:s,onClick:r},s?v.createElement(lf,null):v.createElement(e9,null)):v.createElement("button",{className:"str-chat__audio_recorder__stop-button","data-testid":"audio-recorder-stop-button",onClick:a.stop},v.createElement(yte,null)))):null},Are=function(e){return v.createElement("button",ne({"aria-label":"Start recording audio",className:"str-chat__start-recording-audio-button","data-testid":"start-recording-audio-button"},e),v.createElement(t9,null))},Lre=function(e){var t,n,r,a=e.attachment,i=e.handleRetry,o=e.removeAttachments,s=Gu({mimeType:a.mime_type}),l=s.audioRef,u=s.isPlaying,c=s.secondsElapsed,d=s.togglePlay;return v.createElement("div",{className:"str-chat__attachment-preview-voice-recording","data-testid":"attachment-preview-voice-recording"},v.createElement("audio",{ref:l},v.createElement("source",{"data-testid":"audio-source",src:a.asset_url,type:a.mime_type})),v.createElement(Am,{isPlaying:u,onClick:d}),v.createElement("button",{className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:((t=a.localMetadata)===null||t===void 0?void 0:t.uploadState)==="uploading",onClick:function(){var f;return((f=a.localMetadata)===null||f===void 0?void 0:f.id)&&o([a.localMetadata.id])}},v.createElement(ec,null)),((n=a.localMetadata)===null||n===void 0?void 0:n.uploadState)==="failed"&&!!i&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:function(){return i(a)}},v.createElement(Jm,null)),v.createElement("div",{className:"str-chat__attachment-preview-metadata"},v.createElement("div",{className:"str-chat__attachment-preview-file-name",title:a.title},a.title),typeof a.duration<"u"&&v.createElement(i_,{durationSeconds:c||a.duration}),((r=a.localMetadata)===null||r===void 0?void 0:r.uploadState)==="uploading"&&v.createElement(lf,{size:17})),v.createElement("div",{className:"str-chat__attachment-preview-file-icon"},v.createElement(Wo,{filename:a.title,mimeType:a.mime_type,version:"2"})))},Rh=function(e){var t,n,r,a,i=e.attachment,o=e.handleRetry,s=e.removeAttachments;return v.createElement("div",{className:"str-chat__attachment-preview-file","data-testid":"attachment-preview-file"},v.createElement("div",{className:"str-chat__attachment-preview-file-icon"},v.createElement(Wo,{filename:i.title,mimeType:i.mime_type,version:"2"})),v.createElement("button",{className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:((t=i.localMetadata)===null||t===void 0?void 0:t.uploadState)==="uploading",onClick:function(){var l,u;return((l=i.localMetadata)===null||l===void 0?void 0:l.id)&&s([(u=i.localMetadata)===null||u===void 0?void 0:u.id])}},v.createElement(ec,null)),((n=i.localMetadata)===null||n===void 0?void 0:n.uploadState)==="failed"&&!!o&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:function(){return o(i)}},v.createElement(Jm,null)),v.createElement("div",{className:"str-chat__attachment-preview-file-end"},v.createElement("div",{className:"str-chat__attachment-preview-file-name",title:i.title},i.title),((r=i.localMetadata)===null||r===void 0?void 0:r.uploadState)==="finished"&&!!i.asset_url&&v.createElement("a",{className:"str-chat__attachment-preview-file-download",download:!0,href:i.asset_url,rel:"noreferrer",target:"_blank"},v.createElement(Jk,null)),((a=i.localMetadata)===null||a===void 0?void 0:a.uploadState)==="uploading"&&v.createElement(lf,{size:17})))},P9=function(e){var t,n=e.attachment,r=e.handleRetry,a=e.removeAttachments,i=En("ImagePreview").BaseImage,o=i===void 0?Lm:i,s=$.useState(!1),l=s[0],u=s[1],c=(t=n.localMetadata)!==null&&t!==void 0?t:{},d=c.id,f=c.uploadState,h=$.useCallback(function(){return u(!0)},[]);return v.createElement("div",{className:Yt("str-chat__attachment-preview-image",{"str-chat__attachment-preview-image--error":l}),"data-testid":"attachment-preview-image"},v.createElement("button",{className:"str-chat__attachment-preview-delete","data-testid":"image-preview-item-delete-button",disabled:f==="uploading",onClick:function(){return d&&a([d])}},v.createElement(ec,null)),f==="failed"&&v.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-image","data-testid":"image-preview-item-retry-button",onClick:function(){return r(n)}},v.createElement(Jm,null)),f==="uploading"&&v.createElement("div",{className:"str-chat__attachment-preview-image-loading"},v.createElement(lf,{size:17})),n.image_url&&v.createElement(o,{alt:n.title,className:"str-chat__attachment-preview-thumbnail",onError:h,src:n.image_url,title:n.title}))},Ire=function(e){var t=e.id,n=e.Preview,r=n===void 0?P9:n,a=wa("ImageUploadPreviewAdapter"),i=a.imageUploads,o=a.removeImage,s=a.uploadImage,l=$.useCallback(function(f){return o(f[0])},[o]),u=$.useCallback(function(f){return f.localMetadata&&s(f.localMetadata.id)},[s]),c=i[t],d=$.useMemo(function(){var f;return!c||c.og_scrape_url?void 0:{image_url:(f=c.previewUri)!==null&&f!==void 0?f:c.url,localMetadata:{file:c.file,id:t,uploadState:c.state},title:c.file.name,type:"image"}},[t,c]);return d?v.createElement(r,{attachment:d,handleRetry:u,removeAttachments:l}):null},Fre=function(e){var t=e.id,n=e.Preview,r=n===void 0?Rh:n,a=wa("FileUploadPreviewAdapter"),i=a.fileUploads,o=a.removeFile,s=a.uploadFile,l=$.useCallback(function(f){o(f[0])},[o]),u=$.useCallback(function(f){return f.localMetadata&&s(f.localMetadata.id)},[s]),c=i[t],d=$.useMemo(function(){return c?{asset_url:c.url,localMetadata:{file:c.file,id:t,uploadState:c.state},mime_type:c.file.type,title:c.file.name,type:"file"}:void 0},[c,t]);return d?v.createElement(r,{attachment:d,handleRetry:u,removeAttachments:l}):null},Nre=function(e){var t=e.AudioAttachmentPreview,n=t===void 0?Rh:t,r=e.FileAttachmentPreview,a=r===void 0?Rh:r,i=e.ImageAttachmentPreview,o=i===void 0?P9:i,s=e.UnsupportedAttachmentPreview,l=s===void 0?_te:s,u=e.VideoAttachmentPreview,c=u===void 0?Rh:u,d=e.VoiceRecordingPreview,f=d===void 0?Lre:d,h=wa("AttachmentPreviewList"),p=h.attachments,w=h.fileOrder,D=h.imageOrder,E=h.removeAttachments,g=h.uploadAttachment;return v.createElement("div",{className:"str-chat__attachment-preview-list"},v.createElement("div",{className:"str-chat__attachment-list-scroll-container","data-testid":"attachment-list-scroll-container"},p.map(function(C){return y2(C)?null:wV(C)?v.createElement(f,{attachment:C,handleRetry:g,key:C.localMetadata.id||C.asset_url,removeAttachments:E}):bV(C)?v.createElement(n,{attachment:C,handleRetry:g,key:C.localMetadata.id||C.asset_url,removeAttachments:E}):CV(C)?v.createElement(c,{attachment:C,handleRetry:g,key:C.localMetadata.id||C.asset_url,removeAttachments:E}):n8(C)?v.createElement(o,{attachment:C,handleRetry:g,key:C.localMetadata.id||C.image_url,removeAttachments:E}):EV(C)?v.createElement(a,{attachment:C,handleRetry:g,key:C.localMetadata.id||C.asset_url,removeAttachments:E}):Ml(C)?v.createElement(l,{attachment:C,handleRetry:g,key:C.localMetadata.id,removeAttachments:E}):null}),D.map(function(C){return v.createElement(Ire,{id:C,key:C,Preview:o})}),w.map(function(C){return v.createElement(Fre,{id:C,key:C,Preview:a})})))},Ure=function(e){var t=e.startFrom,n=$.useState(),r=n[0],a=n[1];return $.useEffect(function(){var i;return typeof r=="number"&&r>0&&(i=setTimeout(function(){a(r-1)},1e3)),function(){clearTimeout(i)}},[r]),$.useEffect(function(){a(t??0)},[t]),r},h_=function(e){var t=e.cooldownInterval,n=Ure({startFrom:t});return v.createElement("div",{className:"str-chat__message-input-cooldown","data-testid":"cooldown-timer"},n)},Bre=function(){var e=kt("useCommandTrigger").themeVersion,t=tn("useCommandTrigger").channelConfig,n=Et("useCommandTrigger").t,r=t==null?void 0:t.commands;return{component:xk,dataProvider:function(a,i,o){if(i.indexOf("/")!==0||!r)return[];var s=r.filter(function(u){var c;return((c=u.name)===null||c===void 0?void 0:c.indexOf(a))!==-1});s.sort(function(u,c){var d,f,h=(d=u.name)===null||d===void 0?void 0:d.toLowerCase(),p=(f=c.name)===null||f===void 0?void 0:f.toLowerCase();if((h==null?void 0:h.indexOf(a))===0&&(h="0".concat(h)),(p==null?void 0:p.indexOf(a))===0&&(p="0".concat(p)),h!=null&&p!=null){if(h<p)return-1;if(h>p)return 1}return 0});var l=s.slice(0,e==="2"?5:10);return o&&o(l.filter(function(u){return u.name!==void 0}).map(function(u){var c={name:u.name};return u.args&&(c.args=n("".concat(u.name,"-command-args"),{defaultValue:u.args})),u.description&&(c.description=n("".concat(u.name,"-command-description"),{defaultValue:u.description})),c}),a),l},output:function(a){return{caretPosition:"next",key:a.name,text:"/".concat(a.name)}}}},jre=function(e){var t=e.entity,n=Object.keys(t).length,r=t==null?void 0:t.itemNameParts,a=function(){return n?n&&r.parts.map(function(i,o){return i.toLowerCase()===r.match.toLowerCase()?v.createElement("span",{className:"str-chat__emoji-item--highlight",key:"part-".concat(o)},i):v.createElement("span",{className:"str-chat__emoji-item--part",key:"part-".concat(o)},i)}):null};return v.createElement("div",{className:"str-chat__emoji-item"},v.createElement("span",{className:"str-chat__emoji-item--entity"},t.native),v.createElement("span",{className:"str-chat__emoji-item--name"},a()))},zre=v.memo(jre),$re=function(e){var t=kt("useEmojiTrigger").themeVersion;return{component:zre,dataProvider:function(n,r,a){return St(void 0,void 0,void 0,function(){var i,o,s;return Dt(this,function(l){switch(l.label){case 0:return n.length===0||n.charAt(0).match(/[^a-zA-Z0-9+-]/)?[2,a([],n)]:[4,e==null?void 0:e.search(n)];case 1:return i=(s=l.sent())!==null&&s!==void 0?s:[],o=i.filter(Boolean).slice(0,t==="2"?7:10).map(function(u){var c=u.id,d=u.name,f=u.native,h=u.skins,p=h===void 0?[]:h,w=p[0];return{id:c,name:d,native:f??w.native}}),a&&a(o,n),[2]}})})},output:function(n){return{caretPosition:"next",key:n.id,text:"".concat("native"in n?n.native:"")}}}},Hre=function(e){var t=e.disableMentions,n=e.mentionAllAppUsers,r=e.mentionQueryParams,a=r===void 0?{}:r,i=e.onSelectUser,o=e.useMentionsTransliteration,s=$.useState(!1),l=s[0],u=s[1],c=kt("useUserTrigger"),d=c.client,f=c.mutes,h=c.themeVersion,p=tn("useUserTrigger").channel,w=p.state.members,D=p.state.watchers,E=$.useCallback(function(){var m=w?Object.values(w).map(function(k){var _=k.user;return _}):[],b=D?Object.values(D):[],S=Vt(Vt([],m,!0),b,!0),y={};return S.forEach(function(k){k&&!y[k.id]&&(y[k.id]=k)}),Object.values(y)},[w,D]),g=$.useCallback(Ao(function(m,b){return St(void 0,void 0,void 0,function(){var S,y,k;return Dt(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,p.queryMembers({name:{$autocomplete:m}})];case 1:return S=_.sent(),y=S.members.map(function(P){return P.user}),b&&y.length?b(y):b([]),[3,3];case 2:return k=_.sent(),console.log({error:k}),[3,3];case 3:return[2]}})})},200),[p]),C=function(m,b){return St(void 0,void 0,void 0,function(){var S,y;return Dt(this,function(k){switch(k.label){case 0:if(!m||l)return[2];u(!0),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,d.queryUsers(ne({$or:[{id:{$autocomplete:m}},{name:{$autocomplete:m}}],id:{$ne:d.userID}},typeof a.filters=="function"?a.filters(m):a.filters),Array.isArray(a.sort)?Vt([{id:1}],a.sort,!0):ne({id:1},a.sort),ne({limit:10},a.options))];case 2:return S=k.sent().users,b&&S.length?b(S):b([]),[3,4];case 3:return y=k.sent(),console.log({error:y}),[3,4];case 4:return u(!1),[2]}})})},M=Ao(C,200);return{callback:function(m){return i(m)},component:Rk,dataProvider:function(m,b,S){var y,k;if(!t){var _=function(I){return b.includes("/unmute")&&!f.length?[]:f.length?b.includes("/unmute")?I.filter(function(B){return f.some(function(F){return F.target.id===B.id})}):I.filter(function(B){return f.every(function(F){return F.target.id!==B.id})}):I};if(n)return M(m,function(I){S&&S(_(I),m)});if(!m||Object.values(w||{}).length<100){var P=E(),z={ownUserId:d.userID,query:m,text:b,useMentionsTransliteration:o,users:P},N=cz(z),T=(k=(y=a.options)===null||y===void 0?void 0:y.limit)!==null&&k!==void 0?k:h==="2"?7:10,L=N.slice(0,T);return S&&S(_(L),m),L}return g(m,function(I){S&&S(_(I),m)})}},output:function(m){return{caretPosition:"next",key:m.id,text:"@".concat(m.name||m.id)}}}},Vre=function(e){var t=e.children,n=wa("DefaultTriggerProvider"),r={"/":Bre(),":":$re(n.emojiSearchIndex),"@":Hre({disableMentions:n.disableMentions,mentionAllAppUsers:n.mentionAllAppUsers,mentionQueryParams:n.mentionQueryParams,onSelectUser:n.onSelectUser,useMentionsTransliteration:n.useMentionsTransliteration})},a=ne(ne({},n),{autocompleteTriggers:r});return v.createElement(o2,{value:a},t)},p_=function(){var e=kt("UploadsPreview").themeVersion,t=tn("UploadsPreview"),n=t.maxNumberOfFiles,r=n===void 0?0:n,a=t.multipleUploads,i=wa("UploadsPreview"),o=i.fileOrder,s=i.fileUploads,l=i.imageOrder,u=i.imageUploads,c=i.numberOfUploads,d=c===void 0?0:c,f=i.removeFile,h=i.removeImage,p=i.uploadFile,w=i.uploadImage,D=i.uploadNewFiles,E=l.map(function(C){return u[C]}).filter(function(C){return!C.og_scrape_url}),g=o.map(function(C){return s[C]});return v.createElement(v.Fragment,null,l.length>0&&v.createElement(pV,{disabled:!a||d>=r,handleFiles:D,handleRemove:h,handleRetry:w,imageUploads:E,multiple:a}),o.length>0&&v.createElement(rH,{fileIconProps:{className:"str-chat__file-icon",version:e},handleFiles:D,handleRemove:f,handleRetry:p,uploads:g}))},Wre=function(e){var t=En("ChatAutoComplete"),n=t.AutocompleteSuggestionItem,r=t.AutocompleteSuggestionList,a=Et("ChatAutoComplete").t,i=wa("ChatAutoComplete"),o=i.cooldownRemaining,s=i.disabled,l=i.emojiSearchIndex,u=i.textareaRef,c=e.placeholder||a("Type your message"),d=e.wordReplace?function(h){var p;return(p=e.wordReplace)===null||p===void 0?void 0:p.call(e,h,l)}:function(h){return St(void 0,void 0,void 0,function(){var p,w,D,E,g;return Dt(this,function(C){switch(C.label){case 0:return[4,l==null?void 0:l.search(h)];case 1:return p=C.sent()||[],w=p.filter(Boolean).slice(0,10).find(function(M){var m=M.emoticons;return!!(m!=null&&m.includes(h))}),w?(D=((E=w.skins)!==null&&E!==void 0?E:[])[0],[2,(g=w.native)!==null&&g!==void 0?g:D.native]):[2,null]}})})},f=$.useCallback(function(h){u&&(u.current=h)},[u]);return v.createElement(Ok,{additionalTextareaProps:i.additionalTextareaProps,"aria-label":o?a("Slow Mode ON"):c,className:"str-chat__textarea__textarea str-chat__message-textarea",closeCommandsList:i.closeCommandsList,closeMentionsList:i.closeMentionsList,containerClassName:"str-chat__textarea str-chat__message-textarea-react-host",disabled:s||!!o,disableMentions:i.disableMentions,dropdownClassName:"str-chat__emojisearch",grow:i.grow,handleSubmit:e.handleSubmit||i.handleSubmit,innerRef:f,itemClassName:"str-chat__emojisearch__item",listClassName:"str-chat__emojisearch__list",loadingComponent:Ju,maxRows:i.maxRows,minChar:0,onBlur:e.onBlur,onChange:e.onChange||i.handleChange,onFocus:e.onFocus,onPaste:e.onPaste||i.onPaste,placeholder:o?a("Slow Mode ON"):c,replaceWord:d,rows:e.rows||1,shouldSubmit:i.shouldSubmit,showCommandsList:i.showCommandsList,showMentionsList:i.showMentionsList,SuggestionItem:n,SuggestionList:r,trigger:i.autocompleteTriggers||{},value:e.value||i.text})},ag=v.memo(Wre),m_=function(e){var t=e.sendMessage,n=Bt(e,["sendMessage"]),r=kt("SendButton").themeVersion;return v.createElement("button",ne({"aria-label":"Send",className:"str-chat__send-button","data-testid":"send-button",onClick:t,type:"button"},n),r==="2"?v.createElement(e9,null):v.createElement(mte,null))},O9=function(){var e=qn("QuotedMessagePreview").setQuotedMessage,t=Et("QuotedMessagePreview").t;return v.createElement("div",{className:"quoted-message-preview-header str-chat__quoted-message-preview-header"},v.createElement("div",{className:"str-chat__quoted-message-reply-to-message"},t("Reply to Message")),v.createElement("button",{"aria-label":t("aria/Cancel Reply"),className:"str-chat__square-button str-chat__quoted-message-remove",onClick:function(){return e(void 0)}},v.createElement(ec,null)))},g_=function(e){var t,n=e.quotedMessage,r=En("QuotedMessagePreview"),a=r.Attachment,i=r.Avatar,o=i===void 0?Fa:i,s=Et("QuotedMessagePreview").userLanguage,l=kt("QuotedMessagePreview").themeVersion,u=((t=n.i18n)===null||t===void 0?void 0:t["".concat(s,"_text")])||n.text,c=$.useMemo(function(){var d,f=((d=n.attachments)!==null&&d!==void 0?d:[])[0];return f?[f]:[]},[n.attachments]);return!u&&!c?null:v.createElement("div",{className:"quoted-message-preview","data-testid":"quoted-message-preview"},l==="1"&&v.createElement(O9,null),v.createElement("div",{className:"quoted-message-preview-content str-chat__quoted-message-preview"},n.user&&v.createElement(o,{image:n.user.image,name:n.user.name||n.user.id,size:20,user:n.user}),v.createElement("div",{className:"quoted-message-preview-content-inner str-chat__quoted-message-bubble"},!!c.length&&v.createElement(a,{attachments:c,isQuoted:!0}),v.createElement("div",{className:"str-chat__quoted-message-text","data-testid":"quoted-message-text"},l==="2"&&v.createElement("p",null,u),l==="1"&&v.createElement(v.Fragment,null,u)))))},Xr;(function(e){e.DISMISSED="dismissed",e.FAILED="failed",e.LOADED="loaded",e.LOADING="loading",e.QUEUED="queued"})(Xr||(Xr={}));var so;(function(e){e[e.UPSERT=0]="UPSERT",e[e.SET=1]="SET",e[e.REMOVE=2]="REMOVE"})(so||(so={}));var qre=function(e){var t=e.linkPreviews,n=tn().quotedMessage,r=t.length>0&&!n;return r?v.createElement("div",{className:"str-chat__link-preview-list"},Array.from(t.values()).map(function(a){return a.state===Xr.LOADED?v.createElement(Yre,{key:a.og_scrape_url,linkPreview:a}):null})):null},Yre=function(e){var t=e.linkPreview,n=wa().dismissLinkPreview,r=Zk(),a=r.handleEnter,i=r.handleLeave,o=r.tooltipVisible,s=$.useState(null),l=s[0],u=s[1];return v.createElement("div",{className:Yt("str-chat__link-preview-card",{"str-chat__link-preview-card--loading":t.state===Xr.LOADING}),"data-testid":"link-preview-card"},v.createElement(Th,{offset:[0,5],referenceElement:l,visible:o},t.og_scrape_url),v.createElement("div",{className:"str-chat__link-preview-card__icon-container",onMouseEnter:a,onMouseLeave:i,ref:u},v.createElement(pte,null)),v.createElement("div",{className:"str-chat__link-preview-card__content"},v.createElement("div",{className:"str-chat__link-preview-card__content-title"},t.title),v.createElement("div",{className:"str-chat__link-preview-card__content-description"},t.text)),v.createElement("button",{className:"str-chat__link-preview-card__dismiss-button","data-testid":"link-preview-card-dismiss-btn",onClick:function(){return n(t)}},v.createElement(ec,null)))},v_=function(){var e=tn("MessageInputFlat").quotedMessage,t=qn("MessageInputFlat").setQuotedMessage,n=kt("MessageInputFlat"),r=n.channel,a=n.themeVersion;return $.useEffect(function(){var i=function(o){var s;if(((s=o.message)===null||s===void 0?void 0:s.id)===(e==null?void 0:e.id)){if(o.type==="message.deleted"){t(void 0);return}t(o.message)}};return r==null||r.on("message.deleted",i),r==null||r.on("message.updated",i),function(){r==null||r.off("message.deleted",i),r==null||r.off("message.updated",i)}},[r,e]),a==="2"?v.createElement(Gre,null):v.createElement(Kre,null)},Kre=function(){var e=tn("MessageInputFlat"),t=e.acceptedFiles,n=e.multipleUploads,r=e.quotedMessage,a=Et("MessageInputFlat").t,i=wa("MessageInputFlat"),o=i.cooldownRemaining,s=i.handleSubmit,l=i.hideSendButton,u=i.isUploadEnabled,c=i.maxFilesLeft,d=i.numberOfUploads,f=i.setCooldownRemaining,h=i.uploadNewFiles,p=En("MessageInputFlat"),w=p.CooldownTimer,D=w===void 0?h_:w,E=p.FileUploadIcon,g=E===void 0?Qk:E,C=p.QuotedMessagePreview,M=C===void 0?g_:C,m=p.SendButton,b=m===void 0?m_:m,S=p.AttachmentPreviewList,y=S===void 0?p_:S,k=p.EmojiPicker;return v.createElement("div",{className:Yt("str-chat__input-flat","str-chat__message-input",{"str-chat__input-flat--send-button-active":!!b,"str-chat__input-flat-has-attachments":d,"str-chat__input-flat-quoted":r&&!r.parent_id})},v.createElement(Im,{accept:t,disabled:!u||c===0||!!o,handleFiles:h,maxNumberOfFiles:c,multiple:n},r&&!r.parent_id&&v.createElement(M,{quotedMessage:r}),v.createElement("div",{className:"str-chat__input-flat-wrapper"},u&&v.createElement(y,null),v.createElement("div",{className:"str-chat__input-flat--textarea-wrapper"},k&&v.createElement(k,null),!!o&&v.createElement("div",{className:"str-chat__input-flat-cooldown"},v.createElement(D,{cooldownInterval:o,setCooldownRemaining:f})),v.createElement(ag,null),u&&!o&&v.createElement("div",{className:"str-chat__fileupload-wrapper","data-testid":"fileinput"},v.createElement(ku,null,a(c?"Attach files":"You've reached the maximum number of files")),v.createElement(m2,{accepts:t,disabled:c===0,handleFiles:h,multiple:n},v.createElement("span",{className:"str-chat__input-flat-fileupload"},v.createElement(g,null))))),!(o||l)&&v.createElement(b,{sendMessage:s}))))},Gre=function(){var e=tn("MessageInputV2"),t=e.acceptedFiles,n=t===void 0?[]:t,r=e.multipleUploads,a=e.quotedMessage,i=Et("MessageInputV2").t,o=wa("MessageInputV2"),s=o.asyncMessagesMultiSendEnabled,l=o.attachments,u=o.cooldownRemaining,c=o.findAndEnqueueURLsToEnrich,d=o.handleSubmit,f=o.hideSendButton,h=o.isUploadEnabled,p=o.linkPreviews,w=o.maxFilesLeft,D=o.message,E=o.numberOfUploads,g=o.recordingController,C=o.setCooldownRemaining,M=o.text,m=o.uploadNewFiles,b=En("MessageInputV2"),S=b.AudioRecorder,y=S===void 0?Ore:S,k=b.AttachmentPreviewList,_=k===void 0?Nre:k,P=b.CooldownTimer,z=P===void 0?h_:P,N=b.FileUploadIcon,T=N===void 0?hte:N,L=b.LinkPreviewList,I=L===void 0?qre:L,B=b.QuotedMessagePreview,F=B===void 0?g_:B,U=b.RecordingPermissionDeniedNotification,R=U===void 0?bte:U,O=b.SendButton,A=O===void 0?m_:O,x=b.StartRecordingAudioButton,j=x===void 0?Are:x,V=b.EmojiPicker,X=$.useState(!1),re=X[0],W=X[1],J=$.useCallback(function(){W(!1)},[]),oe=$.useMemo(function(){return qa()},[]),he=$.useMemo(function(){return n.reduce(function(H,q){var De;return(De=H[q])!==null&&De!==void 0||(H[q]=[]),H},{})},[n]),Oe=v2({accept:he,disabled:!h||w===0,multiple:r,noClick:!0,onDrop:m}),$e=Oe.getRootProps,Ie=Oe.isDragActive,ze=Oe.isDragReject;if(g.recordingState)return v.createElement(y,null);var We=!D&&a&&!a.parent_id,at=!!(g.recorder&&navigator.mediaDevices),bt=!!g.recordingState;return v.createElement(v.Fragment,null,v.createElement("div",ne({},$e({className:"str-chat__message-input"})),at&&g.permissionState==="denied"&&re&&v.createElement(R,{onClose:J,permissionName:Id.MIC}),c&&v.createElement(I,{linkPreviews:Array.from(p.values())}),Ie&&v.createElement("div",{className:Yt("str-chat__dropzone-container",{"str-chat__dropzone-container--not-accepted":ze})},!ze&&v.createElement("p",null,i("Drag your files here")),ze&&v.createElement("p",null,i("Some of the files will not be accepted"))),We&&v.createElement(O9,null),v.createElement("div",{className:"str-chat__message-input-inner"},v.createElement("div",{className:"str-chat__file-input-container","data-testid":"file-upload-button"},v.createElement(p2,{accept:n==null?void 0:n.join(","),"aria-label":i("aria/File upload"),className:"str-chat__file-input","data-testid":"file-input",disabled:!h||w===0,id:oe,multiple:r,onFileChange:m}),v.createElement("label",{className:"str-chat__file-input-label",htmlFor:oe},v.createElement(T,null))),v.createElement("div",{className:"str-chat__message-textarea-container"},We&&v.createElement(F,{quotedMessage:a}),h&&!!(E||l.length&&l.length!==p.size)&&v.createElement(_,null),v.createElement("div",{className:"str-chat__message-textarea-with-emoji-picker"},v.createElement(ag,null),V&&v.createElement(V,null))),!f&&v.createElement(v.Fragment,null,u?v.createElement(z,{cooldownInterval:u,setCooldownRemaining:C}):v.createElement(v.Fragment,null,v.createElement(A,{disabled:!E&&!M.length&&!l.length,sendMessage:d}),at&&v.createElement(j,{disabled:bt||!s&&l.some(function(H){return H.type===am.VOICE_RECORDING}),onClick:function(){var H;(H=g.recorder)===null||H===void 0||H.start(),W(!0)}}))))))},Zre=function(){var e=tn("EditMessageForm"),t=e.acceptedFiles,n=e.multipleUploads,r=Et("EditMessageForm").t,a=wa("EditMessageForm"),i=a.clearEditingState,o=a.handleSubmit,s=a.isUploadEnabled,l=a.maxFilesLeft,u=a.uploadNewFiles,c=En("EditMessageForm"),d=c.FileUploadIcon,f=d===void 0?fte:d,h=c.EmojiPicker,p=kt("EditMessageForm").themeVersion;return $.useEffect(function(){var w=function(D){D.key==="Escape"&&(i==null||i())};return document.addEventListener("keydown",w),function(){return document.removeEventListener("keydown",w)}},[i]),p==="2"?v.createElement("form",{className:"str-chat__edit-message-form",onSubmit:o},v.createElement(v_,null),v.createElement("div",{className:"str-chat__edit-message-form-options"},v.createElement("button",{className:"str-chat__edit-message-cancel","data-testid":"cancel-button",onClick:i},r("Cancel")),v.createElement("button",{className:"str-chat__edit-message-send","data-testid":"send-button",type:"submit"},r("Send")))):v.createElement("div",{className:"str-chat__edit-message-form"},v.createElement(Im,{accept:t,disabled:!s||l===0,handleFiles:u,maxNumberOfFiles:l,multiple:n},v.createElement("form",{onSubmit:o},s&&v.createElement(p_,null),v.createElement(ag,null),v.createElement("div",{className:"str-chat__message-team-form-footer"},v.createElement("div",{className:"str-chat__edit-message-form-options"},h&&v.createElement(h,null),s&&v.createElement("div",{className:"str-chat__fileupload-wrapper","data-testid":"fileinput"},v.createElement(ku,null,r(l?"Attach files":"You've reached the maximum number of files")),v.createElement(m2,{accepts:t,disabled:l===0,handleFiles:u,multiple:n},v.createElement("span",{className:"str-chat__input-fileupload"},v.createElement(f,null))))),v.createElement("div",null,v.createElement("button",{className:"str-chat__edit-message-cancel",onClick:i},r("Cancel")),v.createElement("button",{className:"str-chat__edit-message-send",type:"submit"},r("Send")))))))},A9=function(){var e,t=kt("useCooldownTimer"),n=t.client,r=t.latestMessageDatesByChannels,a=tn("useCooldownTimer"),i=a.channel,o=a.messages,s=o===void 0?[]:o,l=$.useState(),u=l[0],c=l[1],d=i.data||{},f=d.cooldown,h=f===void 0?0:f,p=d.own_capabilities,w=p==null?void 0:p.includes("skip-slow-mode"),D=$.useMemo(function(){var E,g;return(E=r[i.cid])!==null&&E!==void 0?E:(g=Vt([],s,!0).sort(function(C,M){var m,b;return((m=M.created_at)===null||m===void 0?void 0:m.getTime())-((b=C.created_at)===null||b===void 0?void 0:b.getTime())}).find(function(C){var M,m;return((M=C.user)===null||M===void 0?void 0:M.id)===((m=n.user)===null||m===void 0?void 0:m.id)}))===null||g===void 0?void 0:g.created_at},[s,(e=n.user)===null||e===void 0?void 0:e.id,r,i.cid]);return $.useEffect(function(){var E=D?Math.max(0,(new Date().getTime()-D.getTime())/1e3):void 0,g=!w&&typeof E<"u"&&h>E?Math.round(h-E):0;if(c(g),!!g){var C=setTimeout(function(){c(0)},g*1e3);return function(){clearTimeout(C)}}},[h,D,w]),{cooldownInterval:h,cooldownRemaining:u,setCooldownRemaining:c}},Xre=function(e,t,n){var r=e.doImageUploadRequest,a=e.errorHandler,i=t.imageUploads,o=tn("useImageUploads").channel,s=kt("useImageUploads").getAppSettings,l=qn("useImageUploads").addNotification,u=Et("useImageUploads").t,c=$.useCallback(function(f){n({id:f,type:"removeImageUpload"})},[]),d=$.useCallback(function(f){return St(void 0,void 0,void 0,function(){var h,p,w,D,E,g,C,M;return Dt(this,function(m){switch(m.label){case 0:return h=i[f],h?(p=h.file,h.state!=="uploading"&&n({id:f,state:"uploading",type:"setImageUpload"}),[4,c2({addNotification:l,file:p,getAppSettings:s,t:u,uploadType:"image"})]):[2];case 1:if(w=m.sent(),!w)return[2,c(f)];m.label=2;case 2:return m.trys.push([2,7,,8]),r?[4,r(p,o)]:[3,4];case 3:return D=m.sent(),[3,6];case 4:return[4,o.sendImage(p)];case 5:D=m.sent(),m.label=6;case 6:return[3,8];case 7:return E=m.sent(),g=typeof E.message=="string"?E.message:u("Error uploading image"),l(g,"error"),C=!1,i[f]?n({id:f,state:"failed",type:"setImageUpload"}):C=!0,!C&&a&&a(E,"upload-image",ne(ne({},p),{id:f})),[2];case 8:return D?(h.previewUri&&((M=URL.revokeObjectURL)===null||M===void 0||M.call(URL,h.previewUri)),n({id:f,previewUri:void 0,state:"finished",type:"setImageUpload",url:D.file}),[2]):(c(f),[2])}})})},[i,o,r,a,c]);return $.useEffect(function(){var f=Object.values(i).find(function(h){return h.state==="uploading"&&h.file});f&&d(f.id)},[i,d]),{removeImage:c,uploadImage:d}},Qre=function(e,t,n){var r=e.doFileUploadRequest,a=e.errorHandler,i=t.fileUploads,o=tn("useFileUploads").channel,s=qn("useFileUploads").addNotification,l=kt("useFileUploads").getAppSettings,u=Et("useFileUploads").t,c=$.useCallback(function(f){n({id:f,state:"uploading",type:"setFileUpload"})},[]),d=$.useCallback(function(f){n({id:f,type:"removeFileUpload"})},[]);return $.useEffect(function(){(function(){return St(void 0,void 0,void 0,function(){var f,h,p,w,D,E,g,C;return Dt(this,function(M){switch(M.label){case 0:return f=Object.values(i).find(function(m){return m.state==="uploading"&&m.file}),f?(h=f.file,p=f.id,[4,c2({addNotification:s,file:h,getAppSettings:l,t:u,uploadType:"file"})]):[2];case 1:if(w=M.sent(),!w)return[2,d(p)];M.label=2;case 2:return M.trys.push([2,7,,8]),r?[4,r(h,o)]:[3,4];case 3:return D=M.sent(),[3,6];case 4:return[4,o.sendFile(h)];case 5:D=M.sent(),M.label=6;case 6:return[3,8];case 7:return E=M.sent(),g=typeof E.message=="string"?E.message:u("Error uploading file"),s(g,"error"),C=!1,i[p]?n({id:p,state:"failed",type:"setFileUpload"}):C=!0,!C&&a&&a(E,"upload-file",h),[2];case 8:return D?(n({id:p,state:"finished",thumb_url:D.thumb_url,type:"setFileUpload",url:D.file}),[2]):(d(p),[2])}})})})()},[i,o,r,a,d]),{removeFile:d,uploadFile:c}},Jre=10,eae=function(e){if(Ml(e))return e;var t=e.localMetadata,n=Bt(e,["localMetadata"]);return ne({localMetadata:ne(ne({},t??{}),{id:(t==null?void 0:t.id)||qa()})},n)},tae=function(e,t,n,r){var a=e.doFileUploadRequest,i=e.doImageUploadRequest,o=e.errorHandler,s=e.noFiles,l=t.fileUploads,u=t.imageUploads,c=kt("useAttachments").getAppSettings,d=Et("useAttachments").t,f=qn("useAttachments").addNotification,h=tn("useAttachments"),p=h.channel,w=h.maxNumberOfFiles,D=h.multipleUploads,E=Qre(e,t,n),g=E.removeFile,C=E.uploadFile,M=Xre(e,t,n),m=M.removeImage,b=M.uploadImage,S=D?w||Jre:1,y=Object.values(u).filter(function(I){var B=I.og_scrape_url,F=I.state;return F!=="failed"&&!B}).length,k=Object.values(l).filter(function(I){var B=I.state;return B!=="failed"}).length,_=y+k,P=S-_,z=$.useCallback(function(I){var B;Array.from(I).slice(0,P).forEach(function(F){var U,R=qa();F.type.startsWith("image/")&&!F.type.endsWith(".photoshop")?n({file:F,id:R,previewUri:(U=URL.createObjectURL)===null||U===void 0?void 0:U.call(URL,F),state:"uploading",type:"setImageUpload"}):F instanceof File&&!s&&n({file:F,id:R,state:"uploading",type:"setFileUpload"})}),(B=r==null?void 0:r.current)===null||B===void 0||B.focus()},[P,s]),N=$.useCallback(function(I){I.length&&n({ids:I,type:"removeAttachments"})},[n]),T=$.useCallback(function(I){I.length&&n({attachments:I.map(eae),type:"upsertAttachments"})},[n]),L=$.useCallback(function(I){return St(void 0,void 0,void 0,function(){var B,F,U,R,O,A,x,j,V,X,re,W,J,oe;return Dt(this,function(he){switch(he.label){case 0:return B=I.localMetadata,F=Bt(I,["localMetadata"]),B!=null&&B.file?(U=mp(F),R=(oe=B==null?void 0:B.id)!==null&&oe!==void 0?oe:qa(),O=B.file,[4,c2({addNotification:f,file:O,getAppSettings:c,t:d,uploadType:U?"image":"file"})]):[2,I];case 1:if(A=he.sent(),!A)return x=d("Missing permissions to upload the attachment"),console.error(new Error(x)),f(x,"error"),[2,I];T([ne(ne({},F),{localMetadata:ne(ne({},B),{id:R,uploadState:"uploading"})})]),he.label=2;case 2:return he.trys.push([2,7,,8]),V=U?i:a,V?[4,V(O,p)]:[3,4];case 3:return j=he.sent(),[3,6];case 4:return[4,p[U?"sendImage":"sendFile"](O)];case 5:j=he.sent(),he.label=6;case 6:return[3,8];case 7:return X=he.sent(),re={message:d("Error uploading attachment"),name:"Error"},typeof X.message=="string"?re=X:typeof X=="object"&&(re=Object.assign(re,X)),console.error(re),f(re.message,"error"),W=ne(ne({},F),{localMetadata:ne(ne({},B),{uploadState:"failed"})}),T([W]),o&&o(re,"upload-attachment",O),[2,W];case 8:return j?(J=ne(ne({},F),{localMetadata:ne(ne({},B),{uploadState:"finished"})}),n8(J)?(J.localMetadata.previewUri&&(URL.revokeObjectURL(J.localMetadata.previewUri),delete J.localMetadata.previewUri),J.image_url=j.file):J.asset_url=j.file,T([J]),[2,J]):(N([R]),[2])}})})},[f,p,a,i,o,c,N,d,T]);return{maxFilesLeft:P,numberOfUploads:_,removeAttachments:N,removeFile:g,removeImage:m,uploadAttachment:L,uploadFile:C,uploadImage:b,uploadNewFiles:z,upsertAttachments:T}},nae=function(e){var t,n=e.debounceURLEnrichmentMs,r=e.dispatch,a=e.enrichURLForPreview,i=a===void 0?!1:a,o=e.findURLFn,s=e.linkPreviews,l=e.onLinkPreviewDismissed,u=kt().client,c=tn(),d=c.channelConfig,f=c.debounceURLEnrichmentMs,h=c.findURLFn,p=c.onLinkPreviewDismissed,w=$.useRef(!1),D=o??h,E=l??p,g=(t=n??f)!==null&&t!==void 0?t:1500,C=$.useCallback(function(b){E==null||E(b);var S=new Map;b.state=Xr.DISMISSED,S.set(b.og_scrape_url,b),r({linkPreviews:S,mode:so.UPSERT,type:"setLinkPreviews"})},[E]),M=$.useCallback(Qp(function(b,S){S===void 0&&(S=so.SET);var y=D?D(b):O0(b,"url").reduce(function(k,_){return _.isLink&&k.push(_.href),k},[]);w.current=y.length===0,r({linkPreviews:y.reduce(function(k,_){return k.set(_,{og_scrape_url:_,state:Xr.QUEUED}),k},new Map),mode:S,type:"setLinkPreviews"})},g,{leading:!1,trailing:!0}),[g,w,D]),m=$.useCallback(function(){M.cancel(),M(""),M.flush()},[M]);return $.useEffect(function(){var b=Array.from(s.values()).reduce(function(S,y){if(y.state==="queued"){var k=ne(ne({},y),{state:Xr.LOADING});S.set(y.og_scrape_url,k)}return S},new Map);b.size&&(r({linkPreviews:b,mode:so.UPSERT,type:"setLinkPreviews"}),b.forEach(function(S){u.enrichURL(S.og_scrape_url).then(function(y){y.duration;var k=Bt(y,["duration"]);if(!w.current){var _=new Map;_.set(S.og_scrape_url,ne(ne({},k),{state:Xr.LOADED})),r({linkPreviews:_,mode:so.UPSERT,type:"setLinkPreviews"})}}).catch(function(){var y=new Map;y.set(S.og_scrape_url,ne(ne({},S),{state:Xr.FAILED})),r({linkPreviews:y,mode:so.UPSERT,type:"setLinkPreviews"})})}))},[w,s]),{cancelURLEnrichment:m,dismissLinkPreview:C,findAndEnqueueURLsToEnrich:d!=null&&d.url_enrichment&&i?M:void 0}},rae=function(e,t,n,r){var a=tn("useMessageInputText").channel,i=e.additionalTextareaProps,o=e.focus,s=e.parent,l=e.publishTypingEvent,u=l===void 0?!0:l,c=t.text,d=$.useRef();$.useEffect(function(){o&&d.current&&d.current.focus()},[o]);var f=$.useRef(),h=$.useCallback(function(w){var D=(i||{}).maxLength;if(!d.current)return n({getNewText:function(M){var m=M+w;return D&&m.length>D?m.slice(0,D):m},type:"setText"});var E=d.current,g=E.selectionEnd,C=E.selectionStart;f.current=C+w.length,n({getNewText:function(M){var m=M.slice(0,C)+w+M.slice(g);return D&&m.length>D?m.slice(0,D):m},type:"setText"})},[i,f,d]);$.useEffect(function(){var w=d.current;w&&f.current!==void 0&&(w.selectionStart=f.current,w.selectionEnd=f.current,f.current=void 0)},[c,f]);var p=$.useCallback(function(w){if(w.preventDefault(),!(!w||!w.target)){var D=w.target.value;n({getNewText:function(){return D},type:"setText"}),r==null||r(D),u&&D&&a&&pD(a.keystroke(s==null?void 0:s.id),"start typing event")}},[a,r,s,u]);return{handleChange:p,insertText:h,textareaRef:d}},aae=function(e){return e.includes("video/")?"video":e.includes("audio/")?"audio":"file"},iae=function(e,t,n,r,a){var i=e.clearEditingState,o=e.message,s=e.overrideSubmitHandler,l=e.parent,u=e.publishTypingEvent,c=t.attachments,d=t.fileOrder,f=t.fileUploads,h=t.imageOrder,p=t.imageUploads,w=t.linkPreviews,D=t.mentioned_users,E=t.text,g=a.cancelURLEnrichment,C=a.findAndEnqueueURLsToEnrich,M=tn("useSubmitHandler").channel,m=qn("useSubmitHandler"),b=m.addNotification,S=m.editMessage,y=m.sendMessage,k=Et("useSubmitHandler").t,_=$.useRef({hasChanged:!1,initialText:E});$.useEffect(function(){if(!_.current.initialText.length){_.current.initialText=E;return}_.current.hasChanged=E!==_.current.initialText},[E]);var P=function(){var N=h.map(function(I){return p[I]}).filter(function(I){return I.state!=="failed"}).filter(function(I,B,F){var U=I.id,R=I.url;return F.every(function(O){return O.id===U||O.url!==R})}).filter(function(I){return _.current.hasChanged?!I.og_scrape_url:!0}).map(function(I){var B=I.file.name,F=I.url,U=Bt(I,["file","url"]);return{author_name:U.author_name,fallback:B,image_url:F,og_scrape_url:U.og_scrape_url,text:U.text,title:U.title,title_link:U.title_link,type:"image"}}),T=d.map(function(I){return f[I]}).filter(function(I){return I.state!=="failed"}).map(function(I){return{asset_url:I.url,file_size:I.file.size,mime_type:I.file.type,thumb_url:I.thumb_url,title:I.file.name,type:aae(I.file.type||"")}}),L=c.filter(function(I){var B;return((B=I.localMetadata)===null||B===void 0?void 0:B.uploadState)!=="failed"}).map(function(I){I.localMetadata;var B=Bt(I,["localMetadata"]);return B});return Vt(Vt(Vt([],L,!0),N,!0),T,!0)},z=function(N,T,L){return St(void 0,void 0,void 0,function(){var I,B,F,U,R,O,A,x,j,V,X,re,W;return Dt(this,function(J){switch(J.label){case 0:if(N==null||N.preventDefault(),I=E.trim(),B=I===""||I===">"||I==="``````"||I==="``"||I==="**"||I==="____"||I==="__"||I==="****",B&&r===0&&c.length===0)return[2];if(F=Object.values(p).some(function(oe){return oe.state==="uploading"})||Object.values(f).some(function(oe){return oe.state==="uploading"})||c.some(function(oe){var he;return((he=oe.localMetadata)===null||he===void 0?void 0:he.uploadState)==="uploading"}),F)return[2,b(k("Wait until all attachments have uploaded"),"error")];if(U=P(),R=[],C&&(U=U.filter(function(oe){return!oe.og_scrape_url}),g(),O=Array.from(w.values()).some(function(oe){return[Xr.QUEUED,Xr.LOADING].includes(oe.state)}),A=Array.from(w.values()).some(function(oe){return oe.state===Xr.DISMISSED}),O||(R=Array.from(w.values()).filter(function(oe){return oe.state===Xr.LOADED&&!U.find(function(he){return he.og_scrape_url===oe.og_scrape_url})}).map(function(oe){oe.state;var he=Bt(oe,["state"]);return he}))),x=Vt(Vt([],U,!0),R,!0),j=Array.from(new Set(D.filter(function(oe){var he=oe.id,Oe=oe.name;return E.includes("@".concat(he))||E.includes("@".concat(Oe))}))),V={attachments:x,mentioned_users:j,text:E},X=!!C,re=X&&(!O&&R.length>0||A),W=X||L?Object.assign(X?{skip_enrich_url:re}:{},L??{}):void 0,!(o&&o.type!=="error"))return[3,5];delete o.i18n,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,S(ne(ne(ne({},o),V),T),W)];case 2:return J.sent(),i==null||i(),n({type:"clear"}),[3,4];case 3:return J.sent(),b(k("Edit message request failed"),"error"),[3,4];case 4:return[3,13];case 5:return J.trys.push([5,12,,13]),n({type:"clear"}),s?[4,s(ne(ne({},V),{parent:l}),M.cid,T,W)]:[3,7];case 6:return J.sent(),[3,9];case 7:return[4,y(ne(ne({},V),{parent:l}),T,W)];case 8:J.sent(),J.label=9;case 9:return u?[4,M.stopTyping()]:[3,11];case 10:J.sent(),J.label=11;case 11:return[3,13];case 12:return J.sent(),n({getNewText:function(){return E},type:"setText"}),j==null||j.forEach(function(oe){n({type:"addMentionedUser",user:oe})}),b(k("Send message request failed"),"error"),[3,13];case 13:return[2]}})})};return{handleSubmit:z}},oae=function(e,t,n,r){var a=$.useCallback(function(i){n&&function(o){return St(void 0,void 0,void 0,function(){var s,l,u,c,d,f,h;return Dt(this,function(p){switch(p.label){case 0:if(s=o.clipboardData.items,!cH(Array.from(s)))return[2];for(o.preventDefault(),l=void 0,u=function(w){var D=s[w];if(D.kind==="string"&&D.type==="text/plain")return l=new Promise(function(E){D.getAsString(function(g){E(g)})}),"break"},c=0;c<s.length&&(d=u(c),d!=="break");c++);return[4,dH(Array.from(s))];case 1:return f=p.sent(),f.length?(e(f),[2]):l?[4,l]:[3,3];case 2:h=p.sent(),t(h),r==null||r(h,so.UPSERT),r==null||r.flush(),p.label=3;case 3:return[2]}})})}(i)},[t,e]);return{onPaste:a}},sae=function(e){var t=e.asyncMessagesMultiSendEnabled,n=e.enabled,r=e.generateRecordingTitle,a=e.handleSubmit,i=e.recordingConfig,o=e.uploadAttachment,s=Et("useMediaRecorder").t,l=$.useState(),u=l[0],c=l[1],d=$.useState(),f=d[0],h=d[1],p=$.useState(),w=p[0],D=p[1],E=$.useState(!1),g=E[0],C=E[1],M=$.useMemo(function(){return n?new Pre({config:i??{},generateRecordingTitle:r,t:s}):void 0},[i,n,r,s]),m=$.useCallback(function(){return St(void 0,void 0,void 0,function(){var b;return Dt(this,function(S){switch(S.label){case 0:return M?[4,M.stop()]:[2];case 1:return b=S.sent(),b?[4,o(b)]:[2];case 2:return S.sent(),t||C(!0),M.cleanUp(),[2]}})})},[t,M,o]);return $.useEffect(function(){g&&(a(),C(!1))},[a,g]),$.useEffect(function(){if(M){M.permission.watch();var b=M.recording.subscribe(c),S=M.recordingState.subscribe(h),y=M.permission.state.subscribe(D);return function(){M.cancel(),M.permission.unwatch(),b.unsubscribe(),S.unsubscribe(),y.unsubscribe()}}},[M]),{completeRecording:m,permissionState:w,recorder:M,recording:u,recordingState:f}},L9=function(){return{attachments:[],fileOrder:[],fileUploads:{},imageOrder:[],imageUploads:{},linkPreviews:new Map,mentioned_users:[],setText:function(){return null},text:""}},lae=function(e){var t,n,r,a,i,o,s;if(!e)return L9();var l=(n=(t=e.attachments)===null||t===void 0?void 0:t.filter(function(w){var D=w.type;return D==="image"}).reduce(function(w,D){var E=D.author_name,g=D.fallback,C=g===void 0?"":g,M=D.image_url,m=D.og_scrape_url,b=D.text,S=D.title,y=D.title_link,k=qa();return w[k]={author_name:E,file:{name:C},id:k,og_scrape_url:m,state:"finished",text:b,title:S,title_link:y,url:M},w},{}))!==null&&n!==void 0?n:{},u=(a=(r=e.attachments)===null||r===void 0?void 0:r.filter(function(w){var D=w.type;return D==="file"}).reduce(function(w,D){var E=D.asset_url,g=D.file_size,C=D.mime_type,M=D.thumb_url,m=D.title,b=m===void 0?"":m,S=qa();return w[S]={file:{name:b,size:g,type:C},id:S,state:"finished",thumb_url:M,url:E},w},{}))!==null&&a!==void 0?a:{},c=(o=(i=e.attachments)===null||i===void 0?void 0:i.reduce(function(w,D){return D.og_scrape_url&&w.set(D.og_scrape_url,ne(ne({},D),{state:Xr.LOADED})),w},new Map))!==null&&o!==void 0?o:new Map,d=Object.keys(l),f=Object.keys(u),h=((s=e.attachments)===null||s===void 0?void 0:s.filter(function(w){var D=w.type;return D!=="file"&&D!=="image"}).map(function(w){return ne(ne({},w),{localMetadata:{id:qa()}})}))||[],p=e.mentioned_users||[];return{attachments:h,fileOrder:f,fileUploads:u,imageOrder:d,imageUploads:l,linkPreviews:c,mentioned_users:p,setText:function(){return null},text:e.text||""}},uae=function(e,t){var n,r;switch(t.type){case"setText":return ne(ne({},e),{text:t.getNewText(e.text)});case"clear":return L9();case"upsertAttachments":{var a=Vt([],e.attachments,!0);return t.attachments.forEach(function(h){var p,w=e.attachments.findIndex(function(E){var g,C,M;return((g=E.localMetadata)===null||g===void 0?void 0:g.id)&&((C=E.localMetadata)===null||C===void 0?void 0:C.id)===((M=h.localMetadata)===null||M===void 0?void 0:M.id)});if(w===-1)a.push(h);else{var D=Ote((p=e.attachments[w])!==null&&p!==void 0?p:{},h);a.splice(w,1,D)}}),ne(ne({},e),{attachments:a})}case"removeAttachments":return ne(ne({},e),{attachments:e.attachments.filter(function(h){var p;return!t.ids.includes((p=h.localMetadata)===null||p===void 0?void 0:p.id)})});case"setImageUpload":{var i=e.imageUploads[t.id];if(!i&&!t.file)return e;var o=i?e.imageOrder:e.imageOrder.concat(t.id),s=ne({},t);return delete s.type,ne(ne({},e),{imageOrder:o,imageUploads:ne(ne({},e.imageUploads),(n={},n[t.id]=ne(ne({},e.imageUploads[t.id]),s),n))})}case"setFileUpload":{var l=e.fileUploads[t.id];if(!l&&!t.file)return e;var u=l?e.fileOrder:e.fileOrder.concat(t.id),s=ne({},t);return delete s.type,ne(ne({},e),{fileOrder:u,fileUploads:ne(ne({},e.fileUploads),(r={},r[t.id]=ne(ne({},e.fileUploads[t.id]),s),r))})}case"setLinkPreviews":{var c=new Map(e.linkPreviews);return t.mode===so.REMOVE?Array.from(t.linkPreviews.keys()).forEach(function(h){c.delete(h)}):(Array.from(t.linkPreviews.values()).reduce(function(h,p){var w=h.get(p.og_scrape_url),D=p.state===Xr.QUEUED&&(w==null?void 0:w.state)!==Xr.FAILED;return w&&D||h.set(p.og_scrape_url,p),h},c),t.mode===so.SET&&Array.from(e.linkPreviews.keys()).forEach(function(h){t.linkPreviews.get(h)||c.delete(h)})),ne(ne({},e),{linkPreviews:c})}case"removeImageUpload":{if(!e.imageUploads[t.id])return e;var d=ne({},e.imageUploads);return delete d[t.id],ne(ne({},e),{imageOrder:e.imageOrder.filter(function(h){return h!==t.id}),imageUploads:d})}case"removeFileUpload":{if(!e.fileUploads[t.id])return e;var f=ne({},e.fileUploads);return delete f[t.id],ne(ne({},e),{fileOrder:e.fileOrder.filter(function(h){return h!==t.id}),fileUploads:f})}case"addMentionedUser":return ne(ne({},e),{mentioned_users:e.mentioned_users.concat(t.user)});default:return e}},I9=function(e){var t,n=e.additionalTextareaProps,r=e.asyncMessagesMultiSendEnabled,a=e.audioRecordingConfig,i=e.audioRecordingEnabled,o=e.getDefaultValue,s=e.message,l=e.urlEnrichmentConfig,u=tn("useMessageInputState"),c=u.channelCapabilities,d=c===void 0?{}:c,f=u.channelConfig,h=u.enrichURLForPreview,p=(o==null?void 0:o())||(n==null?void 0:n.defaultValue),w=s||(Array.isArray(p)?{text:p.join("")}:{text:p==null?void 0:p.toString()}),D=$.useReducer(uae,w,lae),E=D[0],g=D[1],C=nae(ne(ne({dispatch:g,linkPreviews:E.linkPreviews},l),{enrichURLForPreview:(t=l==null?void 0:l.enrichURLForPreview)!==null&&t!==void 0?t:h})),M=rae(e,E,g,C.findAndEnqueueURLsToEnrich),m=M.handleChange,b=M.insertText,S=M.textareaRef,y=$.useState(!1),k=y[0],_=y[1],P=$.useState(!1),z=P[0],N=P[1],T=function(){g({getNewText:function(){return"/"},type:"setText"}),_(!0)},L=function(){return _(!1)},I=function(){g({getNewText:function(ze){return ze+"@"},type:"setText"}),N(!0)},B=function(){return N(!1)},F=tae(e,E,g,S),U=F.maxFilesLeft,R=F.numberOfUploads,O=F.removeAttachments,A=F.removeFile,x=F.removeImage,j=F.uploadAttachment,V=F.uploadFile,X=F.uploadImage,re=F.uploadNewFiles,W=F.upsertAttachments,J=iae(e,E,g,R,C).handleSubmit,oe=sae({asyncMessagesMultiSendEnabled:r,enabled:!!i,handleSubmit:J,recordingConfig:a,uploadAttachment:j}),he=(f==null?void 0:f.uploads)!==!1&&d["upload-file"]!==!1,Oe=oae(re,b,he,C.findAndEnqueueURLsToEnrich).onPaste,$e=$.useCallback(function(ze){g({type:"addMentionedUser",user:ze})},[]),Ie=$.useCallback(function(ze){g({getNewText:function(){return ze},type:"setText"})},[]);return ne(ne(ne({},E),C),{closeCommandsList:L,closeMentionsList:B,handleChange:m,handleSubmit:J,insertText:b,isUploadEnabled:he,maxFilesLeft:U,numberOfUploads:R,onPaste:Oe,onSelectUser:$e,openCommandsList:T,openMentionsList:I,recordingController:oe,removeAttachments:O,removeFile:A,removeImage:x,setText:Ie,showCommandsList:k,showMentionsList:z,textareaRef:S,uploadAttachment:j,uploadFile:V,uploadImage:X,uploadNewFiles:re,upsertAttachments:W})},F9=function(e){var t=e.additionalTextareaProps,n=e.asyncMessagesMultiSendEnabled,r=e.attachments,a=e.audioRecordingEnabled,i=e.autocompleteTriggers,o=e.cancelURLEnrichment,s=e.clearEditingState,l=e.closeCommandsList,u=e.closeMentionsList,c=e.cooldownInterval,d=e.cooldownRemaining,f=e.disabled,h=e.disableMentions,p=e.dismissLinkPreview,w=e.doFileUploadRequest,D=e.doImageUploadRequest,E=e.emojiSearchIndex,g=e.errorHandler,C=e.fileOrder,M=e.fileUploads,m=e.findAndEnqueueURLsToEnrich,b=e.focus,S=e.grow,y=e.handleChange,k=e.handleSubmit,_=e.hideSendButton,P=e.imageOrder,z=e.imageUploads,N=e.insertText,T=e.isUploadEnabled,L=e.linkPreviews,I=e.maxFilesLeft,B=e.maxRows,F=e.mentionAllAppUsers,U=e.mentioned_users,R=e.mentionQueryParams,O=e.message,A=e.noFiles,x=e.numberOfUploads,j=e.onPaste,V=e.onSelectUser,X=e.openCommandsList,re=e.openMentionsList,W=e.overrideSubmitHandler,J=e.parent,oe=e.publishTypingEvent,he=e.recordingController,Oe=e.removeAttachments,$e=e.removeFile,Ie=e.removeImage,ze=e.setCooldownRemaining,We=e.setText,at=e.shouldSubmit,bt=e.showCommandsList,H=e.showMentionsList,q=e.text,De=e.textareaRef,Fe=e.uploadAttachment,Qe=e.uploadFile,le=e.uploadImage,Ne=e.uploadNewFiles,pe=e.upsertAttachments,Te=e.useMentionsTransliteration,Ue=O==null?void 0:O.editing,Be=Object.entries(M).map(function(se){se[0];var fe=se[1];return fe.state}).join(),ut=Object.entries(z).map(function(se){se[0];var fe=se[1];return fe.state}).join(),Mt=Array.from(L.values()).join(),K=U.length,G=J==null?void 0:J.id,ie=$.useMemo(function(){return{additionalTextareaProps:t,asyncMessagesMultiSendEnabled:n,attachments:r,audioRecordingEnabled:a,autocompleteTriggers:i,cancelURLEnrichment:o,clearEditingState:s,closeCommandsList:l,closeMentionsList:u,cooldownInterval:c,cooldownRemaining:d,disabled:f,disableMentions:h,dismissLinkPreview:p,doFileUploadRequest:w,doImageUploadRequest:D,emojiSearchIndex:E,errorHandler:g,fileOrder:C,fileUploads:M,findAndEnqueueURLsToEnrich:m,focus:b,grow:S,handleChange:y,handleSubmit:k,hideSendButton:_,imageOrder:P,imageUploads:z,insertText:N,isUploadEnabled:T,linkPreviews:L,maxFilesLeft:I,maxRows:B,mentionAllAppUsers:F,mentioned_users:U,mentionQueryParams:R,message:O,noFiles:A,numberOfUploads:x,onPaste:j,onSelectUser:V,openCommandsList:X,openMentionsList:re,overrideSubmitHandler:W,parent:J,publishTypingEvent:oe,recordingController:he,removeAttachments:Oe,removeFile:$e,removeImage:Ie,setCooldownRemaining:ze,setText:We,shouldSubmit:at,showCommandsList:bt,showMentionsList:H,text:q,textareaRef:De,uploadAttachment:Fe,uploadFile:Qe,uploadImage:le,uploadNewFiles:Ne,upsertAttachments:pe,useMentionsTransliteration:Te}},[n,a,o,c,d,p,Ue,E,Be,m,k,_,ut,T,Mt,K,G,oe,he,Oe,bt,H,q,Fe,pe]);return ie},cae=function(e){var t,n=A9(),r=I9(e),a=En("MessageInput").emojiSearchIndex,i=F9(ne(ne(ne(ne({},n),r),e),{emojiSearchIndex:(t=e.emojiSearchIndex)!==null&&t!==void 0?t:a}));return v.createElement(o2,{value:i},e.children)},dae=function(e){var t=e.Input,n=tn().dragAndDropWindow,r=En("MessageInput"),a=r.Input,i=r.TriggerProvider,o=i===void 0?Vre:i,s=t||a||v_;return n?v.createElement(v.Fragment,null,v.createElement(o,null,v.createElement(s,null))):v.createElement(cae,ne({},e),v.createElement(o,null,v.createElement(s,null)))},y_=v.memo(dae),fae=function(){var e=tn("MessageInputSmall"),t=e.acceptedFiles,n=e.multipleUploads,r=e.quotedMessage,a=qn("MessageInputSmall").setQuotedMessage,i=Et("MessageInputSmall").t,o=kt("MessageInputSmall").channel,s=wa("MessageInputSmall"),l=s.cooldownRemaining,u=s.handleSubmit,c=s.hideSendButton,d=s.isUploadEnabled,f=s.maxFilesLeft,h=s.numberOfUploads,p=s.setCooldownRemaining,w=s.uploadNewFiles,D=En("MessageInputSmall"),E=D.CooldownTimer,g=E===void 0?h_:E,C=D.FileUploadIcon,M=C===void 0?Qk:C,m=D.SendButton,b=m===void 0?m_:m,S=D.QuotedMessagePreview,y=S===void 0?g_:S,k=D.EmojiPicker;return $.useEffect(function(){var _=function(P){var z;if(r&&((z=P.message)===null||z===void 0?void 0:z.id)===r.id){if(P.type==="message.deleted"){a(void 0);return}a(P.message)}};return o==null||o.on("message.deleted",_),o==null||o.on("message.updated",_),function(){o==null||o.off("message.deleted",_),o==null||o.off("message.updated",_)}},[o,r]),v.createElement("div",{className:"str-chat__small-message-input__wrapper"},v.createElement(Im,{accept:t,disabled:!d||f===0||!!l,handleFiles:w,maxNumberOfFiles:f,multiple:n},v.createElement("div",{className:"str-chat__small-message-input ".concat(b?"str-chat__small-message-input--send-button-active":""," ").concat(r&&r.parent_id?"str-chat__input-flat-quoted":""," ").concat(h?"str-chat__small-message-input-has-attachments":""," ")},r&&r.parent_id&&v.createElement(y,{quotedMessage:r}),d&&v.createElement(p_,null),v.createElement("div",{className:"str-chat__small-message-input--textarea-wrapper"},v.createElement(ag,null),l?v.createElement("div",{className:"str-chat__input-small-cooldown"},v.createElement(g,{cooldownInterval:l,setCooldownRemaining:p})):v.createElement(v.Fragment,null,d&&v.createElement("div",{className:"str-chat__fileupload-wrapper","data-testid":"fileinput"},v.createElement(ku,null,i(f?"Attach files":"You've reached the maximum number of files")),v.createElement(m2,{accepts:t,disabled:f===0,handleFiles:w,multiple:n},v.createElement("span",{className:"str-chat__small-message-input-fileupload"},v.createElement(M,null)))),k&&v.createElement(k,{buttonClassName:"str-chat__small-message-input-emojiselect",ButtonIconComponent:dte}))),!(l||c)&&v.createElement(b,{sendMessage:u}))))},hae=v.lazy(function(){return St(void 0,void 0,void 0,function(){var e;return Dt(this,function(t){switch(t.label){case 0:return[4,w6(()=>import("./mml-react.esm-BEwLvKrC.js"),[])];case 1:return e=t.sent(),[2,{default:e.MML}]}})})}),pae=function(e){var t=e.actionHandler,n=e.align,r=n===void 0?"right":n,a=e.source,i=kt("MML").theme;return v.createElement($.Suspense,{fallback:null},v.createElement(hae,{className:"mml-align-".concat(r),Loading:null,onSubmit:t,source:a,Success:null,theme:(i||"").replace(" ","-")}))},mae=function(e){return e?e.current!==void 0:!1},gae=function(e){return new Promise(function(t,n){var r=new Image;r.addEventListener("load",function(){t([r.width,r.height])},{once:!0}),r.addEventListener("error",function(){return n("Couldn't load image from ".concat(e))},{once:!0}),r.src=e})},vae=v.forwardRef(function(e,t){var n,r=e.Avatar,a=e.detailedView,i=a===void 0?!0:a,o=e.handleReaction,s=e.latest_reactions,l=e.own_reactions,u=e.reaction_groups,c=e.reactionOptions,d=e.reverse,f=d===void 0?!1:d,h=En("ReactionSelector"),p=h.Avatar,w=h.reactionOptions,D=ba("ReactionSelector"),E=D.handleReaction,g=D.message,C=c??w,M=r||p||Fa,m=o||E,b=s||(g==null?void 0:g.latest_reactions)||[],S=l||(g==null?void 0:g.own_reactions)||[],y=u||(g==null?void 0:g.reaction_groups)||{},k=$.useState(null),_=k[0],P=k[1],z=$.useState(null),N=z[0],T=z[1],L=$.useRef(null),I=$.useRef(null),B=$.useCallback(function(A,x){L.current=A.currentTarget,P(x)},[]),F=$.useCallback(function(){P(null),T(null)},[]);$.useEffect(function(){var A,x,j;if(_){var V=(A=I.current)===null||A===void 0?void 0:A.getBoundingClientRect(),X=(x=L.current)===null||x===void 0?void 0:x.getBoundingClientRect(),re=mae(t)?(j=t.current)===null||j===void 0?void 0:j.getBoundingClientRect():null;if(!V||!X||!re)return;var W=V.width===re.width||V.x<re.x?0:X.left+X.width/2-re.left-V.width/2,J=X.x-V.x+X.width/2-W;T({arrow:J,tooltip:W})}},[_,t]);var U=function(A){return b.map(function(x){var j,V;return x.type===A?((j=x.user)===null||j===void 0?void 0:j.name)||((V=x.user)===null||V===void 0?void 0:V.id):null}).filter(Boolean)},R=function(A){return S.find(function(x){return x.type===A})},O=function(A){var x;return((x=b.find(function(j){return j.type===A&&!!j.user}))===null||x===void 0?void 0:x.user)||void 0};return v.createElement("div",{className:Yt("str-chat__reaction-selector str-chat__message-reaction-selector",{"str-chat__reaction-selector--reverse":f}),"data-testid":"reaction-selector",ref:t},!!_&&i&&v.createElement("div",{className:"str-chat__reaction-selector-tooltip",ref:I,style:{left:N==null?void 0:N.tooltip,visibility:N?"visible":"hidden"}},v.createElement("div",{className:"arrow",style:{left:N==null?void 0:N.arrow}}),(n=U(_))===null||n===void 0?void 0:n.map(function(A,x,j){return v.createElement("span",{className:"latest-user-username",key:"key-".concat(x,"-").concat(A)},"".concat(A).concat(x<j.length-1?", ":""))})),v.createElement("ul",{className:"str-chat__message-reactions-list str-chat__message-reactions-options"},C.map(function(A){var x,j,V=A.Component,X=A.name,re=A.type,W=O(re),J=(j=(x=y[re])===null||x===void 0?void 0:x.count)!==null&&j!==void 0?j:0;return v.createElement("li",{key:re},v.createElement("button",{"aria-label":"Select Reaction: ".concat(X||re),className:Yt("str-chat__message-reactions-list-item str-chat__message-reactions-option",{"str-chat__message-reactions-option-selected":R(re)}),"data-text":re,onClick:function(oe){return m(re,oe)}},!!J&&i&&v.createElement("div",{className:"latest-user str-chat__message-reactions-last-user",onClick:F,onMouseEnter:function(oe){return B(oe,re)},onMouseLeave:F},W?v.createElement(M,{image:W.image,name:W.name,size:20,user:W}):v.createElement("div",{className:"latest-user-not-found"})),v.createElement("span",{className:"str-chat__message-reaction-emoji"},v.createElement(V,null)),!!J&&i&&v.createElement("span",{className:"str-chat__message-reactions-list-item__count"},J||"")))})))}),yae=v.memo(vae),_ae=function(e,t){return e.firstReactionAt&&t.firstReactionAt?+e.firstReactionAt-+t.firstReactionAt:e.reactionType.localeCompare(t.reactionType,"en")},bae=function(e){var t,n=e.own_reactions,r=e.reaction_groups,a=e.reactionOptions,i=e.reactions,o=e.sortReactions,s=ba("useProcessReactions"),l=s.message,u=s.sortReactions,c=En("useProcessReactions").reactionOptions,d=a??c,f=(t=o??u)!==null&&t!==void 0?t:_ae,h=i||l.latest_reactions,p=n||(l==null?void 0:l.own_reactions),w=r||(l==null?void 0:l.reaction_groups),D=$.useCallback(function(S){var y;return(y=p==null?void 0:p.some(function(k){return k.type===S}))!==null&&y!==void 0?y:!1},[p]),E=$.useCallback(function(S){var y,k;return(k=(y=d.find(function(_){var P=_.type;return P===S}))===null||y===void 0?void 0:y.Component)!==null&&k!==void 0?k:null},[d]),g=$.useCallback(function(S){return d.some(function(y){return y.type===S})},[d]),C=$.useCallback(function(S){var y;return(y=h==null?void 0:h.flatMap(function(k){var _,P;if(S&&S===k.type){var z=((_=k.user)===null||_===void 0?void 0:_.name)||((P=k.user)===null||P===void 0?void 0:P.id);return z?[z]:[]}return[]}))!==null&&y!==void 0?y:[]},[h]),M=$.useMemo(function(){if(!w)return[];var S=Object.entries(w).flatMap(function(y){var k=y[0],_=y[1],P=_.count,z=_.first_reaction_at,N=_.last_reaction_at;if(P===0||!g(k))return[];var T=C(k);return[{EmojiComponent:E(k),firstReactionAt:z?new Date(z):null,isOwnReaction:D(k),lastReactionAt:N?new Date(N):null,latestReactedUserNames:T,reactionCount:P,reactionType:k,unlistedReactedUserCount:P-T.length}]});return S.sort(f)},[E,C,D,g,w,f]),m=M.length>0,b=$.useMemo(function(){return M.reduce(function(S,y){var k=y.reactionCount;return S+k},0)},[M]);return{existingReactions:M,hasReactions:m,totalReactionCount:b}};function wae(e){var t=this,n=ba("useFetchReactions").handleFetchReactions,r=$.useState([]),a=r[0],i=r[1],o=e.handleFetchReactions,s=e.reactionType,l=e.shouldFetch,u=e.sort,c=$.useState(l),d=c[0],f=c[1],h=o??n;return $.useEffect(function(){if(l){var p=!1;return function(){return St(t,void 0,void 0,function(){var w;return Dt(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,3,4]),f(!0),[4,h(s,u)];case 1:return w=D.sent(),p||i(w),[3,4];case 2:return D.sent(),p||i([]),[3,4];case 3:return p||f(!1),[7];case 4:return[2]}})})}(),function(){p=!0}}},[h,s,l,u]),{isLoading:d,reactions:a}}var Eae={created_at:-1};function Cae(e){var t,n,r=e.handleFetchReactions,a=e.onSelectedReactionTypeChange,i=e.reactionDetailsSort,o=e.reactions,s=e.selectedReactionType,l=e.sortReactionDetails,u=Bt(e,["handleFetchReactions","onSelectedReactionTypeChange","reactionDetailsSort","reactions","selectedReactionType","sortReactionDetails"]),c=o.find(function(m){var b=m.reactionType;return b===s}),d=(t=c==null?void 0:c.EmojiComponent)!==null&&t!==void 0?t:null,f=ba("ReactionsListModal"),h=f.reactionDetailsSort,p=f.sortReactionDetails,w=l??p,D=(n=i??h)!==null&&n!==void 0?n:Eae,E=wae({handleFetchReactions:r,reactionType:s,shouldFetch:u.open,sort:D}),g=E.isLoading,C=E.reactions,M=$.useMemo(function(){return w?Vt([],C,!0).sort(w):C},[w,C]);return v.createElement(ef,ne({},u),v.createElement("div",{className:"str-chat__message-reactions-details","data-testid":"reactions-list-modal"},v.createElement("div",{className:"str-chat__message-reactions-details-reaction-types"},o.map(function(m){var b=m.EmojiComponent,S=m.reactionCount,y=m.reactionType;return b&&v.createElement("div",{className:Yt("str-chat__message-reactions-details-reaction-type",{"str-chat__message-reactions-details-reaction-type--selected":s===y}),"data-testid":"reaction-details-selector-".concat(y),key:y,onClick:function(){return a==null?void 0:a(y)}},v.createElement("span",{className:"emoji str-chat__message-reaction-emoji str-chat__message-reaction-emoji--with-fallback"},v.createElement(b,null)),"",v.createElement("span",{className:"str-chat__message-reaction-count"},S))})),d&&v.createElement("div",{className:"emoji str-chat__message-reaction-emoji str-chat__message-reaction-emoji--with-fallback str-chat__message-reaction-emoji-big"},v.createElement(d,null)),v.createElement("div",{className:"str-chat__message-reactions-details-reacting-users","data-testid":"all-reacting-users"},g?v.createElement(Ju,null):M.map(function(m){var b=m.user;return v.createElement("div",{className:"str-chat__message-reactions-details-reacting-user",key:b==null?void 0:b.id},v.createElement(Fa,{"data-testid":"avatar",image:b==null?void 0:b.image,name:(b==null?void 0:b.name)||(b==null?void 0:b.id)}),v.createElement("span",{className:"str-chat__user-item--name","data-testid":"reaction-user-username"},(b==null?void 0:b.name)||(b==null?void 0:b.id)))}))))}var Sae=`Action handler was called, but it is missing one of its required arguments. 
Make sure the ChannelAction and ChannelState contexts are properly set and the hook is initialized with a valid message.`;function Dae(e){var t=this,n=qn("useActionHandler"),r=n.removeMessage,a=n.updateMessage,i=tn("useActionHandler").channel;return function(o,s,l){return St(t,void 0,void 0,function(){var u,c,d;return Dt(this,function(f){switch(f.label){case 0:return l&&l.preventDefault(),!e||!a||!r||!i?(console.warn(Sae),[2]):(u=e.id,c={},typeof o=="string"?c[o]=s:c=ne({},o),u?[4,i.sendAction(u,c)]:[3,2]);case 1:d=f.sent(),d!=null&&d.message?a(d.message):r(e),f.label=2;case 2:return[2]}})})}}var kae=function(e,t){t===void 0&&(t={});var n=t.getErrorNotification,r=t.notify,a=qn("useDeleteHandler"),i=a.deleteMessage,o=a.updateMessage,s=kt("useDeleteHandler").client,l=Et("useDeleteHandler").t;return function(u){return St(void 0,void 0,void 0,function(){var c,d;return Dt(this,function(f){switch(f.label){case 0:if(u.preventDefault(),!(e!=null&&e.id)||!s||!o)return[2];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,i(e)];case 2:return c=f.sent(),o(c),[3,4];case 3:return f.sent(),d=n&&Fi(n,[e]),r&&r(d||l("Error deleting message"),"error"),[3,4];case 4:return[2]}})})}},Mae=function(e,t,n){e===void 0&&(e=!1);var r=$.useState(e),a=r[0],i=r[1],o=function(l){l!=null&&l.preventDefault&&l.preventDefault(),i(!0)},s=function(l){l!=null&&l.preventDefault&&l.preventDefault(),i(!1)};return{clearEdit:s,editing:a,setEdit:o}},Tae="useFlagHandler was called but it is missing one or more necessary parameters.",xae=function(e,t){t===void 0&&(t={});var n=kt("useFlagHandler").client,r=Et("useFlagHandler").t;return function(a){return St(void 0,void 0,void 0,function(){var i,o,s,l,u,c;return Dt(this,function(d){switch(d.label){case 0:if(a.preventDefault(),i=t.getErrorNotification,o=t.getSuccessNotification,s=t.notify,!n||!r||!s||!(e!=null&&e.id))return console.warn(Tae),[2];if(!((c=n.user)===null||c===void 0)&&c.banned)return[2,s(r("Error adding flag"),"error")];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,n.flagMessage(e.id)];case 2:return d.sent(),l=o&&Fi(o,[e]),s(l||r("Message has been successfully flagged"),"success"),[3,4];case 3:return d.sent(),u=i&&Fi(i,[e]),s(u||r("Error adding flag"),"error"),[3,4];case 4:return[2]}})})}};function YE(e,t){return function(n){var r;typeof e!="function"||!(!((r=t==null?void 0:t.mentioned_users)===null||r===void 0)&&r.length)||e(n,t.mentioned_users)}}var Rae=function(e,t){var n=qn("useMentionsHandler"),r=n.onMentionsClick,a=n.onMentionsHover,i=(t==null?void 0:t.onMentionsClick)||r||function(){return null},o=(t==null?void 0:t.onMentionsHover)||a||function(){return null};return{onMentionsClick:YE(i,e),onMentionsHover:YE(o,e)}},Pae=function(e,t){t===void 0&&(t={});var n=t.getErrorNotification,r=t.getSuccessNotification,a=t.notify,i=tn("useMarkUnreadHandler").channel,o=Et("useMarkUnreadHandler").t;return function(s){return St(void 0,void 0,void 0,function(){var l,u;return Dt(this,function(c){switch(c.label){case 0:if(s.preventDefault(),!(e!=null&&e.id))return console.warn("Mark unread handler does not have access to message id"),[2];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,i.markUnread({message_id:e.id})];case 2:return c.sent(),a?(l=r&&Fi(r,[e]),l&&a(l,"success"),[3,4]):[2];case 3:return c.sent(),a?(u=n&&Fi(n,[e]),n&&!u?[2]:(a(u||o("Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages."),"error"),[3,4])):[2];case 4:return[2]}})})}},Oae="useMuteHandler was called but it is missing one or more necessary parameter.",Aae=function(e,t){t===void 0&&(t={});var n=tn("useMuteHandler").mutes,r=kt("useMuteHandler").client,a=Et("useMuteHandler").t;return function(i){return St(void 0,void 0,void 0,function(){var o,s,l,c,d,u,c,d;return Dt(this,function(f){switch(f.label){case 0:if(i.preventDefault(),o=t.getErrorNotification,s=t.getSuccessNotification,l=t.notify,!a||!(e!=null&&e.user)||!l||!r)return console.warn(Oae),[2];if(Nk(e,n))return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.muteUser(e.user.id)];case 2:return f.sent(),c=s&&Fi(s,[e.user]),l(c||a("{{ user }} has been muted",{user:e.user.name||e.user.id}),"success"),[3,4];case 3:return f.sent(),d=o&&Fi(o,[e.user]),l(d||a("Error muting a user ..."),"error"),[3,4];case 4:return[3,8];case 5:return f.trys.push([5,7,,8]),[4,r.unmuteUser(e.user.id)];case 6:return f.sent(),u=a("{{ user }} has been unmuted",{user:e.user.name||e.user.id}),c=s&&Fi(s,[e.user])||u,typeof c=="string"&&l(c,"success"),[3,8];case 7:return f.sent(),d=o&&Fi(o,[e.user])||a("Error unmuting a user ..."),typeof d=="string"&&l(d,"error"),[3,8];case 8:return[2]}})})}},Lae=function(e,t){var n=qn("useOpenThreadHandler").openThread,r=t||n;return function(a){if(!r||!e){console.warn("Open thread handler was called but it is missing one of its parameters");return}r(e,a)}},Iae=function(e,t,n){n===void 0&&(n={});var r=n.getErrorNotification,a=n.notify,i=qn("usePinHandler").updateMessage,o=tn("usePinHandler").channelCapabilities,s=o===void 0?{}:o,l=kt("usePinHandler").client,u=Et("usePinHandler").t,c=!!s["pin-message"],d=function(f){return St(void 0,void 0,void 0,function(){var h,p,h,p;return Dt(this,function(w){switch(w.label){case 0:if(f.preventDefault(),!e)return[2];if(e.pinned)return[3,5];w.label=1;case 1:return w.trys.push([1,3,,4]),h=ne(ne({},e),{pinned:!0,pinned_at:new Date,pinned_by:l.user}),i(h),[4,l.pinMessage(e)];case 2:return w.sent(),[3,4];case 3:return w.sent(),p=r&&Fi(r,[e]),a&&a(p||u("Error pinning message"),"error"),i(e),[3,4];case 4:return[3,8];case 5:return w.trys.push([5,7,,8]),h=ne(ne({},e),{pin_expires:null,pinned:!1,pinned_at:null,pinned_by:null}),i(h),[4,l.unpinMessage(e)];case 6:return w.sent(),[3,8];case 7:return w.sent(),p=r&&Fi(r,[e]),a&&a(p||u("Error removing message pin"),"error"),i(e),[3,8];case 8:return[2]}})})};return{canPin:c,handlePin:d}},Fae=`Reaction handler was called, but it is missing one of its required arguments.
Make sure the ChannelAction and ChannelState contexts are properly set and the hook is initialized with a valid message.`,Nae=function(e){var t=qn("useReactionHandler").updateMessage,n=tn("useReactionHandler"),r=n.channel,a=n.channelCapabilities,i=kt("useReactionHandler").client,o=$.useCallback(function(u,c,d){var f,h,p=(d==null?void 0:d.reaction_groups)||{},w=c.type,D=!!p[w];if(u){var E=new Date().toISOString();p[w]=D?ne(ne({},p[w]),{count:p[w].count+1}):{count:1,first_reaction_at:E,last_reaction_at:E,sum_scores:1}}else D&&p[w].count>1?p[w]=ne(ne({},p[w]),{count:p[w].count-1}):delete p[w];var g=u?Vt([c],(d==null?void 0:d.latest_reactions)||[],!0):(f=d.latest_reactions)===null||f===void 0?void 0:f.filter(function(M){return!(M.type===c.type&&M.user_id===c.user_id)}),C=u?Vt([c],(d==null?void 0:d.own_reactions)||[],!0):(h=d==null?void 0:d.own_reactions)===null||h===void 0?void 0:h.filter(function(M){return M.type!==c.type});return ne(ne({},d),{latest_reactions:g||d.latest_reactions,own_reactions:C,reaction_groups:p})},[i.user,i.userID]),s=function(u){var c;return{message_id:e==null?void 0:e.id,score:1,type:u,user:i.user,user_id:(c=i.user)===null||c===void 0?void 0:c.id}},l=Ao(function(u,c,d){return St(void 0,void 0,void 0,function(){var f,h,p,w;return Dt(this,function(D){switch(D.label){case 0:if(!e||!a["send-reaction"])return[2];f=s(c),h=o(d,f,e),D.label=1;case 1:return D.trys.push([1,6,,7]),t(h),d?[4,r.sendReaction(u,{type:c})]:[3,3];case 2:return w=D.sent(),[3,5];case 3:return[4,r.deleteReaction(u,c)];case 4:w=D.sent(),D.label=5;case 5:return p=w,t(p.message),[3,7];case 6:return D.sent(),t(e),[3,7];case 7:return[2]}})})},1e3);return function(u,c){return St(void 0,void 0,void 0,function(){var d,f;return Dt(this,function(h){switch(h.label){case 0:if(c!=null&&c.preventDefault&&c.preventDefault(),!e)return[2,console.warn(Fae)];d=null,e.own_reactions&&e.own_reactions.forEach(function(p){p.user&&i.userID===p.user.id&&p.type===u?d=p:p.user&&i.userID!==p.user.id&&console.warn("message.own_reactions contained reactions from a different user, this indicates a bug")}),h.label=1;case 1:return h.trys.push([1,6,,7]),d?[4,l(e.id,d.type,!1)]:[3,3];case 2:return h.sent(),[3,5];case 3:return[4,l(e.id,u,!0)];case 4:h.sent(),h.label=5;case 5:return[3,7];case 6:return f=h.sent(),console.log({error:f}),[3,7];case 7:return[2]}})})}},Uae=function(e,t,n,r){var a=tn("useReactionClick").channelCapabilities,i=a===void 0?{}:a,o=$.useState(!1),s=o[0],l=o[1],u=$.useRef(!1),c=i["send-reaction"],d=!!(e!=null&&e.deleted_at),f=$.useCallback(function(p){var w;p.target instanceof HTMLElement&&(!((w=t==null?void 0:t.current)===null||w===void 0)&&w.contains(p.target))&&!r||l(!1)},[l,t]);$.useEffect(function(){return s&&!u.current&&(u.current=!0,document.addEventListener("click",f)),!s&&u.current&&(document.removeEventListener("click",f),u.current=!1),function(){u.current&&(document.removeEventListener("click",f),u.current=!1)}},[s,f,n]),$.useEffect(function(){d&&u.current&&(document.removeEventListener("click",f),u.current=!1)},[d,f,n]);var h=function(p){var w;(w=p==null?void 0:p.stopPropagation)===null||w===void 0||w.call(p),l(function(D){return!D})};return{isReactionEnabled:c,onReactionListClick:h,showDetailedReactions:s}},Bae=function(e){var t=qn("useRetryHandler").retrySendMessage,n=e||t;return function(r){return St(void 0,void 0,void 0,function(){return Dt(this,function(a){switch(a.label){case 0:return r?[4,n(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}},jae=function(e,t){return{onUserClick:function(n){typeof(t==null?void 0:t.onUserClickHandler)!="function"||!(e!=null&&e.user)||t.onUserClickHandler(n,e.user)},onUserHover:function(n){typeof(t==null?void 0:t.onUserHoverHandler)!="function"||!(e!=null&&e.user)||t.onUserHoverHandler(n,e.user)}}},N9=1e3;function zae(e,t){var n=this;t===void 0&&(t={});var r=kt("useRectionsFetcher").client,a=Et("useReactionFetcher").t,i=t.getErrorNotification,o=t.notify;return function(s,l){return St(n,void 0,void 0,function(){var u,c;return Dt(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,$ae(r,e.id,s,l)];case 1:return[2,d.sent()];case 2:throw u=d.sent(),c=i==null?void 0:i(e),o==null||o(c||a("Error fetching reactions"),"error"),u;case 3:return[2]}})})}}function $ae(e,t,n,r){return St(this,void 0,void 0,function(){var a,i,o,s,l;return Dt(this,function(u){switch(u.label){case 0:a=[],i=25,s=!0,u.label=1;case 1:return s&&a.length<N9?[4,e.queryReactions(t,n?{type:n}:{},r,{limit:i,next:o})]:[3,3];case 2:return l=u.sent(),a.push.apply(a,l.reactions),o=l.next,s=!!o,[3,1];case 3:return[2,a]}})})}var Hae=function(e){var t=e.handleFetchReactions;e.reactionDetailsSort;var n=e.reverse,r=n===void 0?!1:n,a=e.sortReactionDetails,i=Bt(e,["handleFetchReactions","reactionDetailsSort","reverse","sortReactionDetails"]),o=bae(i),s=o.existingReactions,l=o.hasReactions,u=o.totalReactionCount,c=$.useState(null),d=c[0],f=c[1],h=Et("ReactionsList").t,p=function(w){u>N9||f(w)};return l?v.createElement(v.Fragment,null,v.createElement("div",{"aria-label":h("aria/Reaction list"),className:Yt("str-chat__reaction-list str-chat__message-reactions-container",{"str-chat__reaction-list--reverse":r}),"data-testid":"reaction-list",role:"figure"},v.createElement("ul",{className:"str-chat__message-reactions"},s.map(function(w){var D=w.EmojiComponent,E=w.isOwnReaction,g=w.reactionCount,C=w.reactionType;return D&&v.createElement("li",{className:Yt("str-chat__message-reaction",{"str-chat__message-reaction-own":E}),key:C},v.createElement("button",{"aria-label":"Reactions: ".concat(C),"data-testid":"reactions-list-button-".concat(C),onClick:function(){return p(C)},type:"button"},v.createElement("span",{className:"str-chat__message-reaction-emoji"},v.createElement(D,null)),"",v.createElement("span",{className:"str-chat__message-reaction-count","data-testclass":"reaction-list-reaction-count"},g)))}),v.createElement("li",null,v.createElement("span",{className:"str-chat__reaction-list--counter"},u)))),d!==null&&v.createElement(Cae,{handleFetchReactions:t,onClose:function(){return f(null)},onSelectedReactionTypeChange:f,open:d!==null,reactions:s,selectedReactionType:d,sortReactionDetails:a})):null},Vae=v.memo(Hae),Wae=function(e){var t=e.columns,n=e.fallback,r=e.height,a=e.position,i=e.rows,o=e.spriteUrl,s=e.style,l=e.width,u=$.useState([0,0]),c=u[0],d=c[0],f=c[1],h=u[1];$.useEffect(function(){gae(o).then(h).catch(console.error)},[o]);var p=a[0],w=a[1];return!f||!d?v.createElement(v.Fragment,null,n):v.createElement("div",{"data-testid":"sprite-image",style:ne(ne(ne(ne(ne({},s),{"--str-chat__sprite-image-resize-ratio":"var(--str-chat__sprite-image-resize-ratio-x, var(--str-chat__sprite-image-resize-ratio-y, 1))","--str-chat__sprite-image-resize-ratio-x":"calc(var(--str-chat__sprite-image-width) / var(--str-chat__sprite-item-width))","--str-chat__sprite-image-resize-ratio-y":"calc(var(--str-chat__sprite-image-height) / var(--str-chat__sprite-item-height))","--str-chat__sprite-item-height":"".concat(f/i),"--str-chat__sprite-item-width":"".concat(d/t)}),Number.isFinite(r)?{"--str-chat__sprite-image-height":"".concat(r,"px")}:{}),Number.isFinite(l)?{"--str-chat__sprite-image-width":"".concat(l,"px")}:{}),{backgroundImage:"url('".concat(o,"')"),backgroundPosition:"".concat(p*(100/(t-1)),"% ").concat(w*(100/(i-1)),"%"),backgroundSize:"".concat(t*100,"% ").concat(i*100,"%"),height:"var(--str-chat__sprite-image-height, calc(var(--str-chat__sprite-item-height) * var(--str-chat__sprite-image-resize-ratio)))",width:"var(--str-chat__sprite-image-width, calc(var(--str-chat__sprite-item-width) * var(--str-chat__sprite-image-resize-ratio)))"})})},qae={angry:[1,1],haha:[1,0],like:[0,0],love:[1,2],sad:[0,1],wow:[0,2]},Yae="https://getstream.imgix.net/images/emoji-sprite.png",Pc=function(e){var t=e.fallback,n=e.type,r=qae[n];return v.createElement(Wae,{columns:2,fallback:t,position:r,rows:3,spriteUrl:Yae,style:{"--str-chat__sprite-image-height":"var(--str-chat__stream-emoji-size, 18px)"}})},Kae=[{type:"haha",Component:function(){return v.createElement(Pc,{fallback:"",type:"haha"})},name:"Joy"},{type:"like",Component:function(){return v.createElement(Pc,{fallback:"",type:"like"})},name:"Thumbs up"},{type:"love",Component:function(){return v.createElement(Pc,{fallback:"",type:"love"})},name:"Heart"},{type:"sad",Component:function(){return v.createElement(Pc,{fallback:"",type:"sad"})},name:"Sad"},{type:"wow",Component:function(){return v.createElement(Pc,{fallback:"",type:"wow"})},name:"Astonished"}];function Gae(e){var t=e.message,n=e.open,r=Bt(e,["message","open"]),a=Et("MessageEditedTimestamp").t,i=ba("MessageEditedTimestamp").message,o=En("MessageEditedTimestamp").Timestamp,s=o===void 0?Xk:o,l=t||i;return Uu(l)?v.createElement("div",{className:Yt("str-chat__message-edited-timestamp",n?"str-chat__message-edited-timestamp--open":"str-chat__message-edited-timestamp--collapsed"),"data-testid":"message-edited-timestamp"},a("Edited")," ",v.createElement(s,ne({timestamp:l.message_text_updated_at},r))):null}var Zae=function(e){var t,n=e.additionalMessageInputProps,r=e.clearEditingState,a=e.editing,i=e.endOfGroup,o=e.firstOfGroup,s=e.groupedByUser,l=e.handleAction,u=e.handleOpenThread,c=e.handleRetry,d=e.highlighted,f=e.isMyMessage,h=e.isReactionEnabled,p=e.message,w=e.onUserClick,D=e.onUserHover,E=e.reactionSelectorRef,g=e.renderText,C=e.showDetailedReactions,M=e.threadList,m=Et("MessageSimple").t,b=$.useState(!1),S=b[0],y=b[1],k=$.useState(!1),_=k[0],P=k[1],z=En("MessageSimple"),N=z.Attachment,T=z.Avatar,L=T===void 0?Fa:T,I=z.EditMessageInput,B=I===void 0?Zre:I,F=z.MessageDeleted,U=F===void 0?MJ:F,R=z.MessageBouncePrompt,O=R===void 0?kJ:R,A=z.MessageOptions,x=A===void 0?Xee:A,j=z.MessageRepliesCountButton,V=j===void 0?Jee:j,X=z.MessageStatus,re=X===void 0?tte:X,W=z.MessageTimestamp,J=W===void 0?cte:W,oe=z.ReactionSelector,he=oe===void 0?yae:oe,Oe=z.ReactionsList,$e=Oe===void 0?Vae:Oe,Ie=z.PinIndicator,ze=kt("MessageSimple").themeVersion,We=Bk(p),at=LJ(p);if(p.customType===pa.date)return null;if(p.deleted_at||p.type==="deleted")return v.createElement(U,{message:p});var bt=h,H=at,q=!s||i,De=!M&&!!p.reply_count,Fe=p.status==="failed"&&p.errorStatusCode!==403,Qe=X2(p),le=Uu(p),Ne=void 0;Fe?Ne=function(){return c(p)}:Qe?Ne=function(){return y(!0)}:le&&(Ne=function(){return P(function(Te){return!Te})});var pe=Yt("str-chat__message str-chat__message-simple","str-chat__message--".concat(p.type),"str-chat__message--".concat(p.status),f()?"str-chat__message--me str-chat__message-simple--me":"str-chat__message--other",p.text?"str-chat__message--has-text":"has-no-text",{"str-chat__message--has-attachment":We,"str-chat__message--highlighted":d,"str-chat__message--pinned pinned-message":p.pinned,"str-chat__message--with-reactions":H,"str-chat__message-send-can-be-retried":(p==null?void 0:p.status)==="failed"&&(p==null?void 0:p.errorStatusCode)!==403,"str-chat__message-with-thread-link":De,"str-chat__virtual-message__wrapper--end":i,"str-chat__virtual-message__wrapper--first":o,"str-chat__virtual-message__wrapper--group":s});return v.createElement(v.Fragment,null,a&&v.createElement(ef,{onClose:r,open:a},v.createElement(y_,ne({clearEditingState:r,grow:!0,hideSendButton:!0,Input:B,message:p},n))),S&&v.createElement(DJ,{MessageBouncePrompt:O,onClose:function(){return y(!1)},open:S}),v.createElement("div",{className:pe,key:p.id},Ie&&v.createElement(Ie,null),ze==="1"&&v.createElement(re,null),p.user&&v.createElement(L,{image:p.user.image,name:p.user.name||p.user.id,onClick:w,onMouseOver:D,user:p.user}),v.createElement("div",{className:Yt("str-chat__message-inner",{"str-chat__simple-message--error-failed":Fe||Qe}),"data-testid":"message-inner",onClick:Ne,onKeyUp:Ne},v.createElement(x,null),v.createElement("div",{className:"str-chat__message-reactions-host"},H&&v.createElement($e,{reverse:!0}),C&&bt&&v.createElement(he,{ref:E})),v.createElement("div",{className:"str-chat__message-bubble"},!((t=p.attachments)===null||t===void 0)&&t.length&&!p.quoted_message?v.createElement(N,{actionHandler:l,attachments:p.attachments}):null,v.createElement(ite,{message:p,renderText:g}),p.mml&&v.createElement(pae,{actionHandler:l,align:f()?"right":"left",source:p.mml}),ze==="2"&&v.createElement(SJ,null)),De&&ze==="1"&&v.createElement(V,{onClick:u,reply_count:p.reply_count}),q&&ze==="1"&&v.createElement("div",{className:"str-chat__message-data str-chat__message-simple-data"},!f()&&p.user?v.createElement("span",{className:"str-chat__message-simple-name"},p.user.name||p.user.id):null,v.createElement(J,{calendar:!0,customClass:"str-chat__message-simple-timestamp"}))),De&&ze==="2"&&v.createElement(V,{onClick:u,reply_count:p.reply_count}),q&&ze==="2"&&v.createElement("div",{className:"str-chat__message-data str-chat__message-simple-data str-chat__message-metadata"},v.createElement(re,null),!f()&&!!p.user&&v.createElement("span",{className:"str-chat__message-simple-name"},p.user.name||p.user.id),v.createElement(J,{calendar:!0,customClass:"str-chat__message-simple-timestamp"}),le&&v.createElement("span",{className:"str-chat__mesage-simple-edited"},m("Edited")),le&&v.createElement(Gae,{calendar:!0,open:_}))))},Xae=v.memo(Zae,AJ),U9=function(e){var t=ba("MessageSimple");return v.createElement(Xae,ne({},t,e))},Qae=function(e){var t=e.children,n=tn("DropzoneProvider"),r=n.acceptedFiles,a=n.multipleUploads,i=wa("DropzoneProvider"),o=i.cooldownRemaining,s=i.isUploadEnabled,l=i.maxFilesLeft,u=i.uploadNewFiles;return v.createElement(Im,{accept:r,disabled:!s||l===0||!!o,handleFiles:u,maxNumberOfFiles:l,multiple:a},t)},Jae=function(e){var t=A9(),n=I9(e),r=F9(ne(ne(ne({},t),n),e));return v.createElement(o2,{value:r},v.createElement(Qae,null,e.children))},eie=function(e){var t=e.active,n=e.children,r=e.className,a=e.type;return t?v.createElement("div",{"aria-live":"polite",className:Yt("str-chat__custom-notification notification-".concat(a),"str-chat__notification","str-chat-react__notification",r),"data-testid":"custom-notification"},n):null},B9=v.memo(eie),tie=function(){var e=kt("ConnectionStatus").client,t=Et("ConnectionStatus").t,n=$.useState(!0),r=n[0],a=n[1];return $.useEffect(function(){var i=function(o){var s=o.online,l=s===void 0?!1:s;r!==l&&a(l)};return e.on("connection.changed",i),function(){return e.off("connection.changed",i)}},[e,r]),v.createElement(B9,{active:!r,className:"str-chat__connection-status-notification",type:"error"},t("Connection failure, reconnecting now..."))},nie=v.memo(tie),rie=function(e){var t=e.canPin,n=e.groupedByUser,r=e.Message,a=e.message,i=e.messageActions,o=i===void 0?Object.keys(hn):i,s=e.onUserClick,l=e.onUserHover,u=e.userRoles,c=kt("Message").client,d=tn("Message").read,f=En("Message").Message,h=a.type==="regular"&&a.status==="received",p=r||f,w=Mae(),D=w.clearEdit,E=w.editing,g=w.setEdit,C=jae(a,{onUserClickHandler:s,onUserHoverHandler:l}),M=C.onUserClick,m=C.onUserHover,b=u.canDelete,S=u.canEdit,y=u.canFlag,k=u.canMarkUnread,_=u.canMute,P=u.canQuote,z=u.canReact,N=u.canReply,T=u.isMyMessage,L=$.useMemo(function(){var U;return!!(!T&&(!((U=c.user)===null||U===void 0)&&U.id)&&d&&(!d[c.user.id]||a!=null&&a.created_at&&new Date(a.created_at).getTime()>d[c.user.id].last_read.getTime()))},[c,T,a.created_at,d]),I=$.useCallback(function(){return xJ(o,{canDelete:b,canEdit:S,canFlag:y,canMarkUnread:k,canMute:_,canPin:t,canQuote:P,canReact:z,canReply:N})},[o,b,S,y,k,_,t,P,z,N]);e.canPin,e.messageActions,e.onlySenderCanEdit,e.onUserClick,e.onUserHover,e.userRoles;var B=Bt(e,["canPin","messageActions","onlySenderCanEdit","onUserClick","onUserHover","userRoles"]),F=ne(ne({},B),{actionsEnabled:h,clearEditingState:D,editing:E,getMessageActions:I,handleEdit:g,isMyMessage:function(){return T},messageIsUnread:L,onUserClick:M,onUserHover:m,setEditingState:g});return v.createElement(IA,{value:F},v.createElement(p,{groupedByUser:n}))},aie=v.memo(rie,OJ),ig=function(e){var t=e.closeReactionSelectorOnClick,n=e.disableQuotedMessages,r=e.getDeleteMessageErrorNotification,a=e.getFetchReactionsErrorNotification,i=e.getFlagMessageErrorNotification,o=e.getFlagMessageSuccessNotification,s=e.getMarkMessageUnreadErrorNotification,l=e.getMarkMessageUnreadSuccessNotification,u=e.getMuteUserErrorNotification,c=e.getMuteUserSuccessNotification,d=e.getPinMessageErrorNotification,f=e.message,h=e.onlySenderCanEdit,p=h===void 0?!1:h,w=e.onMentionsClick,D=e.onMentionsHover,E=e.openThread,g=e.pinPermissions,C=e.reactionDetailsSort,M=e.retrySendMessage,m=e.sortReactionDetails,b=e.sortReactions,S=qn("Message").addNotification,y=tn("Message"),k=y.highlightedMessageId,_=y.mutes,P=$.useRef(null),z=Dae(f),N=Lae(f,E),T=Nae(f),L=Bae(M),I=Fk(f,p,n),B=zae(f,{getErrorNotification:a,notify:S}),F=kae(f,{getErrorNotification:r,notify:S}),U=xae(f,{getErrorNotification:i,getSuccessNotification:o,notify:S}),R=Pae(f,{getErrorNotification:s,getSuccessNotification:l,notify:S}),O=Aae(f,{getErrorNotification:u,getSuccessNotification:c,notify:S}),A=Rae(f,{onMentionsClick:w,onMentionsHover:D}),x=A.onMentionsClick,j=A.onMentionsHover,V=Iae(f,g,{getErrorNotification:d,notify:S}),X=V.canPin,re=V.handlePin,W=Uae(f,P,void 0,t),J=W.isReactionEnabled,oe=W.onReactionListClick,he=W.showDetailedReactions,Oe=k===f.id;return v.createElement(aie,{additionalMessageInputProps:e.additionalMessageInputProps,autoscrollToBottom:e.autoscrollToBottom,canPin:X,customMessageActions:e.customMessageActions,disableQuotedMessages:e.disableQuotedMessages,endOfGroup:e.endOfGroup,firstOfGroup:e.firstOfGroup,formatDate:e.formatDate,groupedByUser:e.groupedByUser,groupStyles:e.groupStyles,handleAction:z,handleDelete:F,handleFetchReactions:B,handleFlag:U,handleMarkUnread:R,handleMute:O,handleOpenThread:N,handlePin:re,handleReaction:T,handleRetry:L,highlighted:Oe,initialMessage:e.initialMessage,isReactionEnabled:J,lastReceivedId:e.lastReceivedId,message:f,Message:e.Message,messageActions:e.messageActions,messageListRect:e.messageListRect,mutes:_,onMentionsClickMessage:x,onMentionsHoverMessage:j,onReactionListClick:oe,onUserClick:e.onUserClick,onUserHover:e.onUserHover,pinPermissions:e.pinPermissions,reactionDetailsSort:C,reactionSelectorRef:P,readBy:e.readBy,renderText:e.renderText,showDetailedReactions:he,sortReactionDetails:m,sortReactions:b,threadList:e.threadList,unsafeHTML:e.unsafeHTML,userRoles:I})},iie=function(e){var t=e.message;return v.createElement("div",{className:"giphy-preview-message"},v.createElement(ig,{message:t}))},j9=function(e){for(var t,n,r=e.messages,a=e.reviewProcessedMessage,i=e.setGiphyPreviewMessage,o=Bt(e,["messages","reviewProcessedMessage","setGiphyPreviewMessage"]),s=o.enableDateSeparator,l=o.hideDeletedMessages,u=o.hideNewMessageSeparator,c=o.lastRead,d=o.userId,f=!1,h=!1,p,w=[],D=0;D<r.length;D+=1){var E=r[D];if(!(l&&E.type==="deleted")){if(i&&E.type==="ephemeral"&&E.command==="giphy"){h=!0,i(E);continue}var g=[],C=E.created_at&&Bo(E.created_at)&&E.created_at.toDateString()||"",M=r[D-1],m=C;s&&(M!=null&&M.created_at)&&Bo(M.created_at)&&(m=M.created_at.toDateString()),!f&&!u&&(f=c&&E.created_at&&new Date(c)<E.created_at||!1,s&&f&&((t=E.user)===null||t===void 0?void 0:t.id)!==d&&g.push({customType:pa.date,date:E.created_at,id:KE(E.created_at),unread:f})),s&&(D===0||C!==m||l&&(M==null?void 0:M.type)==="deleted"&&p!==C)&&((n=g[g.length-1])===null||n===void 0?void 0:n.customType)!==pa.date?(p=C,g.push({customType:pa.date,date:E.created_at,id:KE(E.created_at)},E)):g.push(E),w.push.apply(w,(a==null?void 0:a({changes:g,context:o,index:D,messages:r,processedMessages:w}))||g)}}return i&&!h&&i(void 0),w},KE=function(e){var t;try{t=e?e instanceof Date?e.toISOString():e:qa()}catch{t=qa()}return"".concat(pa.date,"-").concat(t)},z9=function(e){for(var t=e.length-1;t>0;t-=1)if(e[t].status==="received")return e[t].id;return null},oie=function(e,t,n){t===void 0&&(t={});var r={};return Object.values(t).forEach(function(a){if(a.last_read){var i;e.forEach(function(o){o.created_at&&o.created_at<a.last_read&&(i=o.id,n&&(r[i]||(r[i]=[]),r[i].push(a.user)))}),i&&!n&&(r[i]||(r[i]=[]),r[i].push(a.user))}}),r},sie=function(e,t){var n=e,r={customType:pa.intro};if(!t||!n.length)return n.unshift(r),n;for(var a=0;a<e.length;a+=1){var i=e[a],o=i.created_at&&Bo(i.created_at)?i.created_at.getTime():null,s=e[a+1],l=s.created_at&&Bo(s.created_at)?s.created_at.getTime():null;if(o&&o<t)if(l&&l<t){if(e[a+1]&&e[a+1].customType===pa.date)continue;if(!l)return n.push(r),n}else return n.splice(a+1,0,r),n}return n},$9=function(e,t,n,r){var a,i,o,s,l,u,c;if(e.customType===pa.date||e.customType===pa.intro)return"";if(r||((a=e.attachments)===null||a===void 0?void 0:a.length)!==0)return"single";var d=!t||t.customType===pa.intro||t.customType===pa.date||t.type==="system"||((i=t.attachments)===null||i===void 0?void 0:i.length)!==0||((o=e.user)===null||o===void 0?void 0:o.id)!==((s=t.user)===null||s===void 0?void 0:s.id)||t.type==="error"||t.deleted_at||e.reaction_groups&&Object.keys(e.reaction_groups).length>0||Uu(t),f=!n||n.customType===pa.date||n.type==="system"||n.customType===pa.intro||((l=n.attachments)===null||l===void 0?void 0:l.length)!==0||((u=e.user)===null||u===void 0?void 0:u.id)!==((c=n.user)===null||c===void 0?void 0:c.id)||n.type==="error"||n.deleted_at||n.reaction_groups&&Object.keys(n.reaction_groups).length>0||Uu(e);return!d&&!f?e.deleted_at||e.type==="error"?"single":"middle":f?d||e.deleted_at||e.type==="error"?"single":"bottom":d?"top":""},GE=function(e,t){return e>=t};function H9(e){return e.customType===pa.date&&!!e.date&&Bo(e.date)}var lie=function(e){var t=e.channel,n=e.disableDateSeparator,r=e.groupStyles,a=e.headerPosition,i=e.hideDeletedMessages,o=e.hideNewMessageSeparator,s=e.messages,l=e.noGroupByUser,u=e.reviewProcessedMessage,c=kt("useEnrichedMessages").client,d=En("useEnrichedMessages").HeaderComponent,f=$.useMemo(function(){var E;return(E=t.lastRead)===null||E===void 0?void 0:E.call(t)},[t]),h=!n,p=!h&&!i&&o?s:j9({enableDateSeparator:h,hideDeletedMessages:i,hideNewMessageSeparator:o,lastRead:f,messages:s,reviewProcessedMessage:u,userId:c.userID||""});d&&(p=sie(p,a));var w=r||$9,D=$.useMemo(function(){return p.reduce(function(E,g,C){var M=w(g,p[C-1],p[C+1],l);return M&&(E[g.id]=M),E},{})},[p,l]);return{messageGroupStyles:D,messages:p}},V9=function(e){var t=e.messages,n=e.read,r=e.returnAllReadData,a=e.userID;return $.useMemo(function(){return oie(t.filter(function(i){var o=i.user;return(o==null?void 0:o.id)===a}),n,r)},[t,n,r,a])},uie=function(e){var t=e.channelUnreadUiState,n=e.enrichedMessages,r=e.internalMessageProps,a=e.messageGroupStyles,i=e.read,o=e.renderMessages,s=e.returnAllReadData,l=e.threadList,u=kt("useMessageListElements"),c=u.client,d=u.customClasses,f=En("useMessageListElements"),h=V9({messages:n,read:i,returnAllReadData:s,userID:c.userID}),p=$.useMemo(function(){return z9(n)},[n]),w=$.useMemo(function(){return o({channelUnreadUiState:t,components:f,customClasses:d,lastReceivedMessageId:p,messageGroupStyles:a,messages:n,readData:h,sharedMessageProps:ne(ne({},r),{threadList:l})})},[n,r,p,a,t,h,o,l]);return w};function cie(e){var t=e.loadMoreScrollThreshold,n=e.onScrollBy,r=e.scrollContainerMeasures,a=e.scrolledUpThreshold,i=e.scrollToBottom,o=e.showNewMessages,s=kt("useMessageListScrollManager").client,l=$.useRef({offsetHeight:0,scrollHeight:0}),u=$.useRef(),c=$.useRef(0);return $.useLayoutEffect(function(){var d,f,h,p=l.current,w=u.current,D=e.messages,E=D[D.length-1]||{},g=w==null?void 0:w[w.length-1],C=r(),M=p.scrollHeight-p.offsetHeight-c.current<a;if(typeof w<"u")if(w.length<D.length)if((g==null?void 0:g.id)===E.id){if(c.current<t){var m=C.scrollHeight-p.scrollHeight;n(m)}}else{var b=((d=E.user)===null||d===void 0?void 0:d.id)===s.userID;b||M?i():o()}else{var S=((f=g==null?void 0:g.latest_reactions)===null||f===void 0?void 0:f.length)!==((h=E.latest_reactions)===null||h===void 0?void 0:h.length),y=(g==null?void 0:g.reply_count)!==E.reply_count;(S||y)&&M&&i()}u.current=D,l.current=C},[l,u,e.messages]),function(d){c.current=d}}var die=function(e){var t=e.loadMoreScrollThreshold,n=e.messages,r=n===void 0?[]:n,a=e.scrolledUpThreshold,i=a===void 0?200:a,o=e.hasMoreNewer,s=e.suppressAutoscroll,l=e.listElement,u=$.useState(!1),c=u[0],d=u[1],f=$.useState(),h=f[0],p=f[1],w=$.useState(!0),D=w[0],E=w[1],g=$.useRef(!1),C=$.useRef(!1),M=$.useCallback(function(){!(l!=null&&l.scrollTo)||o||s||(l.scrollTo({top:l.scrollHeight}),d(!1))},[l,o,s]);$.useLayoutEffect(function(){l&&(p(l.getBoundingClientRect()),M())},[l,o]);var m=cie({loadMoreScrollThreshold:t,messages:r,onScrollBy:function(S){l==null||l.scrollBy({top:S})},scrollContainerMeasures:function(){return{offsetHeight:(l==null?void 0:l.offsetHeight)||0,scrollHeight:(l==null?void 0:l.scrollHeight)||0}},scrolledUpThreshold:i,scrollToBottom:M,showNewMessages:function(){return d(!0)}}),b=$.useCallback(function(S){var y=S.target,k=y.scrollTop;m(k);var _=y.offsetHeight,P=y.scrollHeight,z=g.current;g.current=P-(k+_)<i,C.current=k<i,g.current&&d(!1),z&&!g.current?E(!1):!z&&g.current&&E(!0)},[m,C,g,i]);return{hasNewMessages:c,isMessageListScrolledToBottom:D,onScroll:b,scrollToBottom:M,wrapperRect:h}},W9="str-chat__main-panel-inner",q9=function(e){var t=e.children,n=kt("MessageListMainPanel").themeVersion;return n==="2"?v.createElement("div",{className:W9},t):v.createElement(v.Fragment,null,t)},Y9="str-chat__unread-messages-separator",fie=function(e){var t=e.showCount,n=e.unreadCount,r=Et("UnreadMessagesSeparator").t;return v.createElement("div",{className:Y9,"data-testid":"unread-messages-separator"},n&&t?r("unreadMessagesSeparatorText",{count:n}):r("Unread messages"))},hie=function(e){var t=e.getBoundingClientRect().bottom;return t<0},pie=function(e,t){var n=e.getBoundingClientRect().top,r=t.getBoundingClientRect().top;return n>r},mie=function(e){var t=e.isMessageListScrolledToBottom,n=e.showAlways,r=e.unreadCount,a=tn("UnreadMessagesNotification").messages,i=$.useState(!1),o=i[0],s=i[1],l=$.useRef(!1),u=typeof IntersectionObserver<"u";return $.useEffect(function(){if(!(r&&u)){s(!1);return}var c=document.querySelector(".".concat(W9));if(c){var d=document.querySelector(".".concat(Y9));if(!d){s(!0);return}var f=hie(d),h=pie(d,c);s(n?f||h:f);var p=new IntersectionObserver(function(w){if(w.length){var D=w[0],E=D.boundingClientRect,g=D.isIntersecting;if(g){s(!1);return}var C=E.bottom<0;s(n||C),l.current=C}},{root:c});return p.observe(d),function(){p.disconnect()}}},[u,t,a,n,r]),$.useEffect(function(){r&&t&&l.current&&(s(!0),l.current=!1)},[t,r]),{show:o&&u}},K9=function(e){var t=e.isMessageListScrolledToBottom,n=e.messageListIsThread,r=e.unreadCount,a=e.wasMarkedUnread,i=kt("useMarkRead").client,o=qn("useMarkRead"),s=o.markRead,l=o.setChannelUnreadUiState,u=tn("useMarkRead").channel,c=$.useRef(t);$.useEffect(function(){var d=function(w){return!document.hidden&&!a&&!n&&t&&w>0},f=function(){d(u.countUnread())&&s()},h=function(w){var D,E,g,C,M=w.cid===u.cid,m=((D=w.user)===null||D===void 0?void 0:D.id)&&w.user.id===((E=i.user)===null||E===void 0?void 0:E.id),b=!(!((g=w.message)===null||g===void 0)&&g.parent_id)||((C=w.message)===null||C===void 0?void 0:C.show_in_channel);m||(!t||a||document.hidden?l(function(S){var y,k,_=(y=S==null?void 0:S.unread_messages)!==null&&y!==void 0?y:0,P=gie(u.state.messages,w.message);return ne(ne({},S||{}),{last_read:(k=S==null?void 0:S.last_read)!==null&&k!==void 0?k:_===0&&(P!=null&&P.created_at)?new Date(P.created_at):new Date(0),unread_messages:_+1})}):M&&b&&d(u.countUnread())&&s())};i.on("message.new",h),document.addEventListener("visibilitychange",f);var p=c.current!==t&&t;return p&&d(u.countUnread())&&s(),c.current=t,function(){i.off("message.new",h),document.removeEventListener("visibilitychange",f)}},[u,i,t,s,n,l,r,a])};function gie(e,t){if(t){for(var n,r=e.length-1;r>=0;r--){var a=e[r];if(!(a!=null&&a.id))break;if(a.id!==t.id){n=a;break}}return n}}var vie=function(e){var t=e.children,n=e.onClick,r=e.showNotification,a=r===void 0?!0:r;return a?v.createElement("button",{"aria-live":"polite",className:"str-chat__message-notification","data-testid":"message-notification",onClick:n},t):null},G9=v.memo(vie),Z9=function(e){var t=e.hasNewMessages,n=e.isMessageListScrolledToBottom,r=e.isNotAtLatestMessageSet,a=e.MessageNotification,i=e.notifications,o=e.scrollToBottom,s=e.threadList,l=e.unreadCount,u=Et("MessageListNotifications").t;return v.createElement("div",{className:"str-chat__list-notifications"},i.map(function(c){return v.createElement(B9,{active:!0,key:c.id,type:c.type},c.text)}),v.createElement(nie,null),v.createElement(a,{isMessageListScrolledToBottom:n,onClick:o,showNotification:t||r,threadList:s,unreadCount:l},u(r?"Latest Messages":"New Messages!")))},yie=function(){return v.createElement("svg",{fill:"currentColor",viewBox:"0 0 14 13",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M1.32227 12.3408C0.944336 11.9629 0.953125 11.3213 1.32227 10.9521L5.60254 6.66309L1.32227 2.38281C0.953125 2.01367 0.944336 1.37207 1.32227 0.994141C1.7002 0.616211 2.3418 0.625 2.71094 0.985352L7 5.27441L11.2803 0.994141C11.6494 0.625 12.291 0.616211 12.6689 0.994141C13.0469 1.37207 13.0381 2.01367 12.6689 2.38281L8.38867 6.66309L12.6689 10.9521C13.0381 11.3213 13.0469 11.9629 12.6689 12.3408C12.291 12.7188 11.6494 12.71 11.2803 12.3408L7 8.06055L2.71094 12.3408C2.3418 12.71 1.7002 12.7188 1.32227 12.3408Z"}))},X9=function(e){var t=e.queryMessageLimit,n=e.showCount,r=e.unreadCount,a=qn("UnreadMessagesNotification"),i=a.jumpToFirstUnreadMessage,o=a.markRead,s=Et("UnreadMessagesNotification").t;return v.createElement("div",{className:"str-chat__unread-messages-notification","data-testid":"unread-messages-notification"},v.createElement("button",{onClick:function(){return i(t)}},r&&n?s("{{count}} unread",{count:r??0}):s("Unread messages")),v.createElement("button",{onClick:function(){return o()}},v.createElement(yie,null)))},ZE=function(){return v.createElement("svg",{"data-testid":"chat-bubble",fill:"none",height:"96",viewBox:"0 0 136 136",width:"96",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M106 24.5H30C24.775 24.5 20.5 28.775 20.5 34V119.5L39.5 100.5H106C111.225 100.5 115.5 96.225 115.5 91V34C115.5 28.775 111.225 24.5 106 24.5ZM106 91H39.5L30 100.5V34H106V91Z",fill:"#B4B7BB"}))},_ie=function(e){var t=e.listType,n=Et("EmptyStateIndicator").t;if(t==="thread")return null;if(t==="channel"){var r=n("You have no channels currently");return v.createElement(v.Fragment,null,v.createElement("div",{className:"str-chat__channel-list-empty"},v.createElement(ZE,null),v.createElement("p",{role:"listitem"},r)),v.createElement("p",{className:"str-chat__channel-list-empty-v1",role:"listitem"},r))}if(t==="message"){var r=n("No chats here yet");return v.createElement("div",{className:"str-chat__empty-channel"},v.createElement(ZE,null),v.createElement("p",{className:"str-chat__empty-channel-text",role:"listitem"},r))}return v.createElement("p",null,"No items exist")},__=v.memo(_ie),b_=function(e,t){e.forEach(function(n){var r=[Object.entries(n[0])[0],Object.entries(n[1])[0]],a=r[0],i=a[0],o=a[1],s=r[1],l=s[0],u=s[1];(typeof o<"u"&&typeof u>"u"||typeof o<"u"&&typeof u<"u")&&console.warn("[Deprecation notice (".concat(t,")]: prefer using prop ").concat(l," instead of ").concat(i))})},XE=function(e){e instanceof WheelEvent&&e.deltaY===1&&e.preventDefault()},bie=function(e){var t=e.children,n=e.element,r=n===void 0?"div":n,a=e.hasMore,i=e.hasMoreNewer,o=e.hasNextPage,s=e.hasPreviousPage,l=e.head,u=e.initialLoad,c=u===void 0?!0:u,d=e.isLoading,f=e.listenToScroll,h=e.loader,p=e.loadMore,w=e.loadMoreNewer,D=e.loadNextPage,E=e.loadPreviousPage,g=e.threshold,C=g===void 0?C6:g,M=e.useCapture,m=M===void 0?!1:M,b=Bt(e,["children","element","hasMore","hasMoreNewer","hasNextPage","hasPreviousPage","head","initialLoad","isLoading","listenToScroll","loader","loadMore","loadMoreNewer","loadNextPage","loadPreviousPage","threshold","useCapture"]),S=D||w,y=E||p,k=o||i,_=s||a,P=$.useRef(),z=$.useRef();z.current=function(){var L=P.current;if(!(!L||L.offsetParent===null)){var I=L.parentElement,B=L.scrollHeight-I.scrollTop-I.clientHeight,F=I.scrollTop;f&&f(B,F,C),!d&&(F<Number(C)&&typeof y=="function"&&_&&y(),B<Number(C)&&typeof S=="function"&&k&&S())}},$.useEffect(function(){b_([[{hasMoreNewer:i},{hasNextPage:o}],[{loadMoreNewer:w},{loadNextPage:D}],[{hasMore:a},{hasPreviousPage:s}],[{loadMore:p},{loadPreviousPage:E}]],"InfiniteScroll")},[]),$.useLayoutEffect(function(){var L,I=(L=P.current)===null||L===void 0?void 0:L.parentNode;if(I){var B=function(){var F;return(F=z.current)===null||F===void 0?void 0:F.call(z)};return I.addEventListener("scroll",B,m),I.addEventListener("resize",B,m),B(),function(){I.removeEventListener("scroll",B,m),I.removeEventListener("resize",B,m)}}},[c,m]),$.useEffect(function(){var L,I=(L=P.current)===null||L===void 0?void 0:L.parentNode;return I&&I.addEventListener("wheel",XE,{passive:!1}),function(){I&&I.removeEventListener("wheel",XE,m)}},[m]);var N=ne(ne({},b),{ref:function(L){P.current=L}}),T=[h,t];return l&&T.unshift(l),v.createElement(r,N,T)},wie=function(e){var t=Et().t;if(!e.length)return null;var n=e[0],r=e.slice(1);if(e.length===1)return t("{{ user }} is typing...",{user:n});var a=3,i=e.length>a,o=(i?e.slice(0,a):r).join(", ").trim();return i?t("{{ users }} and more are typing...",{users:o}):t("{{ users }} and {{ user }} are typing...",{user:n,users:o})},Eie=function(e){var t=e.Avatar,n=e.avatarSize,r=n===void 0?32:n,a=e.threadList,i=tn("TypingIndicator"),o=i.channelConfig,s=i.thread,l=kt("TypingIndicator"),u=l.client,c=l.themeVersion,d=En("TypingIndicator").Avatar,f=Jj("TypingIndicator").typing,h=f===void 0?{}:f,p=t||d||Fa,w=a?[]:Object.values(h).filter(function(M){var m,b=M.parent_id,S=M.user;return(S==null?void 0:S.id)!==((m=u.user)===null||m===void 0?void 0:m.id)&&!b}),D=a?Object.values(h).filter(function(M){var m,b=M.parent_id,S=M.user;return(S==null?void 0:S.id)!==((m=u.user)===null||m===void 0?void 0:m.id)&&b===(s==null?void 0:s.id)}):[],E=(a?D:w).map(function(M){var m=M.user;return(m==null?void 0:m.name)||(m==null?void 0:m.id)}).filter(Boolean),g=wie(E),C=a&&D.length||!a&&w.length;return(o==null?void 0:o.typing_events)===!1?null:c==="2"?C?v.createElement("div",{className:Yt("str-chat__typing-indicator",{"str-chat__typing-indicator--typing":C}),"data-testid":"typing-indicator"},v.createElement("div",{className:"str-chat__typing-indicator__dots"},v.createElement("span",{className:"str-chat__typing-indicator__dot"}),v.createElement("span",{className:"str-chat__typing-indicator__dot"}),v.createElement("span",{className:"str-chat__typing-indicator__dot"})),v.createElement("div",{className:"str-chat__typing-indicator__users","data-testid":"typing-users"},g)):null:v.createElement("div",{className:Yt("str-chat__typing-indicator",{"str-chat__typing-indicator--typing":C})},v.createElement("div",{className:"str-chat__typing-indicator__avatars"},(a?D:w).map(function(M,m){var b=M.user;return v.createElement(p,{image:b==null?void 0:b.image,key:"".concat(b==null?void 0:b.id,"-").concat(m),name:(b==null?void 0:b.name)||(b==null?void 0:b.id),size:r,user:b})})),v.createElement("div",{className:"str-chat__typing-indicator__dots"},v.createElement("span",{className:"str-chat__typing-indicator__dot"}),v.createElement("span",{className:"str-chat__typing-indicator__dot"}),v.createElement("span",{className:"str-chat__typing-indicator__dot"})))},Cie=v.memo(Eie);function Sie(e){for(var t=e.channelUnreadUiState,n=e.components,r=e.customClasses,a=e.lastReceivedMessageId,i=e.messageGroupStyles,o=e.messages,s=e.readData,l=e.sharedMessageProps,u=n.DateSeparator,c=n.HeaderComponent,d=n.MessageSystem,f=n.UnreadMessagesSeparator,h=[],p,w=0;w<o.length;w++){var D=o[w];if(H9(D))h.push(v.createElement("li",{key:"".concat(D.date.toISOString(),"-i")},v.createElement(u,{date:D.date,formatDate:l.formatDate,unread:D.unread})));else if(D.customType===pa.intro&&c)h.push(v.createElement("li",{key:"intro"},v.createElement(c,null)));else if(D.type==="system")h.push(v.createElement("li",{key:D.id||D.created_at},v.createElement(d,{message:D})));else{p||(p=D);var E=i[D.id]||"",g=(r==null?void 0:r.message)||"str-chat__li str-chat__li--".concat(E),C=D.created_at&&new Date(D.created_at).getTime(),M=t==null?void 0:t.last_read.getTime(),m=(p==null?void 0:p.id)&&p.id===D.id,b=w===o.length-1,S=(t==null?void 0:t.last_read_message_id)===D.id||!(t!=null&&t.unread_messages)&&C===M,y=(t==null?void 0:t.first_unread_message_id)===D.id||!!(t!=null&&t.unread_messages)&&!!C&&!!M&&C>M&&m,k=!(t!=null&&t.last_read_message_id)&&y,_=S&&!b&&((t==null?void 0:t.first_unread_message_id)||!!(t!=null&&t.unread_messages));h.push(v.createElement($.Fragment,{key:D.id||D.created_at},k&&f&&v.createElement("li",{className:"str-chat__li str-chat__unread-messages-separator-wrapper"},v.createElement(f,{unreadCount:t==null?void 0:t.unread_messages})),v.createElement("li",{className:g,"data-message-id":D.id,"data-testid":g},v.createElement(ig,ne({groupStyles:[E],lastReceivedId:a,message:D,readBy:s[D.id]||[]},l))),_&&f&&v.createElement("li",{className:"str-chat__li str-chat__unread-messages-separator-wrapper"},v.createElement(f,{unreadCount:t==null?void 0:t.unread_messages}))))}}return h}var Die=function(e){var t,n=e.channel,r=e.channelUnreadUiState,a=e.disableDateSeparator,i=a===void 0?!1:a,o=e.groupStyles,s=e.hideDeletedMessages,l=s===void 0?!1:s,u=e.hideNewMessageSeparator,c=u===void 0?!1:u,d=e.internalInfiniteScrollProps,f=d===void 0?{}:d,h=f.threshold,p=h===void 0?C6:h,w=Bt(f,["threshold"]),D=e.messageActions,E=D===void 0?Object.keys(hn):D,g=e.messages,C=g===void 0?[]:g,M=e.notifications,m=e.noGroupByUser,b=m===void 0?!1:m,S=e.pinPermissions,y=S===void 0?TJ:S,k=e.returnAllReadData,_=k===void 0?!1:k,P=e.threadList,z=P===void 0?!1:P,N=e.unsafeHTML,T=N===void 0?!1:N,L=e.headerPosition,I=e.read,B=e.renderMessages,F=B===void 0?Sie:B,U=e.reviewProcessedMessage,R=e.messageLimit,O=R===void 0?gu:R,A=e.loadMore,x=e.loadMoreNewer,j=e.hasMoreNewer,V=j===void 0?!1:j,X=e.reactionDetailsSort,re=e.showUnreadNotificationAlways,W=e.sortReactionDetails,J=e.sortReactions,oe=e.suppressAutoscroll,he=e.highlightedMessageId,Oe=e.jumpToLatestMessage,$e=Oe===void 0?function(){return Promise.resolve()}:Oe,Ie=v.useState(null),ze=Ie[0],We=Ie[1],at=v.useState(null),bt=at[0],H=at[1],q=kt("MessageList").customClasses,De=En("MessageList"),Fe=De.EmptyStateIndicator,Qe=Fe===void 0?__:Fe,le=De.LoadingIndicator,Ne=le===void 0?Ju:le,pe=De.MessageListNotifications,Te=pe===void 0?Z9:pe,Ue=De.MessageNotification,Be=Ue===void 0?G9:Ue,ut=De.TypingIndicator,Mt=ut===void 0?Cie:ut,K=De.UnreadMessagesNotification,G=K===void 0?X9:K,ie=die({hasMoreNewer:V,listElement:ze,loadMoreScrollThreshold:p,messages:C,scrolledUpThreshold:e.scrolledUpThreshold,suppressAutoscroll:oe}),se=ie.hasNewMessages,fe=ie.isMessageListScrolledToBottom,te=ie.onScroll,ge=ie.scrollToBottom,Ee=ie.wrapperRect,ye=mie({isMessageListScrolledToBottom:fe,showAlways:!!re,unreadCount:r==null?void 0:r.unread_messages}).show;K9({isMessageListScrolledToBottom:fe,messageListIsThread:z,unreadCount:(t=r==null?void 0:r.unread_messages)!==null&&t!==void 0?t:0,wasMarkedUnread:!!(r!=null&&r.first_unread_message_id)});var Ae=lie({channel:n,disableDateSeparator:i,groupStyles:o,headerPosition:L,hideDeletedMessages:l,hideNewMessageSeparator:c,messages:C,noGroupByUser:b,reviewProcessedMessage:U}),we=Ae.messageGroupStyles,xe=Ae.messages,nt=uie({channelUnreadUiState:r,enrichedMessages:xe,internalMessageProps:{additionalMessageInputProps:e.additionalMessageInputProps,closeReactionSelectorOnClick:e.closeReactionSelectorOnClick,customMessageActions:e.customMessageActions,disableQuotedMessages:e.disableQuotedMessages,formatDate:e.formatDate,getDeleteMessageErrorNotification:e.getDeleteMessageErrorNotification,getFlagMessageErrorNotification:e.getFlagMessageErrorNotification,getFlagMessageSuccessNotification:e.getFlagMessageSuccessNotification,getMarkMessageUnreadErrorNotification:e.getMarkMessageUnreadErrorNotification,getMarkMessageUnreadSuccessNotification:e.getMarkMessageUnreadSuccessNotification,getMuteUserErrorNotification:e.getMuteUserErrorNotification,getMuteUserSuccessNotification:e.getMuteUserSuccessNotification,getPinMessageErrorNotification:e.getPinMessageErrorNotification,Message:e.Message,messageActions:E,messageListRect:Ee,onlySenderCanEdit:e.onlySenderCanEdit,onMentionsClick:e.onMentionsClick,onMentionsHover:e.onMentionsHover,onUserClick:e.onUserClick,onUserHover:e.onUserHover,openThread:e.openThread,pinPermissions:y,reactionDetailsSort:X,renderText:e.renderText,retrySendMessage:e.retrySendMessage,sortReactionDetails:W,sortReactions:J,unsafeHTML:T},messageGroupStyles:we,read:I,renderMessages:F,returnAllReadData:_,threadList:z}),lt=(q==null?void 0:q.messageList)||"str-chat__list",Ke=z?(q==null?void 0:q.threadList)||"str-chat__list--thread str-chat__thread-list":"",yt=v.useCallback(function(){A&&A(O)},[A,O]),ke=v.useCallback(function(){x&&x(O)},[x,O]),rt=v.useCallback(function(){return St(void 0,void 0,void 0,function(){return Dt(this,function(Ye){switch(Ye.label){case 0:return V?[4,$e()]:[3,2];case 1:return Ye.sent(),[3,3];case 2:ge(),Ye.label=3;case 3:return[2]}})})},[ge,V]);v.useLayoutEffect(function(){if(he){var Ye=bt==null?void 0:bt.querySelector("[data-message-id='".concat(he,"']"));Ye==null||Ye.scrollIntoView({block:"center"})}},[he]);var Pt=nt.length===0&&!z;return v.createElement(BA,{value:{listElement:ze,scrollToBottom:ge}},v.createElement(q9,null,!z&&ye&&v.createElement(G,{unreadCount:r==null?void 0:r.unread_messages}),v.createElement("div",{className:"".concat(lt," ").concat(Ke),onScroll:te,ref:We,tabIndex:0},Pt?v.createElement(Qe,{key:"empty-state-indicator",listType:z?"thread":"message"}):v.createElement(bie,ne({className:"str-chat__reverse-infinite-scroll  str-chat__message-list-scroll","data-testid":"reverse-infinite-scroll",hasNextPage:e.hasMoreNewer,hasPreviousPage:e.hasMore,head:e.head,isLoading:e.loadingMore,loader:v.createElement("div",{className:"str-chat__list__loading",key:"loading-indicator"},e.loadingMore&&v.createElement(Ne,{size:20})),loadNextPage:ke,loadPreviousPage:yt,threshold:p},w),v.createElement("ul",{className:"str-chat__ul",ref:H},nt),v.createElement(Mt,{threadList:z}),v.createElement("div",{key:"bottom"})))),v.createElement(Te,{hasNewMessages:se,isMessageListScrolledToBottom:fe,isNotAtLatestMessageSet:V,MessageNotification:Be,notifications:M,scrollToBottom:rt,threadList:z,unreadCount:z||r==null?void 0:r.unread_messages}))},Q9=function(e){var t=qn("MessageList"),n=t.jumpToLatestMessage,r=t.loadMore,a=t.loadMoreNewer,i=tn("MessageList");i.members,i.mutes,i.watchers;var o=Bt(i,["members","mutes","watchers"]);return v.createElement(Die,ne({jumpToLatestMessage:n,loadMore:r,loadMoreNewer:a},o,e))},og=0,As=1,ac=2,J9=4;function Ud(e,t){return function(n){return e(t(n))}}function kie(e,t){return t(e)}function e7(e,t){return function(n){return e(t,n)}}function QE(e,t){return function(){return e(t)}}function sg(e,t){return t(e),e}function Xn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function Mie(e){e()}function JE(e){return function(){return e}}function Tie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){t.map(Mie)}}function xl(){}function Dn(e,t){return e(As,t)}function kn(e,t){e(og,t)}function w_(e){e(ac)}function mo(e){return e(J9)}function qt(e,t){return Dn(e,e7(t,og))}function Cl(e,t){var n=e(As,function(r){n(),t(r)});return n}function Zt(){var e=[];return function(t,n){switch(t){case ac:e.splice(0,e.length);return;case As:return e.push(n),function(){var r=e.indexOf(n);r>-1&&e.splice(r,1)};case og:e.slice().forEach(function(r){r(n)});return;default:throw new Error("unrecognized action "+t)}}}function Rt(e){var t=e,n=Zt();return function(r,a){switch(r){case As:var i=a;i(t);break;case og:t=a;break;case J9:return t}return n(r,a)}}function xie(e){var t,n,r=function(){return t&&t()};return function(a,i){switch(a){case As:return i?n===i?void 0:(r(),n=i,t=Dn(e,i),t):(r(),xl);case ac:r(),n=null;return;default:throw new Error("unrecognized action "+a)}}}function Ya(e){return sg(Zt(),function(t){return qt(e,t)})}function va(e,t){return sg(Rt(t),function(n){return qt(e,n)})}function Rie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(kie,r)}}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=Rie.apply(void 0,n);return function(i,o){switch(i){case As:return Dn(e,a(o));case ac:w_(e);return;default:throw new Error("unrecognized action "+i)}}}function t7(e,t){return e===t}function er(e){e===void 0&&(e=t7);var t;return function(n){return function(r){e(t,r)||(t=r,n(r))}}}function un(e){return function(t){return function(n){e(n)&&t(n)}}}function Ft(e){return function(t){return Ud(t,e)}}function ls(e){return function(t){return function(){return t(e)}}}function Po(e,t){return function(n){return function(r){return n(t=e(t,r))}}}function im(e){return function(t){return function(n){e>0?e--:t(n)}}}function vu(e){var t,n;return function(r){return function(a){t=a,!n&&(n=setTimeout(function(){n=void 0,r(t)},e))}}}function e5(e){var t,n;return function(r){return function(a){t=a,n&&clearTimeout(n),n=setTimeout(function(){r(t)},e)}}}function mn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Array(t.length),a=0,i=null,o=Math.pow(2,t.length)-1;return t.forEach(function(s,l){var u=Math.pow(2,l);Dn(s,function(c){var d=a;a=a|u,r[l]=c,d!==o&&a===o&&i&&(i(),i=null)})}),function(s){return function(l){var u=function(){return s([l].concat(r))};a===o?u():i=u}}}function t5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r,a){switch(r){case As:return Tie.apply(void 0,t.map(function(i){return Dn(i,a)}));case ac:return;default:throw new Error("unrecognized action "+r)}}}function pn(e,t){return t===void 0&&(t=t7),vt(e,er(t))}function ea(){for(var e=Zt(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=new Array(n.length),i=0,o=Math.pow(2,n.length)-1;return n.forEach(function(s,l){var u=Math.pow(2,l);Dn(s,function(c){a[l]=c,i=i|u,i===o&&kn(e,a)})}),function(s,l){switch(s){case As:return i===o&&l(a),Dn(e,l);case ac:return w_(e);default:throw new Error("unrecognized action "+s)}}}function Mn(e,t,n){t===void 0&&(t=[]);var r=n===void 0?{singleton:!0}:n,a=r.singleton;return{id:Pie(),constructor:e,dependencies:t,singleton:a}}var Pie=function(){return Symbol()};function Oie(e){var t=new Map,n=function r(a){var i=a.id,o=a.constructor,s=a.dependencies,l=a.singleton;if(l&&t.has(i))return t.get(i);var u=o(s.map(function(c){return r(c)}));return l&&t.set(i,u),u};return n(e)}function Aie(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Lie(e,t){if(e){if(typeof e=="string")return n5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n5(e,t)}}function n5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Lie(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Iie=["children"];function Fie(e,t){for(var n={},r={},a=0,i=e.length;a<i;)r[e[a]]=1,a+=1;for(var o in t)r.hasOwnProperty(o)||(n[o]=t[o]);return n}var th=typeof document<"u"?$.useLayoutEffect:$.useEffect;function E_(e,t,n){var r=Object.keys(t.required||{}),a=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),o=Object.keys(t.events||{}),s=$.createContext({});function l(w,D){w.propsReady&&kn(w.propsReady,!1);for(var E=J1(r),g;!(g=E()).done;){var C=g.value,M=w[t.required[C]];kn(M,D[C])}for(var m=J1(a),b;!(b=m()).done;){var S=b.value;if(S in D){var y=w[t.optional[S]];kn(y,D[S])}}w.propsReady&&kn(w.propsReady,!0)}function u(w){return i.reduce(function(D,E){return D[E]=function(g){var C=w[t.methods[E]];kn(C,g)},D},{})}function c(w){return o.reduce(function(D,E){return D[E]=xie(w[t.events[E]]),D},{})}var d=$.forwardRef(function(w,D){var E=w.children,g=Aie(w,Iie),C=$.useState(function(){return sg(Oie(e),function(S){return l(S,g)})}),M=C[0],m=$.useState(QE(c,M)),b=m[0];return th(function(){for(var S=J1(o),y;!(y=S()).done;){var k=y.value;k in g&&Dn(b[k],g[k])}return function(){Object.values(b).map(w_)}},[g,b,M]),th(function(){l(M,g)}),$.useImperativeHandle(D,JE(u(M))),$.createElement(s.Provider,{value:M},n?$.createElement(n,Fie([].concat(r,a,o),g),E):E)}),f=function(D){return $.useCallback(e7(kn,$.useContext(s)[D]),[D])},h=function(D){var E=$.useContext(s),g=E[D],C=$.useState(QE(mo,g)),M=C[0],m=C[1];return th(function(){return Dn(g,function(b){b!==M&&m(JE(b))})},[g,M]),M},p=function(D,E){var g=$.useContext(s),C=g[D];th(function(){return Dn(C,E)},[E,C])};return{Component:d,usePublisher:f,useEmitterValue:h,useEmitter:p}}function rn(){return rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}function ic(e,t){if(e==null)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}function r5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sl(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(a,i){if(a){if(typeof a=="string")return r5(a,i);var o=Object.prototype.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r5(a,i):void 0}}(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oc,Dr,Nie=typeof document<"u"?$.useLayoutEffect:$.useEffect;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"})(Dr||(Dr={}));var Uie=((Oc={})[Dr.DEBUG]="debug",Oc[Dr.INFO]="log",Oc[Dr.WARN]="warn",Oc[Dr.ERROR]="error",Oc),Ls=Mn(function(){var e=Rt(Dr.ERROR);return{log:Rt(function(t,n,r){var a;r===void 0&&(r=Dr.INFO),r>=((a=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)!=null?a:mo(e))&&console[Uie[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function C_(e,t){t===void 0&&(t=!0);var n=$.useRef(null),r=function(i){};if(typeof ResizeObserver<"u"){var a=new ResizeObserver(function(i){var o=i[0].target;o.offsetParent!==null&&e(o)});r=function(i){i&&t?(a.observe(i),n.current=i):(n.current&&a.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function ks(e,t){return t===void 0&&(t=!0),C_(e,t).callbackRef}function n7(e,t,n,r,a,i,o){return C_(function(s){for(var l=function(p,w,D,E){var g=p.length;if(g===0)return null;for(var C=[],M=0;M<g;M++){var m=p.item(M);if(m&&m.dataset.index!==void 0){var b=parseInt(m.dataset.index),S=parseFloat(m.dataset.knownSize),y=w(m,"offsetHeight");if(y===0&&E("Zero-sized element, this should not happen",{child:m},Dr.ERROR),y!==S){var k=C[C.length-1];C.length===0||k.size!==y||k.endIndex!==b-1?C.push({startIndex:b,endIndex:b,size:y}):C[C.length-1].endIndex++}}}return C}(s.children,t,0,a),u=s.parentElement;!u.dataset.virtuosoScroller;)u=u.parentElement;var c=u.firstElementChild.dataset.viewportType==="window",d=o?o.scrollTop:c?window.pageYOffset||document.documentElement.scrollTop:u.scrollTop,f=o?o.scrollHeight:c?document.documentElement.scrollHeight:u.scrollHeight,h=o?o.offsetHeight:c?window.innerHeight:u.offsetHeight;r({scrollTop:Math.max(d,0),scrollHeight:f,viewportHeight:h}),i==null||i(function(p,w,D){return w==="normal"||w!=null&&w.endsWith("px")||D("row-gap was not resolved to pixel value correctly",w,Dr.WARN),w==="normal"?0:parseInt(w??"0",10)}(0,getComputedStyle(s).rowGap,a)),l!==null&&e(l)},n)}function $o(e,t){return Math.round(e.getBoundingClientRect()[t])}function r7(e,t){return Math.abs(e-t)<1.01}function a7(e,t,n,r,a){r===void 0&&(r=xl);var i=$.useRef(null),o=$.useRef(null),s=$.useRef(null),l=$.useRef(!1),u=$.useCallback(function(c){var d=c.target,f=d===window||d===document,h=f?window.pageYOffset||document.documentElement.scrollTop:d.scrollTop,p=f?document.documentElement.scrollHeight:d.scrollHeight,w=f?window.innerHeight:d.offsetHeight,D=function(){e({scrollTop:Math.max(h,0),scrollHeight:p,viewportHeight:w})};l.current?Yy.flushSync(D):D(),l.current=!1,o.current!==null&&(h===o.current||h<=0||h===p-w)&&(o.current=null,t(!0),s.current&&(clearTimeout(s.current),s.current=null))},[e,t]);return $.useEffect(function(){var c=a||i.current;return r(a||i.current),u({target:c}),c.addEventListener("scroll",u,{passive:!0}),function(){r(null),c.removeEventListener("scroll",u)}},[i,u,n,r,a]),{scrollerRef:i,scrollByCallback:function(c){l.current=!0,i.current.scrollBy(c)},scrollToCallback:function(c){var d=i.current;if(d&&(!("offsetHeight"in d)||d.offsetHeight!==0)){var f,h,p,w=c.behavior==="smooth";if(d===window?(h=Math.max($o(document.documentElement,"height"),document.documentElement.scrollHeight),f=window.innerHeight,p=document.documentElement.scrollTop):(h=d.scrollHeight,f=$o(d,"height"),p=d.scrollTop),c.top=Math.ceil(Math.max(Math.min(h-f,c.top),0)),r7(f,h)||c.top===p)return e({scrollTop:p,scrollHeight:h,viewportHeight:f}),void(w&&t(!0));w?(o.current=c.top,s.current&&clearTimeout(s.current),s.current=setTimeout(function(){s.current=null,o.current=null,t(!0)},1e3)):o.current=null,d.scrollTo(c)}}}}var Na=Mn(function(){var e=Zt(),t=Zt(),n=Rt(0),r=Zt(),a=Rt(0),i=Zt(),o=Zt(),s=Rt(0),l=Rt(0),u=Rt(0),c=Rt(0),d=Zt(),f=Zt(),h=Rt(!1),p=Rt(!1);return qt(vt(e,Ft(function(w){return w.scrollTop})),t),qt(vt(e,Ft(function(w){return w.scrollHeight})),o),qt(t,a),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:c,scrollHeight:o,smoothScrollTargetReached:r,react18ConcurrentRendering:p,scrollTo:d,scrollBy:f,statefulScrollTop:a,deviation:n,scrollingInProgress:h}},[],{singleton:!0}),Bd={lvl:0};function i7(e,t,n,r,a){return r===void 0&&(r=Bd),a===void 0&&(a=Bd),{k:e,v:t,lvl:n,l:r,r:a}}function Vn(e){return e===Bd}function zc(){return Bd}function Y0(e,t){if(Vn(e))return Bd;var n=e.k,r=e.l,a=e.r;if(t===n){if(Vn(r))return a;if(Vn(a))return r;var i=o7(r);return G0(jr(e,{k:i[0],v:i[1],l:s7(r)}))}return G0(jr(e,t<n?{l:Y0(r,t)}:{r:Y0(a,t)}))}function yo(e,t,n){if(n===void 0&&(n="k"),Vn(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var r=yo(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return yo(e.l,t,n)}function ao(e,t,n){return Vn(e)?i7(t,n,1):t===e.k?jr(e,{k:t,v:n}):function(r){return Z0(u7(r))}(jr(e,t<e.k?{l:ao(e.l,t,n)}:{r:ao(e.r,t,n)}))}function K0(e,t,n){if(Vn(e))return[];var r=e.k,a=e.v,i=e.r,o=[];return r>t&&(o=o.concat(K0(e.l,t,n))),r>=t&&r<=n&&o.push({k:r,v:a}),r<=n&&(o=o.concat(K0(i,t,n))),o}function om(e){return Vn(e)?[]:[].concat(om(e.l),[{k:e.k,v:e.v}],om(e.r))}function o7(e){return Vn(e.r)?[e.k,e.v]:o7(e.r)}function s7(e){return Vn(e.r)?e.l:G0(jr(e,{r:s7(e.r)}))}function jr(e,t){return i7(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function ev(e){return Vn(e)||e.lvl>e.r.lvl}function G0(e){var t=e.l,n=e.r,r=e.lvl;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(ev(t))return u7(jr(e,{lvl:r-1}));if(Vn(t)||Vn(t.r))throw new Error("Unexpected empty nodes");return jr(t.r,{l:jr(t,{r:t.r.l}),r:jr(e,{l:t.r.r,lvl:r-1}),lvl:r})}if(ev(e))return Z0(jr(e,{lvl:r-1}));if(Vn(n)||Vn(n.l))throw new Error("Unexpected empty nodes");var a=n.l,i=ev(a)?n.lvl-1:n.lvl;return jr(a,{l:jr(e,{r:a.l,lvl:r-1}),r:Z0(jr(n,{l:a.r,lvl:i})),lvl:a.lvl+1})}function lg(e,t,n){return Vn(e)?[]:l7(K0(e,yo(e,t)[0],n),function(r){return{index:r.k,value:r.v}})}function l7(e,t){var n=e.length;if(n===0)return[];for(var r=t(e[0]),a=r.index,i=r.value,o=[],s=1;s<n;s++){var l=t(e[s]),u=l.index,c=l.value;o.push({start:a,end:u-1,value:i}),a=u,i=c}return o.push({start:a,end:1/0,value:i}),o}function Z0(e){var t=e.r,n=e.lvl;return Vn(t)||Vn(t.r)||t.lvl!==n||t.r.lvl!==n?e:jr(t,{l:jr(e,{r:t.l}),lvl:n+1})}function u7(e){var t=e.l;return Vn(t)||t.lvl!==e.lvl?e:jr(t,{r:jr(e,{l:t.r})})}function sm(e,t,n,r){r===void 0&&(r=0);for(var a=e.length-1;r<=a;){var i=Math.floor((r+a)/2),o=n(e[i],t);if(o===0)return i;if(o===-1){if(a-r<2)return i-1;a=i-1}else{if(a===r)return i;r=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function c7(e,t,n){return e[sm(e,t,n)]}var S_=Mn(function(){return{recalcInProgress:Rt(!1)}},[],{singleton:!0});function Bie(e){var t=e.size,n=e.startIndex,r=e.endIndex;return function(a){return a.start===n&&(a.end===r||a.end===1/0)&&a.value===t}}function D_(e,t){var n=e.index;return t===n?0:t<n?-1:1}function jie(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function zie(e){return{index:e.index,value:e}}function d7(e,t,n,r){var a=e,i=0,o=0,s=0,l=0;if(t!==0){s=a[l=sm(a,t-1,D_)].offset;var u=yo(n,t-1);i=u[0],o=u[1],a.length&&a[l].size===yo(n,t)[1]&&(l-=1),a=a.slice(0,l+1)}else a=[];for(var c,d=Sl(lg(n,t,1/0));!(c=d()).done;){var f=c.value,h=f.start,p=f.value,w=h-i,D=w*o+s+w*r;a.push({offset:D,size:p,index:h}),i=h,s=D,o=p}return{offsetTree:a,lastIndex:i,lastOffset:s,lastSize:o}}function $ie(e,t){var n=t[0],r=t[1],a=t[3];n.length>0&&(0,t[2])("received item sizes",n,Dr.DEBUG);var i=e.sizeTree,o=i,s=0;if(r.length>0&&Vn(i)&&n.length===2){var l=n[0].size,u=n[1].size;o=r.reduce(function(h,p){return ao(ao(h,p,l),p+1,u)},o)}else{var c=function(h,p){for(var w,D=Vn(h)?0:1/0,E=Sl(p);!(w=E()).done;){var g=w.value,C=g.size,M=g.startIndex,m=g.endIndex;if(D=Math.min(D,M),Vn(h))h=ao(h,0,C);else{var b=lg(h,M-1,m+1);if(!b.some(Bie(g))){for(var S,y=!1,k=!1,_=Sl(b);!(S=_()).done;){var P=S.value,z=P.start,N=P.end,T=P.value;y?(m>=z||C===T)&&(h=Y0(h,z)):(k=T!==C,y=!0),N>m&&m>=z&&T!==C&&(h=ao(h,m+1,T))}k&&(h=ao(h,M,C))}}}return[h,D]}(o,n);o=c[0],s=c[1]}if(o===i)return e;var d=d7(e.offsetTree,s,o,a),f=d.offsetTree;return{sizeTree:o,offsetTree:f,lastIndex:d.lastIndex,lastOffset:d.lastOffset,lastSize:d.lastSize,groupOffsetTree:r.reduce(function(h,p){return ao(h,p,jd(p,f,a))},zc()),groupIndices:r}}function jd(e,t,n){if(t.length===0)return 0;var r=c7(t,e,D_),a=e-r.index,i=r.size*a+(a-1)*n+r.offset;return i>0?i+n:i}function f7(e,t,n){if(function(a){return a.groupIndex!==void 0}(e))return t.groupIndices[e.groupIndex]+1;var r=h7(e.index==="LAST"?n:e.index,t);return Math.max(0,r,Math.min(n,r))}function h7(e,t){if(!ug(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function ug(e){return!Vn(e.groupOffsetTree)}var Hie={offsetHeight:"height",offsetWidth:"width"},Ko=Mn(function(e){var t=e[0].log,n=e[1].recalcInProgress,r=Zt(),a=Zt(),i=va(a,0),o=Zt(),s=Zt(),l=Rt(0),u=Rt([]),c=Rt(void 0),d=Rt(void 0),f=Rt(function(m,b){return $o(m,Hie[b])}),h=Rt(void 0),p=Rt(0),w={offsetTree:[],sizeTree:zc(),groupOffsetTree:zc(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},D=va(vt(r,mn(u,t,p),Po($ie,w),er()),w);qt(vt(u,un(function(m){return m.length>0}),mn(D,p),Ft(function(m){var b=m[0],S=m[1],y=m[2],k=b.reduce(function(_,P,z){return ao(_,P,jd(P,S.offsetTree,y)||z)},zc());return rn({},S,{groupIndices:b,groupOffsetTree:k})})),D),qt(vt(a,mn(D),un(function(m){return m[0]<m[1].lastIndex}),Ft(function(m){var b=m[1];return[{startIndex:m[0],endIndex:b.lastIndex,size:b.lastSize}]})),r),qt(c,d);var E=va(vt(c,Ft(function(m){return m===void 0})),!0);qt(vt(d,un(function(m){return m!==void 0&&Vn(mo(D).sizeTree)}),Ft(function(m){return[{startIndex:0,endIndex:0,size:m}]})),r);var g=Ya(vt(r,mn(D),Po(function(m,b){var S=b[1];return{changed:S!==m.sizes,sizes:S}},{changed:!1,sizes:w}),Ft(function(m){return m.changed})));Dn(vt(l,Po(function(m,b){return{diff:m.prev-b,prev:b}},{diff:0,prev:0}),Ft(function(m){return m.diff})),function(m){m>0?(kn(n,!0),kn(o,m)):m<0&&kn(s,m)}),Dn(vt(l,mn(t)),function(m){m[0]<0&&(0,m[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},Dr.ERROR)});var C=Ya(o);qt(vt(o,mn(D),Ft(function(m){var b=m[0],S=m[1];if(S.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return om(S.sizeTree).reduce(function(y,k){var _=k.k,P=k.v;return{ranges:[].concat(y.ranges,[{startIndex:y.prevIndex,endIndex:_+b-1,size:y.prevSize}]),prevIndex:_+b,prevSize:P}},{ranges:[],prevIndex:0,prevSize:S.lastSize}).ranges})),r);var M=Ya(vt(s,mn(D,p),Ft(function(m){return jd(-m[0],m[1].offsetTree,m[2])})));return qt(vt(s,mn(D,p),Ft(function(m){var b=m[0],S=m[1],y=m[2];if(S.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var k=om(S.sizeTree).reduce(function(_,P){var z=P.v;return ao(_,Math.max(0,P.k+b),z)},zc());return rn({},S,{sizeTree:k},d7(S.offsetTree,0,k,y))})),D),{data:h,totalCount:a,sizeRanges:r,groupIndices:u,defaultItemSize:d,fixedItemSize:c,unshiftWith:o,shiftWith:s,shiftWithOffset:M,beforeUnshiftWith:C,firstItemIndex:l,gap:p,sizes:D,listRefresh:g,statefulTotalCount:i,trackItemSizes:E,itemSize:f}},Xn(Ls,S_),{singleton:!0}),Vie=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function p7(e){var t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Vie||(t.behavior="auto"),t.offset||(t.offset=0),t}var df=Mn(function(e){var t=e[0],n=t.sizes,r=t.totalCount,a=t.listRefresh,i=t.gap,o=e[1],s=o.scrollingInProgress,l=o.viewportHeight,u=o.scrollTo,c=o.smoothScrollTargetReached,d=o.headerHeight,f=o.footerHeight,h=o.fixedHeaderHeight,p=o.fixedFooterHeight,w=e[2].log,D=Zt(),E=Rt(0),g=null,C=null,M=null;function m(){g&&(g(),g=null),M&&(M(),M=null),C&&(clearTimeout(C),C=null),kn(s,!1)}return qt(vt(D,mn(n,l,r,E,d,f,w),mn(i,h,p),Ft(function(b){var S=b[0],y=S[0],k=S[1],_=S[2],P=S[3],z=S[4],N=S[5],T=S[6],L=S[7],I=b[1],B=b[2],F=b[3],U=p7(y),R=U.align,O=U.behavior,A=U.offset,x=P-1,j=f7(U,k,x),V=jd(j,k.offsetTree,I)+N;R==="end"?(V+=B+yo(k.sizeTree,j)[1]-_+F,j===x&&(V+=T)):R==="center"?V+=(B+yo(k.sizeTree,j)[1]-_+F)/2:V-=z,A&&(V+=A);var X=function(W){m(),W?(L("retrying to scroll to",{location:y},Dr.DEBUG),kn(D,y)):L("list did not change, scroll successful",{},Dr.DEBUG)};if(m(),O==="smooth"){var re=!1;M=Dn(a,function(W){re=re||W}),g=Cl(c,function(){X(re)})}else g=Cl(vt(a,function(W){var J=setTimeout(function(){W(!1)},150);return function(oe){oe&&(W(!0),clearTimeout(J))}}),X);return C=setTimeout(function(){m()},1200),kn(s,!0),L("scrolling from index to",{index:j,top:V,behavior:O},Dr.DEBUG),{top:V,behavior:O}})),u),{scrollToIndex:D,topListHeight:E}},Xn(Ko,Na,Ls),{singleton:!0}),zd="up",Wie={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},ff=Mn(function(e){var t=e[0],n=t.scrollContainerState,r=t.scrollTop,a=t.viewportHeight,i=t.headerHeight,o=t.footerHeight,s=t.scrollBy,l=Rt(!1),u=Rt(!0),c=Zt(),d=Zt(),f=Rt(4),h=Rt(0),p=va(vt(t5(vt(pn(r),im(1),ls(!0)),vt(pn(r),im(1),ls(!1),e5(100))),er()),!1),w=va(vt(t5(vt(s,ls(!0)),vt(s,ls(!1),e5(200))),er()),!1);qt(vt(ea(pn(r),pn(h)),Ft(function(M){return M[0]<=M[1]}),er()),u),qt(vt(u,vu(50)),d);var D=Ya(vt(ea(n,pn(a),pn(i),pn(o),pn(f)),Po(function(M,m){var b,S,y=m[0],k=y.scrollTop,_=y.scrollHeight,P=m[1],z={viewportHeight:P,scrollTop:k,scrollHeight:_};return k+P-_>-m[4]?(k>M.state.scrollTop?(b="SCROLLED_DOWN",S=M.state.scrollTop-k):(b="SIZE_DECREASED",S=M.state.scrollTop-k||M.scrollTopDelta),{atBottom:!0,state:z,atBottomBecause:b,scrollTopDelta:S}):{atBottom:!1,notAtBottomBecause:z.scrollHeight>M.state.scrollHeight?"SIZE_INCREASED":P<M.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":k<M.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:z}},Wie),er(function(M,m){return M&&M.atBottom===m.atBottom}))),E=va(vt(n,Po(function(M,m){var b=m.scrollTop,S=m.scrollHeight,y=m.viewportHeight;return r7(M.scrollHeight,S)?{scrollTop:b,scrollHeight:S,jump:0,changed:!1}:M.scrollTop!==b&&S-(b+y)<1?{scrollHeight:S,scrollTop:b,jump:M.scrollTop-b,changed:!0}:{scrollHeight:S,scrollTop:b,jump:0,changed:!0}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),un(function(M){return M.changed}),Ft(function(M){return M.jump})),0);qt(vt(D,Ft(function(M){return M.atBottom})),l),qt(vt(l,vu(50)),c);var g=Rt("down");qt(vt(n,Ft(function(M){return M.scrollTop}),er(),Po(function(M,m){return mo(w)?{direction:M.direction,prevScrollTop:m}:{direction:m<M.prevScrollTop?zd:"down",prevScrollTop:m}},{direction:"down",prevScrollTop:0}),Ft(function(M){return M.direction})),g),qt(vt(n,vu(50),ls("none")),g);var C=Rt(0);return qt(vt(p,un(function(M){return!M}),ls(0)),C),qt(vt(r,vu(100),mn(p),un(function(M){return!!M[1]}),Po(function(M,m){return[M[1],m[0]]},[0,0]),Ft(function(M){return M[1]-M[0]})),C),{isScrolling:p,isAtTop:u,isAtBottom:l,atBottomState:D,atTopStateChange:d,atBottomStateChange:c,scrollDirection:g,atBottomThreshold:f,atTopThreshold:h,scrollVelocity:C,lastJumpDueToItemResize:E}},Xn(Na)),Rl=Mn(function(e){var t=e[0].log,n=Rt(!1),r=Ya(vt(n,un(function(a){return a}),er()));return Dn(n,function(a){a&&mo(t)("props updated",{},Dr.DEBUG)}),{propsReady:n,didMount:r}},Xn(Ls),{singleton:!0}),k_=Mn(function(e){var t=e[0],n=t.sizes,r=t.listRefresh,a=t.defaultItemSize,i=e[1].scrollTop,o=e[2].scrollToIndex,s=e[3].didMount,l=Rt(!0),u=Rt(0);return qt(vt(s,mn(u),un(function(c){return!!c[1]}),ls(!1)),l),Dn(vt(ea(r,s),mn(l,n,a),un(function(c){var d=c[1],f=c[3];return c[0][1]&&(!Vn(c[2].sizeTree)||f!==void 0)&&!d}),mn(u)),function(c){var d=c[1];setTimeout(function(){Cl(i,function(){kn(l,!0)}),kn(o,d)})}),{scrolledToInitialItem:l,initialTopMostItemIndex:u}},Xn(Ko,Na,df,Rl),{singleton:!0});function a5(e){return!!e&&(e==="smooth"?"smooth":"auto")}var qie=Mn(function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,a=e[1],i=a.isAtBottom,o=a.atBottomState,s=e[2].scrollToIndex,l=e[3].scrolledToInitialItem,u=e[4],c=u.propsReady,d=u.didMount,f=e[5].log,h=e[6].scrollingInProgress,p=Rt(!1),w=Zt(),D=null;function E(C){kn(s,{index:"LAST",align:"end",behavior:C})}function g(C){var M=Cl(o,function(m){!C||m.atBottom||m.notAtBottomBecause!=="SIZE_INCREASED"||D||(mo(f)("scrolling to bottom due to increased size",{},Dr.DEBUG),E("auto"))});setTimeout(M,100)}return Dn(vt(ea(vt(pn(n),im(1)),d),mn(pn(p),i,l,h),Ft(function(C){var M=C[0],m=M[0],b=M[1]&&C[3],S="auto";return b&&(S=function(y,k){return typeof y=="function"?a5(y(k)):k&&a5(y)}(C[1],C[2]||C[4]),b=b&&!!S),{totalCount:m,shouldFollow:b,followOutputBehavior:S}}),un(function(C){return C.shouldFollow})),function(C){var M=C.totalCount,m=C.followOutputBehavior;D&&(D(),D=null),D=Cl(r,function(){mo(f)("following output to ",{totalCount:M},Dr.DEBUG),E(m),D=null})}),Dn(vt(ea(pn(p),n,c),un(function(C){return C[0]&&C[2]}),Po(function(C,M){var m=M[1];return{refreshed:C.value===m,value:m}},{refreshed:!1,value:0}),un(function(C){return C.refreshed}),mn(p,n)),function(C){g(C[1]!==!1)}),Dn(w,function(){g(mo(p)!==!1)}),Dn(ea(pn(p),o),function(C){var M=C[1];C[0]&&!M.atBottom&&M.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&E("auto")}),{followOutput:p,autoscrollToBottom:w}},Xn(Ko,ff,df,k_,Rl,Ls,Na));function Yie(e){return e.reduce(function(t,n){return t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t},{totalCount:0,groupIndices:[]})}var m7=Mn(function(e){var t=e[0],n=t.totalCount,r=t.groupIndices,a=t.sizes,i=e[1],o=i.scrollTop,s=i.headerHeight,l=Zt(),u=Zt(),c=Ya(vt(l,Ft(Yie)));return qt(vt(c,Ft(function(d){return d.totalCount})),n),qt(vt(c,Ft(function(d){return d.groupIndices})),r),qt(vt(ea(o,a,s),un(function(d){return ug(d[1])}),Ft(function(d){return yo(d[1].groupOffsetTree,Math.max(d[0]-d[2],0),"v")[0]}),er(),Ft(function(d){return[d]})),u),{groupCounts:l,topItemsIndexes:u}},Xn(Ko,Na));function $d(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function g7(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function i5(e,t,n){return typeof e=="number"?n===zd&&t==="top"||n==="down"&&t==="bottom"?e:0:n===zd?t==="top"?e.main:e.reverse:t==="bottom"?e.main:e.reverse}function o5(e,t){return typeof e=="number"?e:e[t]||0}var M_=Mn(function(e){var t=e[0],n=t.scrollTop,r=t.viewportHeight,a=t.deviation,i=t.headerHeight,o=t.fixedHeaderHeight,s=Zt(),l=Rt(0),u=Rt(0),c=Rt(0),d=va(vt(ea(pn(n),pn(r),pn(i),pn(s,$d),pn(c),pn(l),pn(o),pn(a),pn(u)),Ft(function(f){var h=f[0],p=f[1],w=f[2],D=f[3],E=D[0],g=D[1],C=f[4],M=f[6],m=f[7],b=f[8],S=h-m,y=f[5]+M,k=Math.max(w-S,0),_="none",P=o5(b,"top"),z=o5(b,"bottom");return E-=m,g+=w+M,(E+=w+M)>h+y-P&&(_=zd),(g-=m)<h-k+p+z&&(_="down"),_!=="none"?[Math.max(S-w-i5(C,"top",_)-P,0),S-k-M+p+i5(C,"bottom",_)+z]:null}),un(function(f){return f!=null}),er($d)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:l,increaseViewportBy:u,visibleRange:d}},Xn(Na),{singleton:!0}),s5={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function l5(e,t,n){if(e.length===0)return[];if(!ug(t))return e.map(function(c){return rn({},c,{index:c.index+n,originalIndex:c.index})});for(var r,a=[],i=lg(t.groupOffsetTree,e[0].index,e[e.length-1].index),o=void 0,s=0,l=Sl(e);!(r=l()).done;){var u=r.value;(!o||o.end<u.index)&&(o=i.shift(),s=t.groupIndices.indexOf(o.start)),a.push(rn({},u.index===o.start?{type:"group",index:s}:{index:u.index-(s+1)+n,groupIndex:s},{size:u.size,offset:u.offset,originalIndex:u.index,data:u.data}))}return a}function Ph(e,t,n,r,a,i){var o=0,s=0;if(e.length>0){o=e[0].offset;var l=e[e.length-1];s=l.offset+l.size}var u=n-a.lastIndex,c=o,d=a.lastOffset+u*a.lastSize+(u-1)*r-s;return{items:l5(e,a,i),topItems:l5(t,a,i),topListHeight:t.reduce(function(f,h){return h.size+f},0),offsetTop:o,offsetBottom:d,top:c,bottom:s,totalCount:n,firstItemIndex:i}}var oc=Mn(function(e){var t=e[0],n=t.sizes,r=t.totalCount,a=t.data,i=t.firstItemIndex,o=t.gap,s=e[1],l=e[2],u=l.visibleRange,c=l.listBoundary,d=l.topListHeight,f=e[3],h=f.scrolledToInitialItem,p=f.initialTopMostItemIndex,w=e[4].topListHeight,D=e[5],E=e[6].didMount,g=e[7].recalcInProgress,C=Rt([]),M=Zt();qt(s.topItemsIndexes,C);var m=va(vt(ea(E,g,pn(u,$d),pn(r),pn(n),pn(p),h,pn(C),pn(i),pn(o),a),un(function(b){return b[0]&&!b[1]}),Ft(function(b){var S=b[2],y=S[0],k=S[1],_=b[3],P=b[5],z=b[6],N=b[7],T=b[8],L=b[9],I=b[10],B=b[4],F=B.sizeTree,U=B.offsetTree;if(_===0||y===0&&k===0)return rn({},s5,{totalCount:_});if(Vn(F))return Ph(function(Ie,ze,We){if(ug(ze)){var at=h7(Ie,ze);return[{index:yo(ze.groupOffsetTree,at)[0],size:0,offset:0},{index:at,size:0,offset:0,data:We&&We[0]}]}return[{index:Ie,size:0,offset:0,data:We&&We[0]}]}(function(Ie,ze){return typeof Ie=="number"?Ie:Ie.index==="LAST"?ze-1:Ie.index}(P,_),B,I),[],_,L,B,T);var R=[];if(N.length>0)for(var O,A=N[0],x=N[N.length-1],j=0,V=Sl(lg(F,A,x));!(O=V()).done;)for(var X=O.value,re=X.value,W=Math.max(X.start,A),J=Math.min(X.end,x),oe=W;oe<=J;oe++)R.push({index:oe,size:re,offset:j,data:I&&I[oe]}),j+=re;if(!z)return Ph([],R,_,L,B,T);var he=N.length>0?N[N.length-1]+1:0,Oe=function(Ie,ze,We,at){return at===void 0&&(at=0),at>0&&(ze=Math.max(ze,c7(Ie,at,D_).offset)),l7((H=We,De=sm(bt=Ie,ze,q=jie),Fe=sm(bt,H,q,De),bt.slice(De,Fe+1)),zie);var bt,H,q,De,Fe}(U,y,k,he);if(Oe.length===0)return null;var $e=_-1;return Ph(sg([],function(Ie){for(var ze,We=Sl(Oe);!(ze=We()).done;){var at=ze.value,bt=at.value,H=bt.offset,q=at.start,De=bt.size;if(bt.offset<y){var Fe=(q+=Math.floor((y-bt.offset+L)/(De+L)))-at.start;H+=Fe*De+Fe*L}q<he&&(H+=(he-q)*De,q=he);for(var Qe=Math.min(at.end,$e),le=q;le<=Qe&&!(H>=k);le++)Ie.push({index:le,size:De,offset:H,data:I&&I[le]}),H+=De+L}}),R,_,L,B,T)}),un(function(b){return b!==null}),er()),s5);return qt(vt(a,un(function(b){return b!==void 0}),Ft(function(b){return b.length})),r),qt(vt(m,Ft(function(b){return b.topListHeight})),w),qt(w,d),qt(vt(m,Ft(function(b){return[b.top,b.bottom]})),c),qt(vt(m,Ft(function(b){return b.items})),M),rn({listState:m,topItemsIndexes:C,endReached:Ya(vt(m,un(function(b){return b.items.length>0}),mn(r,a),un(function(b){var S=b[0].items;return S[S.length-1].originalIndex===b[1]-1}),Ft(function(b){return[b[1]-1,b[2]]}),er($d),Ft(function(b){return b[0]}))),startReached:Ya(vt(m,vu(200),un(function(b){var S=b.items;return S.length>0&&S[0].originalIndex===b.topItems.length}),Ft(function(b){return b.items[0].index}),er())),rangeChanged:Ya(vt(m,un(function(b){return b.items.length>0}),Ft(function(b){for(var S=b.items,y=0,k=S.length-1;S[y].type==="group"&&y<k;)y++;for(;S[k].type==="group"&&k>y;)k--;return{startIndex:S[y].index,endIndex:S[k].index}}),er(g7))),itemsRendered:M},D)},Xn(Ko,m7,M_,k_,df,ff,Rl,S_),{singleton:!0}),Kie=Mn(function(e){var t=e[0],n=t.sizes,r=t.firstItemIndex,a=t.data,i=t.gap,o=e[1].listState,s=e[2].didMount,l=Rt(0);return qt(vt(s,mn(l),un(function(u){return u[1]!==0}),mn(n,r,i,a),Ft(function(u){var c=u[0][1],d=u[1],f=u[2],h=u[3],p=u[4],w=p===void 0?[]:p,D=0;if(d.groupIndices.length>0)for(var E,g=Sl(d.groupIndices);!((E=g()).done||E.value-D>=c);)D++;var C=c+D;return Ph(Array.from({length:C}).map(function(M,m){return{index:m,size:0,offset:0,data:w[m]}}),[],C,h,d,f)})),o),{initialItemCount:l}},Xn(Ko,oc,Rl),{singleton:!0}),v7=Mn(function(e){var t=e[0].scrollVelocity,n=Rt(!1),r=Zt(),a=Rt(!1);return qt(vt(t,mn(a,n,r),un(function(i){return!!i[1]}),Ft(function(i){var o=i[0],s=i[1],l=i[2],u=i[3],c=s.enter;if(l){if((0,s.exit)(o,u))return!1}else if(c(o,u))return!0;return l}),er()),n),Dn(vt(ea(n,t,r),mn(a)),function(i){var o=i[0],s=i[1];return o[0]&&s&&s.change&&s.change(o[1],o[2])}),{isSeeking:n,scrollSeekConfiguration:a,scrollVelocity:t,scrollSeekRangeChanged:r}},Xn(ff),{singleton:!0}),Gie=Mn(function(e){var t=e[0].topItemsIndexes,n=Rt(0);return qt(vt(n,un(function(r){return r>0}),Ft(function(r){return Array.from({length:r}).map(function(a,i){return i})})),t),{topItemCount:n}},Xn(oc)),T_=Mn(function(e){var t=e[0],n=t.footerHeight,r=t.headerHeight,a=t.fixedHeaderHeight,i=t.fixedFooterHeight,o=e[1].listState,s=Zt(),l=va(vt(ea(n,i,r,a,o),Ft(function(u){var c=u[4];return u[0]+u[1]+u[2]+u[3]+c.offsetBottom+c.bottom})),0);return qt(pn(l),s),{totalListHeight:l,totalListHeightChanged:s}},Xn(Na,oc),{singleton:!0});function y7(e){var t,n=!1;return function(){return n||(n=!0,t=e()),t}}var Zie=y7(function(){return/iP(ad|hone|od).+Version\/[\d.]+.*Safari/i.test(navigator.userAgent)}),Xie=Mn(function(e){var t=e[0],n=t.scrollBy,r=t.scrollTop,a=t.deviation,i=t.scrollingInProgress,o=e[1],s=o.isScrolling,l=o.isAtBottom,u=o.scrollDirection,c=e[3],d=c.beforeUnshiftWith,f=c.shiftWithOffset,h=c.sizes,p=c.gap,w=e[4].log,D=e[5].recalcInProgress,E=Ya(vt(e[2].listState,mn(o.lastJumpDueToItemResize),Po(function(C,M){var m=C[1],b=M[0],S=b.items,y=b.totalCount,k=b.bottom+b.offsetBottom,_=0;return C[2]===y&&m.length>0&&S.length>0&&(S[0].originalIndex===0&&m[0].originalIndex===0||(_=k-C[3])!=0&&(_+=M[1])),[_,S,y,k]},[0,[],0,0]),un(function(C){return C[0]!==0}),mn(r,u,i,l,w),un(function(C){return!C[3]&&C[1]!==0&&C[2]===zd}),Ft(function(C){var M=C[0][0];return(0,C[5])("Upward scrolling compensation",{amount:M},Dr.DEBUG),M})));function g(C){C>0?(kn(n,{top:-C,behavior:"auto"}),kn(a,0)):(kn(a,0),kn(n,{top:-C,behavior:"auto"}))}return Dn(vt(E,mn(a,s)),function(C){var M=C[0],m=C[1];C[2]&&Zie()?kn(a,m-M):g(-M)}),Dn(vt(ea(va(s,!1),a,D),un(function(C){return!C[0]&&!C[2]&&C[1]!==0}),Ft(function(C){return C[1]}),vu(1)),g),qt(vt(f,Ft(function(C){return{top:-C}})),n),Dn(vt(d,mn(h,p),Ft(function(C){var M=C[0];return M*C[1].lastSize+M*C[2]})),function(C){kn(a,C),requestAnimationFrame(function(){kn(n,{top:C}),requestAnimationFrame(function(){kn(a,0),kn(D,!1)})})}),{deviation:a}},Xn(Na,ff,oc,Ko,Ls,S_)),Qie=Mn(function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,a=Rt(0);return Dn(vt(n,mn(a),un(function(i){return i[1]!==0}),Ft(function(i){return{top:i[1]}})),function(i){Cl(vt(t,un(function(o){return o!==0})),function(){setTimeout(function(){kn(r,i)})})}),{initialScrollTop:a}},Xn(T_,Rl,Na),{singleton:!0}),Jie=Mn(function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=Rt(!1);return{alignToBottom:r,paddingTopAddition:va(vt(ea(r,t,n),un(function(a){return a[0]}),Ft(function(a){return Math.max(0,a[1]-a[2])}),er()),0)}},Xn(Na,T_),{singleton:!0}),_7=Mn(function(e){var t=e[0],n=t.scrollTo,r=t.scrollContainerState,a=Zt(),i=Zt(),o=Zt(),s=Rt(!1),l=Rt(void 0);return qt(vt(ea(a,i),Ft(function(u){var c=u[0],d=c.viewportHeight,f=c.scrollHeight;return{scrollTop:Math.max(0,c.scrollTop-u[1].offsetTop),scrollHeight:f,viewportHeight:d}})),r),qt(vt(n,mn(i),Ft(function(u){var c=u[0];return rn({},c,{top:c.top+u[1].offsetTop})})),o),{useWindowScroll:s,customScrollParent:l,windowScrollContainerState:a,windowViewportRect:i,windowScrollTo:o}},Xn(Na)),eoe=["done","behavior","align"],toe=Mn(function(e){var t=e[0],n=t.sizes,r=t.totalCount,a=t.gap,i=e[1],o=i.scrollTop,s=i.viewportHeight,l=i.headerHeight,u=i.fixedHeaderHeight,c=i.fixedFooterHeight,d=i.scrollingInProgress,f=e[2].scrollToIndex,h=Zt();return qt(vt(h,mn(n,s,r,l,u,c,o),mn(a),Ft(function(p){var w=p[0],D=w[0],E=w[1],g=w[2],C=w[3],M=w[4],m=w[5],b=w[6],S=w[7],y=p[1],k=D.done,_=D.behavior,P=D.align,z=ic(D,eoe),N=null,T=f7(D,E,C-1),L=jd(T,E.offsetTree,y)+M+m;return L<S+m?N=rn({},z,{behavior:_,align:P??"start"}):L+yo(E.sizeTree,T)[1]>S+g-b&&(N=rn({},z,{behavior:_,align:P??"end"})),N?k&&Cl(vt(d,im(1),un(function(I){return I===!1})),k):k&&k(),N}),un(function(p){return p!==null})),f),{scrollIntoView:h}},Xn(Ko,Na,df,oc,Ls),{singleton:!0}),noe=["listState","topItemsIndexes"],roe=Mn(function(e){return rn({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},Xn(M_,Kie,Rl,v7,T_,Qie,Jie,_7,toe)),b7=Mn(function(e){var t=e[0],n=t.totalCount,r=t.sizeRanges,a=t.fixedItemSize,i=t.defaultItemSize,o=t.trackItemSizes,s=t.itemSize,l=t.data,u=t.firstItemIndex,c=t.groupIndices,d=t.statefulTotalCount,f=t.gap,h=e[1],p=h.initialTopMostItemIndex,w=h.scrolledToInitialItem,D=e[2],E=e[3],g=e[4],C=g.listState,M=g.topItemsIndexes,m=ic(g,noe),b=e[5].scrollToIndex,S=e[7].topItemCount,y=e[8].groupCounts,k=e[9],_=e[10];return qt(m.rangeChanged,k.scrollSeekRangeChanged),qt(vt(k.windowViewportRect,Ft(function(P){return P.visibleHeight})),D.viewportHeight),rn({totalCount:n,data:l,firstItemIndex:u,sizeRanges:r,initialTopMostItemIndex:p,scrolledToInitialItem:w,topItemsIndexes:M,topItemCount:S,groupCounts:y,fixedItemHeight:a,defaultItemHeight:i,gap:f},E,{statefulTotalCount:d,listState:C,scrollToIndex:b,trackItemSizes:o,itemSize:s,groupIndices:c},m,k,D,_)},Xn(Ko,k_,Na,qie,oc,df,Xie,Gie,m7,roe,Ls)),w7=y7(function(){if(typeof document>"u")return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky",e.style.position==="-webkit-sticky"?"-webkit-sticky":"sticky"});function x_(e,t){var n=$.useRef(null),r=$.useCallback(function(l){if(l!==null&&l.offsetParent){var u,c,d=l.getBoundingClientRect(),f=d.width;if(t){var h=t.getBoundingClientRect(),p=d.top-h.top;u=h.height-Math.max(0,p),c=p+t.scrollTop}else u=window.innerHeight-Math.max(0,d.top),c=d.top+window.pageYOffset;n.current={offsetTop:c,visibleHeight:u,visibleWidth:f},e(n.current)}},[e,t]),a=C_(r),i=a.callbackRef,o=a.ref,s=$.useCallback(function(){r(o.current)},[r,o]);return $.useEffect(function(){if(t){t.addEventListener("scroll",s);var l=new ResizeObserver(s);return l.observe(t),function(){t.removeEventListener("scroll",s),l.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),function(){window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,t]),i}var cg=$.createContext(void 0),aoe=["placeholder"],ioe=["style","children"],ooe=["style","children"];function R_(e){return e}var soe=Mn(function(){var e=Rt(function(l){return"Item "+l}),t=Rt(null),n=Rt(function(l){return"Group "+l}),r=Rt({}),a=Rt(R_),i=Rt("div"),o=Rt(xl),s=function(l,u){return u===void 0&&(u=null),va(vt(r,Ft(function(c){return c[l]}),er()),u)};return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:a,headerFooterTag:i,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}});function nu(e,t){var n=Zt();return Dn(n,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")}),qt(n,e),n}var loe=Mn(function(e){var t=e[0],n=e[1],r={item:nu(n.itemContent,"Rename the %citem%c prop to %citemContent."),group:nu(n.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:nu(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:nu(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:nu(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:Zt(),maxHeightCacheSize:Zt(),footer:Zt(),header:Zt(),HeaderContainer:Zt(),FooterContainer:Zt(),ItemContainer:Zt(),ScrollContainer:Zt(),GroupContainer:Zt(),ListContainer:Zt(),emptyComponent:Zt(),scrollSeek:Zt()};function a(i,o,s){qt(vt(i,mn(n.components),Ft(function(l){var u,c=l[0],d=l[1];return console.warn("react-virtuoso: "+s+" property is deprecated. Pass components."+o+" instead."),rn({},d,((u={})[o]=c,u))})),n.components)}return Dn(r.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),Dn(r.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),Dn(r.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),Dn(r.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),Dn(r.scrollSeek,function(i){var o=i.placeholder,s=ic(i,aoe);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),kn(n.components,rn({},mo(n.components),{ScrollSeekPlaceholder:o})),kn(t.scrollSeekConfiguration,s)}),a(r.footer,"Footer","footer"),a(r.header,"Header","header"),a(r.ItemContainer,"Item","ItemContainer"),a(r.ListContainer,"List","ListContainer"),a(r.ScrollContainer,"Scroller","ScrollContainer"),a(r.emptyComponent,"EmptyPlaceholder","emptyComponent"),a(r.GroupContainer,"Group","GroupContainer"),rn({},t,n,r)},Xn(b7,soe)),uoe=function(e){return $.createElement("div",{style:{height:e.height}})},coe={position:w7(),zIndex:1,overflowAnchor:"none"},doe={overflowAnchor:"none"},u5=$.memo(function(e){var t=e.showTopList,n=t!==void 0&&t,r=bn("listState"),a=mi("sizeRanges"),i=bn("useWindowScroll"),o=bn("customScrollParent"),s=mi("windowScrollContainerState"),l=mi("scrollContainerState"),u=o||i?s:l,c=bn("itemContent"),d=bn("context"),f=bn("groupContent"),h=bn("trackItemSizes"),p=bn("itemSize"),w=bn("log"),D=mi("gap"),E=n7(a,p,h,n?xl:u,w,D,o).callbackRef,g=$.useState(0),C=g[0],M=g[1];A_("deviation",function(L){C!==L&&M(L)});var m=bn("EmptyPlaceholder"),b=bn("ScrollSeekPlaceholder")||uoe,S=bn("ListComponent"),y=bn("ItemComponent"),k=bn("GroupComponent"),_=bn("computeItemKey"),P=bn("isSeeking"),z=bn("groupIndices").length>0,N=bn("paddingTopAddition"),T=n?{}:{boxSizing:"border-box",paddingTop:r.offsetTop+N,paddingBottom:r.offsetBottom,marginTop:C};return!n&&r.totalCount===0&&m?$.createElement(m,Rr(m,d)):$.createElement(S,rn({},Rr(S,d),{ref:E,style:T,"data-test-id":n?"virtuoso-top-item-list":"virtuoso-item-list"}),(n?r.topItems:r.items).map(function(L){var I=L.originalIndex,B=_(I+r.firstItemIndex,L.data,d);return P?$.createElement(b,rn({},Rr(b,d),{key:B,index:L.index,height:L.size,type:L.type||"item"},L.type==="group"?{}:{groupIndex:L.groupIndex})):L.type==="group"?$.createElement(k,rn({},Rr(k,d),{key:B,"data-index":I,"data-known-size":L.size,"data-item-index":L.index,style:coe}),f(L.index)):$.createElement(y,rn({},Rr(y,d),{key:B,"data-index":I,"data-known-size":L.size,"data-item-index":L.index,"data-item-group-index":L.groupIndex,style:doe}),z?c(L.index,L.groupIndex,L.data,d):c(L.index,L.data,d))}))}),foe={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},sc={width:"100%",height:"100%",position:"absolute",top:0},hoe={width:"100%",position:w7(),top:0};function Rr(e,t){if(typeof e!="string")return{context:t}}var poe=$.memo(function(){var e=bn("HeaderComponent"),t=mi("headerHeight"),n=bn("headerFooterTag"),r=ks(function(i){return t($o(i,"height"))}),a=bn("context");return e?$.createElement(n,{ref:r},$.createElement(e,Rr(e,a))):null}),moe=$.memo(function(){var e=bn("FooterComponent"),t=mi("footerHeight"),n=bn("headerFooterTag"),r=ks(function(i){return t($o(i,"height"))}),a=bn("context");return e?$.createElement(n,{ref:r},$.createElement(e,Rr(e,a))):null});function P_(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return $.memo(function(a){var i=a.style,o=a.children,s=ic(a,ioe),l=t("scrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),d=r("scrollerRef"),f=r("context"),h=a7(l,c,u,d),p=h.scrollerRef,w=h.scrollByCallback;return n("scrollTo",h.scrollToCallback),n("scrollBy",w),$.createElement(u,rn({ref:p,style:rn({},foe,i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},s,Rr(u,f)),o)})}function O_(e){var t=e.usePublisher,n=e.useEmitter,r=e.useEmitterValue;return $.memo(function(a){var i=a.style,o=a.children,s=ic(a,ooe),l=t("windowScrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),d=r("totalListHeight"),f=r("deviation"),h=r("customScrollParent"),p=r("context"),w=a7(l,c,u,xl,h),D=w.scrollerRef,E=w.scrollByCallback,g=w.scrollToCallback;return Nie(function(){return D.current=h||window,function(){D.current=null}},[D,h]),n("windowScrollTo",g),n("scrollBy",E),$.createElement(u,rn({style:rn({position:"relative"},i,d!==0?{height:d+f}:{}),"data-virtuoso-scroller":!0},s,Rr(u,p)),o)})}var goe=function(e){var t=e.children,n=$.useContext(cg),r=mi("viewportHeight"),a=mi("fixedItemHeight"),i=ks(Ud(r,function(o){return $o(o,"height")}));return $.useEffect(function(){n&&(r(n.viewportHeight),a(n.itemHeight))},[n,r,a]),$.createElement("div",{style:sc,ref:i,"data-viewport-type":"element"},t)},voe=function(e){var t=e.children,n=$.useContext(cg),r=mi("windowViewportRect"),a=mi("fixedItemHeight"),i=bn("customScrollParent"),o=x_(r,i);return $.useEffect(function(){n&&(a(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,r,a]),$.createElement("div",{ref:o,style:sc,"data-viewport-type":"window"},t)},yoe=function(e){var t=e.children,n=bn("TopItemListComponent"),r=bn("headerHeight"),a=rn({},hoe,{marginTop:r+"px"}),i=bn("context");return $.createElement(n||"div",{style:a,context:i},t)},dg=E_(loe,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},$.memo(function(e){var t=bn("useWindowScroll"),n=bn("topItemsIndexes").length>0,r=bn("customScrollParent"),a=r||t?voe:goe;return $.createElement(r||t?woe:boe,rn({},e),$.createElement(a,null,$.createElement(poe,null),$.createElement(u5,null),$.createElement(moe,null)),n&&$.createElement(yoe,null,$.createElement(u5,{showTopList:!0})))})),_oe=dg.Component,mi=dg.usePublisher,bn=dg.useEmitterValue,A_=dg.useEmitter,boe=P_({usePublisher:mi,useEmitterValue:bn,useEmitter:A_}),woe=O_({usePublisher:mi,useEmitterValue:bn,useEmitter:A_}),c5={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Eoe={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},d5=Math.round,f5=Math.ceil,L_=Math.floor,tv=Math.min,sd=Math.max;function h5(e,t){return Array.from({length:t-e+1}).map(function(n,r){return{index:r+e}})}function Coe(e,t){return e&&e.column===t.column&&e.row===t.row}var Soe=Mn(function(e){var t=e[0],n=t.overscan,r=t.visibleRange,a=t.listBoundary,i=e[1],o=i.scrollTop,s=i.viewportHeight,l=i.scrollBy,u=i.scrollTo,c=i.smoothScrollTargetReached,d=i.scrollContainerState,f=e[2],h=e[3],p=e[4],w=p.propsReady,D=p.didMount,E=e[5],g=E.windowViewportRect,C=E.windowScrollTo,M=E.useWindowScroll,m=E.customScrollParent,b=E.windowScrollContainerState,S=e[6],y=Rt(0),k=Rt(0),_=Rt(c5),P=Rt({height:0,width:0}),z=Rt({height:0,width:0}),N=Zt(),T=Zt(),L=Rt(0),I=Rt({row:0,column:0});qt(vt(D,mn(k),un(function(O){return O[1]!==0}),Ft(function(O){return{items:h5(0,O[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),_),qt(vt(ea(pn(y),r,pn(I,Coe),pn(z,function(O,A){return O&&O.width===A.width&&O.height===A.height})),mn(P),Ft(function(O){var A=O[0],x=A[0],j=A[1],V=j[0],X=j[1],re=A[2],W=A[3],J=O[1],oe=re.row,he=W.height,Oe=W.width,$e=J.width;if(x===0||$e===0)return c5;if(Oe===0)return Eoe;var Ie=E7($e,Oe,re.column),ze=Ie*L_((V+oe)/(he+oe)),We=Ie*f5((X+oe)/(he+oe))-1;We=sd(0,tv(x-1,We));var at=h5(ze=tv(We,sd(0,ze)),We),bt=p5(J,re,W,at),H=bt.top,q=bt.bottom,De=f5(x/Ie);return{items:at,offsetTop:H,offsetBottom:De*he+(De-1)*oe-q,top:H,bottom:q,itemHeight:he,itemWidth:Oe}})),_),qt(vt(P,Ft(function(O){return O.height})),s),qt(vt(ea(P,z,_,I),Ft(function(O){var A=p5(O[0],O[3],O[1],O[2].items);return[A.top,A.bottom]}),er($d)),a);var B=Ya(vt(pn(_),un(function(O){return O.items.length>0}),mn(y),un(function(O){var A=O[0].items;return A[A.length-1].index===O[1]-1}),Ft(function(O){return O[1]-1}),er())),F=Ya(vt(pn(_),un(function(O){var A=O.items;return A.length>0&&A[0].index===0}),ls(0),er())),U=Ya(vt(pn(_),un(function(O){return O.items.length>0}),Ft(function(O){var A=O.items;return{startIndex:A[0].index,endIndex:A[A.length-1].index}}),er(g7)));qt(U,h.scrollSeekRangeChanged),qt(vt(N,mn(P,z,y,I),Ft(function(O){var A=O[1],x=O[2],j=O[3],V=O[4],X=p7(O[0]),re=X.align,W=X.behavior,J=X.offset,oe=X.index;oe==="LAST"&&(oe=j-1);var he=X0(A,V,x,oe=sd(0,oe,tv(j-1,oe)));return re==="end"?he=d5(he-A.height+x.height):re==="center"&&(he=d5(he-A.height/2+x.height/2)),J&&(he+=J),{top:he,behavior:W}})),u);var R=va(vt(_,Ft(function(O){return O.offsetBottom+O.bottom})),0);return qt(vt(g,Ft(function(O){return{width:O.visibleWidth,height:O.visibleHeight}})),P),rn({totalCount:y,viewportDimensions:P,itemDimensions:z,scrollTop:o,scrollHeight:T,overscan:n,scrollBy:l,scrollTo:u,scrollToIndex:N,smoothScrollTargetReached:c,windowViewportRect:g,windowScrollTo:C,useWindowScroll:M,customScrollParent:m,windowScrollContainerState:b,deviation:L,scrollContainerState:d,initialItemCount:k,gap:I},h,{gridState:_,totalListHeight:R},f,{startReached:F,endReached:B,rangeChanged:U,propsReady:w},S)},Xn(M_,Na,ff,v7,Rl,_7,Ls));function p5(e,t,n,r){var a=n.height;return a===void 0||r.length===0?{top:0,bottom:0}:{top:X0(e,t,n,r[0].index),bottom:X0(e,t,n,r[r.length-1].index)+a}}function X0(e,t,n,r){var a=E7(e.width,n.width,t.column),i=L_(r/a),o=i*n.height+sd(0,i-1)*t.row;return o>0?o+t.row:o}function E7(e,t,n){return sd(1,L_((e+n)/(t+n)))}var Doe=["placeholder"],koe=Mn(function(){var e=Rt(function(l){return"Item "+l}),t=Rt({}),n=Rt(null),r=Rt("virtuoso-grid-item"),a=Rt("virtuoso-grid-list"),i=Rt(R_),o=Rt(xl),s=function(l,u){return va(vt(t,Ft(function(c){return c[l]}),er()),u)};return{context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:r,listClassName:a,scrollerRef:o,ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}}),Moe=Mn(function(e){var t=e[0],n=e[1],r={item:nu(n.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:Zt(),ScrollContainer:Zt(),ListContainer:Zt(),emptyComponent:Zt(),scrollSeek:Zt()};function a(i,o,s){qt(vt(i,mn(n.components),Ft(function(l){var u,c=l[0],d=l[1];return console.warn("react-virtuoso: "+s+" property is deprecated. Pass components."+o+" instead."),rn({},d,((u={})[o]=c,u))})),n.components)}return Dn(r.scrollSeek,function(i){var o=i.placeholder,s=ic(i,Doe);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),kn(n.components,rn({},mo(n.components),{ScrollSeekPlaceholder:o})),kn(t.scrollSeekConfiguration,s)}),a(r.ItemContainer,"Item","ItemContainer"),a(r.ListContainer,"List","ListContainer"),a(r.ScrollContainer,"Scroller","ScrollContainer"),rn({},t,n,r)},Xn(Soe,koe)),Toe=$.memo(function(){var e=Kr("gridState"),t=Kr("listClassName"),n=Kr("itemClassName"),r=Kr("itemContent"),a=Kr("computeItemKey"),i=Kr("isSeeking"),o=hl("scrollHeight"),s=Kr("ItemComponent"),l=Kr("ListComponent"),u=Kr("ScrollSeekPlaceholder"),c=Kr("context"),d=hl("itemDimensions"),f=hl("gap"),h=Kr("log"),p=ks(function(w){o(w.parentElement.parentElement.scrollHeight);var D=w.firstChild;D&&d(D.getBoundingClientRect()),f({row:m5("row-gap",getComputedStyle(w).rowGap,h),column:m5("column-gap",getComputedStyle(w).columnGap,h)})});return $.createElement(l,rn({ref:p,className:t},Rr(l,c),{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}}),e.items.map(function(w){var D=a(w.index);return i?$.createElement(u,rn({key:D},Rr(u,c),{index:w.index,height:e.itemHeight,width:e.itemWidth})):$.createElement(s,rn({},Rr(s,c),{className:n,"data-index":w.index,key:D}),r(w.index,c))}))}),xoe=function(e){var t=e.children,n=hl("viewportDimensions"),r=ks(function(a){n(a.getBoundingClientRect())});return $.createElement("div",{style:sc,ref:r},t)},Roe=function(e){var t=e.children,n=x_(hl("windowViewportRect"),Kr("customScrollParent"));return $.createElement("div",{ref:n,style:sc},t)},I_=E_(Moe,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},$.memo(function(e){var t=rn({},e),n=Kr("useWindowScroll"),r=Kr("customScrollParent"),a=r||n?Roe:xoe;return $.createElement(r||n?Ooe:Poe,rn({},t),$.createElement(a,null,$.createElement(Toe,null)))})),hl=I_.usePublisher,Kr=I_.useEmitterValue,C7=I_.useEmitter,Poe=P_({usePublisher:hl,useEmitterValue:Kr,useEmitter:C7}),Ooe=O_({usePublisher:hl,useEmitterValue:Kr,useEmitter:C7});function m5(e,t,n){return t==="normal"||t!=null&&t.endsWith("px")||n(e+" was not resolved to pixel value correctly",t,Dr.WARN),t==="normal"?0:parseInt(t??"0",10)}var Aoe=Mn(function(){var e=Rt(function(l){return $.createElement("td",null,"Item $",l)}),t=Rt(null),n=Rt(null),r=Rt(null),a=Rt({}),i=Rt(R_),o=Rt(xl),s=function(l,u){return u===void 0&&(u=null),va(vt(a,Ft(function(c){return c[l]}),er()),u)};return{context:t,itemContent:e,fixedHeaderContent:n,fixedFooterContent:r,components:a,computeItemKey:i,scrollerRef:o,TableComponent:s("Table","table"),TableHeadComponent:s("TableHead","thead"),TableFooterComponent:s("TableFoot","tfoot"),TableBodyComponent:s("TableBody","tbody"),TableRowComponent:s("TableRow","tr"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),FillerRow:s("FillerRow")}}),Loe=Mn(function(e){return rn({},e[0],e[1])},Xn(b7,Aoe)),Ioe=function(e){return $.createElement("tr",null,$.createElement("td",{style:{height:e.height}}))},Foe=function(e){return $.createElement("tr",null,$.createElement("td",{style:{height:e.height,padding:0,border:0}}))},Noe=$.memo(function(){var e=xn("listState"),t=zi("sizeRanges"),n=xn("useWindowScroll"),r=xn("customScrollParent"),a=zi("windowScrollContainerState"),i=zi("scrollContainerState"),o=r||n?a:i,s=xn("itemContent"),l=xn("trackItemSizes"),u=n7(t,xn("itemSize"),l,o,xn("log"),void 0,r),c=u.callbackRef,d=u.ref,f=$.useState(0),h=f[0],p=f[1];N_("deviation",function(L){h!==L&&(d.current.style.marginTop=L+"px",p(L))});var w=xn("EmptyPlaceholder"),D=xn("ScrollSeekPlaceholder")||Ioe,E=xn("FillerRow")||Foe,g=xn("TableBodyComponent"),C=xn("TableRowComponent"),M=xn("computeItemKey"),m=xn("isSeeking"),b=xn("paddingTopAddition"),S=xn("firstItemIndex"),y=xn("statefulTotalCount"),k=xn("context");if(y===0&&w)return $.createElement(w,Rr(w,k));var _=e.offsetTop+b+h,P=e.offsetBottom,z=_>0?$.createElement(E,{height:_,key:"padding-top"}):null,N=P>0?$.createElement(E,{height:P,key:"padding-bottom"}):null,T=e.items.map(function(L){var I=L.originalIndex,B=M(I+S,L.data,k);return m?$.createElement(D,rn({},Rr(D,k),{key:B,index:L.index,height:L.size,type:L.type||"item"})):$.createElement(C,rn({},Rr(C,k),{key:B,"data-index":I,"data-known-size":L.size,"data-item-index":L.index,style:{overflowAnchor:"none"}}),s(L.index,L.data,k))});return $.createElement(g,rn({ref:c,"data-test-id":"virtuoso-item-list"},Rr(g,k)),[z].concat(T,[N]))}),Uoe=function(e){var t=e.children,n=$.useContext(cg),r=zi("viewportHeight"),a=zi("fixedItemHeight"),i=ks(Ud(r,function(o){return $o(o,"height")}));return $.useEffect(function(){n&&(r(n.viewportHeight),a(n.itemHeight))},[n,r,a]),$.createElement("div",{style:sc,ref:i,"data-viewport-type":"element"},t)},Boe=function(e){var t=e.children,n=$.useContext(cg),r=zi("windowViewportRect"),a=zi("fixedItemHeight"),i=xn("customScrollParent"),o=x_(r,i);return $.useEffect(function(){n&&(a(n.itemHeight),r({offsetTop:0,visibleHeight:n.viewportHeight,visibleWidth:100}))},[n,r,a]),$.createElement("div",{ref:o,style:sc,"data-viewport-type":"window"},t)},F_=E_(Loe,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},$.memo(function(e){var t=xn("useWindowScroll"),n=xn("customScrollParent"),r=zi("fixedHeaderHeight"),a=zi("fixedFooterHeight"),i=xn("fixedHeaderContent"),o=xn("fixedFooterContent"),s=xn("context"),l=ks(Ud(r,function(E){return $o(E,"height")})),u=ks(Ud(a,function(E){return $o(E,"height")})),c=n||t?zoe:joe,d=n||t?Boe:Uoe,f=xn("TableComponent"),h=xn("TableHeadComponent"),p=xn("TableFooterComponent"),w=i?$.createElement(h,rn({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:l},Rr(h,s)),i()):null,D=o?$.createElement(p,rn({key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:u},Rr(p,s)),o()):null;return $.createElement(c,rn({},e),$.createElement(d,null,$.createElement(f,rn({style:{borderSpacing:0}},Rr(f,s)),[w,$.createElement(Noe,{key:"TableBody"}),D])))})),zi=F_.usePublisher,xn=F_.useEmitterValue,N_=F_.useEmitter,joe=P_({usePublisher:zi,useEmitterValue:xn,useEmitter:N_}),zoe=O_({usePublisher:zi,useEmitterValue:xn,useEmitter:N_}),$oe=_oe;function Hoe(e,t,n){var r=$.useState(!1),a=r[0],i=r[1],o=$.useState(!0),s=o[0],l=o[1],u=$.useRef(!1),c=$.useRef(""),d=$.useRef(!1);return $.useEffect(function(){var f;if(n){i(!0);return}if(e!=null&&e.length){var h=e[e.length-1],p=c.current;c.current=h.id||"",h.id!==p&&(d.current||(((f=h.user)===null||f===void 0?void 0:f.id)!==t&&u.current&&i(!0),u.current=!0))}},[t,e,n]),{atBottom:d,isMessageListScrolledToBottom:s,newMessagesNotification:a,setIsMessageListScrolledToBottom:l,setNewMessagesNotification:i}}var Voe={failed:!0,sending:!0};function Woe(e,t){var n=t?1:0,r=$.useRef(),a=$.useRef(),i=$.useRef(0),o=$.useMemo(function(){var s,l;if(!e||!e.length)return i.current=0,0;var u=e==null?void 0:e[n],c=(u==null?void 0:u.id)===((s=a.current)===null||s===void 0?void 0:s.id),d=!!(u!=null&&u.status&&Voe[u.status]);if(c||d)return i.current;r.current||(r.current=u),a.current=u;for(var f=i.current;f<e.length;f+=1){var h=e[f].id===((l=r.current)===null||l===void 0?void 0:l.id);if(h)return i.current=f-n,i.current}return r.current=u,i.current=0,0},[n,e,e==null?void 0:e.length]);return o}function qoe(e,t){var n=$.useRef(""),r=$.useRef(!1);function a(){var i;if(e&&e.length>0){var o=e[e.length-1];if(((i=o.user)===null||i===void 0?void 0:i.id)===t&&n.current!==o.id)return n.current=o.id,!0}return!1}return $.useEffect(function(){e&&e.length&&!r.current&&(r.current=!0,a())},[e,e==null?void 0:e.length]),a}var Yoe=function(e){var t=$.useState(),n=t[0],r=t[1],a=kt("useGiphyPreview").client;return $.useEffect(function(){var i=function(o){var s=o.message,l=o.user;(s==null?void 0:s.command)==="giphy"&&(l==null?void 0:l.id)===a.userID&&r(void 0)};return e&&a.on("message.new",i),function(){return a.off("message.new",i)}},[e]),{giphyPreviewMessage:n,setGiphyPreviewMessage:r}},Koe=function(e){var t=e.messages,n=$.useState(+new Date),r=n[0],a=n[1],i=$.useRef();return $.useEffect(function(){var o,s=t==null?void 0:t.find(function(l){return l.id===i.current});s||a(+new Date),i.current=(o=t==null?void 0:t[0])===null||o===void 0?void 0:o.id},[t]),{messageSetKey:r}},Goe=function(e){var t=e.messages,n=e.scrollToBottom,r=e.scrollToLatestMessageOnFocus,a=v.useState(!1),i=a[0],o=a[1],s=$.useCallback(function(){o(!1)},[]);$.useEffect(function(){o(!0)},[t]);var l=$.useCallback(function(u){!r||!i||u.target!==window||setTimeout(n,100)},[r,n,i]);$.useEffect(function(){return typeof window<"u"&&(window.addEventListener("focus",l),window.addEventListener("blur",s)),function(){window.removeEventListener("focus",l),window.removeEventListener("blur",s)}},[l])},Zoe=function(e){var t=e.lastRead,n=e.showAlways,r=e.unreadCount,a=$.useState(!1),i=a[0],o=a[1],s=$.useCallback(function(l){if(r){var u=l[0],c=l.slice(-1)[0];if(u&&c){var d=!!t&&new Date(u.created_at).getTime()>t.getTime(),f=!!t&&new Date(c.created_at).getTime()<t.getTime();o(n?d||f:d)}}},[t,n,r]);return $.useEffect(function(){r||o(!1)},[r]),{show:i,toggleShowUnreadMessagesNotification:s}},U_=Math.pow(10,7);function fg(e,t){return e+t-U_}function Xoe(e){return U_-e}var Qoe=function(e,t){return Ao(function(n){var r=n.map(function(a){if(a.originalIndex)return t[fg(a.originalIndex,U_)]}).filter(function(a){return!!a});e.forEach(function(a){return a(r)})},200)},Joe=function(e){var t,n,r=e.context,a=Bt(e,["context"]);if(!r)return v.createElement(v.Fragment,null);var i=r.processedMessages[fg(a["data-item-index"],r.numItemsPrepended)],o=r.messageGroupStyles[i.id];return v.createElement("div",ne({},a,{className:((n=r==null?void 0:r.customClasses)===null||n===void 0?void 0:n.virtualMessage)||Yt("str-chat__virtual-list-message-wrapper str-chat__li",(t={},t["str-chat__li--".concat(o)]=o,t))}))},ese=function(e){var t=e.context,n=En("VirtualizedMessageListHeader").LoadingIndicator,r=n===void 0?Ju:n;return t!=null&&t.loadingMore?r?v.createElement("div",{className:"str-chat__virtual-list__loading"},v.createElement(r,{size:20})):(t==null?void 0:t.head)||null:null},tse=function(e){var t=e.context,n=En("VirtualizedMessageList").EmptyStateIndicator,r=n===void 0?__:n;return v.createElement(v.Fragment,null,r&&v.createElement(r,{listType:t!=null&&t.threadList?"thread":"message"}))},nse=function(){var e=En("VirtualizedMessageList").TypingIndicator;return e?v.createElement(e,{avatarSize:24}):null},rse=function(e,t,n){var r,a,i,o,s,l,u,c=n.additionalMessageInputProps,d=n.closeReactionSelectorOnClick,f=n.customMessageActions,h=n.customMessageRenderer,p=n.DateSeparator,w=n.firstUnreadMessageId,D=n.lastReadDate,E=n.lastReadMessageId,g=n.lastReceivedMessageId,C=n.Message,M=n.messageActions,m=n.MessageSystem,b=n.numItemsPrepended,S=n.ownMessagesReadByOthers,y=n.processedMessages,k=n.reactionDetailsSort,_=n.shouldGroupByUser,P=n.sortReactionDetails,z=n.sortReactions,N=n.unreadMessageCount,T=N===void 0?0:N,L=n.UnreadMessagesSeparator,I=n.virtuosoRef,B=fg(e,b);if(h)return h(y,B);var F=y[B];if(!F)return v.createElement("div",{style:{height:"1px"}});if(H9(F))return p?v.createElement(p,{date:F.date,unread:F.unread}):null;if(F.type==="system")return m?v.createElement(m,{message:F}):null;var U=_&&B>0&&((r=F.user)===null||r===void 0?void 0:r.id)===((a=y[B-1].user)===null||a===void 0?void 0:a.id),R=y[B-1],O=y[B+1],A=_&&(((i=F.user)===null||i===void 0?void 0:i.id)!==((o=R==null?void 0:R.user)===null||o===void 0?void 0:o.id)||R&&Uu(R)),x=_&&(((s=F.user)===null||s===void 0?void 0:s.id)!==((l=O==null?void 0:O.user)===null||l===void 0?void 0:l.id)||Uu(F)),j=F.created_at&&new Date(F.created_at).getTime(),V=D==null?void 0:D.getTime(),X=B===0,re=E===g,W=F.id===E||!T&&j===V,J=w===F.id||!!T&&j&&V&&j>V&&X,oe=!E&&J,he=W&&!re&&(w||!!T);return v.createElement(v.Fragment,null,oe&&v.createElement("div",{className:"str-chat__unread-messages-separator-wrapper"},v.createElement(L,{unreadCount:T})),v.createElement(ig,{additionalMessageInputProps:c,autoscrollToBottom:(u=I.current)===null||u===void 0?void 0:u.autoscrollToBottom,closeReactionSelectorOnClick:d,customMessageActions:f,endOfGroup:x,firstOfGroup:A,groupedByUser:U,lastReceivedId:g,message:F,Message:C,messageActions:M,reactionDetailsSort:k,readBy:S[F.id]||[],sortReactionDetails:P,sortReactions:z}),he&&v.createElement("div",{className:"str-chat__unread-messages-separator-wrapper"},v.createElement(L,{unreadCount:T})))};function g5(e){(e.message==="ResizeObserver loop completed with undelivered notifications."||e.message==="ResizeObserver loop limit exceeded")&&e.stopImmediatePropagation()}function ase(){$.useEffect(function(){return window.addEventListener("error",g5),function(){window.removeEventListener("error",g5)}},[])}function ise(e){return e.getBoundingClientRect().height}function S7(e,t){return e.findIndex(function(n){return n.id===t})}function ose(e,t){if(t){var n=S7(e,t);if(n!==-1)return{align:"center",index:n}}return e.length-1}var sse=function(e){var t,n,r=e.additionalMessageInputProps,a=e.additionalVirtuosoProps,i=a===void 0?{}:a,o=e.channel,s=e.channelUnreadUiState,l=e.closeReactionSelectorOnClick,u=e.customMessageActions,c=e.customMessageRenderer,d=e.defaultItemHeight,f=e.disableDateSeparator,h=f===void 0?!0:f,p=e.groupStyles,w=e.hasMoreNewer,D=e.head,E=e.hideDeletedMessages,g=E===void 0?!1:E,C=e.hideNewMessageSeparator,M=C===void 0?!1:C,m=e.highlightedMessageId,b=e.jumpToLatestMessage,S=e.loadingMore,y=e.loadMore,k=e.loadMoreNewer,_=e.Message,P=e.messageActions,z=e.messageLimit,N=z===void 0?gu:z,T=e.messages,L=e.notifications,I=e.overscan,B=I===void 0?0:I,F=e.read,U=e.returnAllReadData,R=U===void 0?!1:U,O=e.reviewProcessedMessage,A=e.scrollSeekPlaceHolder,x=e.scrollToLatestMessageOnFocus,j=x===void 0?!1:x,V=e.separateGiphyPreview,X=V===void 0?!1:V,re=e.shouldGroupByUser,W=re===void 0?!1:re,J=e.showUnreadNotificationAlways,oe=e.reactionDetailsSort,he=e.sortReactionDetails,Oe=e.sortReactions,$e=e.stickToBottomScrollBehavior,Ie=$e===void 0?"smooth":$e,ze=e.suppressAutoscroll,We=e.threadList,at=i.components,bt=Bt(i,["components"]);ase();var H=En("VirtualizedMessageList"),q=H.DateSeparator,De=H.GiphyPreviewMessage,Fe=De===void 0?iie:De,Qe=H.MessageListNotifications,le=Qe===void 0?Z9:Qe,Ne=H.MessageNotification,pe=Ne===void 0?G9:Ne,Te=H.MessageSystem,Ue=H.UnreadMessagesNotification,Be=Ue===void 0?X9:Ue,ut=H.UnreadMessagesSeparator,Mt=H.VirtualMessage,K=Mt===void 0?U9:Mt,G=_||K,ie=kt("VirtualizedMessageList"),se=ie.client,fe=ie.customClasses,te=$.useRef(null),ge=$.useMemo(function(){var je;return(je=o.lastRead)===null||je===void 0?void 0:je.call(o)},[o]),Ee=Zoe({lastRead:s==null?void 0:s.last_read,showAlways:!!J,unreadCount:(t=s==null?void 0:s.unread_messages)!==null&&t!==void 0?t:0}),ye=Ee.show,Ae=Ee.toggleShowUnreadMessagesNotification,we=Yoe(X),xe=we.giphyPreviewMessage,nt=we.setGiphyPreviewMessage,lt=$.useMemo(function(){return typeof T>"u"?[]:h&&!g&&M&&!X?T:j9({enableDateSeparator:!h,hideDeletedMessages:g,hideNewMessageSeparator:M,lastRead:ge,messages:T,reviewProcessedMessage:O,setGiphyPreviewMessage:nt,userId:se.userID||""})},[h,g,M,ge,T,T==null?void 0:T.length,se.userID]),Ke=V9({messages:lt,read:F,returnAllReadData:R,userID:se.userID}),yt=$.useMemo(function(){return z9(lt)},[lt]),ke=p||$9,rt=$.useMemo(function(){return lt.reduce(function(je,He,Ve){var st=ke(He,lt[Ve-1],lt[Ve+1],!W);return st&&(je[He.id]=st),je},{})},[lt.length,W,ke]),Pt=Hoe(lt,se.userID,w),Ye=Pt.atBottom,ht=Pt.isMessageListScrolledToBottom,Je=Pt.newMessagesNotification,xt=Pt.setIsMessageListScrolledToBottom,me=Pt.setNewMessagesNotification;K9({isMessageListScrolledToBottom:ht,messageListIsThread:!!We,unreadCount:(n=s==null?void 0:s.unread_messages)!==null&&n!==void 0?n:0,wasMarkedUnread:!!(s!=null&&s.first_unread_message_id)});var ue=$.useCallback(function(){return St(void 0,void 0,void 0,function(){return Dt(this,function(je){switch(je.label){case 0:return w?[4,b()]:[3,2];case 1:return je.sent(),[2];case 2:return te.current&&te.current.scrollToIndex(lt.length-1),me(!1),[2]}})})},[te,lt,me,lt.length,w,b]);Goe({messages:T,scrollToBottom:ue,scrollToLatestMessageOnFocus:j});var Ce=Woe(lt,!h),Le=Koe({messages:T}).messageSetKey,_e=qoe(lt,se.userID),Ge=$.useMemo(function(){return Qoe([Ae],lt)},[lt,Ae]),Ze=function(je){return w||ze?!1:_e()?je?Ie:"auto":je?Ie:!1},ee=$.useCallback(function(je,He,Ve){var st=Ve.numItemsPrepended,mt=Ve.processedMessages;return mt[fg(je,st)].id},[]),ae=function(je){Ye.current=je,xt(je),je&&(k==null||k(N),me==null||me(!1))},Re=function(je){je&&(y==null||y(N))};return $.useEffect(function(){var je;if(m){var He=S7(lt,m);He!==-1&&(je=setTimeout(function(){var Ve;(Ve=te.current)===null||Ve===void 0||Ve.scrollToIndex({align:"center",index:He})},0))}return function(){clearTimeout(je)}},[m,lt]),lt?v.createElement(v.Fragment,null,v.createElement(q9,null,!We&&ye&&v.createElement(Be,{unreadCount:s==null?void 0:s.unread_messages}),v.createElement("div",{className:(fe==null?void 0:fe.virtualizedMessageList)||"str-chat__virtual-list"},v.createElement($oe,ne({atBottomStateChange:ae,atBottomThreshold:100,atTopStateChange:Re,atTopThreshold:100,className:"str-chat__message-list-scroll",components:ne({EmptyPlaceholder:tse,Footer:nse,Header:ese,Item:Joe},at),computeItemKey:ee,context:{additionalMessageInputProps:r,closeReactionSelectorOnClick:l,customClasses:fe,customMessageActions:u,customMessageRenderer:c,DateSeparator:q,firstUnreadMessageId:s==null?void 0:s.first_unread_message_id,head:D,lastReadDate:s==null?void 0:s.last_read,lastReadMessageId:s==null?void 0:s.last_read_message_id,lastReceivedMessageId:yt,loadingMore:S,Message:G,messageActions:P,messageGroupStyles:rt,MessageSystem:Te,numItemsPrepended:Ce,ownMessagesReadByOthers:Ke,processedMessages:lt,reactionDetailsSort:oe,shouldGroupByUser:W,sortReactionDetails:he,sortReactions:Oe,threadList:We,unreadMessageCount:s==null?void 0:s.unread_messages,UnreadMessagesSeparator:ut,virtuosoRef:te},firstItemIndex:Xoe(Ce),followOutput:Ze,increaseViewportBy:{bottom:200,top:0},initialTopMostItemIndex:ose(lt,m),itemContent:rse,itemSize:ise,itemsRendered:Ge,key:Le,overscan:B,ref:te,style:{overflowX:"hidden"},totalCount:lt.length},bt,A?{scrollSeek:A}:{},d?{defaultItemHeight:d}:{})))),v.createElement(le,{hasNewMessages:Je,isMessageListScrolledToBottom:ht,isNotAtLatestMessageSet:w,MessageNotification:pe,notifications:L,scrollToBottom:ue,threadList:We,unreadCount:We||s==null?void 0:s.unread_messages}),xe&&v.createElement(Fe,{message:xe})):null};function lse(e){var t=qn("VirtualizedMessageList"),n=t.jumpToLatestMessage,r=t.loadMore,a=t.loadMoreNewer,i=tn("VirtualizedMessageList"),o=i.channel,s=i.channelUnreadUiState,l=i.hasMore,u=i.hasMoreNewer,c=i.highlightedMessageId,d=i.loadingMore,f=i.loadingMoreNewer,h=i.messages,p=i.notifications,w=i.read,D=i.suppressAutoscroll,E=e.messages||h;return v.createElement(sse,ne({channel:o,channelUnreadUiState:s,hasMore:!!l,hasMoreNewer:!!u,highlightedMessageId:c,jumpToLatestMessage:n,loadingMore:!!d,loadingMoreNewer:!!f,loadMore:r,loadMoreNewer:a,messages:E,notifications:p,read:w,suppressAutoscroll:D},e))}var D7=function(e){var t,n,r,a=e.customClasses,i=kt("Channel").useImageFlagEmojisOnWindows;return{channelClass:(t=a==null?void 0:a.channel)!==null&&t!==void 0?t:"str-chat-channel str-chat__channel",chatClass:(n=a==null?void 0:a.chat)!==null&&n!==void 0?n:"str-chat",chatContainerClass:(r=a==null?void 0:a.chatContainer)!==null&&r!==void 0?r:"str-chat__container",windowsEmojiClass:i&&navigator.userAgent.match(/Win/)?"str-chat--windows-flags":""}},use=function(e,t){return function(n,r){if(!(typeof n!="string"||r!=="success"&&r!=="error")){var a=qa();e(function(o){return Vt(Vt([],o,!0),[{id:a,text:n,type:r}],!1)});var i=setTimeout(function(){return e(function(o){return o.filter(function(s){return s.id!==a})})},5e3);t.push(i)}}},v5=function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.id===e)return{index:n,target:r}}return{index:-1}},y5=function(e,t,n){var r,a;n===void 0&&(n=!1);for(var i=e.getTime(),o=0,s=0,l=t.length-1;o<=l;){s=Math.floor((l+o)/2);var u=new Date(t[s].created_at).getTime(),c=((r=t[s-1])===null||r===void 0?void 0:r.created_at)&&new Date(t[s-1].created_at).getTime(),d=((a=t[s+1])===null||a===void 0?void 0:a.created_at)&&new Date(t[s+1].created_at).getTime();if(u===i||c&&d&&c<i&&i<d)return{index:s,target:t[s]};u<i?o=s+1:l=s-1}return!n||new Date(t[o].created_at).getTime()===i?{index:o,target:t[o]}:{index:-1}},nh={},hg=function(e){var t=e.channel,n=e.client,r=e.id,a=e.members,i=e.options,o=e.type;return St(void 0,void 0,void 0,function(){var s,l,u;return Dt(this,function(c){switch(c.label){case 0:if(!t&&!o)throw new Error("Channel or channel type have to be provided to query a channel.");if(s=t||n.channel(o,r,{members:a}),l=s!=null&&s.id?s.cid:a&&a.length?cse(s.type,a):void 0,!l)throw new Error("Channel ID or channel members array have to be provided to query a channel.");return u=nh[l],u?[4,u]:[3,2];case 1:return c.sent(),[3,4];case 2:return nh[l]=s.watch(i),[4,nh[l]];case 3:c.sent(),delete nh[l],c.label=4;case 4:return[2,s]}})})},cse=function(e,t){if(t){var n=Vt([],t,!0).sort().join(",");return"".concat(e,":!members-").concat(n)}},dse=function(e,t){var n=void 0,r=e.image_url||e.thumb_url||"";if(M2(r,"url")){var a=new URL(r),i=k7(a,t);i&&(i.height*=2,i.width*=2,M7(i,a)),n=a.href}return{url:n||""}},fse=function(e,t,n){var r=void 0;if(e.thumb_url&&n&&M2(e.thumb_url,"url")){var a=new URL(e.thumb_url),i=k7(a,t);i&&(i.height*=2,i.width*=2,M7(i,a)),r=a.href}return{thumbUrl:r,url:e.asset_url||""}},k7=function(e,t){var n=e.searchParams,r=Number(n.get("oh"))||1,a=Number(n.get("ow"))||1,i=pse(t),o;return(i.maxHeight||i.height)&&i.maxWidth?o=hse(r,a,i.maxHeight||i.height,i.maxWidth):o=void 0,o},hse=function(e,t,n,r){return{height:Math.round(Math.max(n,r/t*e)),width:Math.round(Math.max(n,r/e*t))}},pse=function(e){var t=getComputedStyle(e),n=nv(t.getPropertyValue("height")),r=nv(t.getPropertyValue("max-height")),a=nv(t.getPropertyValue("max-width"));return(n||r)&&a||console.warn("Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/react/message-components/attachment/#image-and-video-sizing"),{height:n,maxHeight:r,maxWidth:a}},nv=function(e){if(e.endsWith("px")){var t=parseFloat(e);return isNaN(t)?void 0:t}},M7=function(e,t){t.searchParams.set("h",e.height.toString()),t.searchParams.set("w",e.width.toString())},mse=function(e){var t,n,r,a=e.Avatar,i=a===void 0?Fa:a,o=e.message,s=Et("EventComponent").tDateTimeParser,l=o.created_at,u=l===void 0?"":l,c=o.event,d=o.text,f=o.type,h={messageCreatedAt:u.toString(),tDateTimeParser:s};if(f==="system")return v.createElement("div",{className:"str-chat__message--system","data-testid":"message-system"},v.createElement("div",{className:"str-chat__message--system__text"},v.createElement("div",{className:"str-chat__message--system__line"}),v.createElement("p",null,d),v.createElement("div",{className:"str-chat__message--system__line"})),v.createElement("div",{className:"str-chat__message--system__date"},v.createElement("strong",null,od(ne(ne({},h),{format:"dddd"}))," "),"at ",od(ne(ne({},h),{format:"hh:mm A"}))));if((c==null?void 0:c.type)==="member.removed"||(c==null?void 0:c.type)==="member.added"){var p=((t=c.user)===null||t===void 0?void 0:t.name)||((n=c.user)===null||n===void 0?void 0:n.id),w="".concat(p," ").concat(c.type==="member.added"?"has joined the chat":"was removed from the chat");return v.createElement("div",{className:"str-chat__event-component__channel-event"},v.createElement(i,{image:(r=c.user)===null||r===void 0?void 0:r.image,name:p,user:c.user}),v.createElement("div",{className:"str-chat__event-component__channel-event__content"},v.createElement("em",{className:"str-chat__event-component__channel-event__sentence"},w),v.createElement("div",{className:"str-chat__event-component__channel-event__date"},od(ne(ne({},h),{format:"LT"})))))}return null},gse=v.memo(mse),vse=function(e){var t=e.date,n=e.formatDate,r=e.position,a=r===void 0?"right":r,i=e.unread,o=Et("DateSeparator"),s=o.t,l=o.tDateTimeParser,u=od({calendar:!0,formatDate:n,messageCreatedAt:t,tDateTimeParser:l});return v.createElement("div",{className:"str-chat__date-separator","data-testid":"date-separator"},(a==="right"||a==="center")&&v.createElement("hr",{className:"str-chat__date-separator-line"}),v.createElement("div",{className:"str-chat__date-separator-date"},i?"".concat(s("New")," - ").concat(u):u),(a==="left"||a==="center")&&v.createElement("hr",{className:"str-chat__date-separator-line"}))},yse=v.memo(vse),_se=function(e){var t;return((t=e[0])===null||t===void 0?void 0:t.id)!=null},bse=function(e){var t=e.channel,n=e.EmptyPlaceholder,r=n===void 0?null:n,a=e.LoadingErrorIndicator,i=e.LoadingIndicator,o=i===void 0?Lk:i,s=kt("Channel"),l=s.channel,u=s.channelsQueryState,c=s.customClasses,d=s.theme,f=D7({customClasses:c}),h=f.channelClass,p=f.chatClass,w=t||l,D=Yt(p,d,h);return u.queryInProgress==="reload"&&o?v.createElement("div",{className:D},v.createElement(o,null)):u.error&&a?v.createElement("div",{className:D},v.createElement(a,{error:u.error})):w!=null&&w.cid?v.createElement(wse,ne({},e,{channel:w,key:w.cid})):v.createElement("div",{className:D},r)},wse=function(e){var t,n=e.acceptedFiles,r=e.activeUnreadHandler,a=e.channel,i=e.channelQueryOptions,o=e.children,s=e.doDeleteMessageRequest,l=e.doMarkReadRequest,u=e.doSendMessageRequest,c=e.doUpdateMessageRequest,d=e.dragAndDropWindow,f=d===void 0?!1:d,h=e.enrichURLForPreviewConfig,p=e.initializeOnMount,w=p===void 0?!0:p,D=e.LoadingErrorIndicator,E=D===void 0?pJ:D,g=e.LoadingIndicator,C=g===void 0?Lk:g,M=e.markReadOnMount,m=M===void 0?!0:M,b=e.maxNumberOfFiles,S=e.multipleUploads,y=S===void 0?!0:S,k=e.onMentionsClick,_=e.onMentionsHover,P=e.optionalMessageInputProps,z=P===void 0?{}:P,N=e.skipMessageDataMemoization,T=$.useMemo(function(){return aJ(i,{messages:{limit:E6}})},[i]),L=kt("Channel"),I=L.client,B=L.customClasses,F=L.latestMessageDatesByChannels,U=L.mutes,R=L.theme,O=Et("Channel").t,A=D7({customClasses:B}),x=A.channelClass,j=A.chatClass,V=A.chatContainerClass,X=A.windowsEmojiClass,re=$.useState(a.getConfig()),W=re[0],J=re[1],oe=$.useState([]),he=oe[0],Oe=oe[1],$e=$.useState(),Ie=$e[0],ze=$e[1],We=$.useState(),at=We[0],bt=We[1],H=[],q=$.useReducer(iJ,ne(ne({},oJ),{loading:!a.initialized})),De=q[0],Fe=q[1],Qe=cJ(),le=$.useRef(""),Ne=$.useRef(),pe=$.useRef(!0),Te=(t=a.data)===null||t===void 0?void 0:t.own_capabilities,Ue=Ao(function(){return Fe({channel:a,type:"copyStateFromChannelOnEvent"})},500,{leading:!0,trailing:!0}),Be=$.useMemo(function(){return Ao(bt,200,{leading:!0,trailing:!1})},[]),ut=$.useMemo(function(){return Ao(function(_e){return St(void 0,void 0,void 0,function(){var Ge,Ze,ee;return Dt(this,function(ae){switch(ae.label){case 0:if(Ge=(_e??{}).updateChannelUiUnreadState,Ze=Ge===void 0?!0:Ge,a.disconnected||!(W!=null&&W.read_events))return[2];Ne.current=new Date,ae.label=1;case 1:return ae.trys.push([1,5,,6]),l?(l(a,Ze?Be:void 0),[3,4]):[3,2];case 2:return[4,a.markRead()];case 3:ee=ae.sent(),Ze&&ee&&bt({last_read:Ne.current,last_read_message_id:ee.event.last_read_message_id,unread_messages:0}),ae.label=4;case 4:return r?r(0,le.current):le.current&&(document.title=le.current),[3,6];case 5:return ae.sent(),console.error(O("Failed to mark channel as read")),[3,6];case 6:return[2]}})})},500,{leading:!0,trailing:!1})},[r,a,W,l,Be,O]),Mt=function(_e){return St(void 0,void 0,void 0,function(){var Ge,Ze,ee,ae,Re,je,He,Ve,st,mt,gt,wt,Tt,Ot;return Dt(this,function(Nt){switch(Nt.label){case 0:return _e.message&&Fe({channel:a,message:_e.message,type:"updateThreadOnEvent"}),_e.type==="user.watching.start"||_e.type==="user.watching.stop"?[2]:_e.type==="typing.start"||_e.type==="typing.stop"?[2,Fe({channel:a,type:"setTyping"})]:(_e.type==="connection.changed"&&typeof _e.online=="boolean"&&(pe.current=_e.online),_e.type==="message.new"&&(Ge=!(!((je=_e.message)===null||je===void 0)&&je.parent_id)||((He=_e.message)===null||He===void 0?void 0:He.show_in_channel),Ge&&document.hidden&&W!=null&&W.read_events&&!a.muteStatus().muted&&(Ze=a.countUnread(Ne.current),r?r(Ze,le.current):document.title="(".concat(Ze,") ").concat(le.current)),((st=(Ve=_e.message)===null||Ve===void 0?void 0:Ve.user)===null||st===void 0?void 0:st.id)===I.userID&&(!((mt=_e==null?void 0:_e.message)===null||mt===void 0)&&mt.created_at)&&(!((gt=_e==null?void 0:_e.message)===null||gt===void 0)&&gt.cid)&&(ee=new Date(_e.message.created_at),ae=_e.message.cid,(!F[ae]||F[ae].getTime()<ee.getTime())&&(F[ae]=ee))),_e.type!=="user.deleted"?[3,2]:(Re=(Ot=(Tt=(wt=a.state)===null||wt===void 0?void 0:wt.messages)===null||Tt===void 0?void 0:Tt[0])===null||Ot===void 0?void 0:Ot.id,[4,a.query({messages:{id_lt:Re,limit:gu},watchers:{limit:gu}})]));case 1:Nt.sent(),Nt.label=2;case 2:return _e.type==="notification.mark_unread"&&bt(function(Ct){var Gt;return _e.last_read_at&&_e.user?{first_unread_message_id:_e.first_unread_message_id,last_read:new Date(_e.last_read_at),last_read_message_id:_e.last_read_message_id,unread_messages:(Gt=_e.unread_messages)!==null&&Gt!==void 0?Gt:0}:Ct}),_e.type==="channel.truncated"&&_e.cid===a.cid&&bt(void 0),Ue(),[2]}})})};$.useLayoutEffect(function(){var _e=!1,Ge=!1,Ze=!0;return function(){return St(void 0,void 0,void 0,function(){var ee,ae,Re,je,He,Ve,Tt,st,mt,gt,wt,Tt,Ot,Nt,Ct;return Dt(this,function(Gt){switch(Gt.label){case 0:if(!(!a.initialized&&w))return[3,4];Gt.label=1;case 1:if(Gt.trys.push([1,3,,4]),ee=[],!a.id&&(!((Nt=a.data)===null||Nt===void 0)&&Nt.members))for(ae=0,Re=a.data.members;ae<Re.length;ae++)je=Re[ae],He=void 0,typeof je=="string"?He=je:typeof je=="object"&&(Ve=je,Tt=Ve.user,st=Ve.user_id,He=st||(Tt==null?void 0:Tt.id)),He&&ee.push(He);return[4,hg({channel:a,client:I,members:ee,options:T})];case 2:return Gt.sent(),mt=a.getConfig(),J(mt),Ze=!1,[3,4];case 3:return gt=Gt.sent(),Fe({error:gt,type:"setError"}),_e=!0,[3,4];case 4:return Ge=!0,le.current=document.title,_e||(Fe({channel:a,hasMore:Ze||GE(a.state.messages.length,T.messages.limit),type:"initStateFromChannel"}),!((Ct=I.user)===null||Ct===void 0)&&Ct.id&&a.state.read[I.user.id]&&(wt=a.state.read[I.user.id],Tt=wt.user,Ot=Bt(wt,["user"]),bt(Ot)),a.countUnread()>0&&m&&ut({updateChannelUiUnreadState:!1}),I.on("connection.changed",Mt),I.on("connection.recovered",Mt),I.on("user.updated",Mt),I.on("user.deleted",Mt),a.on(Mt)),[2]}})})}(),function(){_e||!Ge||(a==null||a.off(Mt),I.off("connection.changed",Mt),I.off("connection.recovered",Mt),I.off("user.updated",Mt),I.off("user.deleted",Mt),H.forEach(clearTimeout))}},[a.cid,T,l,W==null?void 0:W.read_events,w]),$.useEffect(function(){var _e;if(De.thread){var Ge=(_e=De.messages)===null||_e===void 0?void 0:_e.find(function(Ze){var ee;return Ze.id===((ee=De.thread)===null||ee===void 0?void 0:ee.id)});Ge&&Fe({message:Ge,type:"setThread"})}},[De.messages,De.thread]);var K=use(Oe,H),G=$.useCallback(Qp(function(_e,Ge){Qe.current&&Fe({hasMore:_e,messages:Ge,type:"loadMoreFinished"})},2e3,{leading:!0,trailing:!0}),[]),ie=function(_e){return _e===void 0&&(_e=gu),St(void 0,void 0,void 0,function(){var Ge,Ze,ee,ae,Re,je,He;return Dt(this,function(Ve){switch(Ve.label){case 0:if(!pe.current||!window.navigator.onLine||!De.hasMore)return[2,0];if(Ge=(He=De==null?void 0:De.messages)===null||He===void 0?void 0:He[0],De.loadingMore||De.loadingMoreNewer||(Ge==null?void 0:Ge.status)!=="received")return[2,0];Fe({loadingMore:!0,type:"setLoadingMore"}),Ze=Ge==null?void 0:Ge.id,ee=_e,Ve.label=1;case 1:return Ve.trys.push([1,3,,4]),[4,a.query({messages:{id_lt:Ze,limit:ee},watchers:{limit:ee}})];case 2:return ae=Ve.sent(),[3,4];case 3:return Re=Ve.sent(),console.warn("message pagination request failed with error",Re),Fe({loadingMore:!1,type:"setLoadingMore"}),[2,0];case 4:return je=ae.messages.length===ee,G(je,a.state.messages),[2,ae.messages.length]}})})},se=function(_e){return _e===void 0&&(_e=gu),St(void 0,void 0,void 0,function(){var Ge,Ze,ee,ae,Re,je,He,Ve;return Dt(this,function(st){switch(st.label){case 0:if(!pe.current||!window.navigator.onLine||!De.hasMoreNewer)return[2,0];if(Ge=(He=De==null?void 0:De.messages)===null||He===void 0?void 0:He[((Ve=De==null?void 0:De.messages)===null||Ve===void 0?void 0:Ve.length)-1],De.loadingMore||De.loadingMoreNewer)return[2,0];Fe({loadingMoreNewer:!0,type:"setLoadingMoreNewer"}),Ze=Ge==null?void 0:Ge.id,ee=_e,st.label=1;case 1:return st.trys.push([1,3,,4]),[4,a.query({messages:{id_gt:Ze,limit:ee},watchers:{limit:ee}})];case 2:return ae=st.sent(),[3,4];case 3:return Re=st.sent(),console.warn("message pagination request failed with error",Re),Fe({loadingMoreNewer:!1,type:"setLoadingMoreNewer"}),[2,0];case 4:return je=a.state.messages!==a.state.latestMessages,Fe({hasMoreNewer:je,messages:a.state.messages,type:"loadMoreNewerFinished"}),[2,ae.messages.length]}})})},fe=$.useRef(null),te=function(_e,Ge){return Ge===void 0&&(Ge=kw),St(void 0,void 0,void 0,function(){var Ze,ee;return Dt(this,function(ae){switch(ae.label){case 0:return Fe({loadingMore:!0,type:"setLoadingMore"}),[4,a.state.loadMessageIntoState(_e,void 0,Ge)];case 1:return ae.sent(),Ze=a.state.messages.findIndex(function(Re){return Re.id===_e}),ee=Ze>=Math.floor(Ge/2),G(ee,a.state.messages),Fe({hasMoreNewer:a.state.messages!==a.state.latestMessages,highlightedMessageId:_e,type:"jumpToMessageFinished"}),fe.current&&clearTimeout(fe.current),fe.current=setTimeout(function(){fe.current=null,Fe({type:"clearHighlightedMessage"})},500),[2]}})})},ge=function(){return St(void 0,void 0,void 0,function(){var _e;return Dt(this,function(Ge){switch(Ge.label){case 0:return[4,a.state.loadMessageIntoState("latest")];case 1:return Ge.sent(),_e=a.state.messages.length>=25,G(_e,a.state.messages),Fe({type:"jumpToLatestMessage"}),[2]}})})},Ee=$.useCallback(function(_e){return _e===void 0&&(_e=kw),St(void 0,void 0,void 0,function(){var Ge,Ze,ee,ae,wt,wt,Re,je,He,Ve,st,mt,gt,wt,Tt,Ot,Nt,Ct,Gt,Cn;return Dt(this,function(an){switch(an.label){case 0:return at!=null&&at.unread_messages?(Ge=at==null?void 0:at.last_read_message_id,Ze=at==null?void 0:at.first_unread_message_id,ee=!1,ae=!0,Ze?(wt=v5(Ze,a.state.messages),ee=wt.index!==-1,[3,8]):[3,1]):[2];case 1:return Ge?(wt=v5(Ge,a.state.messages),ee=!!wt.target,Ze=wt.index>-1?(Nt=a.state.messages[wt.index+1])===null||Nt===void 0?void 0:Nt.id:void 0,[3,8]):[3,2];case 2:return Re=at.last_read.getTime(),je=y5(at.last_read,a.state.messages,!0),He=je.index,Ve=je.target,Ve?(Ze=(Ct=a.state.messages[He+1])===null||Ct===void 0?void 0:Ct.id,ee=!!Ze,Ge=Ve.id,[3,8]):[3,3];case 3:Fe({loadingMore:!0,type:"setLoadingMore"}),st=void 0,an.label=4;case 4:return an.trys.push([4,6,,7]),[4,a.query({messages:{created_at_around:at.last_read.toISOString(),limit:_e}},"new")];case 5:return st=an.sent().messages,[3,7];case 6:return an.sent(),K(O("Failed to jump to the first unread message"),"error"),G(ae,a.state.messages),[2];case 7:if(mt=st.find(function(Tn){return Tn.created_at}),!mt)return K(O("Failed to jump to the first unread message"),"error"),G(ae,a.state.messages),[2];gt=new Date(mt.created_at).getTime(),Re<gt?(Ze=mt.id,ae=!1):(wt=y5(at.last_read,st),Ge=(Gt=wt.target)===null||Gt===void 0?void 0:Gt.id,ae=wt.index>=Math.floor(_e/2)),G(ae,a.state.messages),an.label=8;case 8:if(!Ze&&!Ge)return K(O("Failed to jump to the first unread message"),"error"),[2];if(ee)return[3,12];Fe({loadingMore:!0,type:"setLoadingMore"}),an.label=9;case 9:return an.trys.push([9,11,,12]),Tt=Ze??Ge,[4,a.state.loadMessageIntoState(Tt,void 0,_e)];case 10:return an.sent(),Ot=a.state.messages.findIndex(function(Tn){return Tn.id===Tt}),ae=Ot>=Math.floor(_e/2),G(ae,a.state.messages),Ze=Ze??((Cn=a.state.messages[Ot+1])===null||Cn===void 0?void 0:Cn.id),[3,12];case 11:return an.sent(),K(O("Failed to jump to the first unread message"),"error"),G(ae,a.state.messages),[2];case 12:return Ze?(at.first_unread_message_id||bt(ne(ne({},at),{first_unread_message_id:Ze,last_read_message_id:Ge})),Fe({hasMoreNewer:a.state.messages!==a.state.latestMessages,highlightedMessageId:Ze,type:"jumpToMessageFinished"}),fe.current&&clearTimeout(fe.current),fe.current=setTimeout(function(){fe.current=null,Fe({type:"clearHighlightedMessage"})},500),[2]):(K(O("Failed to jump to the first unread message"),"error"),[2])}})})},[K,a,G,O,at]),ye=$.useCallback(function(_e){return St(void 0,void 0,void 0,function(){var Ge,Ze;return Dt(this,function(ee){switch(ee.label){case 0:if(!(_e!=null&&_e.id))throw new Error("Cannot delete a message - missing message ID.");return s?[4,s(_e)]:[3,2];case 1:return Ge=ee.sent(),[3,4];case 2:return[4,I.deleteMessage(_e.id)];case 3:Ze=ee.sent(),Ge=Ze.message,ee.label=4;case 4:return[2,Ge]}})})},[I,s]),Ae=function(_e){a.state.addMessageSorted(_e,!0),Fe({channel:a,parentId:De.thread&&_e.parent_id,type:"copyMessagesFromChannel"})},we=function(_e,Ge,Ze){return St(void 0,void 0,void 0,function(){var ee,ae,Re,je,He,Ve,st,mt,gt,wt,Tt,Ot,Nt,Ct,Gt,Cn,an,Tn,In,en;return Dt(this,function(sn){switch(sn.label){case 0:ee=_e.attachments,ae=_e.id,Re=_e.mentioned_users,je=Re===void 0?[]:Re,He=_e.parent_id,Ve=_e.text,st=_se(je)?je.map(function(Sn){var aa=Sn.id;return aa}):je,mt=ne({attachments:ee,id:ae,mentioned_users:st,parent_id:He,quoted_message_id:He===(Ie==null?void 0:Ie.parent_id)?Ie==null?void 0:Ie.id:void 0,text:Ve},Ge),sn.label=1;case 1:return sn.trys.push([1,6,,7]),gt=void 0,u?[4,u(a,mt,Ze)]:[3,3];case 2:return gt=sn.sent(),[3,5];case 3:return[4,a.sendMessage(mt,Ze)];case 4:gt=sn.sent(),sn.label=5;case 5:for(wt=void 0,Tt=a.state.messages.length-1;Tt>=0;Tt--)if(Ot=a.state.messages[Tt],Ot.id&&Ot.id===mt.id){wt=Ot;break}return Nt=new Date(((In=gt==null?void 0:gt.message)===null||In===void 0?void 0:In.updated_at)||0).getTime(),Ct=((en=wt==null?void 0:wt.updated_at)===null||en===void 0?void 0:en.getTime())||0,Gt=Nt>Ct,gt!=null&&gt.message&&(Gt||(wt==null?void 0:wt.status)==="sending")&&Ae(ne(ne({},gt.message),{status:"received"})),Ie&&He===(Ie==null?void 0:Ie.parent_id)&&ze(void 0),[3,7];case 6:return Cn=sn.sent(),an=JSON.stringify(Cn),Tn=an?JSON.parse(an):{},Tn.code===4&&Cn instanceof Error&&Cn.message.includes("already exists")?Ae(ne(ne({},_e),{status:"received"})):Ae(ne(ne({},_e),{error:Tn,errorStatusCode:Tn.status||void 0,status:"failed"})),[3,7];case 7:return[2]}})})},xe=function(_e,Ge,Ze){var ee=_e.attachments,ae=ee===void 0?[]:ee,Re=_e.mentioned_users,je=Re===void 0?[]:Re,He=_e.parent,Ve=_e.text,st=Ve===void 0?"":Ve;return St(void 0,void 0,void 0,function(){var mt,gt;return Dt(this,function(wt){switch(wt.label){case 0:return a.state.filterErrorMessages(),mt=ne({__html:st,attachments:ae,created_at:new Date,html:st,id:(gt=Ge==null?void 0:Ge.id)!==null&&gt!==void 0?gt:"".concat(I.userID,"-").concat(qa()),mentioned_users:je,reactions:[],status:"sending",text:st,type:"regular",user:I.user},He!=null&&He.id?{parent_id:He.id}:null),Ae(mt),[4,we(mt,Ge,Ze)];case 1:return wt.sent(),[2]}})})},nt=function(_e){return St(void 0,void 0,void 0,function(){return Dt(this,function(Ge){switch(Ge.label){case 0:return Ae(ne(ne({},_e),{errorStatusCode:void 0,status:"sending"})),_e.attachments&&(_e.attachments=_e.attachments.filter(function(Ze){return!Ze.og_scrape_url})),[4,we(_e)];case 1:return Ge.sent(),[2]}})})},lt=function(_e){a.state.removeMessage(_e),Fe({channel:a,parentId:De.thread&&_e.parent_id,type:"copyMessagesFromChannel"})},Ke=function(_e,Ge){Ge==null||Ge.preventDefault(),ze(function(Ze){if((Ze==null?void 0:Ze.parent_id)===(_e==null?void 0:_e.parent_id))return Ze}),Fe({channel:a,message:_e,type:"openThread"})},yt=function(_e){_e==null||_e.preventDefault(),Fe({type:"closeThread"})},ke=$.useCallback(Qp(function(_e,Ge){Fe({threadHasMore:_e,threadMessages:Ge,type:"loadMoreThreadFinished"})},2e3,{leading:!0,trailing:!0}),[]),rt=function(_e){return _e===void 0&&(_e=lz),St(void 0,void 0,void 0,function(){var Ge,Ze,ee,ae,Re,je,He;return Dt(this,function(Ve){switch(Ve.label){case 0:if(De.threadLoadingMore||!De.thread||!De.threadHasMore)return[2];if(Fe({type:"startLoadingThread"}),Ge=De.thread.id,!Ge)return[2,Fe({type:"closeThread"})];Ze=a.state.threads[Ge]||[],ee=(He=Ze[0])===null||He===void 0?void 0:He.id,Ve.label=1;case 1:return Ve.trys.push([1,3,,4]),[4,a.getReplies(Ge,{id_lt:ee,limit:_e})];case 2:return ae=Ve.sent(),Re=GE(ae.messages.length,_e),je=a.state.threads[Ge]||[],ke(Re,je),[3,4];case 3:return Ve.sent(),ke(!1,Ze),[3,4];case 4:return[2]}})})},Pt=dJ(_,k),Ye=uJ(c),ht=De.typing,Je=Bt(De,["typing"]),xt=sJ(ne(ne({},Je),{acceptedFiles:n,channel:a,channelCapabilitiesArray:Te,channelConfig:W,channelUnreadUiState:at,debounceURLEnrichmentMs:h==null?void 0:h.debounceURLEnrichmentMs,dragAndDropWindow:f,enrichURLForPreview:e.enrichURLForPreview,findURLFn:h==null?void 0:h.findURLFn,giphyVersion:e.giphyVersion||"fixed_height",imageAttachmentSizeHandler:e.imageAttachmentSizeHandler||dse,maxNumberOfFiles:b,multipleUploads:y,mutes:U,notifications:he,onLinkPreviewDismissed:h==null?void 0:h.onLinkPreviewDismissed,quotedMessage:Ie,shouldGenerateVideoThumbnail:e.shouldGenerateVideoThumbnail||!0,videoAttachmentSizeHandler:e.videoAttachmentSizeHandler||fse,watcher_count:De.watcherCount})),me=$.useMemo(function(){return{addNotification:K,closeThread:yt,deleteMessage:ye,dispatch:Fe,editMessage:Ye,jumpToFirstUnreadMessage:Ee,jumpToLatestMessage:ge,jumpToMessage:te,loadMore:ie,loadMoreNewer:se,loadMoreThread:rt,markRead:ut,onMentionsClick:Pt,onMentionsHover:Pt,openThread:Ke,removeMessage:lt,retrySendMessage:nt,sendMessage:xe,setChannelUnreadUiState:Be,setQuotedMessage:ze,skipMessageDataMemoization:N,updateMessage:Ae}},[a.cid,ye,h==null?void 0:h.findURLFn,h==null?void 0:h.onLinkPreviewDismissed,ie,se,ut,Ie,Ee,te,ge,Be]),ue=$.useMemo(function(){var _e;return{Attachment:e.Attachment||eW,AttachmentPreviewList:e.AttachmentPreviewList,AudioRecorder:e.AudioRecorder,AutocompleteSuggestionHeader:e.AutocompleteSuggestionHeader,AutocompleteSuggestionItem:e.AutocompleteSuggestionItem,AutocompleteSuggestionList:e.AutocompleteSuggestionList,Avatar:e.Avatar,BaseImage:e.BaseImage,CooldownTimer:e.CooldownTimer,CustomMessageActionsList:e.CustomMessageActionsList,DateSeparator:e.DateSeparator||yse,EditMessageInput:e.EditMessageInput,EmojiPicker:e.EmojiPicker,emojiSearchIndex:e.emojiSearchIndex,EmptyStateIndicator:e.EmptyStateIndicator,FileUploadIcon:e.FileUploadIcon,GiphyPreviewMessage:e.GiphyPreviewMessage,HeaderComponent:e.HeaderComponent,Input:e.Input,LinkPreviewList:e.LinkPreviewList,LoadingIndicator:e.LoadingIndicator,Message:e.Message||U9,MessageBouncePrompt:e.MessageBouncePrompt,MessageDeleted:e.MessageDeleted,MessageListNotifications:e.MessageListNotifications,MessageNotification:e.MessageNotification,MessageOptions:e.MessageOptions,MessageRepliesCountButton:e.MessageRepliesCountButton,MessageStatus:e.MessageStatus,MessageSystem:e.MessageSystem||gse,MessageTimestamp:e.MessageTimestamp,ModalGallery:e.ModalGallery,PinIndicator:e.PinIndicator,QuotedMessage:e.QuotedMessage,QuotedMessagePreview:e.QuotedMessagePreview,reactionOptions:(_e=e.reactionOptions)!==null&&_e!==void 0?_e:Kae,ReactionSelector:e.ReactionSelector,ReactionsList:e.ReactionsList,SendButton:e.SendButton,StartRecordingAudioButton:e.StartRecordingAudioButton,ThreadHead:e.ThreadHead,ThreadHeader:e.ThreadHeader,ThreadStart:e.ThreadStart,Timestamp:e.Timestamp,TriggerProvider:e.TriggerProvider,TypingIndicator:e.TypingIndicator,UnreadMessagesNotification:e.UnreadMessagesNotification,UnreadMessagesSeparator:e.UnreadMessagesSeparator||fie,VirtualMessage:e.VirtualMessage}},[e.reactionOptions]),Ce=lJ({typing:ht}),Le=Yt(j,R,x);return De.error?v.createElement("div",{className:Le},v.createElement(E,{error:De.error})):De.loading?v.createElement("div",{className:Le},v.createElement(C,null)):a.watch?v.createElement("div",{className:Yt(Le,X)},v.createElement(OA,{value:xt},v.createElement(xA,{value:me},v.createElement(LA,{value:ue},v.createElement(Qj,{value:Ce},v.createElement("div",{className:"".concat(V)},f&&v.createElement(Jae,ne({},z),o),!f&&v.createElement(v.Fragment,null,o))))))):v.createElement("div",{className:Le},v.createElement("div",null,O("Channel Missing")))},Ese=v.memo(bse),Cse=function(e){return v.createElement(ek,{skipHtml:!0},e)},Sse=function(e,t,n){var r,a;n===void 0&&(n="en");var i=e.state.messages[e.state.messages.length-1],o=((r=i==null?void 0:i.i18n)===null||r===void 0?void 0:r["".concat(n,"_text")])||(i==null?void 0:i.text);if(!i)return t("Nothing yet...");if(i.deleted_at)return t("Message deleted");if(o){var s=Cse(o);return s}return i.command?"/".concat(i.command):!((a=i.attachments)===null||a===void 0)&&a.length?t(" Attachment..."):t("Empty message...")},_5=function(e,t){var n,r,a=(n=e.data)===null||n===void 0?void 0:n.name,i=Object.values(e.state.members);if(!a&&i.length===2){var o=i.find(function(s){var l;return((l=s.user)===null||l===void 0?void 0:l.id)!==(t==null?void 0:t.id)});!((r=o==null?void 0:o.user)===null||r===void 0)&&r.name&&(a=o.user.name)}return a},b5=function(e,t){var n,r,a=(n=e.data)===null||n===void 0?void 0:n.image,i=Object.values(e.state.members);if(!a&&i.length===2){var o=i.find(function(s){var l;return((l=s.user)===null||l===void 0?void 0:l.id)!==(t==null?void 0:t.id)});!((r=o==null?void 0:o.user)===null||r===void 0)&&r.image&&(a=o.user.image)}return a},T7=function(e){var t=e.channel,n=e.overrideImage,r=e.overrideTitle,a=kt("ChannelPreview").client,i=$.useState(_5(t,a.user)),o=i[0],s=i[1],l=$.useState(b5(t,a.user)),u=l[0],c=l[1];return $.useEffect(function(){var d=function(){s(function(f){var h=_5(t,a.user);return f!==h?h:f}),c(function(f){var h=b5(t,a.user);return f!==h?h:f})};return a.on("user.updated",d),function(){a.off("user.updated",d)}},[]),{displayImage:n||u,displayTitle:r||o}},Dse=function(){return v.createElement("svg",{height:"78px",version:"1.1",viewBox:"0 0 78 78",width:"78px",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,"Connection Error"),v.createElement("g",{fill:"none",fillRule:"evenodd",id:"Interactions",stroke:"none",strokeWidth:"1"},v.createElement("g",{fill:"#CF1F25",id:"Connection-Error-_-Connectivity",transform:"translate(-270.000000, -30.000000)"},v.createElement("g",{id:"109-network-connection",transform:"translate(270.000000, 30.000000)"},v.createElement("path",{d:"M66.4609744,11.414231 C81.6225232,26.5757798 81.6225232,51.157545 66.4609744,66.3188467 C51.2994256,81.4803954 26.7176604,81.4803954 11.5563587,66.3188467 C-3.60519004,51.1572979 -3.60519004,26.5755327 11.5563587,11.414231 C26.7179075,-3.74731776 51.2996727,-3.74731776 66.4609744,11.414231 Z M54.7853215,45.8823776 L54.7853215,40.5882574 C54.7853215,39.613638 53.9952341,38.8235506 53.0206147,38.8235506 L44.9576695,38.8235506 L41.428256,42.3529641 L51.255555,42.3529641 L51.255555,45.8823776 L54.7853215,45.8823776 Z M40.6659027,43.1153174 L37.8988425,45.8823776 L40.6659027,45.8823776 L40.6659027,43.1153174 Z M51.1764962,56.4702653 L58.2353232,56.4702653 C59.2099355,56.4702653 60.00003,55.6801708 60.00003,54.7055585 L60.00003,51.176145 C60.00003,50.2015327 59.2099355,49.4114382 58.2353232,49.4114382 L51.1764962,49.4114382 C50.2018839,49.4114382 49.4117894,50.2015327 49.4117894,51.176145 L49.4117894,54.7055585 C49.4117894,55.6801708 50.2018839,56.4702653 51.1764962,56.4702653 Z M35.2941353,56.4702653 L42.3529624,56.4702653 C43.3275746,56.4702653 44.1176691,55.6801708 44.1176691,54.7055585 L44.1176691,51.176145 C44.1176691,50.2015327 43.3275746,49.4114382 42.3529624,49.4114382 L35.2941353,49.4114382 C34.319523,49.4114382 33.5294285,50.2015327 33.5294285,51.176145 L33.5294285,54.7055585 C33.5294285,55.6801708 34.319523,56.4702653 35.2941353,56.4702653 Z M56.6964989,19.0874231 C56.007381,18.3985134 54.8903216,18.3985134 54.2012036,19.087423 L45.882376,27.4062507 L45.882376,19.4117761 C45.882376,18.4371568 45.0922885,17.6470693 44.1176692,17.6470693 L33.5294286,17.6470693 C32.5548092,17.6470694 31.7647218,18.4371568 31.7647218,19.4117761 L31.7647218,30.0000167 C31.7647219,30.9746363 32.5548092,31.7647237 33.5294285,31.7647237 L41.5239031,31.7647237 L34.4650761,38.8235508 L24.7058947,38.8235508 C23.7312753,38.8235508 22.9411879,39.6136382 22.9411879,40.5882575 L22.9411879,45.8823778 L26.4706014,45.8823778 L26.4706014,42.3529643 L30.9356624,42.3529643 L23.8768354,49.4117914 L19.4117743,49.4117914 C18.4371549,49.4117914 17.6470675,50.2018788 17.6470675,51.1764981 L17.6470675,54.7059117 C17.6504049,54.9674302 17.7129076,55.2248042 17.8298886,55.4587302 L16.4456526,56.8429662 C15.7446193,57.5200453 15.7252005,58.6372282 16.4022825,59.3382615 C17.0793616,60.0392948 18.1965445,60.0587136 18.8975778,59.3816316 C18.9122847,59.3674273 18.9267436,59.3529684 18.940948,59.3382615 L56.6964963,21.5830662 C57.3856425,20.8939094 57.3856425,19.7765747 56.6964963,19.0874179 Z",id:"Combined-Shape"})))))},kse=function(e){var t=e.image,n=t===void 0?v.createElement(Dse,null):t,r=e.text,a=e.type,i=a===void 0?"Error":a,o=Et("ChatDown").t;return v.createElement("div",{className:"str-chat__down"},v.createElement("div",{className:"str-chat__down-main"},typeof n=="string"?v.createElement("img",{alt:"Connection error","data-testid":"chatdown-img",src:n}):n,v.createElement("h1",null,i),v.createElement("h3",{"aria-live":"assertive"},r||o("Error connecting to chat, refresh the page to try again."))))},x7=v.memo(kse),Mse=function(e){var t=e.children,n=e.error,r=n===void 0?null:n,a=e.loading,i=e.LoadingErrorIndicator,o=i===void 0?x7:i,s=e.LoadingIndicator,l=s===void 0?Ak:s,u=Et("ChannelListMessenger").t;return r?v.createElement(o,{type:"Connection Error"}):a?v.createElement(l,null):v.createElement("div",{className:"str-chat__channel-list-messenger str-chat__channel-list-messenger-react"},v.createElement("div",{"aria-label":u("aria/Channel list"),className:"str-chat__channel-list-messenger__main str-chat__channel-list-messenger-react__main",role:"listbox"},t))},Tse=function(e,t){var n=kt("useChannelDeletedListener").client;$.useEffect(function(){var r=function(a){t&&typeof t=="function"?t(e,a):e(function(i){var o=i.findIndex(function(s){return s.cid===a.cid});return o<0?Vt([],i,!0):(i.splice(o,1),Vt([],i,!0))})};return n.on("channel.deleted",r),function(){n.off("channel.deleted",r)}},[t])},xse=function(e,t){var n=kt("useChannelHiddenListener").client;$.useEffect(function(){var r=function(a){t&&typeof t=="function"?t(e,a):e(function(i){var o=i.findIndex(function(s){return s.cid===a.cid});return o<0?Vt([],i,!0):(i.splice(o,1),Vt([],i,!0))})};return n.on("channel.hidden",r),function(){n.off("channel.hidden",r)}},[t])},Rse=function(e,t,n){var r=kt("useChannelTruncatedListener").client;$.useEffect(function(){var a=function(i){e(function(o){return Vt([],o,!0)}),t&&typeof t=="function"&&t(e,i),n&&n()};return r.on("channel.truncated",a),function(){r.off("channel.truncated",a)}},[t])},Pse=function(e,t,n){var r=kt("useChannelUpdatedListener").client;$.useEffect(function(){var a=function(i){e(function(o){var s,l,u,c,d,f,h=o.findIndex(function(w){var D;return w.cid===((D=i.channel)===null||D===void 0?void 0:D.cid)});if(h>-1&&i.channel){var p=o;return p[h].data=ne(ne({},i.channel),{hidden:(l=(s=i.channel)===null||s===void 0?void 0:s.hidden)!==null&&l!==void 0?l:(u=p[h].data)===null||u===void 0?void 0:u.hidden,own_capabilities:(d=(c=i.channel)===null||c===void 0?void 0:c.own_capabilities)!==null&&d!==void 0?d:(f=p[h].data)===null||f===void 0?void 0:f.own_capabilities}),Vt([],p,!0)}return o}),n&&n(),t&&typeof t=="function"&&t(e,i)};return r.on("channel.updated",a),function(){r.off("channel.updated",a)}},[t])},Ose=function(e,t){var n=kt("useChannelVisibleListener").client;$.useEffect(function(){var r=function(a){return St(void 0,void 0,void 0,function(){var i;return Dt(this,function(o){switch(o.label){case 0:return t&&typeof t=="function"?(t(e,a),[3,3]):[3,1];case 1:return a.type&&a.channel_type&&a.channel_id?[4,hg({client:n,id:a.channel_id,type:a.channel_type})]:[3,3];case 2:i=o.sent(),e(function(s){return Ps(Vt([i],s,!0),"cid")}),o.label=3;case 3:return[2]}})})};return n.on("channel.visible",r),function(){n.off("channel.visible",r)}},[t])},Ase=function(e){var t=kt("useConnectionRecoveredListener").client;$.useEffect(function(){var n=function(){e&&e()};return t.on("connection.recovered",n),function(){t.off("connection.recovered",n)}},[])},R7=30,P7=function(e){var t=e.activeChannel,n=e.channels,r=e.cid,a=n.findIndex(function(o){return o.cid===r});if(!t&&a<=0)return n;var i=t||n[a];return Ps(Vt([i],n,!0),"cid")},Lse=function(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0);var a=kt("useMessageNewListener").client;$.useEffect(function(){var i=function(o){t&&typeof t=="function"?t(e,o):e(function(s){var l=s.filter(function(c){return c.cid===o.cid}).length>0;if(!l&&r&&o.channel_type){var u=a.channel(o.channel_type,o.channel_id);return Ps(Vt([u],s,!0),"cid")}return n?s:P7({channels:s,cid:o.cid||""})})};return a.on("message.new",i),function(){a.off("message.new",i)}},[n])},Ise=function(e,t,n){$.useEffect(function(){var r=function(a){n&&e.current&&!e.current.contains(a.target)&&t&&n()};return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}},[e,n,t])},Fse=function(e,t,n){n===void 0&&(n=!0);var r=kt("useNotificationAddedToChannelListener").client;$.useEffect(function(){var a=function(i){return St(void 0,void 0,void 0,function(){var o,s,l;return Dt(this,function(u){switch(u.label){case 0:return t&&typeof t=="function"?(t(e,i),[3,3]):[3,1];case 1:return n&&(!((s=i.channel)===null||s===void 0)&&s.type)?[4,hg({client:r,id:i.channel.id,members:(l=i.channel.members)===null||l===void 0?void 0:l.reduce(function(c,d){var f=d.user,h=d.user_id,p=h||(f==null?void 0:f.id);return p&&c.push(p),c},[]),type:i.channel.type})]:[3,3];case 2:o=u.sent(),e(function(c){return Ps(Vt([o],c,!0),"cid")}),u.label=3;case 3:return[2]}})})};return r.on("notification.added_to_channel",a),function(){r.off("notification.added_to_channel",a)}},[t])},Nse=function(e,t,n){n===void 0&&(n=!0);var r=kt("useNotificationMessageNewListener").client;$.useEffect(function(){var a=function(i){return St(void 0,void 0,void 0,function(){var o,s;return Dt(this,function(l){switch(l.label){case 0:return t&&typeof t=="function"?(t(e,i),[3,3]):[3,1];case 1:return n&&(!((s=i.channel)===null||s===void 0)&&s.type)?[4,hg({client:r,id:i.channel.id,type:i.channel.type})]:[3,3];case 2:o=l.sent(),e(function(u){return Ps(Vt([o],u,!0),"cid")}),l.label=3;case 3:return[2]}})})};return r.on("notification.message_new",a),function(){r.off("notification.message_new",a)}},[t])},Use=function(e,t){var n=kt("useNotificationRemovedFromChannelListener").client;$.useEffect(function(){var r=function(a){t&&typeof t=="function"?t(e,a):e(function(i){return i.filter(function(o){var s;return o.cid!==((s=a.channel)===null||s===void 0?void 0:s.cid)})})};return n.on("notification.removed_from_channel",r),function(){n.off("notification.removed_from_channel",r)}},[t])},w5=5e3,E5=2e3,Bse=function(e,t,n,r,a,i,o){i===void 0&&(i=w5);var s=kt("usePaginatedChannels").channelsQueryState,l=s.error,u=s.setError,c=s.setQueryInProgress,d=$.useState([]),f=d[0],h=d[1],p=$.useState(!0),w=p[0],D=p[1],E=$.useRef(),g=i<E5?E5:i??w5,C=$.useMemo(function(){return JSON.stringify(t)},[t]),M=$.useMemo(function(){return JSON.stringify(n)},[n]),m=function(y){return y===void 0&&(y="load-more"),St(void 0,void 0,void 0,function(){var k,_,P,z,N,T,L;return Dt(this,function(I){switch(I.label){case 0:u(null),y==="reload"&&h([]),c(y),I.label=1;case 1:return I.trys.push([1,6,,7]),o?[4,o({currentChannels:f,queryType:y,setChannels:h,setHasNextPage:D})]:[3,3];case 2:return I.sent(),[3,5];case 3:return k=y==="reload"?0:f.length,_=ne({limit:(T=r==null?void 0:r.limit)!==null&&T!==void 0?T:R7,message_limit:(L=r==null?void 0:r.message_limit)!==null&&L!==void 0?L:E6,offset:k},r),[4,e.queryChannels(t,n||{},_)];case 4:P=I.sent(),z=y==="reload"?P:Ps(Vt(Vt([],f,!0),P,!0),"cid"),h(z),D(P.length>=_.limit),!k&&a&&a(z,h),I.label=5;case 5:return[3,7];case 6:return N=I.sent(),console.warn(N),u(N),[3,7];case 7:return c(null),[2]}})})},b=$.useCallback(function(){var y=Date.now(),k=!E.current,_=E.current?y-E.current:0;!k&&_<g&&!l||(E.current=y,m("reload"))},[l,m,g]),S=function(){m()};return $.useEffect(function(){if(!e.recoverStateOnReconnect){var y=e.on("connection.recovered",b).unsubscribe;return function(){y()}}},[e,b]),$.useEffect(function(){m("reload")},[C,M]),{channels:f,hasNextPage:w,loadNextPage:S,setChannels:h}},jse=function(e){var t=kt("useUserPresenceChangedListener").client;$.useEffect(function(){var n=function(r){e(function(a){var i=a.map(function(o){var s;if(!(!((s=r.user)===null||s===void 0)&&s.id)||!o.state.members[r.user.id])return o;var l=o;return l.state.members[r.user.id].user=r.user,l});return Vt([],i,!0)})};return t.on("user.presence.changed",n),function(){t.off("user.presence.changed",n)}},[])},zse=function(e){var t,n,r=e.active,a=e.Avatar,i=a===void 0?Fa:a,o=e.channel,s=e.className,l=s===void 0?"":s,u=e.displayImage,c=e.displayTitle,d=e.latestMessage,f=e.onSelect,h=e.setActiveChannel,p=e.unread,w=e.watchers,D=$.useRef(null),E=c||((n=(t=o.state.messages[o.state.messages.length-1])===null||t===void 0?void 0:t.user)===null||n===void 0?void 0:n.id),g=function(C){f?f(C):h&&h(o,w),D!=null&&D.current&&D.current.blur()};return v.createElement("button",{"aria-label":"Select Channel: ".concat(c||""),"aria-selected":r,className:Yt("str-chat__channel-preview-messenger str-chat__channel-preview",r&&"str-chat__channel-preview-messenger--active",p&&p>=1&&"str-chat__channel-preview-messenger--unread",l),"data-testid":"channel-preview-button",onClick:g,ref:D,role:"option"},v.createElement("div",{className:"str-chat__channel-preview-messenger--left"},v.createElement(i,{image:u,name:E,size:40})),v.createElement("div",{className:"str-chat__channel-preview-messenger--right str-chat__channel-preview-end"},v.createElement("div",{className:"str-chat__channel-preview-end-first-row"},v.createElement("div",{className:"str-chat__channel-preview-messenger--name"},v.createElement("span",null,c)),!!p&&v.createElement("div",{className:"str-chat__channel-preview-unread-badge","data-testid":"unread-badge"},p)),v.createElement("div",{className:"str-chat__channel-preview-messenger--last-message"},d)))},$se=v.memo(zse),Hse=function(e){var t=kt("useIsChannelMuted").client,n=$.useState(e.muteStatus()),r=n[0],a=n[1];return $.useEffect(function(){var i=function(){return a(e.muteStatus())};return t.on("notification.channel_mutes_updated",i),function(){return t.off("notification.channel_mutes_updated",i)}},[r]),r},yu;(function(e){e.DELIVERED="delivered",e.READ="read"})(yu||(yu={}));var Vse=function(e){var t=e.channel,n=e.lastMessage,r=kt().client,a=$.useState(),i=a[0],o=a[1],s=$.useCallback(function(l){var u;return r.user&&((u=l==null?void 0:l.user)===null||u===void 0?void 0:u.id)===r.user.id},[r]);return $.useEffect(function(){var l=s(n);if(!(!(n!=null&&n.created_at)||!l)){var u=typeof n.created_at=="string"?new Date(n.created_at):n.created_at,c=Object.values(t.state.read).some(function(d){var f=d.last_read,h=d.user,p=r.user&&h.id!==r.user.id;return p&&u<f});o(c?yu.READ:yu.DELIVERED)}},[t.state.read,r,s,n]),$.useEffect(function(){var l=function(u){return s(u.message)?o(yu.DELIVERED):o(void 0)};return t.on("message.new",l),function(){t.off("message.new",l)}},[t,r,s]),$.useEffect(function(){if(s(n)){var l=function(u){var c,d;((c=u.user)===null||c===void 0?void 0:c.id)!==((d=r.user)===null||d===void 0?void 0:d.id)&&o(yu.READ)};return t.on("message.read",l),function(){t.off("message.read",l)}}},[t,r,n,s]),{messageDeliveryStatus:i}},O7=function(e){var t=e.channel,n=e.Preview,r=n===void 0?$se:n,a=e.channelUpdateCount,i=kt("ChannelPreview"),o=i.channel,s=i.client,l=i.setActiveChannel,u=Et("ChannelPreview"),c=u.t,d=u.userLanguage,f=T7({channel:t}),h=f.displayImage,p=f.displayTitle,w=$.useState(t.state.messages[t.state.messages.length-1]),D=w[0],E=w[1],g=$.useState(0),C=g[0],M=g[1],m=Vse({channel:t,lastMessage:D}).messageDeliveryStatus,b=(o==null?void 0:o.cid)===t.cid,S=Hse(t).muted;$.useEffect(function(){var _=function(P){if(!P.cid)return M(0);t.cid===P.cid&&M(0)};return s.on("notification.mark_read",_),function(){return s.off("notification.mark_read",_)}},[]),$.useEffect(function(){var _=function(P){var z,N;t.cid===P.cid&&((z=P.user)===null||z===void 0?void 0:z.id)===((N=s.user)===null||N===void 0?void 0:N.id)&&M(t.countUnread())};return t.on("notification.mark_unread",_),function(){t.off("notification.mark_unread",_)}},[t,s]);var y=$.useMemo(function(){return Ao(function(){M(S?0:t.countUnread())},400)},[t,S]);if($.useEffect(function(){y();var _=function(P){P.message&&E(P.message),y()};return t.on("message.new",_),t.on("message.updated",_),t.on("message.deleted",_),function(){t.off("message.new",_),t.off("message.updated",_),t.off("message.deleted",_)}},[y,a]),!r)return null;var k=Sse(t,c,d);return v.createElement(r,ne({},e,{active:b,displayImage:h,displayTitle:p,lastMessage:D,latestMessage:k,messageDeliveryStatus:m,setActiveChannel:l,unread:C}))},A7=function(e){return e.cid!=null},Wse=function(e){var t=e.channelType,n=t===void 0?"messaging":t,r=e.clearSearchOnClickOutside,a=r===void 0?!0:r,i=e.disabled,o=i===void 0?!1:i,s=e.onSearch,l=e.onSearchExit,u=e.onSelectResult,c=e.searchDebounceIntervalMs,d=c===void 0?300:c,f=e.searchForChannels,h=f===void 0?!1:f,p=e.searchFunction,w=e.searchQueryParams,D=e.setChannels,E=kt("useChannelSearch"),g=E.client,C=E.setActiveChannel,M=E.themeVersion,m=$.useState(!1),b=m[0],S=m[1],y=$.useState(""),k=y[0],_=y[1],P=$.useState([]),z=P[0],N=P[1],T=$.useState(!1),L=T[0],I=T[1],B=$.useRef(),F=$.useRef(!1),U=$.useRef(null),R=$.useRef(null),O=$.useCallback(function(){_(""),N([]),I(!1),B.current&&(F.current=!0)},[]),A=$.useCallback(function(){S(!0)},[]),x=$.useCallback(function(){var W;S(!1),(W=U.current)===null||W===void 0||W.blur(),O(),l==null||l()},[O,l]);$.useEffect(function(){if(!o){var W=function(J){var oe,he;if(J.target instanceof HTMLElement){var Oe=M==="2"?(oe=R.current)===null||oe===void 0?void 0:oe.contains(J.target):(he=U.current)===null||he===void 0?void 0:he.contains(J.target);Oe||(b&&!k||a)&&x()}};return document.addEventListener("click",W),function(){return document.removeEventListener("click",W)}}},[o,b,k,x,a]),$.useEffect(function(){if(!(!U.current||o)){var W=function(J){if(J.key==="Escape")return x()};return U.current.addEventListener("keydown",W),function(){var J;(J=U.current)===null||J===void 0||J.removeEventListener("keydown",W)}}},[o]);var j=$.useCallback(function(W){return St(void 0,void 0,void 0,function(){var J,oe;return Dt(this,function(he){switch(he.label){case 0:return g.userID?u?[4,u({setQuery:_,setResults:N,setSearching:I},W)]:[3,2]:[2];case 1:return he.sent(),[2];case 2:return A7(W)?(C(W),J=W,[3,5]):[3,3];case 3:return oe=g.channel(n,{members:[g.userID,W.id]}),[4,oe.watch()];case 4:he.sent(),C(oe),J=oe,he.label=5;case 5:return D==null||D(function(Oe){return Ps(Vt([J],Oe,!0),"cid")}),a&&x(),[2]}})})},[a,g,x,u,C,D]),V=$.useCallback(function(W){return St(void 0,void 0,void 0,function(){var J,oe,Ie,he,Oe,$e,Ie,ze,We,at,bt,H,q,De;return Dt(this,function(Fe){switch(Fe.label){case 0:J=[],Fe.label=1;case 1:return Fe.trys.push([1,6,,7]),oe=g.queryUsers(ne({$or:[{id:{$autocomplete:W}},{name:{$autocomplete:W}}],id:{$ne:g.userID}},(We=w==null?void 0:w.userFilters)===null||We===void 0?void 0:We.filters),ne({id:1},(at=w==null?void 0:w.userFilters)===null||at===void 0?void 0:at.sort),ne({limit:8},(bt=w==null?void 0:w.userFilters)===null||bt===void 0?void 0:bt.options)),h?[3,3]:(B.current=oe,[4,B.current]);case 2:return Ie=Fe.sent().users,J=Ie,[3,5];case 3:return he=g.queryChannels(ne({name:{$autocomplete:W}},(H=w==null?void 0:w.channelFilters)===null||H===void 0?void 0:H.filters),((q=w==null?void 0:w.channelFilters)===null||q===void 0?void 0:q.sort)||{},ne({limit:5},(De=w==null?void 0:w.channelFilters)===null||De===void 0?void 0:De.options)),B.current=Promise.all([he,oe]),[4,B.current];case 4:Oe=Fe.sent(),$e=Oe[0],Ie=Oe[1].users,J=Vt(Vt([],$e,!0),Ie,!0),Fe.label=5;case 5:return[3,7];case 6:return ze=Fe.sent(),console.error(ze),[3,7];case 7:return I(!1),F.current?F.current=!1:N(J),B.current=void 0,[2]}})})},[g,h,w]),X=$.useCallback(Qp(V,d),[V,d]),re=$.useCallback(function(W){W.preventDefault(),!o&&(p?p({setQuery:_,setResults:N,setSearching:I},W):W.target.value?(I(!0),_(W.target.value),X(W.target.value)):W.target.value||(O(),X.cancel()),s==null||s(W))},[O,o,X,s,p]);return{activateSearch:A,clearState:O,exitSearch:x,inputIsFocused:b,inputRef:U,onSearch:re,query:k,results:z,searchBarRef:R,searching:L,selectResult:j}},qse=function(){return v.createElement("svg",{"data-testid":"menu-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{clipRule:"evenodd",d:"M3 8V6H21V8H3ZM3 13H21V11H3V13ZM3 18H21V16H3V18Z",fill:"black",fillRule:"evenodd"}))},Yse=function(){return v.createElement("svg",{"data-testid":"return-icon",fill:"none",height:"20",viewBox:"0 0 22 22",width:"20",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M21.6668 9.66666V12.3333H5.6529L12.9932 19.6736L11.1076 21.5592L0.54834 11L11.1076 0.440765L12.9932 2.32638L5.6529 9.66666H21.6668Z",fill:"#080707"}))},Kse=function(){return v.createElement("svg",{fill:"none",height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"#747881"}))},L7=function(e){var t=e.className;return v.createElement("svg",{className:t,fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:"M12.7549 11.255H11.9649L11.6849 10.985C12.6649 9.845 13.2549 8.365 13.2549 6.755C13.2549 3.165 10.3449 0.255005 6.75488 0.255005C3.16488 0.255005 0.254883 3.165 0.254883 6.755C0.254883 10.345 3.16488 13.255 6.75488 13.255C8.36488 13.255 9.84488 12.665 10.9849 11.685L11.2549 11.965V12.755L16.2549 17.745L17.7449 16.255L12.7549 11.255ZM6.75488 11.255C4.26488 11.255 2.25488 9.245 2.25488 6.755C2.25488 4.26501 4.26488 2.255 6.75488 2.255C9.24488 2.255 11.2549 4.26501 11.2549 6.755C11.2549 9.245 9.24488 11.255 6.75488 11.255Z",fill:"#747881"}))},I7=function(e){var t=e.disabled,n=e.inputRef,r=e.onSearch,a=e.placeholder,i=e.query,o=Et("SearchInput").t;return v.createElement("input",{className:"str-chat__channel-search-input","data-testid":"search-input",disabled:t,onChange:r,placeholder:a??o("Search"),ref:n,type:"text",value:i})},C5=function(e){var t=e.children,n=e.className,r=e.onClick;return v.createElement("button",{className:Yt("str-chat__channel-search-bar-button",n),"data-testid":"search-bar-button",onClick:r},t)},Gse=function(e){var t=e.activateSearch,n=e.AppMenu,r=e.ClearInputIcon,a=r===void 0?Kse:r,i=e.exitSearch,o=e.ExitSearchIcon,s=o===void 0?Yse:o,l=e.inputIsFocused,u=e.MenuIcon,c=u===void 0?qse:u,d=e.searchBarRef,f=e.SearchInput,h=f===void 0?I7:f,p=e.SearchInputIcon,w=p===void 0?L7:p,D=Bt(e,["activateSearch","AppMenu","ClearInputIcon","exitSearch","ExitSearchIcon","inputIsFocused","MenuIcon","searchBarRef","SearchInput","SearchInputIcon"]),E=$.useState(!1),g=E[0],C=E[1],M=$.useRef(null);$.useEffect(function(){if(M.current){var S=function(k){g&&k.key==="Escape"&&C(!1)},y=function(k){var _;!(k.target instanceof HTMLElement)||!g||!((_=M.current)===null||_===void 0)&&_.contains(k.target)||C(!1)};return document.addEventListener("keydown",S),document.addEventListener("click",y),function(){document.removeEventListener("keydown",S),document.removeEventListener("click",y)}}},[g]),$.useEffect(function(){if(e.inputRef.current){var S=function(){t()},y=function(k){k.stopPropagation()};return e.inputRef.current.addEventListener("focus",S),e.inputRef.current.addEventListener("blur",y),function(){var k,_;(k=e.inputRef.current)===null||k===void 0||k.removeEventListener("focus",S),(_=e.inputRef.current)===null||_===void 0||_.addEventListener("blur",y)}}},[]);var m=$.useCallback(function(){var S;i(),(S=D.inputRef.current)===null||S===void 0||S.focus()},[]),b=$.useCallback(function(){return C(!1)},[]);return v.createElement("div",{className:"str-chat__channel-search-bar","data-testid":"search-bar",ref:d},l?v.createElement(C5,{className:"str-chat__channel-search-bar-button--exit-search",onClick:i},v.createElement(s,null)):n?v.createElement(C5,{className:"str-chat__channel-search-bar-button--menu",onClick:function(){return C(function(S){return!S})}},v.createElement(c,null)):null,v.createElement("div",{className:Yt("str-chat__channel-search-input--wrapper",D.query&&"str-chat__channel-search-input--wrapper-active")},v.createElement("div",{className:"str-chat__channel-search-input--icon"},v.createElement(w,null)),v.createElement(h,ne({},D)),v.createElement("button",{className:"str-chat__channel-search-input--clear-button","data-testid":"clear-input-button",disabled:!D.query,onClick:m},v.createElement(a,null))),g&&n&&v.createElement("div",{ref:M},v.createElement(n,{close:b})))},Zse=function(){var e=Et("SearchResults").t;return v.createElement("div",{"aria-live":"polite",className:"str-chat__channel-search-container-empty"},v.createElement(L7,null),e("No results found"))},Xse=function(e){var t=e.results,n=Et("SearchResultsHeader").t;return v.createElement("div",{className:"str-chat__channel-search-results-header","data-testid":"channel-search-results-header"},n("searchResultsCount",{count:t.length}))},Qse=function(e){var t=e.focusedUser,n=e.results,r=e.SearchResultItem,a=e.selectResult;return v.createElement(v.Fragment,null,n.map(function(i,o){return v.createElement(r,{focusedUser:t,index:o,key:o,result:i,selectResult:a})}))},Jse=function(e){var t,n,r=e.focusedUser,a=e.index,i=e.result,o=e.selectResult,s=r===a,l=kt().themeVersion,u=Yt("str-chat__channel-search-result",s&&"str-chat__channel-search-result--focused focused");if(A7(i)){var c=i;return l==="2"?v.createElement(O7,{channel:c,className:u,onSelect:function(){return o(c)}}):v.createElement("button",{"aria-label":"Select Channel: ".concat(((t=c.data)===null||t===void 0?void 0:t.name)||""),className:u,"data-testid":"channel-search-result-channel",onClick:function(){return o(c)},role:"option"},v.createElement("div",{className:"result-hashtag"},"#"),v.createElement("p",{className:"channel-search__result-text"},(n=c.data)===null||n===void 0?void 0:n.name))}else return v.createElement("button",{"aria-label":"Select User Channel: ".concat(i.name||""),className:u,"data-testid":"channel-search-result-user",onClick:function(){return o(i)},role:"option"},v.createElement(Fa,{image:i.image,name:i.name||i.id,size:l==="2"?40:void 0,user:i}),v.createElement("div",{className:"str-chat__channel-search-result--display-name"},i.name||i.id))},rv=function(e){var t=e.children,n=e.popupResults,r=Et("ResultsContainer").t;return v.createElement("div",{"aria-label":r("aria/Channel search results"),className:Yt("str-chat__channel-search-container str-chat__channel-search-result-list",n?"popup":"inline")},t)},ele=function(e){var t=e.popupResults,n=e.results,r=e.searching,a=e.SearchEmpty,i=a===void 0?Zse:a,o=e.SearchResultsHeader,s=o===void 0?Xse:o,l=e.SearchLoading,u=e.SearchResultItem,c=u===void 0?Jse:u,d=e.SearchResultsList,f=d===void 0?Qse:d,h=e.selectResult,p=Et("SearchResults").t,w=$.useState(),D=w[0],E=w[1],g=$.useCallback(function(C){if(C.key==="ArrowUp"&&E(function(M){return M===void 0?0:M===0?n.length-1:M-1}),C.key==="ArrowDown"&&E(function(M){return M===void 0||M===n.length-1?0:M+1}),C.key==="Enter"&&(C.preventDefault(),D!==void 0))return h(n[D]),E(void 0)},[D]);return $.useEffect(function(){return document.addEventListener("keydown",g,!1),function(){return document.removeEventListener("keydown",g)}},[g]),r?v.createElement(rv,{popupResults:t},l?v.createElement(l,null):v.createElement("div",{className:"str-chat__channel-search-container-searching","data-testid":"search-in-progress-indicator"},p("Searching..."))):n.length?v.createElement(rv,{popupResults:t},v.createElement(s,{results:n}),v.createElement(f,{focusedUser:D,results:n,SearchResultItem:c,selectResult:h})):v.createElement(rv,{popupResults:t},v.createElement(i,null))},tle=function(e){var t=e.AppMenu,n=e.ClearInputIcon,r=e.ExitSearchIcon,a=e.MenuIcon,i=e.placeholder,o=e.popupResults,s=o===void 0?!1:o,l=e.SearchBar,u=l===void 0?Gse:l,c=e.SearchEmpty,d=e.SearchInput,f=d===void 0?I7:d,h=e.SearchLoading,p=e.SearchInputIcon,w=e.SearchResultItem,D=e.SearchResultsList,E=e.SearchResultsHeader,g=Bt(e,["AppMenu","ClearInputIcon","ExitSearchIcon","MenuIcon","placeholder","popupResults","SearchBar","SearchEmpty","SearchInput","SearchLoading","SearchInputIcon","SearchResultItem","SearchResultsList","SearchResultsHeader"]),C=kt("ChannelSearch").themeVersion,M=Wse(g),m=M.activateSearch,b=M.clearState,S=M.exitSearch,y=M.inputIsFocused,k=M.inputRef,_=M.onSearch,P=M.query,z=M.results,N=M.searchBarRef,T=M.searching,L=M.selectResult,I=C==="2";return v.createElement("div",{className:Yt("str-chat__channel-search",s?"str-chat__channel-search--popup":"str-chat__channel-search--inline",{"str-chat__channel-search--with-results":z.length>0}),"data-testid":"channel-search"},I?v.createElement(u,{activateSearch:m,AppMenu:t,ClearInputIcon:n,clearState:b,disabled:g.disabled,exitSearch:S,ExitSearchIcon:r,inputIsFocused:y,inputRef:k,MenuIcon:a,onSearch:_,placeholder:i,query:P,searchBarRef:N,SearchInput:f,SearchInputIcon:p}):v.createElement(f,{clearState:b,disabled:g.disabled,inputRef:k,onSearch:_,placeholder:i,query:P}),P&&v.createElement(ele,{popupResults:s,results:z,SearchEmpty:c,searching:T,SearchLoading:h,SearchResultItem:w,SearchResultsHeader:E,SearchResultsList:D,selectResult:L}))},nle=v.memo(tle),rle=function(e){var t=e.children,n=e.isLoading,r=e.onClick,a=e.refreshing,i=Et("UnMemoizedLoadMoreButton").t,o=t??i("Load more"),s=typeof n<"u"?n:a;return $.useEffect(function(){b_([[{refreshing:a},{isLoading:n}]],"LoadMoreButton")},[]),v.createElement("div",{className:"str-chat__load-more-button"},v.createElement("button",{"aria-label":i("aria/Load More Channels"),className:"str-chat__load-more-button__button str-chat__cta-button","data-testid":"load-more-button",disabled:s,onClick:r},s?v.createElement(Ju,null):o))},ale=v.memo(rle),ile=function(e){var t=e.children,n=e.hasNextPage,r=e.isLoading,a=e.LoadMoreButton,i=a===void 0?ale:a,o=e.loadNextPage,s=e.refreshing,l=e.reverse,u=typeof r<"u"?r:s;return $.useEffect(function(){b_([[{refreshing:s},{isLoading:r}]],"LoadMorePaginator")},[]),v.createElement(v.Fragment,null,!l&&t,n&&v.createElement(i,{isLoading:u,onClick:o}),l&&t)},ole=v.memo(ile),sle={},lle={},S5={},ule=function(e){var t,n,r=e.additionalChannelSearchProps,a=e.Avatar,i=a===void 0?Fa:a,o=e.allowNewMessagesFromUnfilteredChannels,s=e.channelRenderFilterFn,l=e.ChannelSearch,u=l===void 0?nle:l,c=e.customActiveChannel,d=e.customQueryChannels,f=e.EmptyStateIndicator,h=f===void 0?__:f,p=e.filters,w=e.LoadingErrorIndicator,D=w===void 0?x7:w,E=e.LoadingIndicator,g=E===void 0?Ak:E,C=e.List,M=C===void 0?Mse:C,m=e.lockChannelOrder,b=e.onAddedToChannel,S=e.onChannelDeleted,y=e.onChannelHidden,k=e.onChannelTruncated,_=e.onChannelUpdated,P=e.onChannelVisible,z=e.onMessageNew,N=e.onMessageNewHandler,T=e.onRemovedFromChannel,L=e.options,I=e.Paginator,B=I===void 0?ole:I,F=e.Preview,U=e.recoveryThrottleIntervalMs,R=e.renderChannels,O=e.sendChannelsToList,A=O===void 0?!1:O,x=e.setActiveChannelOnMount,j=x===void 0?!0:x,V=e.showChannelSearch,X=V===void 0?!1:V,re=e.sort,W=re===void 0?S5:re,J=e.watchers,oe=J===void 0?{}:J,he=kt("ChannelList"),Oe=he.channel,$e=he.channelsQueryState,Ie=he.client,ze=he.closeMobileNav,We=he.customClasses,at=he.navOpen,bt=at===void 0?!1:at,H=he.setActiveChannel,q=he.theme,De=he.useImageFlagEmojisOnWindows,Fe=$.useRef(null),Qe=$.useState(0),le=Qe[0],Ne=Qe[1],pe=$.useState(!1),Te=pe[0],Ue=pe[1],Be=function(we,xe){return St(void 0,void 0,void 0,function(){var nt,lt;return Dt(this,function(Ke){switch(Ke.label){case 0:return!we.length||we.length>((L==null?void 0:L.limit)||R7)?[2]:c?(nt=we.find(function(yt){return yt.id===c}),nt?[3,2]:[4,Ie.queryChannels({id:c})]):[3,3];case 1:nt=Ke.sent()[0],Ke.label=2;case 2:return nt&&(H(nt,oe),lt=P7({activeChannel:nt,channels:we,cid:nt.cid}),xe(lt)),[2];case 3:return j&&H(we[0],oe),[2]}})})},ut=function(){return Ne(function(we){return we+1})},Mt=$.useCallback(function(we){var xe;we.target.value?Ue(!0):Ue(!1),(xe=r==null?void 0:r.onSearch)===null||xe===void 0||xe.call(r,we)},[]),K=$.useCallback(function(){var we;Ue(!1),(we=r==null?void 0:r.onSearchExit)===null||we===void 0||we.call(r)},[]),G=Bse(Ie,p||sle,W||S5,L||lle,Be,U,d),ie=G.channels,se=G.hasNextPage,fe=G.loadNextPage,te=G.setChannels,ge=s?s(ie):ie;Ise(Fe,bt,ze),Lse(te,N,m,o),Nse(te,z,o),Fse(te,b,o),Use(te,T),Tse(te,S),xse(te,y),Ose(te,P),Rse(te,k,ut),Pse(te,_,ut),Ase(ut),jse(te),$.useEffect(function(){var we=function(xe){xe.cid===(Oe==null?void 0:Oe.cid)&&H()};return Ie.on("channel.deleted",we),Ie.on("channel.hidden",we),function(){Ie.off("channel.deleted",we),Ie.off("channel.hidden",we)}},[Oe==null?void 0:Oe.cid]);var Ee=function(we){var xe={activeChannel:Oe,Avatar:i,channel:we,channelUpdateCount:le,key:we.id,Preview:F,setActiveChannel:H,watchers:oe};return v.createElement(O7,ne({},xe))},ye=Yt((t=We==null?void 0:We.chat)!==null&&t!==void 0?t:"str-chat",q,(n=We==null?void 0:We.channelList)!==null&&n!==void 0?n:"str-chat-channel-list str-chat__channel-list str-chat__channel-list-react",{"str-chat--windows-flags":De&&navigator.userAgent.match(/Win/),"str-chat-channel-list--open":bt}),Ae=!Te||(r==null?void 0:r.popupResults);return v.createElement(PA,{value:{channels:ie,setChannels:te}},v.createElement("div",{className:ye,ref:Fe},X&&v.createElement(u,ne({onSearch:Mt,onSearchExit:K,setChannels:te},r)),Ae&&v.createElement(M,{error:$e.error,loadedChannels:A?ge:void 0,loading:!!$e.queryInProgress&&["reload","uninitialized"].includes($e.queryInProgress),LoadingErrorIndicator:D,LoadingIndicator:g,setChannels:te},ge!=null&&ge.length?v.createElement(B,{hasNextPage:se,isLoading:$e.queryInProgress==="load-more",loadNextPage:fe},R?R(ge,Ee):ge.map(function(we){return Ee(we)})):v.createElement(h,{listType:"channel"}))))},rh=v.memo(ule),cle="11.19.0",dle=function(e){var t,n,r=e.client,a=e.defaultLanguage,i=a===void 0?"en":a,o=e.i18nInstance,s=e.initialNavOpen,l=$.useState({t:function(N){return N},tDateTimeParser:y6,userLanguage:"en"}),u=l[0],c=l[1],d=$.useState(),f=d[0],h=d[1],p=$.useState([]),w=p[0],D=p[1],E=$.useState(s),g=E[0],C=E[1],M=$.useState({}),m=M[0],b=M[1],S=((t=r.user)===null||t===void 0?void 0:t.mutes)||[],y=function(){return C(!1)},k=function(){return setTimeout(function(){return C(!0)},100)},_=$.useRef(null),P=function(){return _.current||(_.current=r.getAppSettings()),_.current};$.useEffect(function(){if(r){var N=r.getUserAgent();N.includes("stream-chat-react")||r.setUserAgent("stream-chat-react-".concat(cle,"-").concat(N))}},[r]),$.useEffect(function(){D(S);var N=function(T){var L;D(((L=T.me)===null||L===void 0?void 0:L.mutes)||[])};return r.on("notification.mutes_updated",N),function(){return r.off("notification.mutes_updated",N)}},[S==null?void 0:S.length]),$.useEffect(function(){var N,T=(N=r.user)===null||N===void 0?void 0:N.language;if(!T){var L=window.navigator.language.slice(0,2);T=Gj(L)?L:i}var I=o||new Kj({language:T});I.registerSetLanguageCallback(function(B){return c(function(F){return ne(ne({},F),{t:B})})}),I.getTranslators().then(function(B){c(ne(ne({},B),{userLanguage:T||i}))})},[o]);var z=$.useCallback(function(N,T,L){return T===void 0&&(T={}),St(void 0,void 0,void 0,function(){return Dt(this,function(I){switch(I.label){case 0:return L&&L.preventDefault&&L.preventDefault(),N&&Object.keys(T).length?[4,N.query({watch:!0,watchers:T})]:[3,2];case 1:I.sent(),I.label=2;case 2:return h(N),y(),[2]}})})},[]);return $.useEffect(function(){b({})},[(n=r.user)===null||n===void 0?void 0:n.id]),{channel:f,closeMobileNav:y,getAppSettings:P,latestMessageDatesByChannels:m,mutes:w,navOpen:g,openMobileNav:k,setActiveChannel:z,translators:u}},fle=function(e){var t,n=e.channel,r=e.channelsQueryState,a=e.client,i=e.closeMobileNav,o=e.customClasses,s=e.getAppSettings,l=e.latestMessageDatesByChannels,u=e.mutes,c=e.navOpen,d=e.openMobileNav,f=e.setActiveChannel,h=e.theme,p=e.themeVersion,w=e.useImageFlagEmojisOnWindows,D=n==null?void 0:n.cid,E=r.error,g=r.queryInProgress,C="".concat(a.clientID).concat(Object.keys(a.activeChannels).length).concat(Object.keys(a.listeners).length).concat(a.mutedChannels.length,`
  `).concat((t=a.user)===null||t===void 0?void 0:t.id),M=u.length,m=$.useMemo(function(){return{channel:n,channelsQueryState:r,client:a,closeMobileNav:i,customClasses:o,getAppSettings:s,latestMessageDatesByChannels:l,mutes:u,navOpen:c,openMobileNav:d,setActiveChannel:f,theme:h,themeVersion:p,useImageFlagEmojisOnWindows:w}},[D,E,g,C,s,M,c]);return m},hle=function(){var e=$.useState(null),t=e[0],n=e[1],r=$.useState("uninitialized"),a=r[0],i=r[1];return{error:t,queryInProgress:a,setError:n,setQueryInProgress:i}},ple={"--bg-gradient-end":"#101214","--bg-gradient-start":"#070a0d","--black":"#ffffff","--blue-alice":"#00193d","--border":"#141924","--button-background":"#ffffff","--button-text":"#005fff","--grey":"#7a7a7a","--grey-gainsboro":"#2d2f2f","--grey-whisper":"#1c1e22","--modal-shadow":"#000000","--overlay":"#00000066","--overlay-dark":"#ffffffcc","--shadow-icon":"#00000080","--targetedMessageBackground":"#302d22","--transparent":"transparent","--white":"#101418","--white-smoke":"#13151b","--white-snow":"#070a0d"},mle=function(e){if(e)for(var t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],a=r[0],i=r[1];document.documentElement.style.setProperty(a,i)}},gle=function(e){var t=e.children,n=e.client,r=e.customClasses,a=e.customStyles,i=e.darkMode,o=i===void 0?!1:i,s=e.defaultLanguage,l=e.i18nInstance,u=e.initialNavOpen,c=u===void 0?!0:u,d=e.theme,f=d===void 0?"messaging light":d,h=e.useImageFlagEmojisOnWindows,p=h===void 0?!1:h,w=dle({client:n,defaultLanguage:s,i18nInstance:l,initialNavOpen:c}),D=w.channel,E=w.closeMobileNav,g=w.getAppSettings,C=w.latestMessageDatesByChannels,M=w.mutes,m=w.navOpen,b=w.openMobileNav,S=w.setActiveChannel,y=w.translators,k=hle(),_=typeof window<"u"&&window.getComputedStyle(document.documentElement).getPropertyValue("--str-chat__theme-version").replace(" ","")||"1";mle(o?ple:a);var P=fle({channel:D,channelsQueryState:k,client:n,closeMobileNav:E,customClasses:r,getAppSettings:g,latestMessageDatesByChannels:C,mutes:M,navOpen:m,openMobileNav:b,setActiveChannel:S,theme:f,themeVersion:_,useImageFlagEmojisOnWindows:p});return y.t?v.createElement(AA,{value:P},v.createElement(Xj,{value:y},t)):null},vle=function(e){var t=e.title,n=Et("CloseIcon").t;return v.createElement("svg",{"data-testid":"close-no-outline",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,t??n("Close")),v.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"black"}))},yle=function(e){var t=e.closeThread,n=e.overrideImage,r=e.overrideTitle,a=Et("ThreadHeader").t,i=tn("").channel,o=T7({channel:i,overrideImage:n,overrideTitle:r}).displayTitle;return v.createElement("div",{className:"str-chat__thread-header"},v.createElement("div",{className:"str-chat__thread-header-details"},v.createElement("div",{className:"str-chat__thread-header-title"},a("Thread")),v.createElement("div",{className:"str-chat__thread-header-subtitle"},o)),v.createElement("button",{"aria-label":a("aria/Close thread"),className:"str-chat__square-button str-chat__close-thread-button","data-testid":"close-button",onClick:t},v.createElement(vle,null)))},_le=function(){var e=tn("ThreadStart").thread,t=Et("ThreadStart").t;return e!=null&&e.reply_count?v.createElement("div",{className:"str-chat__thread-start"},t("replyCount",{count:e.reply_count})):null},ble=function(e){var t=En("ThreadHead").ThreadStart,n=t===void 0?_le:t;return v.createElement("div",{className:"str-chat__parent-message-li"},v.createElement(ig,ne({initialMessage:!0,threadList:!0},e)),v.createElement(n,null))},wle=function(e){var t=tn("Thread"),n=t.channel,r=t.channelConfig,a=t.thread;return!a||(r==null?void 0:r.replies)===!1?null:v.createElement(Ele,ne({},e,{key:"thread-".concat(a.id,"-").concat(n==null?void 0:n.cid)}))},Ele=function(e){var t,n,r=e.additionalMessageInputProps,a=e.additionalMessageListProps,i=e.additionalParentMessageProps,o=e.additionalVirtualizedMessageListProps,s=e.autoFocus,l=s===void 0?!0:s,u=e.enableDateSeparator,c=u===void 0?!1:u,d=e.fullWidth,f=d===void 0?!1:d,h=e.Input,p=e.Message,w=e.messageActions,D=w===void 0?Object.keys(hn):w,E=e.virtualized,g=tn("Thread"),C=g.thread,M=g.threadHasMore,m=g.threadLoadingMore,b=g.threadMessages,S=g.threadSuppressAutoscroll,y=qn("Thread"),k=y.closeThread,_=y.loadMoreThread,P=kt("Thread"),z=P.customClasses,N=P.themeVersion,T=En("Thread"),L=T.ThreadInput,I=T.Message,B=T.ThreadHead,F=B===void 0?ble:B,U=T.ThreadHeader,R=U===void 0?yle:U,O=T.VirtualMessage,A=(n=(t=h??(r==null?void 0:r.Input))!==null&&t!==void 0?t:L)!==null&&n!==void 0?n:N==="2"?v_:fae,x=p||(a==null?void 0:a.Message),j=E&&O?O:I,V=x||j,X=E?lse:Q9;if($.useEffect(function(){C!=null&&C.id&&(C!=null&&C.reply_count)&&_()},[]),!C)return null;var re=(z==null?void 0:z.thread)||Yt("str-chat__thread-container str-chat__thread",{"str-chat__thread--full":f,"str-chat__thread--virtualized":E}),W=v.createElement(F,ne({key:C.id,message:C,Message:V},i));return v.createElement("div",{className:re},v.createElement(R,{closeThread:k,thread:C}),v.createElement(X,ne({disableDateSeparator:!c,hasMore:M,head:W,loadingMore:m,loadMore:_,Message:V,messageActions:D,messages:b||[],suppressAutoscroll:S,threadList:!0},E?o:a)),v.createElement(y_,ne({focus:l,Input:A,parent:C,publishTypingEvent:!1},r)))},Cle=function(e){var t=e.children,n=e.hideOnThread,r=n===void 0?!1:n,a=e.thread,i=tn("Window").thread;return v.createElement("div",{className:Yt("str-chat__main-panel",{"str-chat__main-panel--hideOnThread":r&&(i||a)})},t)},Sle=v.memo(Cle);/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var F7=kle,D5=Mle,Dle=Object.prototype.toString,ah=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function kle(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},r=t||{},a=r.decode||Tle,i=0;i<e.length;){var o=e.indexOf("=",i);if(o===-1)break;var s=e.indexOf(";",i);if(s===-1)s=e.length;else if(s<o){i=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(i,o).trim();if(n[l]===void 0){var u=e.slice(o+1,s).trim();u.charCodeAt(0)===34&&(u=u.slice(1,-1)),n[l]=Ple(u,a)}i=s+1}return n}function Mle(e,t,n){var r=n||{},a=r.encode||xle;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!ah.test(e))throw new TypeError("argument name is invalid");var i=a(t);if(i&&!ah.test(i))throw new TypeError("argument val is invalid");var o=e+"="+i;if(r.maxAge!=null){var s=r.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(s)}if(r.domain){if(!ah.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!ah.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){var l=r.expires;if(!Rle(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+l.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority){var u=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(u){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var c=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function Tle(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function xle(e){return encodeURIComponent(e)}function Rle(e){return Dle.call(e)==="[object Date]"||e instanceof Date}function Ple(e,t){try{return t(e)}catch{return e}}function Ole(){const e=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof e=="boolean"?e:typeof document=="object"&&typeof document.cookie=="string"}function Ale(e){return typeof e=="string"?F7(e):typeof e=="object"&&e!==null?e:{}}function av(e,t={}){const n=Lle(e);if(!t.doNotParse)try{return JSON.parse(n)}catch{}return e}function Lle(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}class B_{constructor(t,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const a=this.cookies;this.cookies=F7(document.cookie),this._checkChanges(a)};const r=typeof document>"u"?"":document.cookie;this.cookies=Ale(t||r),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=Ole()}_emitChange(t){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(r=>{t[r]!==this.cookies[r]&&this._emitChange({name:r,value:av(this.cookies[r])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,n={}){return n.doNotUpdate||this.update(),av(this.cookies[t],n)}getAll(t={}){t.doNotUpdate||this.update();const n={};for(let r in this.cookies)n[r]=av(this.cookies[r],t);return n}set(t,n,r){r?r=Object.assign(Object.assign({},this.defaultSetOptions),r):r=this.defaultSetOptions;const a=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:a}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=D5(t,a,r)),this._emitChange({name:t,value:n,options:r})}remove(t,n){const r=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=D5(t,"",r)),this._emitChange({name:t,value:void 0,options:n})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const Ile=v.createContext({}),Fle=({setIsEditing:e})=>{const[t,n]=$.useState(!1),{sendMessage:r}=qn(),a=i=>{var s;let o={attachments:i.attachments,mentioned_users:i.mentioned_users,parent_id:(s=i.parent)==null?void 0:s.id,parent:i.parent,text:i.text};t&&(o={...o,text:`/giphy ${i.text}`}),r&&(r(o),n(!1))};return et.jsx(Ile.Provider,{value:{giphyState:t,setGiphyState:n},children:et.jsxs("div",{style:{display:"flex",width:"100%"},children:[et.jsxs(Sle,{children:[et.jsx(Nle,{setIsEditing:e}),et.jsx(Q9,{}),et.jsx(y_,{overrideSubmitHandler:a})]}),et.jsx(wle,{})]})})},Nle=({setIsEditing:e})=>{const{channel:t,watcher_count:n}=tn(),{client:r}=kt(),a=()=>{const o=Object.values(t.state.members).filter(({user:l})=>l.id!==r.userID),s=o.length-3;return t.type==="messaging"?et.jsxs("div",{className:"team-channel-header__name-wrapper",children:[o.map(({user:l},u)=>et.jsxs("div",{className:"team-channel-header__name-multi",children:[et.jsx(Fa,{image:l.image,name:l.fullName||l.id,size:32}),et.jsx("p",{className:"team-channel-header__name user",children:l.fullName||l.id})]},u)),s>0&&et.jsxs("p",{className:"team-channel-header__name user",children:["and ",s," more"]})]}):et.jsxs("div",{className:"team-channel-header__channel-wrapper",children:[et.jsxs("p",{className:"team-channel-header__name",children:["# ",t.data.name]}),et.jsx("span",{style:{display:"flex"},onClick:()=>e(!0)})]})},i=o=>o?o===1?"1 user online":`${o} users online`:"No users online";return et.jsxs("div",{className:"team-channel-header__container",children:[et.jsx(a,{}),et.jsx("div",{className:"team-channel-header__right",children:et.jsx("p",{className:"team-channel-header__right-text",children:i(n)})})]})},Ule=()=>et.jsx("div",{children:"TeamMessage"});function Ble({isCreating:e,isEditing:t,setIsCreating:n,setIsEditing:r,createType:a}){if(kt(),e)return et.jsx("div",{className:"channel__container",children:et.jsx(CreateChannel,{createType:a,setIsCreating:n})});if(t)return et.jsx("div",{className:"channel__container",children:et.jsx(EditChannel,{setIsEditing:r})});const i=()=>et.jsxs("div",{className:"channel-empty__container",children:[et.jsx("p",{className:"channel-empty__first",children:"This is the beginning of your chat history."}),et.jsx("p",{className:"channel-empty__second",children:"Send messages, attachments, links, emojis, and more!"})]});return et.jsx("div",{className:" channel__container",children:et.jsx(Ese,{EmptyStateIndicator:i,Message:(o,s)=>et.jsx(Ule,{...o},s),children:et.jsx(Fle,{setIsEditing:r})})})}const jle="/assets/hospital-BGw__p1c.png",zle="/assets/logout-CUv-l5aU.png",Ys=new B_,$le=({logout:e})=>et.jsxs("div",{className:"channel-list__sidebar",children:[et.jsx("div",{className:"channel-list__sidebar__icon1",children:et.jsx("div",{className:"icon1__inner",children:et.jsx("img",{src:jle,alt:"hospital",width:30})})}),et.jsx("div",{className:"channel-list__sidebar__icon2",children:et.jsx("div",{className:"icon1__inner",onClick:e,children:et.jsx("img",{src:zle,alt:"",width:30})})})]}),Hle=()=>et.jsx("div",{className:"channel-list__header",children:et.jsx("p",{className:"channel-list__header__text",children:"Medical Page"})}),Vle=()=>{const e=()=>{Ys.remove("token"),Ys.remove("userId"),Ys.remove("username"),Ys.remove("fullName"),Ys.remove("avatarURL"),Ys.remove("hashedPassword"),Ys.remove("phoneNumber"),window.location.reload()};return et.jsxs(et.Fragment,{children:[et.jsx($le,{logout:e}),et.jsxs("div",{className:"channel-list__list__wrapper",children:[et.jsx(Hle,{}),et.jsx(qle,{}),et.jsx(rh,{filters:{},channelRenderFilterFn:()=>{},List:t=>et.jsx(ih,{...t,type:"team"}),Preview:t=>et.jsx(oh,{...t})}),et.jsx(rh,{filters:{},channelRenderFilterFn:()=>{},List:t=>et.jsx(ih,{...t,type:"team"}),Preview:t=>et.jsx(oh,{...t})}),et.jsx(rh,{filters:{},channelRenderFilterFn:()=>{},List:t=>et.jsx(ih,{...t,type:"messaging"}),Preview:t=>et.jsx(oh,{...t})}),et.jsx(rh,{filters:{},channelRenderFilterFn:()=>{},List:t=>et.jsx(ih,{...t,type:"messaging"}),Preview:t=>et.jsx(oh,{...t})})]})]})},Wle="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='%23fff'%20fillOpacity='0.66'%20fillRule='evenodd'%20d='M2.7%206.95a4.25%204.25%200%20117.306%202.954%201.001%201.001%200%2000-.102.102A4.25%204.25%200%20012.7%206.95zm7.906%205.07a6.25%206.25%200%20111.414-1.414l2.987%202.987a1%201%200%2011-1.414%201.414l-2.987-2.987z'%20clipRule='evenodd'%20%3e%3c/path%3e%3c/svg%3e",qle=()=>{const[e,t]=$.useState(""),[n,r]=$.useState(!1),a=async o=>{try{console.log("d")}catch{t("")}},i=o=>{o.preventDefault(),r(!0),t(o.target.valued),a(o.target.value)};return et.jsx("div",{className:"channel-search__container",children:et.jsxs("div",{className:"channel-search__input__wrapper",children:[et.jsx("div",{className:"channel-serach__input__icon",children:et.jsx("img",{src:Wle,alt:""})}),et.jsx("input",{className:"channel-search__input__text",placeholder:"Search",type:"text",value:e,onChange:i})]})})};function ih({children:e,error:t=!1,loading:n,type:r}){return t?r==="team"?et.jsx("div",{className:"team-channel-list",children:et.jsx("p",{className:"team-channel-list__message",children:"Connection error, please wait a moment and try again."})}):null:n?et.jsx("div",{className:"team-channel-list",children:et.jsxs("p",{className:"team-channel-list__message loading",children:[r==="team"?"Channels":"Message"," Loading"]})}):et.jsxs("div",{className:"team-channel-list",children:[et.jsx("div",{className:"team-channel-list__header",children:et.jsx("p",{className:"team-channel-list__header__title",children:r==="team"?"Channels":"Direct Messages"})}),e]})}const oh=({channel:e,type:t})=>{const{channel:n,client:r}=kt(),a=()=>{var o,s;return et.jsxs("p",{className:"channel-preview__item",children:["# ",((o=e==null?void 0:e.data)==null?void 0:o.name)||((s=e==null?void 0:e.data)==null?void 0:s.id)]})},i=()=>{var s,l,u,c,d,f,h,p,w,D;const o=Object.values(e.state.members).filter(({user:E})=>E.id!==r.userID);return console.log(o[0]),et.jsxs("div",{className:"channel-preview__item single",children:[et.jsx(Fa,{image:(l=(s=o[0])==null?void 0:s.user)==null?void 0:l.image,name:((c=(u=o[0])==null?void 0:u.user)==null?void 0:c.fullName)||((f=(d=o[0])==null?void 0:d.user)==null?void 0:f.id),size:24}),et.jsx("p",{children:((p=(h=o[0])==null?void 0:h.user)==null?void 0:p.fullName)||((D=(w=o[0])==null?void 0:w.user)==null?void 0:D.id)})]})};return et.jsx("div",{className:(e==null?void 0:e.id)===(n==null?void 0:n.id)?"channel-preview__wrapper__selected":"channel-preview__wrapper",onClick:()=>{setIsCreating(!1),setIsEditing(!1),setActiveChannel(e),setToggleContainer&&setToggleContainer(o=>!o)},children:t==="team"?et.jsx(a,{}):et.jsx(i,{})})},Yle="/assets/signup-vWrttg4j.jpg",Ks=new B_;function Kle(){const[e,t]=$.useState(),[n,r]=$.useState(!0),a=s=>{t({...e,[s.target.name]:s.target.value})},i=async s=>{s.preventDefault();const{username:l,password:u,phoneNumber:c,avatarURL:d}=e,f="/auth",{data:{token:h,userId:p,hashedPassword:w,fullName:D}}=await Gn.post(`${f}/${n?"signup":"login"}`,{username:l,password:u,phoneNumber:c,avatarURL:d});Ks.set("token",h),Ks.set("username",l),Ks.set("fullName",D),Ks.set("userId",p),n&&(Ks.set("phoneNumber",c),Ks.set("avatarURL",d),Ks.set("hashedPassword",w)),window.location.reload()},o=()=>{r(s=>!s)};return et.jsxs("div",{className:"auth__form-container",children:[et.jsx("div",{className:"auth__form-container_fields",children:et.jsxs("div",{className:"auth__form-container_fields-content",children:[et.jsx("p",{children:n?"Sign Up":"Sign In"}),et.jsxs("form",{onSubmit:i,children:[n&&et.jsxs("div",{className:"auth__form-container_fields-content_input",children:[et.jsx("label",{htmlFor:"fullName",children:"Full Name"}),et.jsx("input",{name:"fullName",type:"text",placeholder:"Full Name",onChange:a,required:!0})]}),et.jsxs("div",{className:"auth__form-container_fields-content_input",children:[et.jsx("label",{htmlFor:"username",children:"Username"}),et.jsx("input",{name:"username",type:"text",placeholder:"Username",onChange:a,required:!0})]}),n&&et.jsxs("div",{className:"auth__form-container_fields-content_input",children:[et.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),et.jsx("input",{name:"phoneNumber",type:"text",placeholder:"Phone Number",onChange:a,required:!0})]}),n&&et.jsxs("div",{className:"auth__form-container_fields-content_input",children:[et.jsx("label",{htmlFor:"avatarURL",children:"Avatar URL"}),et.jsx("input",{name:"avatarURL",type:"text",placeholder:"Avatar URL",onChange:a,required:!0})]}),et.jsxs("div",{className:"auth__form-container_fields-content_input",children:[et.jsx("label",{htmlFor:"password",children:"Password"}),et.jsx("input",{name:"password",type:"password",placeholder:"Password",onChange:a,required:!0})]}),n&&et.jsxs("div",{className:"auth__form-container_fields-content_input",children:[et.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),et.jsx("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:a,required:!0})]}),et.jsx("div",{className:"auth__form-container_fields-content_button",children:et.jsx("button",{children:n?"Sign Up":"Sign In"})})]}),et.jsx("div",{className:"auth__form-container_fields-account",children:et.jsxs("p",{children:[n?"Already have an account?":"Don't have an account?",et.jsx("span",{onClick:o,children:n?"Sign In":"Sign Up"})]})})]})}),et.jsx("div",{className:"auth__form-container_image",children:et.jsx("img",{src:Yle,alt:"sign in"})})]})}const Qs=new B_,Gle="3h4s45vfyxyw",N7=bD.getInstance(Gle),Q0=Qs.get("token");Q0&&N7.connectUser({id:Qs.get("userId"),name:Qs.get("username"),fullName:Qs.get("fullName"),image:Qs.get("avatarURL"),hashedPassword:Qs.get("hashedPassword"),phoneNumber:Qs.get("phoneNumber")},Q0);function Zle(){const[e,t]=$.useState(""),[n,r]=$.useState(!1),[a,i]=$.useState(!1);return Q0?et.jsx("div",{className:"app__wrapper",children:et.jsxs(gle,{client:N7,theme:"team dark",children:[et.jsx(Vle,{isCreating:n,setIsCreating:r,setCreateType:t,setIsEditing:i}),et.jsx(Ble,{isCreating:n,setIsCreating:r,isEditing:a,setIsEditing:i,createType:e})]})}):et.jsx(Kle,{})}iv.createRoot(document.getElementById("root")).render(et.jsx(Zle,{}));export{v as R,gr as a,jt as c,Pm as d,SG as e,Wn as g,$oe as l,qD as p,$ as r};
